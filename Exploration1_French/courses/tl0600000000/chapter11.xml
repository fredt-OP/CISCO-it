<chapter type="" id="tl0611000000">
<title><content-text>Configuration et test de votre réseau</content-text></title>
<section type="ChapterIntroduction" id="tl0611000000">
<title><content-text>Configuration et test de votre réseau</content-text></title>
<topic type="" id="tl0611000100">
<title><content-text>Présentation du chapitre</content-text></title>
<page type="OneColumn" id="tl0611000101">
<content-media type="StaticGraphic" id="cm8490690282"><title><content-text></content-text></title><media ref="tl0611000000/tl0611000000/tl0611000100/tl0611000101/cm8490690282.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611000000/tl0611000100/tl0611000101/cm8490690282text.xml"/></content-media>
<content-text><p>Dans ce chapitre, nous allons décrire les procédures à suivre pour connecter et configurer les ordinateurs, les commutateurs et les routeurs formant un réseau local Ethernet. </p> <p>Nous allons présenter les procédures de configuration de base des périphériques réseau Cisco. Ces procédures requièrent l’utilisation du système d’exploitation Cisco <content-link target="cg7792414132" type="glossary">Internetwork Operating System (IOS)</content-link> et des fichiers de configuration connexes pour les périphériques intermédiaires.</p> <p>Il est essentiel que les administrateurs et les techniciens réseau comprennent le processus de configuration avec IOS. Les travaux pratiques vous permettront de vous familiariser avec les méthodes généralement utilisées pour configurer et surveiller les périphériques Cisco. </p> <p><b>Objectifs pédagogiques</b></p> <p>À l’issue de ce chapitre, vous serez en mesure d’effectuer les tâches suivantes :</p> <ul><li> Définir le rôle du système d’exploitation Internetwork Operating System (IOS)</li> <li> Définir le but d’un fichier de configuration</li> <li> Identifier plusieurs classes de périphériques exploités sous IOS</li> <li> Identifier les facteurs déterminant le jeu de commandes IOS disponible pour un périphérique donné</li> <li> Identifier les modes de fonctionnement IOS</li> <li> Identifier les commandes IOS de base</li> <li> Comparer et différencier les commandes <span class="cmd"><b>show</b></span> de base</li></ul></content-text>
</page>
</topic>
</section>
<section type="" id="tl0611010000">
<title><content-text>Configuration des périphériques Cisco - Notions fondamentales de IOS</content-text></title>
<topic type="" id="tl0611010100">
<title><content-text>Cisco IOS</content-text></title>
<page type="OneColumn" id="tl0611010101">
<content-media type="StaticGraphic" id="cm4250594242"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010100/tl0611010101/cm4250594242.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611010000/tl0611010100/tl0611010101/cm4250594242text.xml"/></content-media>
<content-text><p>À l’instar d’un ordinateur personnel, un routeur ou un commutateur ne peut pas fonctionner sans système d’exploitation. Sans système d’exploitation, le matériel est inopérant. Cisco IOS est le logiciel système des périphériques Cisco. Il s’agit d’une technologie centrale qui s’étend à pratiquement tous les produits Cisco. Cisco IOS est exécuté par la plupart des périphériques Cisco, quels que soient leur taille et leur type. Ce logiciel est par exemple utilisé pour des routeurs, des commutateurs de réseau local, des petits points d’accès sans fil, des grands routeurs dotés de douzaines d’interfaces et bien d’autres périphériques. </p> <p>Cisco IOS fournit aux périphériques les services réseau suivants : </p> <ul><li> fonctions de routage et de commutation de base ; </li> <li> accès fiable et sécurisé aux ressources en réseau ; </li> <li> évolutivité du réseau.</li></ul> <p>Les détails du fonctionnement de Cisco IOS varient d’un périphérique à l’autre selon le but et le jeu de fonctions de l’appareil.</p> <p>Pour accéder aux services fournis par IOS, vous utilisez généralement une interface de ligne de commande (ILC). Les fonctions accessibles à travers ILC varient selon la version de Cisco IOS et le type du périphérique. </p> <p>Le fichier IOS proprement dit, dont la taille atteint plusieurs méga-octets, est stocké dans une zone de mémoire semi-permanente appelée Flash. La mémoire Flash assure un stockage non volatil. En d’autres termes, cette mémoire conserve son contenu lorsque le périphérique n’est plus sous tension. À la différence d’une mémoire morte, toutefois, la mémoire Flash permet de modifier ou de réécrire son contenu s’il y a lieu. </p> <p>Grâce à la mémoire Flash, il est possible de mettre IOS à niveau en installant de nouvelles versions ou de lui ajouter de nouvelles fonctions. Dans de nombreuses architectures de routeur, IOS est copié en mémoire vive à la mise sous tension du périphérique et il s’exécute en mémoire vive. Cette fonction améliore les performances du périphérique.</p></content-text>
</page>
<page type="OneColumn" id="tl0611010102">
<content-media type="InteractiveGraphicHotspots" id="cm3713788178"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010100/tl0611010102/cm3713788178.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611010000/tl0611010100/tl0611010102/cm3713788178text.xml"/></content-media>
<content-text><p><b>Méthodes d’accès</b></p> <p>Il y a plusieurs moyens d’accéder à l’environnement ILC. Les méthodes les plus répandues utilisent :</p> <ul><li> Console</li> <li> Telnet ou SSH</li> <li> Port AUX</li></ul> <p><b>Console</b></p> <p>Il est possible d’accéder à l’environnement ILC par une session console, également appelée ligne CTY. La console connecte directement un ordinateur ou un terminal au port de console du routeur ou du commutateur via une liaison série lente. </p> <p>Le port de console est un port de gestion permettant un accès hors réseau à un routeur. Le port de console est accessible même si aucun service réseau n’a été configuré sur le périphérique. <b>Le port de console est souvent utilisé pour accéder à un périphérique avant que les services réseau ne soient lancés ou lorsqu’ils sont défaillants.</b> </p> <p>La console s’utilise en particulier dans les circonstances suivantes : </p> <ul><li> configuration initiale du périphérique réseau ;</li> <li> procédures de reprise après sinistre et dépannage lorsque l’accès distant est impossible ;</li> <li> procédures de récupération des mots de passe.</li></ul> <p>Lorsqu’un routeur est mis en service pour la première fois, ses paramètres réseau n’ont pas été configurés. Le routeur ne peut donc pas communiquer via un réseau. Pour préparer le démarrage initial et la configuration du routeur, un ordinateur exécutant un logiciel d’émulation de terminal est connecté au port de console du périphérique. Ainsi, il est possible d’entrer au clavier de l’ordinateur connecté les commandes de configuration du routeur. </p> <p>S’il est impossible d’accéder à distance à un routeur pendant qu’il fonctionne, une connexion à son port de console peut permettre à un ordinateur de déterminer l’état du périphérique. Par défaut, la console transmet les messages de démarrage, de débogage et d’erreur du périphérique.</p> <p>Pour de nombreux périphériques IOS, l’accès console ne requiert par défaut aucune forme de sécurité. Il convient toutefois de configurer un mot de passe pour la console afin d’empêcher l’accès non autorisé au périphérique. En cas de perte du mot de passe, un jeu de procédures spécial permet d’accéder au périphérique sans mot de passe. <b>Il est recommandé de placer le périphérique dans une pièce ou une armoire fermée à clé pour interdire l’accès physique.</b></p> <p><b>Telnet et SSH</b></p> <p>Une autre méthode d’accès distant à une session ILC consiste à établir une connexion Telnet avec le routeur. À la différence des connexions console, les sessions Telnet requièrent des services réseau actifs sur le périphérique. Le périphérique réseau doit avoir au moins une interface active configurée avec une adresse de couche 3, par exemple une adresse IPv4. Les périphériques Cisco IOS disposent d’un processus serveur Telnet qui est lancé dès le démarrage du périphérique. IOS contient également un client Telnet.</p> <p>Un hôte doté d’un client Telnet peut accéder aux sessions vty en cours d’exécution sur le périphérique Cisco. Pour des raisons de sécurité, IOS exige l’emploi d’un mot de passe dans la session Telnet en guise de méthode d’authentification minimale. Les méthodes permettant de configurer les ouvertures de session et les mots de passe seront expliquées plus loin dans ce chapitre.</p> <p>Le protocole Secure Shell (SSH) permet un accès distant plus sécurisé aux périphériques. À l’instar de Telnet, ce protocole fournit la structure d’une ouverture de session à distance, mais il utilise des services réseau plus sécurisés. </p> <p>SSH fournit une authentification par mot de passe plus résistante que celle de Telnet et emploie un chiffrement lors du transport des données de la session. La session SSH chiffre toutes les communications entre le client et le périphérique IOS. Ceci préserve la confidentialité de l’ID d’utilisateur, du mot de passe et des détails de la session de gestion. <b>Il est conseillé de toujours utiliser SSH à la place de Telnet dans la mesure du possible.</b></p> <p>La plupart des versions récentes de Cisco IOS contiennent un serveur SSH. Dans certains périphériques, ce service est activé par défaut. D’autres périphériques requièrent une activation du serveur SSH. </p> <p>Les périphériques IOS incluent également un client SSH permettant d’établir des sessions SSH avec d’autres périphériques. De même, vous pouvez utiliser un ordinateur distant doté d’un client SSH pour démarrer une session ILC sécurisée. Le logiciel de client SSH n’est pas fourni par défaut sur tous les systèmes d’exploitation. Il peut donc s’avérer nécessaire d’acquérir, d’installer et de configurer un logiciel de client SSH pour votre ordinateur. </p> <p><b>AUX</b></p> <p>Une autre façon d’ouvrir une session ILC à distance consiste à établir une connexion téléphonique commutée à travers un modem connecté au port AUX du routeur. À l’instar de la connexion console, cette méthode ne requiert ni la configuration, ni la disponibilité de services réseau sur le périphérique. </p>  <p>Le port AUX peut également s’utiliser localement, comme le port de console, avec une connexion directe à un ordinateur exécutant un programme d’émulation de terminal. Le port de console est requis pour la configuration du routeur, mais les routeurs ne possèdent pas tous un port AUX. En outre, il est préférable d’utiliser le port de console plutôt que le port AUX pour le dépannage, car il affiche par défaut les messages de démarrage, de débogage et d’erreur du routeur. </p> <p>En général, le port AUX ne s’utilise localement à la place du port de console qu’en cas de problèmes liés au port de console, par exemple lorsque vous ignorez certains paramètres de la console.</p></content-text>
</page>
</topic>
<topic type="" id="tl0611010200">
<title><content-text>Fichiers de configuration</content-text></title>
<page type="OneColumn" id="tl0611010201">
<content-media type="StaticGraphic" id="cm6952925510"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010200/tl0611010201/cm6952925510.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611010000/tl0611010200/tl0611010201/cm6952925510text.xml"/></content-media>
<content-text><p>Les périphériques réseau ont besoin de deux types de logiciels pour fonctionner : le système d’exploitation et le logiciel de configuration. Le système d’exploitation, comme celui d’un quelconque ordinateur, facilite l’exploitation de base des composants matériels du périphérique.</p>  <p>Les fichiers de configuration, quant à eux, contiennent les commandes du logiciel Cisco IOS utilisées pour personnaliser les fonctionnalités d’un périphérique Cisco. Les commandes sont analysées (traduites et exécutées) par le logiciel Cisco IOS au démarrage du système (à partir d’un fichier appelé startup-config) ou lorsqu’elles sont entrées dans l’environnement ILC en mode configuration. </p> <p>Un administrateur réseau crée une configuration qui définit la fonctionnalité souhaitée d’un périphérique Cisco. La taille d’un fichier de configuration va généralement de quelques centaines à quelques milliers d’octets.</p> <p><b>Types de fichiers de configuration </b></p> <p>Un périphérique réseau Cisco contient deux fichiers de configuration : </p> <ul><li> le fichier de configuration en cours, que le périphérique utilise en fonctionnement normal ; </li> <li>  le fichier de configuration initiale, qui est chargé quand le périphérique démarre et sert de copie de sauvegarde de la configuration.</li></ul> <p>Il est également possible de stocker un fichier de configuration à distance sur un serveur en guise de copie de sauvegarde. </p> <p><b>Fichier de configuration initiale</b></p> <p>Le fichier de configuration initiale (startup-config) est utilisé au démarrage du système pour configurer le périphérique. Le <b>fichier de configuration initiale</b>, appelé <b>startup-config</b>, est stocké en <content-link target="cg6651970162" type="glossary">mémoire vive non volatile</content-link> (NVRAM). Comme la mémoire NVRAM est non volatile, ce fichier reste intact lorsque le périphérique Cisco est mis hors tension. Les fichiers startup-config sont chargés en mémoire vive chaque fois que le routeur est démarré ou rechargé (reload). Une fois chargé en mémoire vive, le fichier de configuration initiale est considéré comme étant la <b>configuration en cours</b>, également appelée <b>running-config</b>.</p> <p><b>Fichier de configuration en cours</b></p> <p>La configuration en cours stockée en mémoire vive est utilisée pour exploiter le périphérique réseau. </p> <p>La configuration en cours est modifiée lorsque l’administrateur réseau configure le périphérique.<b> Les modifications de la configuration en cours produisent immédiatement leurs effets sur le fonctionnement du périphérique Cisco. </b>Après avoir effectué des modifications, l’administrateur a la possibilité de les enregistrer dans le fichier startup-config afin qu’elles soient réutilisées lors du redémarrage suivant du périphérique.</p> <p>Comme le fichier de configuration en cours se trouve en mémoire vive, son contenu est perdu si le périphérique est éteint ou redémarre. Les modifications apportées au fichier running-config sont donc perdues si elles n’ont pas été enregistrées dans le fichier startup-config avant la mise hors tension du périphérique. </p></content-text>
</page>
</topic>
<topic type="" id="tl0611010300">
<title><content-text>Modes Cisco IOS</content-text></title>
<page type="OneColumn" id="tl0611010301">
<content-media type="StaticGraphic" id="cm1282010122"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010300/tl0611010301/cm1282010122.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611010000/tl0611010300/tl0611010301/cm1282010122text.xml"/></content-media>
<content-text><p>Cisco IOS a été conçu comme un système d’exploitation modal. L’adjectif <i>modal</i> qualifie un système offrant différents modes d’exploitation ayant chacun son propre domaine de fonctionnement. Les modes de l’environnement ILC sont organisés selon une structure hiérarchique. </p> <p>Dans l’ordre de haut en bas, les principaux modes sont les suivants :</p> <ul><li> mode d’exécution utilisateur ;</li> <li> mode d’exécution privilégié ;</li> <li> mode de configuration globale ;</li> <li> autres modes de configuration spécifiques.</li></ul> <p>Chaque mode permet d’effectuer des tâches particulières et possède un jeu de commandes spécifiques qui sont disponibles lorsque le mode est en vigueur. Par exemple, pour configurer une interface de routeur, l’utilisateur doit passer en mode de configuration d’interface. Toutes les configurations entrées en mode de configuration d’interface ne s’appliquent qu’à l’interface en question.</p> <p>Certaines commandes sont à la disposition de tous les utilisateurs ; d’autres ne peuvent être exécutées qu’après passage au mode dans lequel elles sont disponibles. Chaque mode est identifié par une invite distincte qui ne permet d’entrer que les commandes appropriées pour ce mode.</p> <p>Il est possible de configurer la structure hiérarchique des modes à des fins de sécurité. Une authentification différente peut être requise pour chaque mode hiérarchique. Ceci permet de contrôler la marge de manoeuvre qui peut être accordée au personnel réseau.</p> <p>La figure montre la structure hiérarchique des modes IOS avec des invites et des fonctionnalités classiques.</p></content-text>
</page>
<page type="OneColumn" id="tl0611010302">
<content-media type="StaticGraphic" id="cm9588822689"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010300/tl0611010302/cm9588822689.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611010000/tl0611010300/tl0611010302/cm9588822689text.xml"/></content-media>
<content-text><p><b>Invites de commandes</b></p> <p>Dans l’environnement ILC, le mode dans lequel vous travaillez est reconnaissable à son invite de commandes unique. Cette invite est composée des mots et des symboles qui apparaissent au début de la ligne de commande. Comme l’indique le mot <i>invite</i>, le système vous invite à effectuer une entrée.</p> <p>Par défaut, toute invite commence par le nom du périphérique. Après le nom du périphérique, le reste de l’invite précise le mode. Par exemple, l’invite par défaut pour le <content-link target="cg7036957684" type="glossary">mode de configuration globale</content-link> sur un routeur est :</p> <span class="cmd"><p>Router(config)#</p></span> <p>Comme le montre la figure, lorsque vous entrez des commandes et passez d’un mode à l’autre, l’invite change pour refléter le contexte en cours.</p></content-text>
</page>
<page type="OneColumn" id="tl0611010303">
<content-media type="StaticGraphic" id="cm6480960820"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010300/tl0611010303/cm6480960820.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611010000/tl0611010300/tl0611010303/cm6480960820text.xml"/></content-media>
<content-text><p><b>Modes principaux</b></p> <p>Les deux principaux modes d’exécution sont :</p> <ul><li> le mode utilisateur ;</li> <li> le mode privilégié.</li></ul> <p>Par mesure de sécurité, Cisco IOS prévoit deux modes d’accès distincts pour les sessions d’exécution. Ces deux modes d’accès principaux sont utilisés dans le cadre de la structure hiérarchique de l’environnement Cisco ILC. </p> <p>Ces deux modes offrent des commandes semblables. Toutefois, le mode d’exécution privilégié bénéficie de pouvoirs plus étendus dans les actions qu’il permet d’exécuter. </p> <p><b>Mode d’exécution utilisateur</b></p> <p>Le <content-link target="cg8443037839" type="glossary">mode d’exécution utilisateur</content-link> a des pouvoirs restreints mais permet d’effectuer certaines opérations de base. Le mode d’exécution utilisateur se trouve au sommet de la structure hiérarchique des modes IOS. Ce mode est le point d’entrée initial dans l’environnement ILC d’un routeur IOS. </p> <p>Le mode d’exécution utilisateur n’autorise qu’un nombre limité de commandes de surveillance de base. Il est d’ailleurs souvent qualifié de mode de « visualisation seule » pour cette raison. Le mode d’exécution utilisateur n’autorise aucune commande susceptible de modifier la configuration du périphérique.</p> <p>Par défaut, aucune authentification n’est requise pour accéder au mode d’exécution utilisateur depuis la console. Il est donc conseillé de définir une méthode d’authentification lors de la configuration initiale.</p> <p>Le mode d’exécution utilisateur se reconnaît à l’invite ILC qui se termine par le symbole >. Voici un exemple montrant le symbole > dans l’invite :</p> <span class="cmd"><p>Switch></p></span> <p><b>Mode privilégié</b></p> <p>Pour exécuter les commandes de configuration et de gestion, l’administrateur réseau doit utiliser le mode d’exécution privilégié ou un mode spécifique situé plus bas dans la hiérarchie. </p> <p>Le mode d’exécution privilégié se reconnaît à l’invite qui se termine par le symbole <span class="cmd"><b>#</b></span> : </p> <span class="cmd"><p>Switch#</p></span> <p>Par défaut, le mode d’exécution privilégié ne requiert pas d’authentification. Il est donc recommandé de s’assurer qu’une authentification est configurée. </p> <p>Pour accéder au mode de configuration globale et aux autres modes de configuration plus spécifiques, il est nécessaire de passer par le mode d’exécution privilégié. Nous traiterons en détail la configuration des périphériques et quelques-uns des modes de configuration plus loin dans ce chapitre. </p></content-text>
</page>
<page type="OneColumn" id="tl0611010304">
<content-media type="InteractiveGraphicRollovers" id="cm9640538863"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010300/tl0611010304/cm9640538863.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611010000/tl0611010300/tl0611010304/cm9640538863text.xml"/></content-media>
<content-text><p><b>Basculement entre mode utilisateur et mode privilégié</b></p> <p>Les commandes <span class="cmd"><b>enable</b></span> et <span class="cmd"><b>disable</b></span> permettent d’aller et venir entre le mode d’exécution utilisateur et le mode d’exécution privilégié de l’environnement ILC. </p> <p>Pour accéder au mode d’exécution privilégié, utilisez la commande <span class="cmd"><b>enable</b></span>. Cette commande est la raison pour laquelle le mode d’exécution privilégié est parfois appelé <i><content-link target="cg5336845073" type="glossary">mode actif</content-link></i>. </p> <p>La syntaxe de la commande <span class="cmd"><b>enable</b></span> est la suivante :</p> <span class="cmd"><p>Router><b>enable</b></p></span> <p>Cette commande est exécutée sans argument ni mot clé. Dès que vous appuyez sur &lt;Entrée>, l’invite du routeur se transforme en :</p> <span class="cmd"><p>Router#</p></span> <p>Le symbole <span class="cmd"><b>#</b></span> à la fin de l’invite indique que le routeur est désormais en mode d’exécution privilégié. </p> <p>Si une authentification par mot de passe a été configurée pour le mode d’exécution privilégié, IOS vous invite à fournir le mot de passe. </p> <p>Exemple :</p> <span class="cmd"><p>Router><b>enable</b></p></span> <span class="cmd"><p>Password:</p></span> <span class="cmd"><p>Router#</p></span> <p>La commande <span class="cmd"><b>disable</b></span> permet de repasser du mode d’exécution privilégié au mode d’exécution utilisateur. </p> <p>Exemple :</p> <span class="cmd"><p>Router#<b>disable</b></p></span> <span class="cmd"><p>Router></p></span></content-text>
</page>
</topic>
<topic type="" id="tl0611010400">
<title><content-text>Structure des commandes IOS de base</content-text></title>
<page type="OneColumn" id="tl0611010401">
<content-media type="StaticGraphic" id="cm5077959366"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010400/tl0611010401/cm5077959366.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611010000/tl0611010400/tl0611010401/cm5077959366text.xml"/></content-media>
<content-text><p>Chaque commande IOS a un format ou une syntaxe spécifique et s’exécute à l’invite appropriée. En général, vous entrez une commande en tapant un <span class="cmd"><b>nom de commande</b></span> suivi des mots clés et des arguments appropriés. En effet, certaines commandes offrent un sous-ensemble de mots clés et d’arguments qui étendent leurs fonctionnalités. La figure montre les différentes parties d’une commande.</p> <p>La commande est le premier mot ou groupe de mots entré dans la ligne de commande. IOS ne tient pas compte des majuscules dans les noms de commande. La commande est suivie d’un ou de plusieurs mots clés et arguments. </p> <p>Les mots clés décrivent des paramètres spécifiques à l’interpréteur de commandes. Par exemple, la commande <span class="cmd"><b>show</b></span> affiche des informations sur le périphérique. Cette commande admet divers mots clés permettant de préciser le type d’information à afficher. Exemple : </p> <span class="cmd"><p>Switch#<b>show running-config</b></p></span> <p>La commande <span class="cmd"><b>show</b></span> est suivie du mot clé <span class="cmd"><b>running-config</b></span>. Ce mot clé spécifie que vous voulez afficher la configuration en cours.</p> <p>Une commande peut exiger un ou plusieurs arguments. À la différence d’un mot clé, un argument n’est généralement pas un mot prédéfini. Un argument est une valeur ou une variable définie par l’utilisateur. Par exemple, pour associer une description à une interface à l’aide de la commande <span class="cmd"><b>description</b></span>, entrez une ligne de la forme suivante :</p> <span class="cmd"><p>Switch(config-if)#<b>description </b><i>Commutateur du siège social</i></p></span> <p>La commande est : <span class="cmd"><b>description</b></span>. L’argument est : <span class="cmd"><i>Commutateur du siège social</i></span>. L’utilisateur définit l’argument. Pour cette commande, l’argument peut être n’importe quelle chaîne de texte ne dépassant pas 80 caractères. </p> <p><b>Après avoir tapé une commande suivie des mots clés et des arguments adéquats, appuyez sur la touche &lt;Entrée> pour la soumettre à l’interpréteur de commandes.</b> </p></content-text>
</page>
<page type="OneColumn" id="tl0611010402">
<content-media type="StaticGraphic" id="cm4094370736"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010400/tl0611010402/cm4094370736.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611010000/tl0611010400/tl0611010402/cm4094370736text.xml"/></content-media>
<content-text><p><b>Conventions IOS</b></p> <p>La figure et les exemples suivants illustrent certaines conventions utilisées pour décrire les commandes IOS. </p> <p>Pour la commande <span class="cmd"><b>ping</b></span> :</p> <p>Format :</p> <span class="cmd"><p>Router><b>ping </b><i>adresse_IP</i> </p></span> <p>Exemple avec des valeurs :</p> <span class="cmd"><p>Router><b>ping 10.10.10.5</b></p></span> <p>La commande est <span class="cmd"><b>ping</b></span> et l’argument est l’adresse IP <span class="cmd"><i>10.10.10.5</i></span>. </p> <p>De même, la syntaxe de la commande <span class="cmd"><b>traceroute</b></span> est la suivante :</p> <p>Format :</p> <span class="cmd"><p>Switch><b>traceroute </b><i>adresse_IP</i> </p></span> <p>Exemple avec des valeurs :</p> <span class="cmd"><p>Switch><b>traceroute </b><i>192.168.254.254</i></p></span> <p>La commande est <span class="cmd"><b>traceroute</b></span> et l’argument est l’adresse IP <i>192.168.254.254</i>.</p> <p>Une commande sert à effectuer une action et les mots clés permettent de préciser où ou comment l’exécuter.</p> <p>Pour étudier un autre exemple, revenons à la commande <span class="cmd"><b>description</b></span>.</p> <p>Format :</p> <span class="cmd"><p>Router(config-if)#<b>description </b><i>chaîne </i></p></span> <p>Exemple avec des valeurs :</p> <span class="cmd"><p>Switch(config-if)#<b>description </b><i>Interface du réseau local </i></p></span> <p>La commande est <span class="cmd"><b>description</b></span>, et l’argument appliqué à l’interface est la chaîne de texte <i>Interface du réseau local</i>. Une fois la commande exécutée, cette description sera appliquée à cette interface particulière.</p></content-text>
</page>
</topic>
<topic type="" id="tl0611010500">
<title><content-text>Utilisation de l’aide ILC</content-text></title>
<page type="OneColumn" id="tl0611010501">
<content-media type="StaticGraphic" id="cm1982253471"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010500/tl0611010501/cm1982253471.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611010000/tl0611010500/tl0611010501/cm1982253471text.xml"/></content-media>
<content-text><p>IOS propose plusieurs formes d’aide :</p> <ul><li> aide contextuelle ;</li> <li> vérification de la syntaxe d’une commande ;</li> <li> touches d’accès rapide et raccourcis.</li></ul> <p><b>Aide contextuelle</b></p> <p>L’aide contextuelle fournit la liste des commandes, des mots clés et des arguments disponibles dans le contexte du mode en vigueur. Pour afficher l’aide contextuelle, tapez un point d’interrogation (?) à une invite quelconque. Vous recevez une réponse immédiate sans qu’il soit nécessaire d’appuyer sur la touche &lt;Entrée>. </p> <p>L’aide contextuelle peut s’utiliser pour obtenir une liste des commandes disponibles. Ceci s’avère utile lorsque vous n’êtes pas sûr du nom d’une commande ou que vous voulez voir si IOS autorise une commande particulière dans un certain mode. </p> <p>Par exemple, pour consulter les commandes disponibles dans le mode d’exécution utilisateur, tapez un point d’interrogation (<span class="cmd"><b>?</b></span>) à l’invite Router>. </p> <p>Vous pouvez aussi utiliser l’aide contextuelle pour afficher une liste des commandes ou des mots clés débutant par des caractères spécifiques. Si vous entrez un point d’interrogation immédiatement après une suite de caractères (sans espace), IOS affiche la liste des commandes ou des mots clés disponibles dans ce contexte qui débutent par les caractères entrés. </p> <p>Par exemple, entrez <span class="cmd"><b>sh?</b></span> pour obtenir la liste des commandes commençant par la suite de caractères <span class="cmd"><b>sh</b></span>. </p> <p>Enfin, vous pouvez vous servir de l’aide contextuelle pour déterminer les options, les mots clés ou les arguments disponibles pour une commande donnée. Pour vous renseigner sur ce qui peut ou doit suivre une commande, entrez un espace suivi d’un point d’interrogation (?). </p> <p>Comme le montre la figure, après la commande <span class="cmd"><b>clock set 19:50:00</b></span>, nous pouvons entrer <span class="cmd"><b>?</b></span> pour déterminer les options ou les mots clés admis par cette commande.</p></content-text>
</page>
<page type="OneColumn" id="tl0611010502">
<content-media type="StaticGraphic" id="cm4025338739"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010500/tl0611010502/cm4025338739.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611010000/tl0611010500/tl0611010502/cm4025338739text.xml"/></content-media>
<content-text><p><b>Vérification de la syntaxe d’une commande</b></p> <p>Lorsque vous soumettez une commande en appuyant sur la touche &lt;Entrée>, l’interpréteur de commandes analyse la commande de gauche à droite pour déterminer l’action demandée. En règle générale, IOS ne fournit que des commentaires négatifs. Si l’interpréteur comprend la commande, IOS exécute l’action demandée et l’invite appropriée reparaît dans l’environnement ILC. Par contre, s’il ne comprend pas la commande entrée, l’interpréteur affiche des commentaires décrivant le problème rencontré.</p> <p>Il existe trois types de messages d’erreur :</p> <ul><li> commande ambiguë ;</li> <li> commande incomplète ;</li> <li> commande incorrecte. </li></ul> <p>La figure illustre les différents types d’erreurs et les façons d’y remédier.</p></content-text>
</page>
<page type="FullScreen" id="tl0611010503">
<content-media type="StaticGraphic" id="cm4655114516"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010500/tl0611010503/cm4655114516.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611010000/tl0611010500/tl0611010503/cm4655114516text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="tl0611010504">
<content-media type="StaticGraphic" id="cm9168026580"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010500/tl0611010504/cm9168026580.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611010000/tl0611010500/tl0611010504/cm9168026580text.xml"/></content-media>
<content-text><p><b>Touches d’accès rapide et raccourcis.</b></p> <p>Dans l’environnement ILC, des touches d’accès rapide et des raccourcis facilitent la configuration, la surveillance et le dépannage des périphériques IOS. </p> <p>La figure présente les principaux raccourcis. Les raccourcis suivants méritent des précisions :</p> <ul><li> <b>Tab</b> - Complète la commande ou le mot clé en affichant le reste.</li> <li> <b>Ctrl-R</b> - Affiche à nouveau une ligne.</li> <li> <b>Ctrl-Z</b> - Permet de passer du mode de configuration au mode d’exécution.</li> <li> <b>Bas</b> - Permet à l’utilisateur de faire défiler vers l’avant les commandes précédentes.</li> <li> <b>Haut</b> - Permet à l’utilisateur de faire défiler vers l’arrière les commandes précédentes.</li> <li> <b>Ctrl-Maj-6</b> (avec un clavier QWERTY) - Permet à l’utilisateur d’interrompre un processus IOS comme <b><span class="cmd">ping</span></b> ou <b><span class="cmd">traceroute</span></b>. Avec un clavier AZERTY, il faudra utiliser le raccourci : Ctrl-Maj-9.</li> <li> <b>Ctrl-C</b> - Permet d’abandonner la commande actuelle et de quitter le mode de configuration.</li></ul> <p>Nous allons maintenant approfondir ces raccourcis :</p> <p><b>Tab</b> - La <b>touche Tabulation</b> permet de compléter automatiquement une commande ou un paramètre abrégé si l’abréviation contient suffisamment de lettres pour exclure toute ambiguïté par rapport aux autres commandes ou paramètres disponibles. Après avoir tapé assez de caractères pour identifier la commande ou le mot clé sans ambiguïté, appuyez sur la touche <b>Tab</b> pour afficher le reste de la commande ou du mot clé.</p> <p>Cette technique s’avère particulièrement utile pendant votre apprentissage parce qu’elle vous permet de voir en entier le mot servant de commande ou de mot clé.</p> <p><b>Ctrl-R</b> - Le <b>rappel d’une ligne</b> vous permet d’afficher à nouveau la ligne que vous venez de taper. Utilisez <b>Ctrl-R</b> pour faire reparaître cette ligne. Par exemple, il peut arriver qu’un message IOS s’affiche dans l’environnement ILC juste au moment où vous tapez une ligne. Vous pouvez alors utiliser <b>Ctrl-R</b> pour rappeler votre ligne afin d’éviter de la retaper. </p> <p>Dans l’exemple suivant, un message concernant une interface défaillante interrompt l’entrée d’une commande.</p> <span class="cmd"><p>Switch#<b>show mac-</b></p></span> <span class="cmd"><p>16w4d: %LINK-5-CHANGED: Interface FastEthernet0/10, changed state to down</p></span> <span class="cmd"><p>16w4d: %LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet0/10, changed state to down</p></span> <p>Pour rappeler la ligne que vous étiez en train de taper, utilisez Ctrl-R :</p> <span class="cmd"><p>Switch#<b>show mac </b></p></span> <p><b>Ctrl-Z - Sortie du mode de configuration.</b> Pour quitter un mode de configuration et retourner au mode d’exécution privilégié, utilisez <b>Ctrl-Z</b>. Du fait de la structure hiérarchique des modes IOS, vous risquez de vous retrouver plusieurs niveaux plus bas lorsque vous quittez un mode. Pour cette raison, au lieu de quitter chaque mode séparément, utilisez <b>Ctrl-Z </b>afin de retourner directement à l’invite du mode d’exécution privilégié au plus haut niveau.</p> <p><b>Haut et Bas - Réutilisation des commandes précédentes.</b> Comme le logiciel Cisco IOS conserve en mémoire tampon plusieurs commandes et caractères entrés par l’utilisateur, vous pouvez rappeler des entrées antérieures. La mémoire tampon s’avère utile pour rentrer des commandes sans avoir à les retaper.</p> <p>Il est possible de parcourir les commandes stockées en mémoire tampon à l’aide de combinaisons de touches. Utilisez la touche <b>Haut</b> (<b>Ctrl P</b>) pour afficher les commandes entrées antérieurement. Chaque fois que vous appuyez sur cette touche, IOS affiche la commande précédente. Inversement, utilisez la touche <b>Bas</b> (<b>Ctrl N</b>) pour afficher la commande mémorisée suivante.</p> <p><b>Ctrl-Maj-6 (avec un clavier QWERTY) - Utilisation de la séquence d’échappement. Avec un clavier AZERTY, il faudra utiliser le raccourci : Ctrl-Maj-9.</b>Lorsque vous lancez un processus IOS à partir de l’environnement ILC, par exemple une commande ping ou traceroute, cette commande s’exécute jusqu’à ce qu’elle se termine ou qu’elle soit interrompue. Pendant que le processus s’exécute, ILC ne répond plus. Pour interrompre l’affichage des résultats et interagir avec ILC, appuyez sur <b>Ctrl-Maj-6</b> (avec un clavier QWERTY). Avec un clavier AZERTY, il faudra utiliser le raccourci : Ctrl-Maj-9.</p> <p><b>Ctrl-C</b> - Cette combinaison de touches vous permet d’interrompre l’entrée d’une commande et de quitter le mode de configuration. Ceci s’avère utile si, pendant que vous entrez une commande, vous décidez de l’annuler et de quitter le mode de configuration. </p> <p><b>Commandes ou mots clés abrégés. </b>Il est possible d’abréger les commandes et les mots clés jusqu’au nombre minimal de caractères qui identifie une sélection unique. Par exemple, vous pouvez abréger la commande <span class="cmd"><b>configure</b></span> en entrant <span class="cmd"><b>conf</b></span> parce que <span class="cmd"><b>configure</b></span> est la seule commande qui commence par <span class="cmd"><b>conf</b></span>. Par contre, l’abréviation <span class="cmd"><b>con</b></span> ne fonctionne pas parce que plusieurs commandes débutent par <span class="cmd"><b>con</b></span>.</p> <p>Vous pouvez aussi abréger les mots clés. </p> <p>À titre d’exemple, <span class="cmd"><b>show interfaces</b></span> peut s’abréger de la façon <br>suivante :</br></p> <span class="cmd"><p>Router#<b>show interfaces</b> </p></span> <span class="cmd"><p>Router#<b>show int</b></p></span> <p>Il est également possible d’abréger la commande et les mots clés, comme le montre l’exemple suivant :</p> <span class="cmd"><p>Router#<b>sh int</b></p></span></content-text>
</page>
</topic>
<topic type="" id="tl0611010600">
<title><content-text>Commandes IOS d’examen</content-text></title>
<page type="OneColumn" id="tl0611010601">
<content-media type="StaticGraphic" id="cm4842429309"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010600/tl0611010601/cm4842429309.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611010000/tl0611010600/tl0611010601/cm4842429309text.xml"/></content-media>
<content-text><p>Pour contrôler et dépanner le réseau, il est nécessaire d’examiner le fonctionnement des périphériques. La commande d’examen de base est la commande <span class="cmd"><b>show</b></span>. </p> <p>Il existe plusieurs variantes de cette commande. À mesure que vous vous familiariserez avec IOS, vous apprendrez à utiliser les commandes <span class="cmd"><b>show</b></span> et à interpréter leurs résultats. Utilisez la commande <span class="cmd"><b>show ?</b></span> pour afficher une liste des commandes disponibles dans un contexte ou un mode donné. </p> <p>La figure montre comment la commande <span class="cmd"><b>show</b></span> typique peut fournir des informations sur la configuration, le fonctionnement d’un routeur Cisco et l’état de ses éléments. </p> <p>Dans le cadre de ce cours, nous utiliserons quelques-unes des commandes <span class="cmd"><b>show</b></span> fondamentales.</p></content-text>
</page>
<page type="OneColumn" id="tl0611010602">
<content-media type="InteractiveGraphicRollovers" id="cm3877271423"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010600/tl0611010602/cm3877271423.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611010000/tl0611010600/tl0611010602/cm3877271423text.xml"/></content-media>
<content-text><p>Parmi les commandes utilisées le plus couramment, il convient de citer :</p> <span class="cmd"><p><b>show interfaces</b></p></span> <p>Affiche des statistiques relatives à toutes les interfaces du périphérique. Pour afficher les statistiques d’une interface spécifique, entrez la commande <span class="cmd"><b>show interfaces</b></span> suivie par le numéro spécifique du logement d’interface ou du port. Exemple :</p> <p><span class="cmd">Router#<b>show interfaces serial 0/1</b></span></p> <p><span class="cmd"><b>show version</b></span></p> <p>Affiche des informations sur la version du logiciel chargé actuellement ainsi que des renseignements sur le matériel et le périphérique. Cette commande affiche, entre autres, les informations suivantes :</p> <ul><li> <span class="cmd"><b>Version du logiciel</b></span> - Version du logiciel IOS (stocké en mémoire flash) </li> <li> <span class="cmd"><b>Version du bootstrap</b></span> - Version du programme de démarrage (stocké en mémoire ROM amorçable) </li> <li> <span class="cmd"><b>Durée de l’activité du système</b></span> - Temps écoulé depuis le dernier redémarrage </li> <li> <span class="cmd"><b>Informations sur le redémarrage du système</b></span> - Méthode de redémarrage (par exemple le cycle d’alimentation ou un incident) </li> <li> <span class="cmd"><b>Nom de l’image du logiciel</b></span> - Nom du ficher IOS stocké en mémoire flash </li> <li> <span class="cmd"><b>Type de routeur et type de processeur</b></span> - Numéro de modèle et type de processeur </li> <li> <span class="cmd"><b>Type et allocation de la mémoire (Partagée/Principale)</b></span> - Mémoire vive principale du processeur et mémoire partagée servant de tampon pour les paquets d’E/S </li> <li> <span class="cmd"><b>Fonctionnalités du logiciel</b></span> - Protocoles pris en charge / jeux de fonctions </li> <li> <span class="cmd"><b>Interfaces matérielles</b></span> - Interfaces disponibles sur le routeur </li> <li> <span class="cmd"><b>Registre de configuration</b></span> - Définit les spécifications du démarrage, la vitesse de la console et des paramètres connexes.</li></ul> <p>La figure montre un exemple de résultat typique d’une commande <span class="cmd"><b>show version</b></span>.</p> <ul><li> <span class="cmd"><b>show arp</b></span> - Affiche la table ARP du périphérique.</li> <li> <span class="cmd"><b>show mac-address-table</b></span> - (uniquement pour les commutateurs) Affiche la table MAC d’un commutateur. </li> <li> <span class="cmd"><b>show startup-config</b></span> - Affiche la configuration enregistrée en mémoire NVRAM. </li> <li> <span class="cmd"><b>show running-config</b></span> - Affiche le contenu du ficher de configuration en cours, la configuration d’une interface spécifique, ou des informations sur les classes de mappage.</li> <li> <span class="cmd"><b>show ip interfaces</b></span> - Affiche des statistiques IPv4 pour toutes les interfaces d’un routeur. Pour afficher les statistiques d’une interface spécifique, entrez la commande <span class="cmd"><b>show ip interfaces</b></span> suivie par le numéro spécifique du logement d’interface et du port (format n°/port). Enfin, la commande <span class="cmd"><b>show ip interface brief</b></span> permet d’obtenir un bref résumé des interfaces et de leur état de fonctionnement.</li></ul> <p>Exemple :</p> <span class="cmd"><p>Router#<b>show ip interface brief</b></p></span> <span class="cmd"><p>Interface IP-Address OK? Method Status Protocol</p></span> <span class="cmd"><p>FastEthernet0/0 172.16.255.254 YES manual up up</p></span> <span class="cmd"><p>FastEthernet0/1 unassigned YES unset down down</p></span> <span class="cmd"><p>Serial0/0/0 10.10.10.5 YES manual up up</p></span> <span class="cmd"><p>Serial0/0/1 unassigned YES unset down down</p></span> <p><b>L’invite </b><span class="cmd"><b>More</b></span></p> <p>Lorsque les résultats d’une commande ne tiennent pas dans un seul écran, l’invite <span class="cmd"> <b>--More-- </b></span> apparaît en bas de l’écran. Quand l’invite <span class="cmd"><b>--More--</b></span> apparaît, vous pouvez appuyer sur la touche <b>Espace</b> pour afficher la suite des résultats. Pour afficher seulement la ligne suivante, appuyez sur la touche <b>Entrée</b>. Si vous appuyez sur une autre touche, l’affichage des résultats est annulé et vous retournez à l’invite de commandes.</p></content-text>
</page>
<page type="OneColumn" id="tl0611010603">
<content-media type="ActivityPKA" id="cm7497491118"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010600/tl0611010603/cm7497491118/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611010000/tl0611010600/tl0611010603/cm7497491118/icontext.xml"/></content-media>
<content-text><p>Dans cet exercice, vous allez utiliser Packet Tracer pour examiner des commandes IOS <span class="cmd"><b>show</b></span> communes.</p><p><b>Pour démarrer, cliquez sur l’icône de Packet Tracer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0611010700">
<title><content-text>Modes de configuration IOS</content-text></title>
<page type="OneColumn" id="tl0611010701">
<content-media type="StaticGraphic" id="cm6410559727"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010700/tl0611010701/cm6410559727.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611010000/tl0611010700/tl0611010701/cm6410559727text.xml"/></content-media>
<content-text><p><b>Mode de configuration globale</b></p> <p>Le principal mode de configuration est appelé <b>mode de </b> <b>configuration globale</b>. Les modifications de la configuration effectuées dans l’environnement ILC en mode de configuration globale affectent le fonctionnement du périphérique dans son ensemble. </p> <p>Le mode de configuration globale constitue également un point de passage permettant d’accéder à des modes de configuration spécifiques.</p> <p>La commande IOS suivante permet de faire passer le périphérique du mode d’exécution privilégié au mode de configuration globale et d’autoriser l’entrée de commandes de configuration à partir d’un terminal :</p> <span class="cmd"><p>Router#<b>configure terminal</b></p></span> <p>Une fois la commande exécutée, l’invite change pour indiquer que le routeur se trouve en mode de configuration globale.</p> <span class="cmd"><p>Router(config)#</p></span> <p><b>Modes de configuration spécifiques</b></p> <p>À partir du mode de configuration globale, vous pouvez passer à de nombreux modes de configuration particuliers. Chacun de ces modes permet de configurer une partie ou une fonction spéciale du périphérique IOS. La liste ci-dessous en présente quelques-uns :</p> <ul><li> <b>Mode interface</b> - pour configurer l’une des interfaces réseau (Fa0/0, S0/0/0, etc.)</li> <li> <b>Mode ligne</b> - pour configurer l’une des lignes physiques ou virtuelles (console, AUX, VTY, etc.) </li> <li> <b>Mode routeur</b> - pour configurer les paramètres de l’un des protocoles de routage</li></ul> <p>La figure montre les invites de certains modes. <b>Comme vous le savez, du fait qu’elles s’effectuent à l’intérieur d’une interface ou d’un processus, les modifications de la configuration n’affectent que cette interface ou ce processus.</b></p> <p>Pour quitter un mode de configuration spécifique et retourner au mode de configuration globale, entrez <span class="cmd"><b>exit</b></span> à une invite. Pour quitter complètement le mode de configuration et retourner au mode d’exécution privilégié, entrez <span class="cmd"><b>end</b></span> ou utilisez la combinaison de touches <b>Ctrl-Z</b>. </p> <p>Après avoir effectué une modification à partir du mode global, vous avez intérêt à l’enregistrer dans le fichier de configuration initiale stocké en mémoire NVRAM. Ainsi, vous ne risquerez pas de perdre des modifications à la suite d’une panne de courant ou d’un redémarrage intentionnel. La commande permettant d’enregistrer la configuration en cours dans le fichier de configuration initiale est la suivante :</p> <span class="cmd"><p>Router#<b>copy running-config startup-config</b></p></span></content-text>
</page>
<page type="OneColumn" id="tl0611010702">
<content-media type="ActivityPKA" id="cm7646612606"><title><content-text></content-text></title><media ref="tl0611000000/tl0611010000/tl0611010700/tl0611010702/cm7646612606/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611010000/tl0611010700/tl0611010702/cm7646612606/icontext.xml"/></content-media>
<content-text><p>Dans cet exercice, vous allez utiliser Packet Tracer pour vous entraîner à accéder à des modes de configuration IOS.</p><p><b>Cliquez sur l’icône Packet Tracer pour lancer l’exercice Packet Tracer.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0611020000">
<title><content-text>Application d’une configuration de base avec Cisco IOS</content-text></title>
<topic type="" id="tl0611020100">
<title><content-text>Nécessité d’attribuer des noms aux périphériques</content-text></title>
<page type="OneColumn" id="tl0611020101">
<content-media type="StaticGraphic" id="cm9112588592"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020100/tl0611020101/cm9112588592.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611020000/tl0611020100/tl0611020101/cm9112588592text.xml"/></content-media>
<content-text><p>Le nom d’hôte est utilisé dans les invites ILC. Si le nom d’hôte n’est pas configuré explicitement, un routeur utilise le nom d’hôte par défaut « Router ». De même, le nom d’hôte par défaut des commutateurs est « Switch ». Imaginez un interréseau dans lequel plusieurs routeurs porteraient le nom par défaut, « Router ». Il en résulterait une grande confusion lors de la configuration et de la maintenance du réseau. </p> <p>Lorsque vous utilisez Telnet ou SSH pour accéder à un périphérique distant, il est important d’avoir confirmation qu’une connexion s’établit avec le périphérique voulu. Si tous les périphériques ont conservé leurs noms par défaut, il est impossible de savoir avec certitude si le bon périphérique est connecté. </p> <p>En revanche, si vous les choisissez et les notez intelligemment, vous n’aurez aucune peine à mémoriser, expliquer et utiliser les noms des périphériques réseau. Pour nommer les périphériques de façon cohérente et utile, il est nécessaire d’établir une convention d’attribution de noms applicable dans toute l’entreprise ou tout au moins à l’emplacement géographique des périphériques. <b>Il est conseillé de créer la convention d’attribution de noms en même temps que le schéma d’adressage afin d’assurer la continuité dans l’organisation. </b></p> <p>Une convention d’attribution de noms doit par exemple prescrire que les noms :</p> <ul><li> débutent par une lettre ;</li> <li> ne contiennent aucun espace ;</li> <li> se terminent par une lettre ou un chiffre ;</li> <li> ne soient composés que de lettres, de chiffres et de tirets ;</li> <li> ne comptent pas plus de 63 caractères.</li></ul> <p>IOS distingue les majuscules des minuscules dans les noms d’hôte utilisés pour les périphériques. Vous pouvez donc utiliser des majuscules comme vous le feriez normalement pour un nom. Contrairement à IOS, la plupart des systèmes d’attribution de noms Internet ne font aucune distinction entre majuscules et minuscules. Le document RFC 1178 définit un certain nombre de règles à respecter pour nommer les périphériques. </p> <p>Dans le cadre de la configuration des périphériques, vous devez associer un nom d’hôte unique à chaque périphérique. </p> <p><b>Remarque :</b> les noms d’hôte des périphériques ne sont utilisés que par les administrateurs pour configurer et surveiller les périphériques dans l’environnement ILC. Sauf s’ils sont configurés pour le faire, les périphériques eux-mêmes n’utilisent pas ces noms lors de leur découverte mutuelle et de leurs interactions.</p></content-text>
</page>
<page type="OneColumn" id="tl0611020102">
<content-media type="StaticGraphic" id="cm3317956303"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020100/tl0611020102/cm3317956303.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611020000/tl0611020100/tl0611020102/cm3317956303text.xml"/></content-media>
<content-text><p><b>Exemple d’attribution de noms</b></p> <p>À titre d’exemple, considérons un réseau comportant trois routeurs situés dans trois villes différentes (Atlanta, Phoenix et Corpus), comme le montre la figure.</p> <p>Pour créer une convention d’attribution de noms aux routeurs, vous devez prendre en compte leur emplacement et le rôle qu’ils jouent. Vous pouvez par exemple vous poser les questions suivantes : est-ce que ces routeurs font partie du siège social d’une organisation ? Est-ce que chaque routeur joue un rôle différent ? Ainsi, le routeur d’Atlanta est-il un point de jonction principal dans le réseau ou s’agit-il d’une jonction dans une chaîne ? </p>  <p>Dans cet exemple, nous identifierons chaque routeur en tant que routeur d’agence régionale (HeadQuarter ou HQ) pour chaque ville. À cet effet, nous leur attribuons les noms AtlantaHQ, PhoenixHQ et CorpusHQ. Si ces routeurs avaient constitué les maillons d’une chaîne, nous aurions pu les nommer LilleM1, LyonM2 et MarseilleM3. </p> <p>Il convient de consigner ces noms dans la documentation du réseau en expliquant les raisons de leur choix, afin d’assurer la continuité dans l’attribution de noms lorsque de nouveaux périphériques seront ajoutés au réseau. </p> <p>Une fois la convention d’attribution de noms établie, l’étape suivante consiste à associer ces noms aux périphériques dans l’environnement ILC. Notre exemple se limitera à montrer les commandes permettant de nommer le routeur d’Atlanta. </p> <p><b>Configuration du nom d’hôte IOS</b></p> <p>En mode d’exécution privilégié, accédez au mode de configuration globale en entrant la commande <span class="cmd"><b>configure terminal</b></span> :</p> <span class="cmd"><p>Router#<b>configure terminal</b></p></span> <p>Après exécution de cette commande, l’invite devient :</p> <span class="cmd"><p>Router(config)#</p></span> <p>En mode de configuration globale, entrez le nom d’hôte :</p> <span class="cmd"><p>Router(config)#<b>hostname AtlantaHQ</b></p></span> <p>Après exécution de cette commande, l’invite devient :</p> <span class="cmd"><p>AtlantaHQ(config)#</p></span> <p>Observez que le nom d’hôte apparaît dans l’invite. Pour quitter le mode de configuration globale, utilisez la commande <span class="cmd"><b>exit</b></span>. </p> <p>N’oubliez pas de mettre à jour votre documentation chaque fois que vous ajoutez ou modifiez un périphérique. Dans la documentation, identifiez les périphériques par leur emplacement, leur rôle et leur adresse. </p> <p><b>Remarque :</b> pour annuler ou inverser les effets d’une commande, faites-la précéder du mot clé <span class="cmd"><b>no</b></span>. </p> <p>Par exemple, pour supprimer le nom attribué à un périphérique, utilisez :</p> <span class="cmd"><p>AtlantaHQ(config)# <b>no hostname</b> </p></span> <span class="cmd"><p>Router(config)#</p></span> <p>Notez que la commande <span class="cmd"><b>no hostname</b></span> rétablit sur le routeur le nom d’hôte par défaut « Router ».</p></content-text>
</page>
<page type="OneColumn" id="tl0611020103">
<content-media type="ActivityPKA" id="cm1580899121"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020100/tl0611020103/cm1580899121/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611020000/tl0611020100/tl0611020103/cm1580899121/icontext.xml"/></content-media>
<content-text><p>Dans cet exercice, vous allez utiliser Packet Tracer pour configurer des noms d’hôte sur des routeurs et des commutateurs.</p> <p>Liens</p> <p>Document RFC 1178, « Choosing a Name for Your Computer » (en anglais) </p> <p><content-link target="http://www.faqs.org/rfcs/rfc1178.html" type="external">http://www.faqs.org/rfcs/rfc1178.html</content-link></p><p><b>Cliquez sur l’icône Packet Tracer pour lancer l’exercice Packet Tracer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0611020200">
<title><content-text>Limitation de l’accès aux périphériques avec des mots de passe et des bannières</content-text></title>
<page type="OneColumn" id="tl0611020201">
<content-media type="InteractiveGraphicRollovers" id="cm5906587681"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020200/tl0611020201/cm5906587681.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611020000/tl0611020200/tl0611020201/cm5906587681text.xml"/></content-media>
<content-text><p>Il est recommandé de limiter physiquement l’accès aux périphériques réseau en les plaçant dans des pièces et des armoires fermées à clé ; toutefois, les mots de passe sont la principale défense contre l’accès non autorisé à ces appareils. <b>Tout périphérique doit être protégé par des mots de passe configurés localement afin de limiter l’accès.</b> Dans un cours ultérieur, nous expliquerons comment renforcer la sécurité en exigeant que l’utilisateur fournisse non seulement un mot de passe, mais aussi un ID d’utilisateur. Pour l’instant, nous allons présenter des précautions de base en matière de sécurité qui reposent uniquement sur l’emploi de mots de passe.</p> <p>Comme vous le savez, IOS utilise des modes organisés hiérarchiquement pour faciliter la protection des périphériques. Dans le cadre de ce dispositif de sécurité, IOS peut accepter plusieurs mots de passe, ce qui vous permet d’établir différents privilèges d’accès au périphérique.</p> <p>Les mots de passe présentés ici sont les suivants :</p> <ul><li> <b>Mot de passe de console</b> - limite l’accès au périphérique par une connexion console.</li> <li> <b>Mot de passe actif</b> - limite l’accès au mode d’exécution privilégié.</li> <li> <b>Mot de passe secret actif</b> - chiffré, limite l’accès au mode d’exécution privilégié.</li> <li> <b>Mot de passe VTY</b> - limite l’accès au périphérique par une connexion Telnet.</li></ul> <p><b>Il est recommandé d’utiliser des mots de passe différents pour chacun de ces niveaux d’accès.</b> En effet, bien que l’utilisation de plusieurs mots de passe différents ne facilite pas l’ouverture d’une session, cette précaution est nécessaire pour protéger convenablement l’infrastructure réseau contre l’accès non autorisé. </p> <p>En outre, utilisez des <content-link target="cg5392790978" type="glossary">mots de passe forts</content-link> qui ne sont pas faciles à deviner. L’utilisation de mots de passe faibles ou faciles à deviner demeure un véritable problème de sécurité dans de nombreuses entreprises. </p> <p>Pour choisir les mots de passe, respectez les règles suivantes :</p> <ul><li> Utilisez des mots de passe de plus de 8 caractères.</li> <li> Combinez les majuscules, les minuscules et/ou les suites de chiffres dans les mots de passe.</li> <li> Évitez d’utiliser le même mot de passe pour tous les périphériques.</li> <li> Abstenez-vous d’employer des mots communs tels que <b>mot de passe</b> ou <b>administrateur</b>, parce qu’ils sont faciles à deviner.</li></ul> <p><b>Remarque : </b>Dans la plupart des travaux pratiques, nous utiliserons des mots de passe simples, tels que <b>cisco</b> ou <b>classe</b>. Il faut éviter ces mots de passe dans un environnement de production, car ils sont considérés comme faibles et faciles à deviner. Nous n’utilisons ces mots de passe que pour faciliter la tâche des participants dans le contexte particulier de ce cours.</p> <p>Comme le montre la figure, le périphérique ne renvoie pas d’écho du mot de passe pendant son entrée. En d’autres termes, les caractères du mot de passe ne s’affichent pas lorsque vous les tapez. Ce mécanisme est utilisé pour des raisons de sécurité, car de nombreux mots de passe sont récoltés par des regards indiscrets.</p> <p><b>Mot de passe de console</b></p> <p>Le port de console d’un périphérique Cisco IOS possède des privilèges spéciaux. Pour cette raison, vous devez sécuriser le port de console des périphériques réseau en exigeant, au minimum, que l’utilisateur fournisse un mot de passe fort. Ceci réduit les chances qu’un personnel non autorisé ne branche physiquement un câble sur le port de console de l’appareil et accède ainsi au périphérique.</p> <p>Vous utilisez les commandes suivantes en mode de configuration globale pour définir un mot de passe pour la ligne de console :</p> <span class="cmd"><p>Switch(config)#<b>line console 0</b></p></span> <span class="cmd"><p>Switch(config-line)#<b>password </b><i>mot_de_passe</i></p></span> <span class="cmd"><p>Switch(config-line)#<b>login</b></p></span> <p>À partir du mode de configuration globale, la commande <span class="cmd"><b>line console 0</b></span> permet d’entrer en mode de configuration de ligne pour la console. Le zéro sert à représenter la première (et le plus souvent l’unique) interface de console d’un routeur.</p> <p>La deuxième commande, <span class="cmd"> <b>password </b><i>mot_de_passe</i></span>, spécifie un mot de passe sur une ligne. </p> <p>Enfin, la commande <span class="cmd"><b>login</b></span> configure le routeur pour exiger une authentification à l’ouverture de session. Après activation de <span class="cmd"><b>login</b></span> et définition d’un mot de passe, le périphérique invitera l’utilisateur à entrer un mot de passe. </p> <p>Le message demandant le mot de passe apparaîtra désormais chaque fois qu’un utilisateur tentera d’accéder au port de console.</p></content-text>
</page>
<page type="OneColumn" id="tl0611020202">
<content-media type="StaticGraphic" id="cm6252714545"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020200/tl0611020202/cm6252714545.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611020000/tl0611020200/tl0611020202/cm6252714545text.xml"/></content-media>
<content-text><p><b>Mots de passe actif et secret actif </b></p> <p>Pour augmenter la sécurité, utilisez la commande <span class="cmd"><b><content-link target="cg9939390621" type="glossary">enable password</content-link></b></span> ou la commande <span class="cmd"><b>enable secret</b></span>. Chacune de ces commandes peut s’utiliser pour établir une authentification avant l’accès au mode d’exécution privilégié (mode enable). </p> <p>Si possible, employez toujours la commande <span class="cmd"><b>enable secret</b></span> et <i>non</i> l’ancienne commande <span class="cmd"><b>enable password</b></span>. En effet, la commande <span class="cmd"><b>enable secret</b></span> offre une plus grande sécurité dans la mesure où le mot de passe est chiffré. La commande <span class="cmd"><b>enable password</b></span> ne peut pas s’utiliser après <span class="cmd"><b>enable secret</b></span>. </p> <p>En fait, <span class="cmd"><b>enable password</b></span> n’est utile que si le périphérique exécute une ancienne version du logiciel Cisco IOS qui ne reconnaît pas la commande <span class="cmd"><b>enable secret</b></span>.</p> <p>Les commandes suivantes sont utilisées pour définir les mots de passe : </p> <span class="cmd"><p>Router(config)#<b>enable password </b><i>mot_de_passe</i></p></span> <span class="cmd"><p>Router(config)#<b>enable secret </b><i>mot_de_passe</i></p></span> <p><b>Remarque :</b> si aucune commande <span class="cmd"><b>enable password</b></span> ou <span class="cmd"><b>enable secret</b></span> n’est exécutée, IOS interdit l’accès en mode d’exécution privilégié à partir d’une session Telnet. </p> <p>Concrètement, si IOS n’a reçu aucune commande <span class="cmd"><b>enable password</b></span>, une session Telnet présente l’aspect suivant :</p> <span class="cmd"><p>Switch><b>enable</b></p></span> <span class="cmd"><p>% No password set</p></span> <span class="cmd"><p>Switch></p></span> <p><b>Mot de passe VTY</b></p> <p>Les lignes <b>vty</b> permettent d’accéder à un routeur via Telnet. Par défaut, de nombreux périphériques Cisco prennent en charge cinq lignes VTY qui sont numérotées de 0 à 4. Vous devez définir un mot de passe pour toutes les lignes <b>vty</b> disponibles. Vous pouvez certes définir le même mot de passe pour toutes les connexions. Toutefois, il est souvent souhaitable d’associer un mot de passe unique à une certaine ligne afin de réserver un accès à un administrateur lorsque les autres connexions sont utilisées.</p> <p>Les commandes suivantes sont utilisées pour définir un mot de passe sur les lignes vty : </p> <span class="cmd"><p>Router(config)#<b>line vty 0 4</b></p></span> <span class="cmd"><p>Router(config-line)#<b>password </b><i>mot_de_passe</i></p></span> <span class="cmd"><p>Router(config-line)#<b>login</b></p></span> <p>Par défaut, IOS inclut la commande <span class="cmd"><b>login</b></span> sur les lignes VTY. Ceci permet d’interdire un accès Telnet au périphérique sans authentification préalable. Si vous avez exécuté par inadvertance la commande <span class="cmd"><b>no login</b></span>, rien n’empêche des personnes non autorisées de se connecter à la ligne avec Telnet puisque l’authentification n’est plus obligatoire. Il s’agit d’un risque majeur en matière de sécurité.</p> <p><b>Chiffrement de l’affichage des mots de passe</b></p> <p>Une autre commande utile permet d’empêcher l’affichage des mots de passe en clair lorsqu’un utilisateur consulte les fichiers de configuration. Il s’agit de la commande <span class="cmd"><b>service password-encryption</b></span>. </p> <p>Cette commande provoque le chiffrement des mots de passe déjà configurés. La commande <span class="cmd"><b>service password-encryption</b></span> applique un chiffrement simple à tous les mots de passe non chiffrés. Ce chiffrement ne s’applique pas aux mots de passe transmis sur le support pendant la configuration. Le but de cette commande est d’empêcher les personnes non autorisées de lire les mots de passe dans le fichier de configuration.</p> <p>Si vous exécutez la commande <span class="cmd"><b>show running-config</b></span> ou <span class="cmd"><b>show startup-config</b></span> avant la commande <span class="cmd"><b>service password-encryption</b></span>, les mots de passe non chiffrés sont visibles dans les informations fournies par le périphérique sur sa configuration. Dès que vous exécutez la commande <span class="cmd"><b>service password-encryption</b></span>, IOS applique le chiffrement aux mots de passe. Par la suite, les mots de passe déjà chiffrés le restent même si vous supprimez le service password-encryption (en annulant la commande).</p></content-text>
</page>
<page type="OneColumn" id="tl0611020203">
<content-media type="StaticGraphic" id="cm3085479567"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020200/tl0611020203/cm3085479567.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611020000/tl0611020200/tl0611020203/cm3085479567text.xml"/></content-media>
<content-text><p><b>Messages de bannière</b></p> <p>Bien que les mots de passe soient l’un des moyens dont vous disposez pour empêcher l’accès non autorisé à un réseau, il est vital de mettre en place une méthode pour déclarer que l’accès à un périphérique est réservé aux personnes autorisées. À cet effet, ajoutez une bannière aux informations affichées par le périphérique.</p> <p>Les bannières peuvent constituer une pièce importante dans un procès intenté à une personne qui aurait accédé illégalement à un périphérique. En effet, dans certains systèmes juridiques, il n’est pas possible de poursuivre des utilisateurs, ni même de les surveiller, sauf s’ils ont reçu une notification appropriée. </p> <p>La formulation utilisée dans une bannière dépend des lois en vigueur localement et des stratégies d’entreprise. Voici quelques exemples d’informations à inclure dans une bannière : </p> <ul><li> « L’utilisation du périphérique est strictement réservée au personnel autorisé. »</li> <li> « Vos interactions avec le périphérique peuvent faire l’objet d’une surveillance. » </li> <li> « Toute utilisation non autorisée fera l’objet de poursuites judiciaires. »</li></ul> <p>Comme les bannières peuvent être vues par quiconque essaie d’ouvrir une session, le message doit être formulé avec la plus grande prudence. Par exemple, il faut éviter de laisser entendre que l’utilisateur qui ouvre la session est « bienvenu » ou « invité » à le faire. En effet, il est difficile de prouver la responsabilité d’une personne qui perturbe le fonctionnement du réseau après un accès non autorisé s’il apparaît qu’elle a été invitée à le faire. </p> <p>La création de bannières est un processus simple, à condition de respecter un minimum de règles dans leur rédaction. Si vous utilisez une bannière, abstenez-vous de souhaiter la bienvenue à l’utilisateur accédant au routeur. Votre bannière doit préciser que seul le personnel autorisé a le droit d’accéder au périphérique. Enfin, la bannière peut contenir des informations sur les arrêts programmés du système et d’autres renseignements concernant tous les utilisateurs du réseau.</p> <p>IOS fournit plusieurs types de bannières. L’une des bannières communes est le message du jour (MOTD). Ce message s’utilise souvent pour les mentions légales parce qu’il s’affiche sur tous les terminaux connectés. </p> <p>Configurez le message du jour en entrant la commande <span class="cmd"><b>banner motd</b></span> en mode de configuration globale. </p> <p>Comme le montre la figure, la commande <span class="cmd"><b>banner motd</b></span> requiert l’utilisation de délimiteurs pour identifier le contenu du message de bannière. La commande <span class="cmd"><b>banner motd</b></span> est suivie d’un espace et d’un caractère de délimitation. Ensuite, une ou plusieurs lignes de texte constituent le message de bannière. Enfin, le caractère de délimitation apparaît une seconde fois pour marquer la fin du message. Vous pouvez utiliser comme délimiteur tout caractère ne figurant pas dans le message. C’est la raison pour laquelle les symboles tels que « <b>#</b> » sont souvent employés comme délimiteurs.</p> <p>Pour configurer un message du jour, entrez la commande <span class="cmd"><b>banner motd</b></span> en mode de configuration globale :</p> <span class="cmd"><p>Switch(config)#<b>banner motd # </b><i>message</i><b> #</b></p></span> <p>Une fois cette commande exécutée, la bannière s’affichera lors de toutes les tentatives d’accès au périphérique suivantes jusqu’à ce que vous la supprimiez.</p></content-text>
</page>
<page type="OneColumn" id="tl0611020204">
<content-media type="ActivityPKA" id="cm8036172447"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020200/tl0611020204/cm8036172447/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611020000/tl0611020200/tl0611020204/cm8036172447/icontext.xml"/></content-media>
<content-text><p>Dans cet exercice, vous allez utiliser Packet Tracer pour vous entraîner à utiliser les commandes IOS permettant de configurer des mots de passe et des bannières sur des commutateurs et des routeurs.</p><p><b>Cliquez sur l’icône Packet Tracer pour lancer l’exercice Packet Tracer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0611020300">
<title><content-text>Gestion des fichiers de configuration</content-text></title>
<page type="OneColumn" id="tl0611020301">
<content-media type="InteractiveGraphicRollovers" id="cm5269988108"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020300/tl0611020301/cm5269988108.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611020000/tl0611020300/tl0611020301/cm5269988108text.xml"/></content-media>
<content-text><p>Comme vous le savez, la modification de la configuration en cours d’un périphérique a un impact immédiat sur son fonctionnement. </p> <p>Une fois que vous avez modifié une configuration, trois possibilités s’offrent à vous : </p> <ul><li> adopter la configuration modifiée comme nouvelle configuration initiale ;</li> <li> restaurer la configuration d’origine du périphérique ;</li> <li> supprimer toute configuration du périphérique.</li></ul> <p><b>Adoption de la configuration modifiée comme nouvelle configuration initiale </b></p> <p>Rappelez-vous que, du fait qu’elle est stockée en mémoire vive, la configuration en cours est active temporairement aussi longtemps que le périphérique Cisco fonctionne (qu’il est sous tension). En cas de panne de courant ou de redémarrage du routeur, toutes les modifications de la configuration que vous n’avez pas enregistrées sont perdues. </p> <p>L’enregistrement de la configuration en cours dans le fichier de configuration initiale en mémoire NVRAM permet de conserver les modifications en tant que nouvelle configuration initiale.</p> <p>Avant de pérenniser une configuration modifiée, utilisez les commandes <span class="cmd"><b>show</b></span> adéquates pour vérifier le fonctionnement du périphérique. Comme le montre la figure, vous pouvez entrer la commande <span class="cmd"><b>show running-config</b></span> pour afficher le contenu d’un fichier de configuration en cours.</p> <p>Après avoir vérifié que les modifications sont correctes, utilisez la commande <span class="cmd"><b>copy running-config startup-config</b></span> à l’invite du mode d’exécution privilégié. L’exemple suivant montre cette commande :</p> <span class="cmd"><p>Switch#<b>copy running-config startup-config</b></p></span> <p>Une fois la commande exécutée, le fichier de configuration en cours remplace le fichier de configuration initiale.</p> <p><b>Restauration de la configuration d’origine du périphérique</b></p> <p>Si les modifications apportées à la configuration en cours n’ont pas l’effet souhaité, il peut s’avérer nécessaire de revenir à la configuration antérieure du périphérique. Dans l’hypothèse où vous n’avez pas recouvert la configuration initiale avec les modifications, vous pouvez remplacer la configuration en cours par la configuration initiale. Le meilleur moyen de le faire consiste à redémarrer le périphérique en entrant la commande <span class="cmd"><b>reload</b></span> en mode d’exécution privilégié. </p> <p>Quand il reçoit une commande de rechargement, IOS vérifie si la configuration en cours comporte des modifications qui n’ont pas été enregistrées dans la configuration initiale. Dans l’affirmative, IOS affiche une invite vous demandant s’il doit enregistrer les modifications. Pour abandonner les modifications, entrez <span class="cmd"><b>n</b></span> ou <span class="cmd"><b>no</b></span>.</p> <p>Une autre invite apparaît pour vous permettre de confirmer le rechargement. En guise de confirmation, appuyez sur la touche <b>Entrée</b>. Toute autre touche annule la commande.</p> <p>Exemple :</p> <span class="cmd"><p>Router#<b>reload</b></p></span> <span class="cmd"><p>System configuration has been modified. Save? [yes/no]: n</p></span> <span class="cmd"><p>Proceed with reload? [confirm]</p></span>  <span class="cmd"><p>*Apr 13 01:34:15.758: %SYS-5-RELOAD: Reload requested by console. Reload Reason:</p></span> <span class="cmd"><p>Reload Command.</p></span> <span class="cmd"><p>System Bootstrap, Version 12.3(8r)T8, RELEASE SOFTWARE (fc1)</p></span> <span class="cmd"><p>Technical Support: http://www.cisco.com/techsupport</p></span> <span class="cmd"><p>Copyright (c) 2009 by cisco Systems, Inc.</p></span> <span class="cmd"><p>PLD version 0x10</p></span> <span class="cmd"><p>GIO ASIC version 0x127</p></span> <span class="cmd"><p>c1841 processor with 131072 Kbytes of main memory</p></span> <span class="cmd"><p>Main memory is configured to 64 bit mode with parity disabled</p></span></content-text>
</page>
<page type="OneColumn" id="tl0611020302">
<content-media type="InteractiveGraphicRollovers" id="cm7628217113"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020300/tl0611020302/cm7628217113.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611020000/tl0611020300/tl0611020302/cm7628217113text.xml"/></content-media>
<content-text><p><b>Sauvegarde des configurations hors connexion</b></p> <p>Les fichiers de configuration doivent être stockés en tant que fichiers de sauvegarde pour parer à toute éventualité. Les fichiers de configuration peuvent être stockés sur un serveur TFTP (Trivial File Transfer Protocol) ou sur un support conservé en lieu sûr, par exemple un CD-ROM, une clé USB ou une disquette. Vous devez également inclure un fichier de configuration dans la documentation du réseau. </p> <p><b>Sauvegarde de la configuration sur un serveur TFTP</b></p> <p>Comme le montre la figure, vous avez la possibilité d’enregistrer la configuration en cours ou la configuration initiale sur un serveur TFTP. Utilisez la commande <span class="cmd"><b>copy running-config tftp</b></span> ou <span class="cmd"><b>copy startup-config tftp</b></span> en respectant les étapes suivantes :</p> <p>1. Entrez la commande <span class="cmd"><b>copy running-config tftp</b></span>.</p> <p>2. Entrez l’adresse IP de l’hôte sur lequel le fichier de configuration sera stocké.</p> <p>3. Entrez le nom à attribuer au fichier de configuration.</p> <p>4. Appuyez sur Entrée pour confirmer chaque choix.</p> <p><b>La figure propose un exemple illustrant cette procédure.</b></p> <p><b>Suppression de toutes les configurations</b></p> <p>Si des modifications indésirables sont enregistrées dans la configuration initiale, il peut s’avérer nécessaire de supprimer toutes les configurations. Pour ce faire, vous devez effacer la configuration initiale et redémarrer le périphérique.</p> <p>La commande <span class="cmd"><b>erase startup-config </b></span> permet de supprimer la configuration initiale. </p> <p>Pour supprimer le fichier de configuration initiale, entrez <span class="cmd"><b>erase NVRAM:startup-config</b> </span> ou <span class="cmd"><b>erase startup-config </b></span> à l’invite du mode d’exécution privilégié : </p> <span class="cmd"><p>Router#<b>erase startup-config</b></p></span> <p>Quand vous soumettez cette commande, le routeur vous demande confirmation :</p> <p><b>Erasing the nvram filesystem will remove all configuration files! Continue? [confirm]</b></p> <p><b>Confirm</b> est la réponse par défaut. Pour confirmer la suppression du fichier de configuration initiale, appuyez sur la touche <b>Entrée</b>. Toute autre touche annule la commande.</p> <p><b>Attention : n’utilisez pas la commande erase à la légère. En effet, erase permet de supprimer tous les fichiers du périphérique. Une utilisation incorrecte peut donc aboutir à effacer IOS lui-même ou un autre fichier important.</b></p> <p>Après avoir supprimé le fichier de configuration initiale de la mémoire NVRAM, rechargez le périphérique pour supprimer le fichier de configuration en cours de la mémoire vive. Le périphérique charge alors la configuration initiale par défaut et l’adopte comme configuration en cours.</p></content-text>
</page>
<page type="OneColumn" id="tl0611020303">
<content-media type="StaticGraphic" id="cm8976682535"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020300/tl0611020303/cm8976682535.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611020000/tl0611020300/tl0611020303/cm8976682535text.xml"/></content-media>
<content-text><p><b>Sauvegarde des configurations par capture de texte (HyperTerminal)</b></p> <p>Vous pouvez enregistrer/archiver les fichiers de configuration dans un document texte. Cette procédure permet de s’assurer qu’une copie de travail des fichiers de configuration est disponible en vue d’une modification ou une réutilisation ultérieure.</p> <p>Dans HyperTerminal, effectuez les étapes suivantes :</p> <p>1. Dans le menu <b>Transfert</b>, cliquez sur <b>Capture de texte</b>.</p> <p>2. Choisissez l’emplacement. </p> <p>3. Cliquez sur <b>Démarrer</b> pour commencer à capturer le texte. </p> <p>4. Après avoir démarré la capture, exécutez la commande <span class="cmd"><b>show running-config</b></span> ou <span class="cmd"><b>show startup-config</b></span> à l’invite du mode d’exécution privilégié. Le texte affiché dans la fenêtre du terminal est alors placé dans le fichier choisi.</p> <p>5. Une fois les configurations affichées, <b>arrêtez</b> la capture.</p> <p>6. Affichez le contenu du fichier de sortie pour vérifier qu’il s’agit bien des informations voulues.</p> <p><b>La figure montre des exemples de configuration de description d’interface.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0611020304">
<content-media type="StaticGraphic" id="cm2705718411"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020300/tl0611020304/cm2705718411.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611020000/tl0611020300/tl0611020304/cm2705718411text.xml"/></content-media>
<content-text><p><b>Sauvegarde des configurations par capture de texte (TeraTerm)</b></p> <p>Vous pouvez aussi utiliser TeraTerm pour enregistrer/archiver les fichiers de configuration dans un document texte. </p> <p>Comme le montre la figure, la procédure est la suivante :</p> <p>1. Dans le menu File, cliquez sur <b>Log</b>.</p> <p>2. Choisissez l’emplacement. TeraTerm commence à capturer le texte. </p> <p>3. Après avoir démarré la capture, exécutez la commande <span class="cmd"><b>show running-config</b></span> ou <span class="cmd"><b>show startup-config</b></span> à l’invite du mode d’exécution privilégié. Le texte affiché dans la fenêtre du terminal est alors placé dans le fichier choisi.</p> <p>4. Une fois la capture terminée, sélectionnez <b>Close</b> dans la fenêtre TeraTerm: Log.</p> <p>5. Affichez le contenu du fichier de sortie pour vérifier qu’il s’agit bien des informations voulues.</p> <p><b>Restauration des configurations sauvegardées dans un document texte</b></p> <p>Il est possible de copier un fichier de configuration à partir d’un support de stockage vers un périphérique. IOS considère chaque ligne du texte de configuration copié dans le terminal comme une commande et l’exécute. Il est donc nécessaire de modifier le fichier pour s’assurer que les mots de passe chiffrés apparaissent en clair et supprimer le texte ne correspondant pas à des commandes, par exemple « --More-- » et les messages IOS. Ce processus est expliqué dans les travaux pratiques. </p> <p>En outre, dans l’environnement ILC, le périphérique doit être placé en mode de configuration globale pour recevoir les commandes du fichier texte copié.</p> <p>Avec HyperTerminal, la procédure est la suivante :</p> <p>1. Recherchez le fichier à copier sur le périphérique et ouvrez le document texte.</p> <p>2. Copiez l’intégralité du texte.</p> <p>3. Dans le menu Modifier, cliquez sur <b>Coller vers l’hôte</b>.</p> <p>Avec TeraTerm, la procédure est la suivante :</p> <p>1. Dans le menu <b>File</b>, cliquez sur <b>Send</b>.</p> <p>2. Recherchez le fichier à copier sur le périphérique et cliquez sur <b>Open</b>.</p> <p>3. TeraTerm colle alors le fichier dans le périphérique.</p> <p>Le texte contenu dans le fichier est appliqué sous forme de commandes dans l’environnement ILC et devient la configuration en cours du périphérique. Cette méthode s’avère pratique pour configurer manuellement un routeur.</p></content-text>
</page>
<page type="OneColumn" id="tl0611020305">
<content-media type="ActivityPKA" id="cm1463931773"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020300/tl0611020305/cm1463931773/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611020000/tl0611020300/tl0611020305/cm1463931773/icontext.xml"/></content-media>
<content-text><p>Dans cet exercice, vous allez utiliser Packet Tracer pour vous entraîner à gérer les configurations IOS.</p><p><b>Cliquez sur l’icône Packet Tracer pour lancer l’exercice Packet Tracer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0611020400">
<title><content-text>Configuration des interfaces</content-text></title>
<page type="OneColumn" id="tl0611020401">
<content-media type="StaticGraphic" id="cm8205484935"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020400/tl0611020401/cm8205484935.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611020000/tl0611020400/tl0611020401/cm8205484935text.xml"/></content-media>
<content-text><p>Dans ce chapitre, nous avons jusqu’ici traité des commandes IOS de caractère générique, utilisables pour tous les périphériques IOS. Il existe toutefois des configurations spécifiques à un type de périphérique, par exemple la configuration des interfaces d’un routeur. </p> <p>La plupart des périphériques réseau intermédiaires sont dotés d’une adresse IP utilisée pour les gérer. Certains périphériques, par exemple les commutateurs et les points d’accès sans fil, peuvent fonctionner sans posséder d’adresse IP.</p> <p>En revanche, comme le but d’un routeur est d’interconnecter différents réseaux, chaque interface d’un routeur possède sa propre adresse IPv4 unique. L’adresse attribuée à chaque interface existe dans un réseau séparé dédié à l’interconnexion de routeurs. </p> <p>Vous pouvez configurer de nombreux paramètres sur les interfaces des routeurs. Nous nous limiterons à expliquer les commandes d’interface fondamentales qui sont résumées dans la figure.</p></content-text>
</page>
<page type="OneColumn" id="tl0611020402">
<content-media type="InteractiveGraphicRollovers" id="cm8153561446"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020400/tl0611020402/cm8153561446.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611020000/tl0611020400/tl0611020402/cm8153561446text.xml"/></content-media>
<content-text><p><b>Configuration des interfaces Ethernet d’un routeur</b></p> <p>Les interfaces Ethernet d’un routeur servent de passerelles pour les périphériques finaux sur les réseaux locaux connectés directement au routeur.</p> <p>Chaque interface Ethernet doit avoir une adresse IP et un masque de sous-réseau pour router les paquets IP. </p> <p>Pour configurer une interface Ethernet, procédez comme suit : </p> <p>1. Passez en mode de configuration globale. </p> <p>2. Passer en mode de configuration d’interface. </p> <p>3. Spécifiez l’adresse et le masque de sous-réseau de l’interface. </p> <p>4. Activez l’interface. </p> <p>Comme le montre la figure, configurez l’adresse IP de l’interface Ethernet à l’aide des commandes suivantes :</p>  <span class="cmd"><p>Router(config)#<b>interface FastEthernet 0/0 </b></p></span> <span class="cmd"><p>Router(config-if)#<b>ip address </b><i>adresse_ip masque_réseau</i> </p></span> <span class="cmd"><p>Router(config-if)#<b>no shutdown</b></p></span> <p><b>Activation de l’interface</b></p> <p>Par défaut, les interfaces sont désactivées. Pour activer une interface, entrez la commande <span class="cmd"><b>no shutdown</b></span> à partir du mode de configuration d’interface. Si vous devez désactiver une interface pour des opérations de maintenance ou de dépannage, utilisez la commande <span class="cmd"><b>shutdown</b></span>.</p> <p><b>Configuration des interfaces série d’un routeur</b></p> <p>Les interfaces série permettent de connecter des réseaux étendus (WAN) à des routeurs sur un site distant ou chez un fournisseur de services Internet.</p> <p>Pour configurer une interface série, procédez comme suit :</p> <p>1. Passez en mode de configuration globale. </p> <p>2. Passez en mode d’interface. </p> <p>3. Spécifiez l’adresse et le masque de sous-réseau de l’interface. </p> <p>4. Si un câble ETCD est connecté, définissez la fréquence d’horloge. Ignorez cette étape si c’est un câble ETTD qui est connecté. </p> <p>5. Activez l’interface. </p> <p>Chaque interface série connectée doit avoir une adresse IP et un masque de sous-réseau pour router les paquets IP. </p> <p>Configurez l’adresse IP à l’aide des commandes suivantes :</p>  <span class="cmd"><p>Router(config)#<b>interface Serial 0/0/0 </b></p></span> <span class="cmd"><p>Router(config-if)#<b>ip address </b><i>adresse_ip masque_réseau</i></p></span> <p>Les interfaces série nécessitent un signal d’horloge pour contrôler la synchronisation des communications. Dans la plupart des environnements, un périphérique ETCD tel qu’une unité CSU/DSU fournit cette synchronisation. Par défaut, les routeurs Cisco sont des périphériques ETTD, mais ils peuvent être configurés en tant que périphériques ETCD. </p> <p>Sur les liaisons série qui sont directement interconnectées, comme dans notre environnement de travaux pratiques, un des côtés doit fonctionner comme un périphérique ETCD et fournir un signal de synchronisation. La commande <span class="cmd"><b>clock rate</b></span> permet d’activer l’horloge et de spécifier sa fréquence. Il se peut que certains débits ne soient pas disponibles sur des interfaces série. Ce paramètre dépend de la capacité de chaque interface.</p> <p>Dans les travaux pratiques, si vous devez définir une fréquence d’horloge sur une interface identifiée en tant que périphérique ETCD, utilisez la valeur 56000. </p> <p>Comme le montre la figure, vous utilisez les commandes suivantes pour définir une fréquence d’horloge et activer une interface série :</p> <span class="cmd"><p>Router(config)#<b>interface Serial 0/0/0 </b> </p></span> <span class="cmd"><p>Router(config-if)#<b>clock rate 56000</b> </p></span> <span class="cmd"><p>Router(config-if)#<b>no shutdown</b></p></span> <p>Après avoir modifié la configuration du routeur, n’oubliez pas d’utiliser les commandes <span class="cmd"><b>show</b></span> pour vérifier l’exactitude des modifications, puis enregistrez la configuration modifiée en tant que configuration initiale.</p></content-text>
</page>
<page type="OneColumn" id="tl0611020403">
<content-media type="StaticGraphic" id="cm4512029802"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020400/tl0611020403/cm4512029802.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611020000/tl0611020400/tl0611020403/cm4512029802text.xml"/></content-media>
<content-text><p>De même que le nom d’hôte facilite l’identification du périphérique sur un réseau, une description d’interface indique le but de l’interface. Une description de la fonction d’une interface ou de l’endroit où elle est connectée doit donc faire partie de la configuration de toute interface. En particulier, cette description peut s’avérer utile pour le dépannage.</p> <p>La description de l’interface apparaîtra dans les résultats des commandes <span class="cmd"><b>show startup-config</b>, <b>show running-config</b> et <b>show interfaces</b></span>.</p> <p>Par exemple, la description suivante fournit de précieuses informations sur le rôle de l’interface : </p> <p><b>Cette interface est la passerelle du réseau local administratif. </b></p> <p>Une description peut vous aider à déterminer les périphériques ou les emplacements connectés à l’interface. Voici un autre exemple : </p> <p><b>L’interface F0/0 est connectée au commutateur principal dans le bâtiment administratif. </b></p> <p>Lorsque les personnels du support technique sont en mesure d’identifier facilement le but d’une interface ou du périphérique connecté, il leur est plus facile de comprendre l’étendue d’un problème, ce qui peut accélérer sa résolution. </p> <p>Il est également possible d’inclure des informations sur les circuits et les contacts dans les descriptions des interfaces. La description suivante d’une interface série fournit les informations dont l’administrateur réseau peut avoir besoin pour décider s’il convient de tester un circuit WAN. Cette description indique l’endroit où le circuit se termine, l’ID du circuit et le numéro de téléphone du fournisseur du circuit :</p> <p><b>FR à GAD1 ID circuit : AA.HCGN.556460 DLCI 511 - Tel. support : 142350919</b></p> <p>Pour créer une description, utilisez la commande <span class="cmd"><b>description</b></span>. Cet exemple montre les commandes utilisées pour créer la description d’une interface FastEthernet :</p> <span class="cmd"><p>HQ-switch1#<b>configure terminal </b></p></span> <span class="cmd"><p>HQ-switch1(config)#<b>interface fa0/1 </b></p></span> <span class="cmd"><p>HQ-switch1(config-if)#<b>description </b><b>Connects to main switch in Building A</b></p></span> <p>Après avoir associé une description à une interface, utilisez la commande <span class="cmd"><b>show interfaces</b></span> pour vérifier si cette description est correcte.</p> <p>Pour un exemple, consultez la figure.</p></content-text>
</page>
<page type="OneColumn" id="tl0611020404">
<content-media type="StaticGraphic" id="cm7729476697"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020400/tl0611020404/cm7729476697.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611020000/tl0611020400/tl0611020404/cm7729476697text.xml"/></content-media>
<content-text><p><b>Configuration de l’interface d’un commutateur</b></p> <p>Un commutateur de réseau local est un périphérique intermédiaire qui interconnecte des segments d’un réseau. Pour cette raison, les interfaces physiques du commutateur ne possèdent pas d’adresses IP. À la différence des interfaces physiques d’un routeur, qui sont connectées à différents réseaux, une interface physique de commutateur connecte des équipements au sein d’un même réseau. </p> <p>En outre, les interfaces physiques d’un commutateur sont activées par défaut. Comme le montre la figure Commutateur 1, vous pouvez associer une description à une interface physique de commutateur, mais il n’est pas nécessaire de l’activer.</p> <p>Pour pouvoir gérer un commutateur, nous lui affectons une adresse. En effet, un commutateur doté d’une adresse IP se comporte comme un périphérique hôte. Une fois l’adresse attribuée, il est possible d’accéder au commutateur avec Telnet, SSH ou les services Web. </p> <p>L’adresse d’un commutateur est attribuée à une interface virtuelle représentée comme une interface de réseau local virtuel (VLAN). Il s’agit le plus souvent de l’interface VLAN 1. Dans la figure Commutateur 2, nous attribuons une adresse IP à l’interface VLAN 1. De même que les interfaces physiques d’un routeur, cette interface virtuelle doit être activée avec la commande <span class="cmd"><b>no shutdown</b></span>. </p> <p>Comme tout autre hôte, le commutateur ne peut communiquer en dehors du réseau local que s’il a préalablement été configuré avec une adresse de passerelle. Comme le montre la figure Commutateur 2, nous définissons cette passerelle à l’aide de la commande <span class="cmd"><b>ip default-gateway</b></span>.</p></content-text>
</page>
<page type="OneColumn" id="tl0611020405">
<content-media type="ActivityPKA" id="cm2193967493"><title><content-text></content-text></title><media ref="tl0611000000/tl0611020000/tl0611020400/tl0611020405/cm2193967493/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611020000/tl0611020400/tl0611020405/cm2193967493/icontext.xml"/></content-media>
<content-text><p>Dans cet exercice, vous allez utiliser Packet Tracer pour vous entraîner à configurer des interfaces avec des commandes IOS.</p><p><b>Cliquez sur l’icône Packet Tracer pour lancer l’exercice Packet Tracer.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0611030000">
<title><content-text>Vérification de la connectivité</content-text></title>
<topic type="" id="tl0611030100">
<title><content-text>Test de la pile de protocoles</content-text></title>
<page type="OneColumn" id="tl0611030101">
<content-media type="StaticGraphic" id="cm1064682890"><title><content-text></content-text></title><media ref="tl0611000000/tl0611030000/tl0611030100/tl0611030101/cm1064682890.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611030000/tl0611030100/tl0611030101/cm1064682890text.xml"/></content-media>
<content-text><p><b>Commande ping</b></p> <p>L’utilisation de la commande <span class="cmd"><b>ping</b></span> constitue un moyen efficace de tester la connectivité. Cette vérification est souvent appelée <i>test de la pile de protocoles</i> parce que la commande <span class="cmd"><b>ping</b></span> passe de la couche 3 du modèle OSI à la couche 2, puis à la couche 1. La commande ping emploie le protocole ICMP pour vérifier la connectivité. </p> <p><b>Utilisation de la commande </b><span class="cmd"><b>ping</b></span><b> dans une série de tests</b></p> <p>Dans cette section, nous allons utiliser la commande IOS de routeur <span class="cmd"><b>ping</b></span> dans une série d’étapes préalablement définies pour établir des connexions valides, d’abord au périphérique individuel, puis au réseau local et, finalement, à des réseaux distants. L’utilisation d’une série de commandes <span class="cmd"><b>ping</b></span> dans cet ordre permet d’isoler les problèmes. Bien qu’elle ne permette pas toujours de diagnostiquer précisément la nature du problème, la commande <span class="cmd"><b>ping</b></span> peut contribuer à l’identification de la cause du problème, ce qui constitue une première étape importante dans le dépannage d’un réseau.</p> <p>La commande <span class="cmd"><b>ping</b></span> fournit une méthode pour vérifier la pile de protocoles et la configuration des adresses IPv4 sur un hôte. D’autres outils susceptibles de fournir davantage d’informations que <span class="cmd"><b>ping</b></span>, par exemple Telnet ou les commandes de trace, seront expliqués plus en détail plus loin dans ce chapitre. </p> <p><b>Indicateurs IOS de la commande ping</b></p> <p>Une commande ping génère une indication pour chaque écho ICMP envoyé. Les indicateurs employés le plus souvent par IOS sont les suivants :</p> <ul><li> <b>!</b> - indique la réception d’une réponse d’écho ICMP.</li> <li> <b>.</b> - indique le dépassement du délai d’attente d’une réponse.</li> <li> <b>U</b> - indique la réception d’un message ICMP d’inaccessibilité. </li> </ul> <p>Le point d’exclamation (<b>!</b>) indique que la commande ping a réussi et vérifié la connectivité de la couche 3.</p> <p>Le point (<b>.</b>) peut dénoter des problèmes dans la communication. Il peut par exemple indiquer qu’un problème de connectivité a été rencontré sur le chemin parcouru. Il peut aussi signifier qu’un routeur situé sur le chemin ne possède pas de route vers la destination et n’a pas envoyé de message ICMP de destination inaccessible. Enfin, il indique parfois que la commande ping a été tout simplement bloquée par la sécurité d’un périphérique. </p> <p>La lettre <b>U</b> indique qu’un routeur situé sur le chemin et ne possédant pas de route vers l’adresse de destination a répondu par un message ICMP d’inaccessibilité.</p> <p><b>Test de la boucle</b></p> <p>En guise de première étape dans la série de tests, vous utilisez la commande <span class="cmd"><b>ping</b></span> pour vérifier la configuration IP interne sur l’hôte local. Comme vous le savez, ce test s’effectue en exécutant la commande <span class="cmd"><b>ping</b></span> sur une adresse réservée appelée <i>adresse de bouclage</i> (127.0.0.1). Ceci permet de vérifier le bon fonctionnement de la pile de protocoles de la couche réseau à la couche physique (et en sens inverse) sans pour autant envoyer de signal sur les supports. </p> <p>Les commandes <b>ping</b> sont entrées sur une ligne de commande.</p> <p>La syntaxe de la commande de bouclage <span class="cmd"><b>ping</b></span> est la suivante :</p> <span class="cmd"><p>C:\><b>ping 127.0.0.1</b></p></span> <p>La réponse que vous obtenez présente l’aspect suivant : </p> <span class="cmd"><p>Reply from 127.0.0.1: bytes=32 time&lt;1ms TTL=128 </p></span> <span class="cmd"><p>Reply from 127.0.0.1: bytes=32 time&lt;1ms TTL=128 </p></span> <span class="cmd"><p>Reply from 127.0.0.1: bytes=32 time&lt;1ms TTL=128 </p></span> <span class="cmd"><p>Reply from 127.0.0.1: bytes=32 time&lt;1ms TTL=128 </p></span>  <span class="cmd"><p>Ping statistics for 127.0.0.1: </p></span> <span class="cmd"><p>Packets: Sent = 4, Received = 4, Lost = 0 (0% loss), </p></span> <span class="cmd"><p>Approximate round trip times in milli-seconds: </p></span> <span class="cmd"><p>Minimum = 0ms, Maximum = 0ms, Average = 0ms</p></span> <p>Le résultat indique que quatre paquets de test comptant chacun 32 octets ont été envoyés et que l’hôte 127.0.0.1 les a renvoyés en moins d’une milliseconde. TTL est l’abréviation de Time to Live (durée de vie) et définit le nombre de sauts que le paquet ping peut encore effectuer avant d’être abandonné.</p></content-text>
</page>
<page type="OneColumn" id="tl0611030102">
<content-media type="ActivityPKA" id="cm6316299012"><title><content-text></content-text></title><media ref="tl0611000000/tl0611030000/tl0611030100/tl0611030102/cm6316299012/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611030000/tl0611030100/tl0611030102/cm6316299012/icontext.xml"/></content-media>
<content-text><p>Dans cet exercice, vous allez utiliser la commande IOS <span class="cmd"><b>ping</b></span> dans Packet Tracer pour déterminer si une connexion IP se trouve dans un état opérationnel.</p><p><b>Cliquez sur l’icône Packet Tracer pour lancer l’exercice Packet Tracer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0611030200">
<title><content-text>Test de l’affectation des interfaces</content-text></title>
<page type="OneColumn" id="tl0611030201">
<content-media type="InteractiveGraphicRollovers" id="cm4590240323"><title><content-text></content-text></title><media ref="tl0611000000/tl0611030000/tl0611030200/tl0611030201/cm4590240323.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611030000/tl0611030200/tl0611030201/cm4590240323text.xml"/></content-media>
<content-text><p>Après avoir appris à utiliser des commandes et des utilitaires pour vérifier la configuration d’un hôte, vous allez maintenant aborder des commandes permettant de vérifier les interfaces des périphériques intermédiaires. IOS fournit plusieurs commandes pour vérifier le fonctionnement des interfaces de routeur et de commutateur.</p> <p><b>Vérification des interfaces de routeur</b></p> <p>Pour vérifier les interfaces d’un routeur, la commande <span class="cmd"><b>show ip interface brief</b></span> est le plus souvent préférée à la commande <span class="cmd"><b>show ip interface</b></span> car ses résultats sont plus abrégés. En effet, cette commande fournit un résumé des principales informations pour toutes les interfaces.</p> <p>Comme le montre la figure Routeur 1, ces résultats présentent toutes les interfaces du routeur, l’adresse IP qui leur est éventuellement affectée et leur état opérationnel. </p> <p>Sur la ligne consacrée à l’interface FastEthernet0/0, vous pouvez voir que son adresse IP est 192.168.254.254. L’état de la couche 1 et de la couche 2 de cette interface est indiqué dans les deux dernières colonnes. La mention <b>up</b> dans la colonne Status montre que cette interface est opérationnelle à la couche 1. Enfin, la mention <b>up</b> dans la colonne Protocol indique que le protocole de couche 2 est lui aussi opérationnel.</p> <p>Dans la même figure, vous pouvez remarquer que l’interface Serial0/0/1 n’a pas été activée, puisque son état indiqué dans la colonne Status est <b>administratively down</b>. Il est possible d’activer cette interface avec la commande <span class="cmd"><b>no shutdown</b></span>.</p> <p><b>Test de la connectivité d’un routeur</b></p> <p>De même que dans le cas d’un périphérique final, vous pouvez vérifier la connectivité de couche 3 du routeur avec les commandes <span class="cmd"><b>ping</b></span> et <span class="cmd"><b>traceroute</b></span>. La figure Routeur 1 fournit à titre d’illustration les résultats d’une commande <span class="cmd"><b>ping</b></span> vers un hôte sur le réseau local et d’une commande de trace vers un hôte distant à travers le réseau étendu.</p> <p><b>Vérification des interfaces de commutateur</b></p> <p>La figure Commutateur 1 illustre l’emploi de la commande <span class="cmd"><b>show ip interface brief</b></span> pour vérifier l’état des interfaces de commutateur. Comme vous le savez, l’adresse IP du commutateur est appliquée à une interface virtuelle (VLAN). En l’occurrence, l’adresse IP 192.168.254.250 a été affectée à l’interface Vlan1. En outre, cette interface a été activée et elle est opérationnelle.</p> <p>Sur la ligne consacrée à l’interface FastEthernet0/1, vous pouvez voir que cette interface est inactive. Ceci indique qu’aucun périphérique n’est connecté à l’interface ou que l’interface réseau du périphérique qui est connecté n’est pas opérationnelle. </p> <p>Au contraire, les résultats affichés pour FastEthernet0/2 et FastEthernet0/3 montrent que ces interfaces sont opérationnelles. Cet état est indiqué par la mention <b>up</b> dans les deux colonnes Status et Protocol.</p> <p><b>Test de la connectivité d’un commutateur</b></p> <p>Comme les autres hôtes, le commutateur peut vérifier sa connectivité de couche 3 avec les commandes <span class="cmd"><b>ping</b></span> et <span class="cmd"><b>traceroute</b></span>. La figure Commutateur 1 montre également les résultats d’une requête ping envoyée à l’hôte local et d’une requête traceroute envoyée à un hôte distant.</p> <p>Pour interpréter ces résultats, gardez présent à l’esprit qu’un commutateur n’a pas besoin d’adresse IP pour remplir sa fonction de transmission de trames et qu’il requiert une passerelle pour communiquer en dehors de son réseau local. </p></content-text>
</page>
<page type="OneColumn" id="tl0611030202">
<content-media type="StaticGraphic" id="cm8686920482"><title><content-text></content-text></title><media ref="tl0611000000/tl0611030000/tl0611030200/tl0611030202/cm8686920482.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611030000/tl0611030200/tl0611030202/cm8686920482text.xml"/></content-media>
<content-text><p>L’étape suivante dans la série de tests consiste à vérifier que la carte réseau dispose de l’adresse IPv4 et que la carte réseau est prête à transmettre des signaux à travers les supports.</p> <p>Dans l’exemple de la figure, l’adresse IPv4 affectée à une carte réseau est <b>10.0.0.5</b>.</p> <p>Pour vérifier cette adresse IPv4, procédez comme suit :</p> <p>Sur la ligne de commande, entrez : </p> <span class="cmd"><p>C:\><b>ping</b> 10.0.0.5 </p></span>  <span class="cmd"><p>Si le test réussit, la réponse présente l’aspect <br>suivant :</br></p></span>  <span class="cmd"><p>Reply from 10.0.0.5: bytes=32 time&lt;1ms TTL=128 </p></span> <span class="cmd"><p>Reply from 10.0.0.5: bytes=32 time&lt;1ms TTL=128 </p></span> <span class="cmd"><p>Reply from 10.0.0.5: bytes=32 time&lt;1ms TTL=128 </p></span> <span class="cmd"><p>Reply from 10.0.0.5: bytes=32 time&lt;1ms TTL=128 </p></span>  <span class="cmd"><p>Ping statistics for 10.0.0.5: </p></span> <span class="cmd"><p>Packets: Sent = 4, Received = 4, Lost = 0 (0% loss), </p></span>  <span class="cmd"><p>Approximate round trip times in milli-seconds: </p></span> <span class="cmd"><p>Minimum = 0ms, Maximum = 0ms, Average = 0ms</p></span> <p>Ce test vérifie que le pilote de la carte réseau et son matériel fonctionnent correctement. Il vérifie également que l’adresse IP est liée convenablement à la carte réseau, sans pour autant envoyer de signal sur les supports.</p> <p>Si ce test échoue, il est probable que des problèmes liés au matériel et au pilote logiciel de la carte réseau ont été rencontrés, si bien que vous devrez peut-être réinstaller la carte, le pilote ou les deux. Cette procédure dépend du type de l’hôte et de son système d’exploitation.</p></content-text>
</page>
<page type="OneColumn" id="tl0611030203">
<content-media type="ActivityPKA" id="cm1679242314"><title><content-text></content-text></title><media ref="tl0611000000/tl0611030000/tl0611030200/tl0611030203/cm1679242314/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611030000/tl0611030200/tl0611030203/cm1679242314/icontext.xml"/></content-media>
<content-text><p>Dans cet exercice, vous allez utiliser la commande <span class="cmd"><b>ping </b></span> dans Packet Tracer pour tester des réponses d’interface.</p><p><b>Cliquez sur l’icône Packet Tracer pour lancer l’exercice Packet Tracer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0611030300">
<title><content-text>Test du réseau local</content-text></title>
<page type="OneColumn" id="tl0611030301">
<content-media type="StaticGraphic" id="cm5296283952"><title><content-text></content-text></title><media ref="tl0611000000/tl0611030000/tl0611030300/tl0611030301/cm5296283952.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611030000/tl0611030300/tl0611030301/cm5296283952text.xml"/></content-media>
<content-text><p>L’étape suivante de la série de tests consiste à vérifier l’état des hôtes sur le réseau local.</p> <p>Le succès d’une requête ping envoyée à un hôte distant permet de s’assurer que l’hôte local (le routeur en l’occurrence) et l’hôte distant sont configurés correctement. À l’aide de la commande ping, vous devez donc vérifier un par un tous les hôtes sur le réseau local. </p> <p><b>Pour un exemple, consultez la figure.</b></p> <p>Si un hôte répond par le message Destination Unreachable (destination inaccessible), prenez note de son adresse et continuez à envoyer des requêtes ping aux autres hôtes sur le réseau local. </p> <p>Vous pouvez également recevoir le message d’échec Request Timed Out (dépassement du délai d’attente de la réponse). Ce message indique qu’aucune réponse n’a été fournie à la requête ping dans le délai imparti, ce qui dénote peut-être un problème au niveau de la latence du réseau. </p> <p><b>Extensions de la commande ping</b></p> <p>Pour analyser ce problème, IOS met à votre disposition un mode « étendu » de la commande ping. Vous entrez dans ce mode en tapant <span class="cmd"><b>ping</b></span> à l’invite du mode d’exécution privilégié sans spécifier l’adresse IP de destination. Une série d’invites apparaît alors, comme le montre l’exemple suivant. Il suffit d’appuyer sur Entrée pour accepter les valeurs par défaut indiquées.</p> <span class="cmd"><p>Router#<b>ping</b></p></span> <span class="cmd"><p>Protocol [ip]: </p></span> <span class="cmd"><p>Target IP address:10.0.0.1</p></span> <span class="cmd"><p>Repeat count [5]: </p></span> <span class="cmd"><p>Datagram size [100]: </p></span> <span class="cmd"><p>Timeout in seconds [2]:5</p></span> <span class="cmd"><p>Extended commands [n]: n</p></span> <p>Vous pouvez détecter d’éventuels problèmes de latence en entrant à l’invite Timeout in seconds [2]: un délai d’attente plus long que celui utilisé par défaut (2 s), par exemple 5. Si l’allongement du délai d’attente de la requête ping permet d’obtenir une réponse, vous pouvez en conclure qu’une connexion existe entre les hôtes, mais que la latence réseau risque de poser problème.</p> <p>Notez que si vous entrez « <span class="cmd"><b>y</b></span> » à l’invite « <span class="cmd">Extended commands</span> », vous accédez à d’autres options facilitant le dépannage et que vous aurez l’occasion d’explorer dans les travaux pratiques et dans les exercices Packet Tracer.</p></content-text>
</page>
<page type="OneColumn" id="tl0611030302">
<content-media type="ActivityPKA" id="cm1548158095"><title><content-text></content-text></title><media ref="tl0611000000/tl0611030000/tl0611030300/tl0611030302/cm1548158095/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611030000/tl0611030300/tl0611030302/cm1548158095/icontext.xml"/></content-media>
<content-text><p>Dans cet exercice, nous allons utiliser la commande <span class="cmd"><b>ping</b></span> dans Packet Tracer pour déterminer si un routeur peut communiquer activement à travers le réseau local.</p><p><b>Cliquez sur l’icône Packet Tracer pour lancer l’exercice Packet Tracer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0611030400">
<title><content-text>Test de la passerelle et de la connectivité à distance</content-text></title>
<page type="OneColumn" id="tl0611030401">
<content-media type="StaticGraphic" id="cm7728459741"><title><content-text></content-text></title><media ref="tl0611000000/tl0611030000/tl0611030400/tl0611030401/cm7728459741.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611030000/tl0611030400/tl0611030401/cm7728459741text.xml"/></content-media>
<content-text><p>L’étape suivante dans la série de tests consiste à utiliser la commande <span class="cmd"><b>ping</b></span> pour vérifier qu’un hôte local peut se connecter avec une adresse de passerelle. Ceci est extrêmement important parce que la passerelle est la porte d’entrée et de sortie de l’hôte pour le réseau étendu. Si la commande <span class="cmd"><b>ping</b></span> réussit, la connectivité à la passerelle est vérifiée.</p> <p>Pour commencer, choisissez une station comme périphérique source. En l’occurrence, nous choisissons 10.0.0.1, comme le montre la figure. Utilisez la commande <span class="cmd"><b>ping</b></span> pour atteindre l’adresse de la passerelle, à savoir 10.0.0.254. </p> <span class="cmd"><p>c:\><b>ping 10.0.0.254</b></p></span> <p>L’adresse IPv4 de la passerelle doit figurer dans la documentation du réseau. Si tel n’est pas le cas, utilisez la commande <span class="cmd"><b>ipconfig</b></span> pour la découvrir. </p> <p>Si le test de la passerelle échoue, revenez à l’étape précédente de la série de tests et vérifiez un autre hôte dans le réseau local pour vous assurer que le problème n’est pas lié à l’hôte source. Ensuite, vérifiez l’adresse de la passerelle avec l’administrateur réseau pour être sûr que le test porte sur la bonne adresse. </p> <p>Si tous les périphériques sont configurés convenablement, contrôlez le câblage physique pour vous assurer qu’il est sûr et connecté correctement. Prenez soigneusement note de toutes les tentatives effectuées pour vérifier la connectivité et de leurs résultats. Ces informations faciliteront la résolution de ce problème et, éventuellement, de futurs problèmes.</p> <p><b>Test du tronçon suivant de la route</b></p> <p>Dans un routeur, utilisez IOS pour tester le tronçon suivant des routes individuelles. Comme vous le savez, le tronçon suivant de chaque route est indiqué dans la table de routage. Pour déterminer le tronçon suivant, examinez la table de routage fournie dans les résultats de la commande <span class="cmd"><b>show ip route</b></span>. Les trames contenant des paquets adressés au réseau de destination mentionné dans la table de routage sont envoyées au périphérique qui représente le tronçon suivant. Si le tronçon suivant n’est pas accessible, le paquet est abandonné. Pour tester le tronçon suivant, déterminez la route appropriée vers la destination et essayez d’envoyer une requête ping au tronçon suivant adéquat pour cette route dans la table de routage. L’échec d’une commande ping dénote un problème de configuration ou de matériel. Toutefois, la commande ping peut aussi être bloquée par les mécanismes de sécurité du périphérique. Si la commande ping aboutit, vous pouvez passer au test de la connectivité des hôtes distants.</p></content-text>
</page>
<page type="OneColumn" id="tl0611030402">
<content-media type="StaticGraphic" id="cm9709115029"><title><content-text></content-text></title><media ref="tl0611000000/tl0611030000/tl0611030400/tl0611030402/cm9709115029.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611030000/tl0611030400/tl0611030402/cm9709115029text.xml"/></content-media>
<content-text><p><b>Test des hôtes distants </b></p> <p>Après la vérification du réseau local et de la passerelle, vous pouvez passez au test des périphériques distants, qui constitue l’étape suivante dans la série de tests. </p> <p>La figure illustre un exemple de topologie de réseau. Cette topologie comprend 3 hôtes dans un réseau local, un routeur (jouant le rôle de la passerelle) qui est connecté à un autre routeur (servant de passerelle à un réseau local à distance) et 3 hôtes distants. Les tests de vérification doivent commencer à l’intérieur du réseau local et progresser vers l’extérieur jusqu’aux périphériques distants.</p> <p>Commencez par tester l’interface externe d’un routeur qui est directement connectée à un réseau distant. Dans notre exemple, la commande <span class="cmd"><b>ping</b></span> teste la connexion à 192.168.0.253, l’interface externe du routeur de la passerelle du réseau local.</p> <p>Si la commande <span class="cmd"><b>ping</b> </span> réussit, la connectivité à l’interface externe est vérifiée. Ensuite, envoyez une requête ping à l’adresse IP externe du routeur distant, à savoir 192.168.0.254. En cas de succès, la connectivité au routeur distant est vérifiée. En cas d’échec, essayez d’isoler le problème. Recommencez le test jusqu’à obtenir une connexion valide à un périphérique et revérifiez toutes les adresses.</p> <p>La commande <span class="cmd"><b>ping</b> </span> ne permet pas toujours d’identifier la cause sous-jacente d’un problème, mais elle peut circonscrire les problèmes et orienter les recherches dans le processus de dépannage. Consignez tous les tests, les périphériques concernés et les résultats dans la documentation.</p> <p><b>Vérification de la connectivité à distance d’un routeur</b></p> <p>Un routeur forme une connexion entre des réseaux en transférant des paquets entre eux. Pour transférer des paquets entre deux réseaux quelconques, le routeur doit pouvoir communiquer avec le réseau source et avec le réseau de destination. La table de routage du routeur doit donc contenir des routes vers ces deux réseaux.</p> <p>Pour tester la communication avec le réseau distant, vous pouvez envoyer une requête ping à un hôte connu sur ce réseau distant. Si cette requête ping envoyée à partir d’un routeur échoue, vous devez d’abord vérifier si la table de routage contient une route appropriée pour atteindre le réseau distant. Il se peut que le routeur utilise la route par défaut pour atteindre une destination. S’il n’y a pas de route permettant d’atteindre ce réseau, vous devez déterminer pourquoi la route n’existe pas. Comme toujours, vous devez aussi vérifier que la commande ping ne fait pas l’objet d’une interdiction administrative. </p></content-text>
</page>
<page type="OneColumn" id="tl0611030403">
<content-media type="ActivityPKA" id="cm5106699940"><title><content-text></content-text></title><media ref="tl0611000000/tl0611030000/tl0611030400/tl0611030403/cm5106699940/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611030000/tl0611030400/tl0611030403/cm5106699940/icontext.xml"/></content-media>
<content-text><p>Dans cet exercice, vous allez utiliser la commande <span class="cmd"><b>ping</b></span> dans Packet Tracer pour vérifier qu’un hôte local peut communiquer à travers l’interréseau avec un hôte distant donné et identifier plusieurs conditions susceptibles de faire échouer le test.</p><p><b>Cliquez sur l’icône Packet Tracer pour lancer l’exercice Packet Tracer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0611030500">
<title><content-text>Interprétation des résultats des commandes de trace</content-text></title>
<page type="OneColumn" id="tl0611030501">
<content-media type="StaticGraphic" id="cm4477850380"><title><content-text></content-text></title><media ref="tl0611000000/tl0611030000/tl0611030500/tl0611030501/cm4477850380.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611030000/tl0611030500/tl0611030501/cm4477850380text.xml"/></content-media>
<content-text><p>L’étape suivante dans la série de tests consiste à exécuter une commande de trace.</p> <p>Cette commande renvoie une liste des sauts effectués par un paquet acheminé à travers un réseau. La forme de cette commande dépend de l’endroit où elle est soumise. Avec un ordinateur Windows, utilisez <span class="cmd"><b>tracert</b></span>. À partir de l’environnement ILC d’un routeur, employez <span class="cmd"><b>traceroute</b></span>.</p> <p><b>Commande ping et commande de trace</b></p> <p>La commande ping et la commande de trace peuvent s’utiliser conjointement pour diagnostiquer un problème.</p> <p>Supposons qu’une connexion a été établie entre Hôte 1 et Routeur A, comme le montre la figure.</p> <p>Ensuite, supposons que Hôte 1 envoie une requête ping à Hôte 2 à l’aide de la commande suivante :</p> <span class="cmd"><p>C:\><b>ping 10.1.0.2</b></p></span> <p>La commande <span class="cmd"><b>ping</b></span> renvoie le résultat suivant :</p> <span class="cmd"><p>Pinging 10.1.0.2 with 32 bytes of data:</p></span>  <span class="cmd"><p>Request timed out.</p></span> <span class="cmd"><p>Request timed out.</p></span> <span class="cmd"><p>Request timed out.</p></span> <span class="cmd"><p>Request timed out.</p></span>  <span class="cmd"><p>Ping statistics for 10.1.0.2:</p></span> <span class="cmd"><p> Packets: Sent = 4, Received = 0, Lost = 4 (100% loss)</p></span> <span class="cmd"><p>The ping test failed. </p></span> <p>Il s’agit d’un test de la communication au-delà du réseau local vers un périphérique distant. Comme la passerelle locale a répondu, mais non l’hôte distant, l’origine du problème est à rechercher en dehors du réseau local. L’étape suivante consiste à circonscrire le problème à un réseau particulier au-delà du réseau local. Les commandes de <span class="cmd"><b>trace</b></span> peuvent montrer l’itinéraire emprunté par les paquets lors de la dernière communication réussie.</p> <p><b>Commande de trace exécutée vers un hôte distant </b></p> <p>De même que les commandes <span class="cmd"><b>ping</b></span>, les commandes de <span class="cmd"><b>trace</b></span> sont entrées sur la ligne de commande et admettent une adresse IP comme argument.</p> <p>Dans l’hypothèse où la commande est soumise à partir d’un ordinateur Windows, nous employons la forme <b>tracert</b> :</p> <span class="cmd"><p>C:\>tracert 10.1.0.2</p></span> <span class="cmd"><p> </p></span> <span class="cmd"><p>Tracing route to 10.1.0.2 over a maximum of 30 hops</p></span>  <span class="cmd"><p> 1 2 ms 2 ms 2 ms 10.0.0.254 </p></span> <span class="cmd"><p> 2 * * * Request timed out.</p></span> <span class="cmd"><p> 3 * * * Request timed out.</p></span> <span class="cmd"><p> 4 ^C</p></span> <p>La seule réponse positive reçue a été émise par la passerelle sur le Routeur A. Les requêtes de trace vers le tronçon suivant ont dépassé le délai d’attente, ce qui signifie que le tronçon suivant n’a pas répondu. Les résultats de la commande de trace indiquent donc que le défaut se trouve dans l’interréseau au-delà du réseau local.</p></content-text>
</page>
<page type="OneColumn" id="tl0611030502">
<content-media type="StaticGraphic" id="cm5599705869"><title><content-text></content-text></title><media ref="tl0611000000/tl0611030000/tl0611030500/tl0611030502/cm5599705869.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611030000/tl0611030500/tl0611030502/cm5599705869text.xml"/></content-media>
<content-text><p><b>Vue d’ensemble de la série de tests</b></p> <p>En guise de révision, nous allons maintenant parcourir une série de tests complète effectuée selon un autre scénario.</p> <p><b>Test 1 : boucle locale - Succès</b></p> <span class="cmd"><p>C:\>ping 127.0.0.1</p></span>  <span class="cmd"><p>Pinging 127.0.0.1 with 32 bytes of data:</p></span>  <span class="cmd"><p>Reply from 127.0.0.1: bytes=32 time&lt;1ms TTL=128</p></span> <span class="cmd"><p>Reply from 127.0.0.1: bytes=32 time&lt;1ms TTL=128</p></span> <span class="cmd"><p>Reply from 127.0.0.1: bytes=32 time&lt;1ms TTL=128</p></span> <span class="cmd"><p>Reply from 127.0.0.1: bytes=32 time&lt;1ms TTL=128</p></span>  <span class="cmd"><p>Ping statistics for 127.0.0.1:</p></span> <span class="cmd"><p>Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),</p></span>  <span class="cmd"><p>Approximate round trip times in milli-seconds:</p></span> <span class="cmd"><p>Minimum = 0ms, Maximum = 0ms, Average = 0ms</p></span> <p>La pile de protocoles IP de Hôte 1 est configurée convenablement.</p> <p><b>Test 2 : carte réseau locale - Succès</b></p> <span class="cmd"><p>C:\>ping 192.168.23.3</p></span>  <span class="cmd"><p>Pinging 192.168.23.3 with 32 bytes of data:</p></span>  <span class="cmd"><p>Reply from 192.168.23.3: bytes=32 time&lt;1ms TTL=128</p></span> <span class="cmd"><p>Reply from 192.168.23.3: bytes=32 time&lt;1ms TTL=128</p></span> <span class="cmd"><p>Reply from 192.168.23.3: bytes=32 time&lt;1ms TTL=128</p></span> <span class="cmd"><p>Reply from 192.168.23.3: bytes=32 time&lt;1ms TTL=128</p></span>  <span class="cmd"><p>Ping statistics for 192.168.23.3:</p></span> <span class="cmd"><p>Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),Approximate round trip times in milli-seconds:</p></span> <span class="cmd"><p>Minimum = 0ms, Maximum = 0ms, Average = 0ms</p></span> <p>L’adresse IP est affectée correctement à la carte réseau et le matériel de la carte répond à l’adresse IP.</p> <p><b>Test 3 : envoi d’une requête ping à la passerelle locale - Succès</b></p> <span class="cmd"><p>C:\>ping 192.168.23.254</p></span>  <span class="cmd"><p>Pinging 192.168.23.254 with 32 bytes of data:</p></span>  <span class="cmd"><p>Reply from 192.168.23.254: bytes=32 time&lt;1ms TTL=128</p></span> <span class="cmd"><p>Reply from 192.168.23.254: bytes=32 time&lt;1ms TTL=128</p></span> <span class="cmd"><p>Reply from 192.168.23.254: bytes=32 time&lt;1ms TTL=128</p></span> <span class="cmd"><p>Reply from 192.168.23.254: bytes=32 time&lt;1ms TTL=128</p></span>  <span class="cmd"><p>Ping statistics for 192.168.23.254:</p></span> <span class="cmd"><p>Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),</p></span> <span class="cmd"><p>Approximate round trip times in milli-seconds:</p></span> <span class="cmd"><p>Minimum = 0ms, Maximum = 0ms, Average = 0ms</p></span> <p>La passerelle par défaut est opérationnelle. Ce test permet également de vérifier le fonctionnement du réseau local.</p> <p><b>Test 4 : envoi d’une requête ping à un hôte distant - Échec</b></p> <span class="cmd"><p>C:\>ping 192.168.11.1</p></span>  <span class="cmd"><p>Pinging 192.168.11.1 with 32 bytes of data:</p></span>  <span class="cmd"><p>Request timed out.</p></span> <span class="cmd"><p>Request timed out.</p></span> <span class="cmd"><p>Request timed out.</p></span> <span class="cmd"><p>Request timed out.</p></span>  <span class="cmd"><p>Ping statistics for 192.168.11.1:</p></span> <span class="cmd"><p>Packets: Sent = 4, Received = 0, Lost = 4 (100% loss)</p></span> <p>Il s’agit ici d’un test de la communication au-delà du réseau local. Comme la passerelle a répondu, mais non l’hôte distant, l’origine du problème est à rechercher en dehors du réseau local.</p> <p><b>Test 5 : envoi d’une requête tracert à un hôte distant - Échec au premier saut</b></p> <span class="cmd"><p>C:\>tracert 192.168.11.1</p></span>  <span class="cmd"><p>Tracing route to 192.168.11.1 over a maximum of 30 hops</p></span>  <span class="cmd"><p>1 * * * Request timed out.</p></span> <span class="cmd"><p>2 * * * Request timed out.</p></span> <span class="cmd"><p>3 ^C</p></span> <p>Ces résultats semblent contradictoires. La passerelle par défaut répond, ce qui indique qu’elle communique avec Hôte 1. D’un autre côté, la passerelle ne semble pas répondre à la commande tracert. </p> <p>Une explication de ce phénomène est que l’hôte local n’est pas configuré convenablement pour utiliser 192.168.23.254 comme passerelle par défaut. Pour en avoir le coeur net, examinons la configuration de Hôte 1.</p> <p><b>Test 6 : examen de la configuration de la passerelle locale sur l’hôte - Configuration incorrecte</b></p> <span class="cmd"><p>C:\>ipconfig</p></span>  <span class="cmd"><p>Windows IP Configuration</p></span>  <span class="cmd"><p>Ethernet adapter Local Area Connection:</p></span>  <span class="cmd"><p>IP Address. . . . . . . . . . . . : 192.168.23.3</p></span> <span class="cmd"><p>Subnet Mask . . . . . . . . . . : 255.255.255.0</p></span> <span class="cmd"><p>Default Gateway . . . . . . . : 192.168.23.253</p></span> <p>Les résultats de la commande <span class="cmd"><b>ipconfig</b></span> permettent de déterminer que la passerelle n’est pas configurée convenablement sur l’hôte. Ceci explique l’indication inexacte que le problème provenait de l’interréseau au-delà du réseau local. Bien qu’elle ait répondu, l’adresse 192.168.23.254 n’était pas l’adresse configurée dans Hôte 1 comme passerelle. </p> <p>Faute de pouvoir former une trame, Hôte 1 abandonne le paquet. Dans ce cas, il n’y a pas de réponse à la requête de trace envoyée à l’hôte distant.</p></content-text>
</page>
<page type="OneColumn" id="tl0611030503">
<content-media type="ActivityPKA" id="cm7997576274"><title><content-text></content-text></title><media ref="tl0611000000/tl0611030000/tl0611030500/tl0611030503/cm7997576274/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611030000/tl0611030500/tl0611030503/cm7997576274/icontext.xml"/></content-media>
<content-text><p>Dans cet exercice, vous allez utiliser les diverses commandes <span class="cmd"><b>ping</b></span> pour identifier les problèmes de connectivité d’un réseau.</p><p><b>Cliquez sur l’icône Packet Tracer pour lancer l’exercice Packet Tracer.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0611030504">
<content-media type="ActivityPKA" id="cm5234601974"><title><content-text></content-text></title><media ref="tl0611000000/tl0611030000/tl0611030500/tl0611030504/cm5234601974/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611030000/tl0611030500/tl0611030504/cm5234601974/icontext.xml"/></content-media>
<content-text><p>Dans cet exercice, vous allez utiliser les commandes <span class="cmd"><b>tracert </b></span> et <span class="cmd"><b>traceroute</b></span> pour observer l’itinéraire emprunté par les paquets à travers un interréseau.</p><p><b>Cliquez sur l’icône Packet Tracer pour lancer l’exercice Packet Tracer.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0611040000">
<title><content-text>Surveillance des réseaux et constitution d’une documentation</content-text></title>
<topic type="" id="tl0611040100">
<title><content-text>Étalons du réseau</content-text></title>
<page type="OneColumn" id="tl0611040101">
<content-media type="InteractiveGraphicRollovers" id="cm8564467376"><title><content-text></content-text></title><media ref="tl0611000000/tl0611040000/tl0611040100/tl0611040101/cm8564467376.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611040000/tl0611040100/tl0611040101/cm8564467376text.xml"/></content-media>
<content-text><p>L’un des moyens les plus efficaces pour surveiller les performances d’un réseau et le dépanner consiste à établir un <i><content-link target="cg6248167863" type="glossary">étalon du réseau</content-link></i>. Un étalon est un processus permettant d’étudier le réseau à intervalles réguliers pour s’assurer qu’il fonctionne comme prévu. Il ne s’agit pas seulement d’un rapport ponctuel décrivant en détail la santé du réseau à un instant donné. La création d’un étalon efficace pour les performances du réseau prend un certain temps. En effet, pour obtenir une image fidèle des performances globales d’un réseau, il convient de mesurer les performances à des moments et des niveaux d’activité variés.</p> <p>Les résultats fournis par certaines commandes réseau permettent de recueillir des données qui feront partie de l’étalon du réseau. La figure montre les informations à enregistrer.</p> <p>Pour commencer à élaborer un étalon, vous pouvez copier et coller dans un fichier texte les résultats d’une commande telle que ping, traceroute ou tracert. Il est possible d’horodater ces fichiers texte et de les enregistrer dans une archive en vue d’une extraction ultérieure. </p> <p>Une utilisation efficace de ces informations stockées consiste à comparer les résultats dans le temps. Parmi les éléments dont il faut tenir compte, les messages d’erreur et les temps de réponse d’un hôte à l’autre fournissent des indications précieuses. Par exemple, un accroissement considérable des temps de réponse peut dénoter un problème de latence. </p> <p><b>On ne soulignera jamais assez l’importance de la création d’une documentation. </b><b>La vérification de la connectivité d’hôte à hôte, la détection de problèmes de latence et la résolution des problèmes identifiés sont autant d’expériences susceptibles d’aider un administrateur à faire fonctionner un réseau aussi efficacement que possible. </b></p> <p>Les réseaux des entreprises doivent disposer d’étalons si détaillés qu’ils dépassent largement le cadre de ce cours. Il existe toutefois des outils logiciels de qualité professionnelle pour collecter et gérer les informations d’étalon. Dans ce cours, nous nous limiterons à traiter quelques techniques fondamentales et à expliquer le but des étalons.</p></content-text>
</page>
<page type="OneColumn" id="tl0611040102">
<content-media type="AnimationPartialScreen" id="cm6273039975"><title><content-text></content-text></title><media ref="tl0611000000/tl0611040000/tl0611040100/tl0611040102/cm6273039975.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611040000/tl0611040100/tl0611040102/cm6273039975text.xml"/></content-media>
<content-text><p><b>Capture d’informations sous Windows</b></p> <p>L’une des méthodes les plus répandues pour capturer des informations d’étalon consiste à copier les résultats affichés dans la fenêtre de l’invite de commandes Windows et de les coller dans un fichier texte.</p> <p>Pour capturer les résultats de la commande <span class="cmd"><b>ping</b></span>, commencez par ouvrir une fenêtre d’invite de commandes et à exécuter une commande semblable à celle reproduite ci-dessous, en spécifiant une adresse IP valide sur votre réseau :</p> <span class="cmd"><p>C:\><b>ping 10.66.254.159</b></p></span> <p>La réponse apparaît sous la commande. </p> <p><b>Pour un exemple, consultez la figure.</b></p> <p>Le résultat étant affiché dans la fenêtre de l’invite de commandes, procédez comme suit :</p> <p>1. Cliquez avec le bouton droit dans la fenêtre de l’invite de commandes, puis cliquez sur <b>Sélectionner tout</b>.</p> <p>2. Appuyez sur <b>Ctrl-C</b> pour copier le résultat.</p> <p>3. Ouvrez un éditeur de texte.</p> <p>4. Appuyez sur <b>Ctrl-V</b> pour coller le texte.</p> <p>5. Enregistrez le fichier texte en lui affectant un nom contenant la date et l’heure. </p> <p>Effectuez le même test à quelques jours d’intervalle et enregistrez à chaque fois les données obtenues. L’examen des fichiers commencera à révéler des modèles dans les performances du réseau et à fournir l’étalon pour d’éventuels dépannages.</p> <p>Lorsque vous sélectionnez du texte dans la fenêtre de l’invite de commandes, employez la commande <b>Sélectionner tout</b> pour copier l’intégralité du texte affiché. Utilisez la commande <b>Marquer</b> pour sélectionner une partie du texte. </p> <p><b>La figure fournit des instructions à l’intention des participants qui utilisent Windows XP Professionnel.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0611040103">
<content-media type="StaticGraphic" id="cm8013822660"><title><content-text></content-text></title><media ref="tl0611000000/tl0611040000/tl0611040100/tl0611040103/cm8013822660.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611040000/tl0611040100/tl0611040103/cm8013822660text.xml"/></content-media>
<content-text><p><b>Capture d’informations sous IOS</b></p> <p>Vous pouvez aussi capturer les résultats de la commande <span class="cmd"><b>ping </b></span> à partir de l’invite IOS. La procédure décrite ci-dessous permet de capturer les résultats et les enregistrer dans un fichier texte.</p> <p>Si vous utilisez HyperTerminal pour accéder au périphérique, les étapes sont les suivantes :</p> <p>1. Dans le menu Transfert, cliquez sur <b>Capture de texte</b>.</p> <p>2. Choisissez <b>Parcourir</b> pour rechercher le fichier texte dans lequel vous voulez placer les résultats ou tapez son nom directement. </p> <p>3. Cliquez sur <b>Démarrer</b> pour commencer à capturer le texte. </p> <p>4. Exécutez la commande <span class="cmd"><b>ping</b></span> en mode d’exécution utilisateur ou à l’invite du mode d’exécution privilégié. Le routeur place le texte affiché sur le terminal dans le fichier texte spécifié.</p> <p>5. Affichez le contenu du fichier de sortie pour vérifier qu’il s’agit bien des informations voulues.</p> <p>6. Dans le menu Transfert, cliquez sur <b>Capture de texte</b>, puis cliquez sur <b>Arrêter la capture</b>.</p> <p>Les données générées à partir de la ligne de commande de l’ordinateur ou du routeur permettent de constituer l’étalon du réseau. </p> <p>Liens :</p> <p><content-link target="http://www.cisco.com/en/US/tech/tk869/tk769/technologies_white_paper09186a008014fb3b.shtml" type="external">Méthodes conseillées pour élaborer un étalon (en anglais)</content-link></p></content-text>
</page>
</topic>
<topic type="" id="tl0611040200">
<title><content-text>Capture et interprétation des résultats d’une commande de trace</content-text></title>
<page type="OneColumn" id="tl0611040201">
<content-media type="StaticGraphic" id="cm4823261751"><title><content-text></content-text></title><media ref="tl0611000000/tl0611040000/tl0611040200/tl0611040201/cm4823261751.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611040000/tl0611040200/tl0611040201/cm4823261751text.xml"/></content-media>
<content-text><p>Comme vous le savez, une commande de trace peut s’utiliser pour enregistrer les étapes, ou sauts, de l’itinéraire des paquets entre des hôtes. Si la requête parvient à la destination voulue, les résultats montrent tous les routeurs que le paquet a traversés. Vous pouvez capturer ces résultats et les utiliser de la même façon que ceux de la commande <span class="cmd"><b>ping</b></span>. </p> <p>Il peut arriver que les paramètres de sécurité sur le réseau de destination empêchent la commande de trace d’atteindre sa destination finale. Toutefois, nous pouvons toujours capturer un étalon des sauts qui jalonnent l’itinéraire parcouru. </p> <p>Comme vous le savez, la forme de la commande à utiliser à partir d’un hôte Windows est tracert. </p> <p>Pour analyser la route de votre ordinateur à cisco.com, entrez la commande suivante dans une fenêtre de l’invite de commandes :</p> <span class="cmd"><p>C:\>tracert www.cisco.com</p></span> <p>La figure montre un exemple de résultats de cette commande.</p> <p>Pour enregistrer ces résultats, procédez de la même façon que pour les résultats de la commande ping : sélectionnez le texte dans la fenêtre de l’invite de commandes et collez-le dans un fichier texte.</p> <p>Les données recueillies par une commande de trace peuvent s’ajouter aux informations fournies par les commandes <span class="cmd"><b>ping</b></span> pour former un tableau d’ensemble des performances du réseau. Par exemple, si vous constatez que la vitesse d’une commande <span class="cmd"><b>ping</b></span> diminue avec le temps, examinez l’évolution des résultats de la commande de trace dans la même période de temps. En effet, une analyse des temps de réponse saut par saut est susceptible de révéler un ralentissement à un emplacement particulier. Ce ralentissement peut être dû à un encombrement au niveau du saut en question et constituer un goulet d’étranglement dans le réseau.</p> <p>Ou bien, vous pouvez découvrir que l’itinéraire parcouru jusqu’à la destination varie dans le temps parce que les meilleurs chemins que les routeurs sélectionnent pour acheminer les paquets envoyés par les commandes de trace ne sont pas toujours les mêmes. Ces variations peuvent révéler des modèles susceptibles de faciliter la planification de grands transferts de données entre des sites.</p></content-text>
</page>
<page type="OneColumn" id="tl0611040202">
<content-media type="StaticGraphic" id="cm7534709466"><title><content-text></content-text></title><media ref="tl0611000000/tl0611040000/tl0611040200/tl0611040202/cm7534709466.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611040000/tl0611040200/tl0611040202/cm7534709466text.xml"/></content-media>
<content-text><p><b>Capture d’informations à partir d’un routeur</b></p> <p>Il est également possible de capturer les résultats d’une commande traceroute à partir de l’invite de commandes d’un routeur. La procédure décrite ci-dessous permet de capturer les résultats et les enregistrer dans un fichier.</p> <p>Comme vous le savez, la commande de trace pour l’environnement ILC d’un routeur est <b>traceroute</b>.</p> <p>Avec HyperTerminal, la procédure est la suivante :</p> <p>1. Dans le menu Transfert, cliquez sur <b>Capture de texte</b>.</p> <p>2. Utilisez Parcourir pour rechercher le fichier dans lequel vous voulez placer les résultats ou tapez son nom directement. </p> <p>3. Cliquez sur <b>Démarrer</b> pour commencer à capturer le texte. </p> <p>4. Exécutez la commande <span class="cmd"><b>traceroute</b></span> en mode d’exécution utilisateur ou à l’invite du mode d’exécution privilégié. Le routeur place le texte affiché sur le terminal dans le fichier texte spécifié.</p> <p>5. Affichez le contenu du fichier de sortie pour vérifier qu’il s’agit bien des informations voulues.</p> <p>6. Dans le menu Transfert, cliquez sur <b>Capture de texte</b>, puis cliquez sur <b>Arrêter la capture</b>.</p> <p>Stockez les fichiers texte générés par ces tests en lieu sûr avec le reste de la documentation du réseau. </p></content-text>
</page>
</topic>
<topic type="" id="tl0611040300">
<title><content-text>Recueil d’informations sur les noeuds du réseau</content-text></title>
<page type="OneColumn" id="tl0611040301">
<content-media type="StaticGraphic" id="cm5865384377"><title><content-text></content-text></title><media ref="tl0611000000/tl0611040000/tl0611040300/tl0611040301/cm5865384377.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611040000/tl0611040300/tl0611040301/cm5865384377text.xml"/></content-media>
<content-text><p>S’il existe un système d’adressage approprié, l’identification des adresses IPv4 pour les périphériques d’un réseau ne pose aucun problème. Par contre, l’identification des adresses physiques (MAC) risque de s’avérer difficile. En effet, il faudrait accéder à tous les périphériques et disposer de suffisamment de temps pour visualiser les informations hôte par hôte. Cette option n’étant généralement pas praticable, il est préférable d’utiliser un autre moyen pour identifier les adresses MAC : la commande <span class="cmd"><b>arp</b></span>. </p> <p>La commande <span class="cmd"><b>arp</b></span> établit la correspondance entre les adresses physiques et les adresses IPv4 connues. En général, vous exécuterez la commande <span class="cmd"><b>arp</b></span> à partir de l’invite de commandes en envoyant une requête ARP. Le périphérique qui a besoin des informations envoie au réseau une requête ARP de diffusion, et seul le périphérique local dont l’adresse IP figure dans la requête renvoie une réponse ARP contenant sa paire d’adresses IP-MAC. </p> <p>Pour exécuter une commande <span class="cmd"><b>arp</b></span>, entrez à l’invite de commandes d’un hôte :</p> <p> </p> <span class="cmd"><p>C:\host1><b>arp -a</b></p></span> <p>Comme le montre la figure, la commande <span class="cmd"><b>arp</b></span> fournit la liste de tous les périphériques actuellement présents dans le cache ARP en précisant leur adresse IPv4, leur adresse physique et leur type d’adressage (statique/dynamique). </p> <p>Pour mettre à jour les informations stockées dans le cache du routeur, l’administrateur réseau peut effacer le cache à l’aide de la commande <span class="cmd"><b>arp -d</b></span>. </p> <p><b>Remarque :</b> le cache ARP ne contient que les informations des périphériques auxquels des utilisateurs ont accédé récemment. Pour être sûr que le cache ARP contient des informations sur un périphérique donné dans son tableau ARP, envoyez une requête ping à ce périphérique.</p> <p><b>Ping Sweep</b></p> <p>Pour collecter des adresses MAC, vous pouvez également effectuer un <i>balayage ping</i> sur une plage d’adresses IP. On appelle ainsi une méthode d’analyse que vous pouvez exécuter à partir de la ligne de commande ou à l’aide d’outils d’administration de réseau. Ces outils permettent de spécifier une plage d’hôtes à analyser avec une seule commande ping. </p> <p>À l’aide du balayage ping, vous pouvez recueillir des informations sur le réseau de deux façons. D’une part, de nombreux outils de balayage ping construisent un tableau des hôtes qui répondent. En général, ces tableaux répertorient les hôtes par adresse IP et adresse MAC. Vous obtenez ainsi des informations sur les hôtes actifs au moment du balayage.</p> <p>D’autre part, vous pouvez lancer une requête ARP après chaque commande ping, afin d’ajouter l’adresse IP dans le cache ARP. Ceci active chaque hôte sollicité récemment et permet de s’assurer que le tableau ARP est à jour. Une fois le tableau ARP mis à jour, vous pouvez, comme nous l’avons expliqué plus haut, utiliser la commande <span class="cmd"><b>arp</b></span> pour collecter les adresses MAC.</p></content-text>
</page>
<page type="OneColumn" id="tl0611040302">
<content-media type="StaticGraphic" id="cm1264040159"><title><content-text></content-text></title><media ref="tl0611000000/tl0611040000/tl0611040300/tl0611040302/cm1264040159.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611040000/tl0611040300/tl0611040302/cm1264040159text.xml"/></content-media>
<content-text><p><b>Connexions d’un commutateur</b></p> <p>Une analyse de la façon dont les hôtes sont connectés aux interfaces d’un commutateur peut s’avérer utile dans certaines circonstances. Ce mappage des hôtes aux interfaces d’un commutateur peut s’obtenir à l’aide de la commande <span class="cmd"><b>show </b><i>mac-address-table</i></span>.</p> <p>À partir de la ligne de commande d’un commutateur, entrez la commande <span class="cmd"><b>show</b></span> avec le mot clé <b>mac-address-table</b> :</p> <span class="cmd"><p>Sw1-2950#<b>show </b><i>mac-address-table</i></p></span> <p><b>La figure montre un exemple de résultats de cette commande.</b></p> <p>Le tableau présenté dans la figure répertorie les adresses MAC des hôtes connectés à ce commutateur. De même que les autres résultats affichés dans la fenêtre de l’invite de commandes, ces informations peuvent être copiées et collées dans un fichier. Vous pouvez aussi coller ces données dans une feuille de calcul pour faciliter les manipulations ultérieures. </p> <p>Une analyse de ce tableau révèle également que l’interface Fa0/23 est un segment partagé ou est connectée à un autre commutateur. Plusieurs adresses MAC représentent plusieurs noeuds. Ceci dénote qu’un port est connecté à un autre périphérique intermédiaire, par exemple un concentrateur, un point d’accès sans fil ou un autre commutateur.</p> <p>D’autres commandes et outils permettant de collecter des données seront présentés dans de futurs cours. </p></content-text>
</page>
<page type="OneColumn" id="tl0611040303">
<content-media type="ActivityLab" id="cm9519167753"><title><content-text></content-text></title><media ref="tl0611000000/tl0611040000/tl0611040300/tl0611040303/cm9519167753/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611040000/tl0611040300/tl0611040303/cm9519167753/icontext.xml"/></content-media>
<content-text><p><b>Constitution d’une documentation sur les performances du réseau</b></p> <p>Envoyez 100 requêtes ping successives au même hôte distant. Collez ces entrées dans une feuille de calcul Excel et créez un diagramme montrant la moyenne, la valeur médiane, le mode et le nombre absolu et en pourcentage de paquets abandonnés. <b>Indice :</b> les paquets abandonnés se reconnaissent à la grande valeur qui leur est affectée systématiquement.</p> <p>Conduisez ce test pour 3 exemples répartis sur une période de 24 heures et répétés chaque jour pendant 5 jours consécutifs à peu près aux mêmes heures.</p> <p>Pour obtenir une meilleure image des performances du réseau, essayez d’augmenter la taille des paquets par incréments de 100 octets pour 20 requêtes ping. Tracez les valeurs moyennes pour chacune des 20 requêtes ping afin de voir l’effet de l’augmentation de la taille des paquets. De plus, notez les moments où le débit varie fortement.</p><p><b>Si vous souhaitez des précisions, cliquez sur l’icône des travaux pratiques.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0611050000">
<title><content-text>Travaux pratiques</content-text></title>
<topic type="" id="tl0611050100">
<title><content-text>Configuration de base d’un périphérique Cisco</content-text></title>
<page type="OneColumn" id="tl0611050101">
<content-media type="ActivityLab" id="cm8459667647"><title><content-text></content-text></title><media ref="tl0611000000/tl0611050000/tl0611050100/tl0611050101/cm8459667647/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611050000/tl0611050100/tl0611050101/cm8459667647/icontext.xml"/></content-media>
<content-text><p>Dans ces travaux pratiques, nous allons configurer des paramètres communs sur un routeur Cisco et sur un commutateur Cisco.</p><p><b>Cliquez sur l’icône des travaux pratiques pour plus d’informations.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0611050102">
<content-media type="ActivityPKA" id="cm6288148642"><title><content-text></content-text></title><media ref="tl0611000000/tl0611050000/tl0611050100/tl0611050102/cm6288148642/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611050000/tl0611050100/tl0611050102/cm6288148642/icontext.xml"/></content-media>
<content-text><p>Dans cet exercice, vous allez utiliser Packet Tracer pour configurer des paramètres communs sur un routeur Cisco et sur un commutateur Cisco.</p><p><b>Pour démarrer, cliquez sur l’icône de Packet Tracer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0611050200">
<title><content-text>Gestion de la configuration d’un périphérique</content-text></title>
<page type="OneColumn" id="tl0611050201">
<content-media type="ActivityLab" id="cm9882709360"><title><content-text></content-text></title><media ref="tl0611000000/tl0611050000/tl0611050200/tl0611050201/cm9882709360/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611050000/tl0611050200/tl0611050201/cm9882709360/icontext.xml"/></content-media>
<content-text><p>Dans ces travaux pratiques, vous allez configurer des paramètres communs sur un routeur Cisco, enregistrer la configuration sur un serveur TFTP et restaurer cette configuration à partir d’un serveur TFTP.</p><p><b>Cliquez sur l’icône des travaux pratiques pour plus d’informations.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0611050202">
<content-media type="ActivityPKA" id="cm1898072640"><title><content-text></content-text></title><media ref="tl0611000000/tl0611050000/tl0611050200/tl0611050202/cm1898072640/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611050000/tl0611050200/tl0611050202/cm1898072640/icontext.xml"/></content-media>
<content-text><p>Dans cet exercice, vous allez utiliser Packet Tracer pour configurer des paramètres communs sur un routeur Cisco, enregistrer la configuration sur un serveur TFTP et restaurer cette configuration à partir d’un serveur TFTP.</p><p><b>Pour démarrer, cliquez sur l’icône de Packet Tracer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0611050300">
<title><content-text>Configuration d’ordinateurs hôtes pour un réseau IP</content-text></title>
<page type="OneColumn" id="tl0611050301">
<content-media type="ActivityLab" id="cm6909042849"><title><content-text></content-text></title><media ref="tl0611000000/tl0611050000/tl0611050300/tl0611050301/cm6909042849/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611050000/tl0611050300/tl0611050301/cm6909042849/icontext.xml"/></content-media>
<content-text><p>Dans le cadre de ces travaux pratiques, vous allez créer un petit réseau, ce qui suppose de connecter des périphériques et de configurer les ordinateurs hôtes pour une connectivité de base. L’annexe fournit des informations de référence pour configurer le réseau logique.</p><p><b>Cliquez sur l’icône des travaux pratiques pour plus d’informations.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0611050400">
<title><content-text>Tests réseau</content-text></title>
<page type="OneColumn" id="tl0611050401">
<content-media type="ActivityLab" id="cm4035408101"><title><content-text></content-text></title><media ref="tl0611000000/tl0611050000/tl0611050400/tl0611050401/cm4035408101/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611050000/tl0611050400/tl0611050401/cm4035408101/icontext.xml"/></content-media>
<content-text><p>Dans le cadre de ces travaux pratiques, vous allez créer un petit réseau, ce qui suppose de connecter des périphériques et de configurer les ordinateurs hôtes pour une connectivité de base. SubnetA et SubnetB sont les sous-réseaux nécessaires actuellement. SubnetC, SubnetD, SubnetE et SubnetF sont des sous-réseaux prévus, qui ne sont pas encore connectés au réseau. </p><p><b>Si vous souhaitez des précisions, cliquez sur l’icône des travaux pratiques.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0611050500">
<title><content-text>Constitution d’une documentation du réseau avec des commandes d’utilitaire</content-text></title>
<page type="OneColumn" id="tl0611050501">
<content-media type="ActivityLab" id="cm8984833304"><title><content-text></content-text></title><media ref="tl0611000000/tl0611050000/tl0611050500/tl0611050501/cm8984833304/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611050000/tl0611050500/tl0611050501/cm8984833304/icontext.xml"/></content-media>
<content-text><p>La documentation du réseau est un outil indispensable à l’administration du réseau. Un réseau doté d’une bonne documentation peut faire gagner énormément de temps aux ingénieurs réseau lors du dépannage et de la planification de la croissance future. </p> <p>Dans le cadre de ces travaux pratiques, vous allez créer un petit réseau, ce qui suppose de connecter des périphériques et de configurer les ordinateurs hôtes pour une connectivité de base. SubnetA et SubnetB sont les sous-réseaux nécessaires actuellement. SubnetC est un sous-réseau prévu, qui n’est pas encore connecté au réseau. </p><p><b>Si vous souhaitez des précisions, cliquez sur l’icône des travaux pratiques.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0611050600">
<title><content-text>Étude de cas</content-text></title>
<page type="OneColumn" id="tl0611050601">
<content-media type="ActivityLab" id="cm8058564241"><title><content-text></content-text></title><media ref="tl0611000000/tl0611050000/tl0611050600/tl0611050601/cm8058564241/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611050000/tl0611050600/tl0611050601/cm8058564241/icontext.xml"/></content-media>
<content-text><p><b>Cliquez sur l’icône des travaux pratiques pour plus d’informations.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="tl0611060000">
<title><content-text>Résumé</content-text></title>
<topic type="" id="tl0611060100">
<title><content-text>Résumé et révision</content-text></title>
<page type="OneColumn" id="tl0611060101">
<content-media type="StaticGraphic" id="cm2348876273"><title><content-text></content-text></title><media ref="tl0611000000/tl0611060000/tl0611060100/tl0611060101/cm2348876273.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611060000/tl0611060100/tl0611060101/cm2348876273text.xml"/></content-media>
<content-text><p>Ce chapitre a présenté les problèmes à prendre en compte pour connecter et configurer des ordinateurs, des commutateurs et des routeurs en vue de construire un réseau local Ethernet.</p> <p>Le logiciel Cisco IOS (Internetwork Operating System) et les fichiers de configuration des routeurs et des commutateurs ont été abordés ensuite. Vous avez ainsi appris à accéder aux modes et aux procédures de configuration de l’environnement IOS ILC et à les utiliser ; en outre, vous avez compris la signification de l’invite et les fonctions d’aide.</p> <p>La gestion des fichiers de configuration IOS et l’emploi d’une méthode structurée pour tester la connectivité du réseau et constituer sa documentation sont des compétences essentielles de l’administrateur et du technicien réseau.</p> <p>Résumé des fonctions et des commandes IOS :</p> <p><b>Mode d’exécution utilisateur</b></p> <ul><li> <span class="cmd"><b>enable</b></span> - Entrer en mode d’exécution privilégié.</li></ul> <p><b>Mode d’exécution privilégié</b></p> <ul><li> <span class="cmd"><b>copy running-config startup-config</b></span> - Copier la configuration active en mémoire NVRAM.</li> <li> <span class="cmd"><b>copy startup-config running-config</b></span> - Copier la configuration en mémoire NVRAM en mémoire vive.</li> <li> <span class="cmd"><b>erase startup-configuration</b></span> - Effacer la configuration stockée en mémoire NVRAM.</li> <li> <span class="cmd"><b>ping </b><i>adresse_ip</i></span> - Envoyer une requête ping à l’adresse spécifiée.</li> <li> <span class="cmd"><b>traceroute </b><i>adresse_ip</i></span> - Suivre chaque saut jusqu’à l’adresse spécifiée.</li> <li> <span class="cmd"><b>show interfaces</b></span> - Afficher des statistiques pour toutes les interfaces d’un périphérique. </li> <li> <span class="cmd"><b>show clock</b></span> - Afficher l’heure en vigueur dans le routeur.</li> <li> <span class="cmd"><b>show version</b></span> - Afficher la version du logiciel IOS chargée actuellement et des informations sur le matériel et le périphérique.</li> <li> <span class="cmd"><b>show arp</b></span> - Afficher le tableau ARP du périphérique.</li> <li> <span class="cmd"><b>show startup-config</b></span> - Afficher la configuration stockée en mémoire NVRAM.</li> <li> <span class="cmd"><b>show running-config</b></span> - Afficher le contenu du fichier de configuration en cours d’exécution. </li> <li> <span class="cmd"><b>show ip interface</b></span> - Afficher des statistiques IP pour les interfaces d’un routeur. </li> <li> <span class="cmd"><b>configure terminal</b></span> - Entrer en mode de configuration globale.</li></ul> <p><b>Mode de configuration globale</b></p> <ul><li> <span class="cmd"><b>hostname </b><i>nom_d'_hôte</i></span> - Attribuer un nom d’hôte au périphérique.</li> <li> <span class="cmd"><b>enable password </b><i>mot_de_passe</i></span> - Définir un mot de passe actif non chiffré.</li> <li> <span class="cmd"><b>enable secret </b><i>mot_de_passe</i></span> - Définir un mot de passe actif utilisant un chiffrement fort.</li> <li> <span class="cmd"><b>service password-encryption</b></span> - Chiffrer l’affichage de tous les mots de passe sauf ceux de type secret.</li> <li> <span class="cmd"><b>banner motd</b> <i># message #</i></span> - Configurer une bannière contenant un message du jour.</li> <li> <span class="cmd"><b>line console 0</b></span> - Entrer en mode de configuration de ligne de console.</li> <li> <span class="cmd"><b>line vty 0 4</b></span> - Entrer en mode de configuration de ligne de terminal virtuel (Telnet).</li> <li> <span class="cmd"><b>interface </b><i>nom_interface</i></span> - Entrer en mode de configuration d’interface.</li></ul> <p><b>Mode de configuration de ligne</b></p> <ul><li> <span class="cmd"><b>login</b></span> - Activer le contrôle d’accès par mot de passe à l’ouverture de session.</li> <li> <span class="cmd">password <i>mot_de_passe</i></span> - Définir le mot de passe de ligne.</li></ul> <p><b>Mode de configuration d’interface</b></p> <ul><li> <span class="cmd"><b>adresse_ip </b><i>masque_réseau</i></span> - Définir l’adresse IP et le masque de sous-réseau de l’interface.</li> <li> <span class="cmd"><b>description </b><i>description</i></span> - Définir la description de l’interface.</li> <li> <span class="cmd"><b>clock rate </b><i>valeur</i></span> - Définir la fréquence d’horloge pour un périphérique de type ETCD.</li> <li> <span class="cmd"><b>no shutdown</b></span> - Activer l’interface.</li> <li> <span class="cmd"><b>shutdown</b></span> - Désactiver l’interface sur le plan administratif.</li></ul></content-text>
</page>
<page type="FullScreen" id="tl0611060102">
<content-media type="ChapterSummary" id="cm9125021237"><title><content-text></content-text></title><media ref="tl0611000000/tl0611060000/tl0611060100/tl0611060102/cm9125021237.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611060000/tl0611060100/tl0611060102/cm9125021237text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="tl0611060103">
<content-media type="ActivityPKA" id="cm5820047167"><title><content-text></content-text></title><media ref="tl0611000000/tl0611060000/tl0611060100/tl0611060103/cm5820047167/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0611000000/tl0611060000/tl0611060100/tl0611060103/cm5820047167/icontext.xml"/></content-media>
<content-text><p>Ce dernier exercice vous permettra de mettre en pratique les compétences et les connaissances théoriques que vous avez acquises tout au long du cours. </p> <p><content-link target="E1_PTAct_11_6_1_Directions.pdf" type="internalfile">Instructions du Projet d’intégration des compétences Packet Tracer (PDF)</content-link></p><p><b>Cliquez sur l’icône Packet Tracer pour lancer l’exercice Packet Tracer.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0611060104">
<content-media type="StaticGraphic" id="cm1435773405"><title><content-text></content-text></title><media ref="tl0611000000/tl0611060000/tl0611060100/tl0611060104/cm1435773405.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0611000000/tl0611060000/tl0611060100/tl0611060104/cm1435773405text.xml"/></content-media>
<content-text><p><b>Pour en savoir plus</b></p> <p>Le jeu de fonctions IOS des routeurs et des commutateurs Cisco varie fortement d’un modèle à l’autre. Ce chapitre a présenté quelques-unes des commandes et fonctions IOS de base communes à la plupart des périphériques. Bien que certaines fonctions plus sophistiquées seront traitées dans des cours Cisco ultérieurs, il se peut que vous ayez besoin d’autres informations dans l’immédiat pendant l’administration normale d’un réseau au quotidien.</p> <p>Le site Web de Cisco Systems, <content-link target="http://www.cisco.com" type="external">http://www.cisco.com</content-link>, est la source de la documentation technique utilisée pour installer, exploiter et dépanner les périphériques réseau Cisco. Une inscription gratuite à cisco.com permet d’accéder à des outils et des informations en ligne. Il est recommandé au participants de s’inscrire sur le site Web pour profiter de ces ressources durant leur formation et se préparer à les utiliser quand ils seront de retour sur leur lieu de travail.</p> <p><b>Récupération du mot de passe IOS d’un routeur ou d’un commutateur Cisco</b></p> <p>La procédure à utiliser pour récupérer les mots de passe IOS perdus ou oubliés est un exemple de la documentation technique disponible sur le site cisco.com. Ce chapitre a mis l’accent sur la protection de l’accès à IOS par l’emploi de mots de passe chiffrés. Toutefois, pour diverses raisons et en particulier dans un environnement de travaux pratiques, il arrive qu’un mot de passe soit perdu ou oublié, ce qui empêche d’accéder au périphérique.</p> <p>Une recherche sur cisco.com de documents sur la récupération de mot de passe pour le routeur 1841 et le commutateur 2960 (les périphériques actuellement recommandés pour les travaux pratiques CCNA Exploration) a renvoyé les documents suivants, qui fournissent les procédures à suivre :</p> <p><content-link target="http://www.cisco.com/warp/public/474/pswdrec_1700.pdf" type="external">http://www.cisco.com/warp/public/474/pswdrec_1700.pdf</content-link></p> <p><content-link target="http://www.cisco.com/warp/public/474/pswdrec_2900xl.pdf" type="external">http://www.cisco.com/warp/public/474/pswdrec_2900xl.pdf</content-link></p> <p>Si vos travaux pratiques utilisent d’autres modèles de périphériques Cisco, n’hésitez pas à effectuer une recherche sur cisco.com pour obtenir des documents équivalents.</p></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="tl0611070000">
<title><content-text>Questionnaire du chapitre</content-text></title>
<topic type="" id="tl0611070100">
<title><content-text>Questionnaire du chapitre</content-text></title>
<page type="FullScreen" id="tl0611070101">
<content-media type="ChapterQuiz" id="cm4954737281"><title><content-text></content-text></title><media ref="tl0611000000/tl0611070000/tl0611070100/tl0611070101/cm4954737281/" mime="" scale="true" type="directory" width="100%" height="100%" external="tl0611000000/tl0611070000/tl0611070100/tl0611070101/cm4954737281/icontext.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
</chapter>
