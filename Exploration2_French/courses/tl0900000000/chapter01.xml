<chapter type="" id="tl0901000000">
<title><content-text>Présentation du routage et du transfert de paquets</content-text></title>
<section type="ChapterIntroduction" id="tl0901000000">
<title><content-text>Présentation du chapitre</content-text></title>
<topic type="" id="tl0901000100">
<title><content-text>Présentation du chapitre</content-text></title>
<page type="OneColumn" id="tl0901000101">
<content-media type="StaticGraphic" id="cm5338791101"><title><content-text></content-text></title><media ref="tl0901000000/tl0901000000/tl0901000100/tl0901000101/cm5338791101.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901000000/tl0901000100/tl0901000101/cm5338791101text.xml"/></content-media>
<content-text><p>Les réseaux actuels ont un impact significatif sur nos vies : ils changent notre façon de vivre, de travailler et de jouer. Les réseaux informatiques et, dans une plus grande mesure, Internet permettent aux personnes de communiquer, de collaborer et d’interagir comme jamais fait auparavant. Nous utilisons les réseaux de diverses manières, notamment pour les applications Web, la téléphonie <content-link target="cg9625811609" type="glossary">IP</content-link>, la vidéoconférence, les jeux interactifs, le commerce électronique et le domaine éducatif. </p> <p>Au centre du réseau se trouve le routeur. Globalement, le but d’un routeur est de relier un réseau à un autre. Le routeur est donc responsable de la transmission de paquets à travers différents réseaux. La destination du paquet IP peut être un serveur Web se trouvant dans un autre pays ou un serveur de messagerie situé sur le réseau local. Les routeurs doivent transmettre ces paquets rapidement. L’efficacité des communications interréseaux dépend, en grande partie, de la capacité des routeurs à transférer des paquets de la manière la plus efficace possible.</p> <p>Aujourd’hui, des routeurs sont ajoutés aux satellites dans l’espace. Ces routeurs sont capables d’acheminer le trafic IP entre les satellites dans l’espace, d’une manière similaire à l’envoi de paquets sur terre, ce qui permet de réduire les délais et d’accroître la flexibilité des réseaux.</p> <p>Toutefois, le routeur ne sert pas seulement à transférer des paquets. Pour répondre aux demandes des réseaux actuels, les routeurs sont également utilisés pour :</p> <ul><li> Assurer une disponibilité 24 heures sur 24, 7 jours sur 7. Afin de garantir l’accessibilité des réseaux, les routeurs utilisent des chemins de remplacement si le chemin principal est défaillant.</li> <li> Fournir des services intégrés de données, de vidéo et de voix sur les réseaux filaires et sans fil. Les routeurs utilisent la hiérarchisation de la qualité de service (QoS) des paquets IP pour veiller à ce que le trafic en temps réel, par exemple les données vocales et vidéo, ainsi que les données importantes, ne soit ni abandonné ni retardé.</li> <li> Réduire l’impact des vers, virus et autres attaques sur le réseau en autorisant ou non le transfert de paquets.</li></ul> <p>Tous ces services reposent sur le routeur et sur sa fonction principale qui consiste à transférer les paquets d’un réseau à l’autre. Les périphériques sur différents réseaux ne peuvent communiquer que si le routeur est capable d’acheminer des paquets entre les réseaux. Ce chapitre présente le routeur, son rôle au sein des réseaux, ses principaux composants matériels et logiciels, ainsi que le processus de routage lui-même.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0901010000">
<title><content-text>Intérieur du routeur</content-text></title>
<topic type="" id="tl0901010100">
<title><content-text>Les routeurs sont des ordinateurs</content-text></title>
<page type="OneColumn" id="tl0901010101">
<content-media type="AnimationPartialScreen" id="cm1281314654"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010100/tl0901010101/cm1281314654.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010100/tl0901010101/cm1281314654text.xml"/></content-media>
<content-text><p><b>Les routeurs sont des ordinateurs</b></p> <p>Un routeur est un ordinateur comme un autre. Le processeur IMP (Interface Message Processor), utilisé pour l’ARPANET (Advanced Research Projects Agency Network), a été le tout premier routeur. C’est grâce au processeur IMP, un mini-ordinateur Honeywell 316, que l’ARPANET a vu le jour le 30 août 1969. </p> <p><b>Remarque :</b> l’ARPANET a été développé par l’ARPA (Advanced Research Projects Agency), relevant du ministère américain de la Défense. L’ARPANET a été le premier réseau de commutation de <content-link target="cg2207688691" type="glossary">paquets</content-link> opérationnel du monde et le prédécesseur de l’Internet d’aujourd’hui.</p> <p>Les routeurs possèdent de nombreux composants matériels et logiciels que l’on trouve également dans les autres ordinateurs, dont les suivants :</p> <ul><li> Unité centrale (UC)</li> <li> Mémoire vive (RAM)</li> <li> Mémoire morte (ROM)</li> <li> <content-link target="cg9072288158" type="glossary">Système d’exploitation</content-link></li></ul> <p><b>Cliquez sur Lire pour lancer l’animation.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0901010102">
<content-media type="AnimationPartialScreen" id="cm4796025925"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010100/tl0901010102/cm4796025925.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010100/tl0901010102/cm4796025925text.xml"/></content-media>
<content-text><p><b>Les routeurs se trouvent au centre du réseau</b></p> <p>Les utilisateurs ne sont pas forcément conscients de la présence de nombreux routeurs sur leur propre réseau ou sur Internet. Les utilisateurs veulent pouvoir accéder aux pages Web, envoyer des courriels et télécharger de la musique, accéder à leur serveur, qu’il soit sur leur propre réseau ou sur un réseau situé à des milliers de kilomètres. Toutefois, les professionnels des réseaux savent que c’est le routeur qui est responsable du transfert de paquets d’un réseau à l’autre, de la source à la destination.</p> <p>Un routeur relie plusieurs réseaux. Pour ce faire, il dispose de plusieurs interfaces, chacune appartenant à un réseau IP différent. Lorsqu’un routeur reçoit un paquet IP sur une interface, il détermine quelle interface utiliser pour transférer le paquet vers sa destination. L’interface utilisée par le routeur pour transférer le paquet peut être le réseau de la destination finale du paquet (celui qui porte l’adresse IP de destination de ce paquet) ou il peut s’agir d’un réseau relié à un autre routeur utilisé pour accéder au réseau de destination.</p> <p>Chaque réseau auquel un routeur se connecte nécessite généralement une interface séparée. Ces interfaces servent à accueillir une combinaison de <content-link target="cg2442783702" type="glossary">réseaux locaux (LAN)</content-link> et de <content-link target="cg2413697728" type="glossary">réseaux étendus</content-link>. Les réseaux locaux sont souvent des réseaux <content-link target="cg1794827428" type="glossary">Ethernet</content-link> qui contiennent des périphériques tels que des ordinateurs personnels, des imprimantes et des serveurs. Les réseaux étendus sont utilisés pour relier des réseaux dans une zone géographique vaste. Par exemple, une connexion WAN est souvent utilisée pour relier un réseau local au réseau du <content-link target="cg6625915036" type="glossary">fournisseur de services Internet (FAI)</content-link>.</p> <p>Dans la figure, les routeurs R1 et R2 assurent la réception du paquet sur un réseau et son transfert d’un autre réseau vers le réseau de destination.</p></content-text>
</page>
<page type="OneColumn" id="tl0901010103">
<content-media type="AnimationPartialScreen" id="cm1720282653"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010100/tl0901010103/cm1720282653.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010100/tl0901010103/cm1720282653text.xml"/></content-media>
<content-text><p><b>Les routeurs déterminent le <content-link target="cg6489003437" type="glossary">meilleur chemin</content-link></b></p> <p>La fonction principale d’un routeur consiste à diriger les paquets destinés à des réseaux locaux et distants en :</p> <ul><li> déterminant le meilleur chemin pour l’envoi des paquets ; </li> <li> transférant les paquets vers leur destination.</li></ul> <p>Le routeur utilise sa <content-link target="cg5779791933" type="glossary">table de routage</content-link> pour déterminer le meilleur chemin pour le transfert du paquet. Lorsque le routeur reçoit un paquet, il examine son adresse IP de destination et recherche, dans la table de routage, l’adresse réseau qui lui correspond le mieux. La table de routage contient également l’interface à utiliser pour le transfert du paquet. Une fois qu’une correspondance a été trouvée, le routeur encapsule le paquet IP dans la trame liaison de données de l’interface sortante ou de sortie, et le paquet est alors transféré vers sa destination.</p> <p>Il est fort probable qu’un routeur reçoive un paquet encapsulé dans un type de trame liaison de données, comme une trame Ethernet, et que lors du transfert du paquet, il l’encapsule dans un autre type de trame liaison de données, comme le protocole point à point (<content-link target="cg3376952186" type="glossary">PPP</content-link>). L’encapsulation de la liaison de données dépend du type d’interface présente sur le routeur et du type de support auquel celui-ci se connecte. Les différentes technologies de liaison de données auxquelles un routeur se connecte peuvent inclure les technologies LAN, comme Ethernet, et les connexions <content-link target="cg6273327444" type="glossary">série</content-link> WAN, comme une connexion T1 utilisant le protocole PPP, le <content-link target="cg4929417584" type="glossary">relais de trames</content-link> et le <content-link target="cg7863235272" type="glossary">mode ATM</content-link>. </p> <p>La figure permet de suivre un paquet du PC source au PC de destination. Notez que le routeur doit trouver le réseau de destination dans sa table de routage et transférer le paquet vers sa destination. Dans cet exemple, le routeur R1 reçoit le paquet encapsulé dans une trame Ethernet. Après avoir décapsulé le paquet, R1 utilise l’adresse IP de destination du paquet pour rechercher dans sa table de routage une adresse réseau correspondante. Une fois qu’une adresse réseau de destination est trouvée dans cette table, R1 encapsule le paquet dans une trame PPP et transfère le paquet à R2. R2 effectue un processus similaire.</p> <p>Des routes statiques et des protocoles de <content-link target="cg8753322308" type="glossary">routage dynamique</content-link> sont utilisés par les routeurs pour découvrir des réseaux distants et créer leurs tables de routage. Le cours porte principalement sur ces routes et ces protocoles qui seront décrits en détail dans les chapitres suivants, tout comme le processus utilisé par les routeurs pour effectuer des recherches dans leurs tables de routage et transférer les paquets.</p> <p><b>Liens</b></p> <p>« Fonctionnement des routeurs » (en anglais), à l’adresse <content-link target="http://computer.howstuffworks.com/router.htm" type="external">http://computer.howstuffworks.com/router.htm</content-link></p></content-text>
</page>
<page type="FullScreen" id="tl0901010104">
<content-media type="AnimationFullScreen" id="cm5577947532"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010100/tl0901010104/cm5577947532.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010100/tl0901010104/cm5577947532text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="tl0901010105">
<content-media type="ActivityPKA" id="cm8238562839"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010100/tl0901010105/cm8238562839/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901010000/tl0901010100/tl0901010105/cm8238562839/icontext.xml"/></content-media>
<content-text><p>Cet exercice Packet Tracer présente un réseau complexe de routeurs utilisant de nombreuses technologies différentes. Veillez à afficher l’exercice en mode Simulation pour pouvoir observer le trafic à partir de plusieurs sources vers plusieurs destinations sur divers types de <content-link target="cg4379391683" type="glossary">supports</content-link>. Soyez patient car le chargement de cette topologie complexe peut prendre un peu de temps.</p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901010200">
<title><content-text>Processeur et mémoire du routeur</content-text></title>
<page type="OneColumn" id="tl0901010201">
<content-media type="InteractiveGraphicHotspots" id="cm8329007509"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010200/tl0901010201/cm8329007509.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010200/tl0901010201/cm8329007509text.xml"/></content-media>
<content-text><p>Bien qu’il existe plusieurs types et modèles de routeurs, chacun comporte, à la base, les mêmes composants matériels. Selon le modèle, ces composants se trouvent à différents emplacements dans le routeur. La figure présente l’intérieur d’un routeur 1841. Pour voir les composants internes du routeur, vous devez dévisser et retirer son couvercle métallique. <b>En général, il n’est pas nécessaire d’ouvrir le routeur, sauf pour mettre à niveau la mémoire.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0901010202">
<content-media type="InteractiveGraphicRollovers" id="cm7344735929"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010200/tl0901010202/cm7344735929.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010200/tl0901010202/cm7344735929text.xml"/></content-media>
<content-text><p><b>Composants du <content-link target="cg4650099337" type="glossary">routeur</content-link> et leurs fonctions</b></p> <p>Comme un ordinateur personnel, un routeur comprend les éléments suivants :</p> <ul><li> Unité centrale (UC)</li> <li> Mémoire vive (RAM)</li> <li> <content-link target="cg8286776423" type="glossary">Mémoire morte (ROM)</content-link></li></ul> <p><b>Placez le pointeur de la souris sur les composants de la figure pour en afficher une brève description.</b></p> <p><b>UC</b></p> <p>L’UC exécute les instructions du système d’exploitation, telles que l’initialisation du système, les fonctions de routage et les fonctions de commutation.</p> <p><b>Mémoire vive</b></p> <p>La mémoire vive stocke les instructions et les données requises qui doivent être exécutées par l’UC. Elle sert à enregistrer les composants suivants :</p> <ul><li> <b>Système d&apos;exploitation :</b> le logiciel Cisco IOS (Internetwork Operating System) est copié dans la mémoire vive pendant l’amorçage.</li> <li> <b>Fichier de configuration en cours :</b> il s’agit du fichier de configuration qui stocke les commandes de configuration actuellement utilisées par l’IOS du routeur. À de rares exceptions près, toutes les commandes configurées sur le routeur sont enregistrées dans le fichier de configuration en cours, appelé running-config.</li> <li> <b>Table de routage IP :</b> ce fichier stocke des informations sur les réseaux connectés directement et les réseaux distants. Il permet de déterminer le meilleur chemin pour le transfert du paquet.</li> <li> <b>Cache <content-link target="cg4387624266" type="glossary">ARP</content-link> :</b> ce cache contient les mappages d’adresses IPv4 en <content-link target="cg4560460940" type="glossary">adresses MAC</content-link>, comme le cache ARP d’un PC. Le cache ARP est utilisé sur les routeurs dotés d’interfaces de réseau local, telles que les interfaces Ethernet.</li> <li> <b>Mémoire tampon de paquets :</b> les paquets sont stockés temporairement dans une mémoire tampon lors de leur réception sur une interface ou avant de quitter une interface.</li></ul> <p>La mémoire vive est une mémoire volatile : elle perd donc son contenu lorsque le routeur est mis hors tension ou redémarré. Toutefois, le routeur contient également des zones de stockage permanent, comme la mémoire morte, la mémoire <content-link target="cg2090906049" type="glossary">flash</content-link> et la mémoire vive non volatile. </p> <p><b>Mémoire morte</b></p> <p>La mémoire morte est une forme de stockage permanent. Les périphériques Cisco utilisent la mémoire morte pour stocker :</p> <ul><li> les instructions d’amorçage ;</li> <li> un logiciel de diagnostic de base ;</li> <li> une version réduite de l’IOS.</li></ul> <p>La mémoire morte utilise un progiciel, qui est un logiciel incorporé dans le circuit intégré. Le progiciel inclut les logiciels qui n’ont habituellement pas besoin d’être modifiés ou mis à niveau, les instructions d’amorçage par exemple. Plusieurs de ces fonctions, notamment le moniteur ROM, sont étudiées dans un prochain cours. La mémoire morte ne perd pas son contenu lorsque le routeur est mis hors tension ou redémarré.</p> <p><b>Mémoire flash</b></p> <p>La mémoire flash est une mémoire non volatile qui peut être stockée et effacée électriquement. Elle sert de stockage permanent pour le système d’exploitation, Cisco IOS. Sur la plupart des modèles de routeurs Cisco, l’IOS est stocké de manière permanente dans la mémoire flash et copié dans la mémoire vive lors du processus d’amorçage, où il est ensuite exécuté par le processeur. Certains modèles plus anciens de routeurs Cisco exécutent l’IOS directement à partir de la mémoire flash. La mémoire flash se compose de barrettes SIMM ou de cartes PCMCIA qui peuvent être mises à niveau pour en augmenter la capacité.</p> <p>La mémoire flash ne perd pas son contenu lorsque le routeur est mis hors tension ou redémarré.</p> <p><b>Mémoire vive non volatile</b></p> <p>La mémoire vive non volatile (NVRAM) ne perd pas les informations qu’elle contient lorsque le système est mis hors tension. Elle s’oppose aux formes les plus courantes de mémoire vive, telles que la mémoire vive dynamique (DRAM), qui nécessite une alimentation continue pour conserver les informations. La mémoire vive non volatile est utilisée par Cisco IOS comme stockage permanent pour le fichier de configuration initiale (startup-config). Toutes les modifications de configuration sont enregistrées dans le fichier de configuration en cours (running-config) dans la mémoire vive, et sont, à de rares exceptions près, immédiatement implémentées par l’IOS. Pour enregistrer ces modifications, au cas où le routeur serait redémarré ou mis hors tension, la configuration en cours doit être copiée dans la mémoire vive non volatile, où elle est enregistrée en tant que fichier de configuration initiale. La mémoire vive non volatile conserve son contenu, même si le routeur se recharge ou s’il est mis hors tension.</p> <p>La mémoire morte, la mémoire vive, la mémoire vive non volatile et la mémoire flash sont étudiées dans la section suivante, portant sur l’IOS et le processus d’amorçage. Elles seront également traitées plus en détail dans un autre cours relatif à la gestion de l’IOS.</p> <p>Il est plus important pour un professionnel des réseaux de comprendre la fonction des principaux composants internes d’un routeur que de connaître l’emplacement exact de ces composants dans un routeur donné. L’architecture physique interne diffère d’un modèle à l’autre.</p>  <p><b>Liens</b></p> <p>Consultez la « Démonstration multimédia du dossier de la gamme Cisco 1800 » (en anglais), à l’adresse <content-link target="http://www.cisco.com/en/US/products/ps5875/index.html" type="external">http://www.cisco.com/en/US/products/ps5875/index.html</content-link></p></content-text>
</page>
</topic>
<topic type="" id="tl0901010300">
<title><content-text>Internetwork Operating System</content-text></title>
<page type="OneColumn" id="tl0901010301">
<content-media type="AnimationPartialScreen" id="cm3739919545"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010300/tl0901010301/cm3739919545.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010300/tl0901010301/cm3739919545text.xml"/></content-media>
<content-text><p><b>Internetwork Operating System</b></p> <p>Le logiciel du système d’exploitation utilisé dans les routeurs Cisco est appelé Cisco Internetwork Operating System (IOS). Comme tout système d’exploitation d’ordinateur, Cisco IOS gère les ressources matérielles et logicielles du routeur, notamment l’allocation de mémoire, les processus, la sécurité et les systèmes de fichiers. Cisco IOS est un système d’exploitation multitâche qui est intégré aux fonctions de routage, de commutation, d’interconnexion et de télécommunications.</p> <p>Bien que Cisco IOS semble être identique sur de nombreux routeurs, il existe de nombreuses images IOS différentes. Une image IOS est un fichier contenant l’IOS entier pour un routeur donné. Selon le modèle de routeur et les fonctions intégrées à l’IOS, Cisco crée de nombreux types d’images IOS différentes. En général, plus l’IOS comprend de fonctions, plus l’image IOS est grande et plus la quantité de mémoire flash et de mémoire vive nécessaire au stockage et au chargement de l’IOS est importante. Par exemple, certaines fonctions comprennent la possibilité d’exécuter <content-link target="cg8872612645" type="glossary">IPv6</content-link> ou la capacité pour le routeur de procéder à la traduction des adresses de réseau (NAT).</p> <p>Comme les autres systèmes d’exploitation, Cisco IOS possède sa propre interface utilisateur. Bien que certains routeurs fournissent une interface graphique utilisateur, l’interface de ligne de commande (CLI) est une méthode beaucoup plus courante de configuration des routeurs Cisco. L’interface de ligne de commande (CLI) est évoquée tout au long de ce cursus.</p> <p>À l’amorçage, le fichier de configuration initiale (startup-config) stocké dans la mémoire vive non volatile est copié dans la mémoire vive et enregistré en tant que fichier de configuration en cours (running-config). L’IOS exécute les commandes de configuration dans le fichier running-config. Toute modification apportée par l’administrateur réseau est enregistrée dans la configuration en cours et immédiatement implémentée par l’IOS. Dans ce chapitre, nous allons passer en revue une partie des commandes IOS de base utilisées pour configurer un routeur Cisco. Dans les chapitres suivants, nous étudierons les commandes utilisées pour configurer, vérifier et dépanner le <content-link target="cg8507263429" type="glossary">routage statique</content-link> et divers protocoles de routage tels que RIP, EIGRP et OSPF.</p> <p><b>Remarque :</b> Cisco IOS et le processus d’amorçage seront traités plus en détail dans un autre cours.</p></content-text>
</page>
</topic>
<topic type="" id="tl0901010400">
<title><content-text>Processus d’amorçage du routeur</content-text></title>
<page type="OneColumn" id="tl0901010401">
<content-media type="InteractiveGraphicRollovers" id="cm2783740641"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010400/tl0901010401/cm2783740641.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010400/tl0901010401/cm2783740641text.xml"/></content-media>
<content-text><p><b>Processus d’amorçage</b></p> <p>Le processus d’amorçage comporte quatre phases principales :</p> <p>1. Exécution du POST</p> <p>2. Chargement du programme d’amorçage</p> <p>3. Localisation et chargement du logiciel Cisco IOS</p> <p>4. Localisation et chargement du fichier de configuration initiale ou passage en mode Configuration </p> <p><b>1. Exécution du POST </b></p> <p>Le <content-link target="cg1953373827" type="glossary">Power-On Self Test (POST)</content-link> est un processus courant qui s’exécute au démarrage de la quasi-totalité des ordinateurs. Le processus POST est utilisé pour tester le matériel du routeur. Lorsque le routeur est mis sous tension, le logiciel présent sur la puce de mémoire morte effectue le POST. Au cours de ce test automatique, le routeur exécute des diagnostics à partir de la mémoire morte sur plusieurs composants matériels, notamment le processeur, la mémoire vive et la mémoire vive non volatile. Une fois le POST terminé, le routeur exécute le programme d’amorçage.</p> <p><b>2. Chargement du programme d’amorçage </b></p> <p>Après le POST, le programme d’amorçage est copié de la mémoire morte à la mémoire vive. Ensuite, le processeur exécute les instructions du programme d’amorçage. Le rôle principal du programme d’amorçage est de localiser Cisco IOS et de le charger dans la mémoire vive.</p> <p><b>Remarque :</b> à ce stade, si vous disposez d’une connexion console au routeur, vous commencez à voir les informations à l’écran. </p> <p><b>3. Localisation et chargement de Cisco IOS</b></p> <p><b>Localisation du logiciel Cisco IOS.</b> L’IOS est généralement stocké dans la mémoire flash, mais il peut également se trouver à d’autres endroits, sur un serveur TFTP (Trivial File Transfer Protocol) par exemple.</p> <p>S’il est impossible de localiser une image IOS entière, une version réduite de l’IOS est copiée de la mémoire morte à la mémoire vive. Cette version de l’IOS permet de diagnostiquer les éventuels problèmes et peut servir à charger une version complète de l’IOS dans la mémoire vive.</p> <p><b>Remarque :</b> le serveur TFTP sert généralement de serveur de sauvegarde de l’IOS, mais il peut également servir de point central pour le stockage et le chargement de l’IOS. La gestion de l’IOS et l’utilisation du serveur TFTP seront abordés dans un autre cours.</p> <p><b>Chargement de l’IOS.</b> Certains anciens routeurs Cisco exécutaient l’IOS directement à partir de la mémoire flash, mais les modèles actuels copient l’IOS dans la mémoire vive pour qu’il soit exécuté par le processeur. </p> <p><b>Remarque :</b> une fois le chargement de l’IOS lancé, une suite de signes dièse (#) peut s’afficher, comme illustré dans la figure, pendant la décompression de l’image.</p> <p><b>4. Localisation et chargement du fichier de configuration</b></p> <p><b>Localisation du fichier de configuration initiale.</b> Une fois l’IOS chargé, le programme d’amorçage recherche dans la mémoire vive non volatile le fichier de configuration initiale, appelé startup-config. Ce fichier contient les commandes et paramètres de configuration précédemment enregistrés, notamment :</p> <ul><li> les adresses d’interface ;</li> <li> les informations de routage ;</li> <li> les mots de passe ;</li> <li> toute autre configuration enregistrée par l’administrateur réseau.</li></ul> <p>Si le fichier de configuration initiale (startup-config) se trouve dans la mémoire vive non volatile, il est copié dans la mémoire vive en tant que fichier de configuration en cours (running-config).</p> <p><b>Remarque :</b> si le fichier de configuration initiale n’existe pas dans la mémoire vive non volatile, le routeur peut rechercher un serveur TFTP. Si le routeur détecte qu’il possède un lien actif avec un autre routeur configuré, il envoie une requête de recherche par diffusion pour trouver un fichier de configuration dans le lien actif. Cette condition génère une pause du routeur, mais vous finirez par voir un message de console similaire au suivant :</p> <p>&lt;router pauses here while it broadcasts for a configuration file across an active link&gt;</p> <span class="cmd"><p>%Error opening tftp://255.255.255.255/network-confg (Timed out)</p></span> <span class="cmd"><p>%Error opening tftp://255.255.255.255/cisconet.cfg (Timed out)</p></span> <p><b>Exécution du fichier de configuration. </b>Si un fichier de configuration initiale est trouvé dans la mémoire vive non volatile, l’IOS le charge dans la mémoire vive en tant que fichier running-config et exécute les commandes dans le fichier, ligne par ligne. Le fichier de configuration en cours contient des adresses d’interface, lance les processus de routage, configure les mots de passe du routeur et définit d’autres caractéristiques du routeur. </p> <p><b>Passage en mode Configuration (facultatif).</b> S’il est impossible de localiser le fichier de configuration initiale, le routeur invite l’utilisateur à passer en mode Configuration. Le <content-link target="cg2894784407" type="glossary">mode Configuration</content-link> est une série de questions invitant l’utilisateur à entrer des informations de configuration de base. Ce mode n’est pas destiné à être utilisé pour effectuer des configurations de routeur complexes et n’est généralement pas utilisé par les administrateurs réseaux. </p> <p>Lors de l’amorçage d’un routeur ne contenant pas de fichier de configuration initiale, la question suivante s’affiche après le chargement de l’IOS :</p> <span class="cmd"><p>Would you like to enter the initial configuration dialog? [yes/no]: <b>no </b></p></span> <p>Dans ce cours, le mode Configuration n’est pas utilisé pour configurer le routeur. Lorsque vous êtes invité à passer en mode Configuration, répondez toujours <b>no</b>. Si vous répondez <b>yes</b> et que vous passez en mode Configuration, vous pouvez appuyer à tout moment sur <b>Ctrl-C</b> pour mettre fin au processus de configuration.</p> <p>Lorsque le mode Configuration n’est pas utilisé, l’IOS crée un fichier de configuration en cours par défaut. Le fichier de configuration en cours par défaut est un fichier de configuration de base contenant les interfaces du routeur, les interfaces de gestion et certaines informations par défaut. Il ne contient pas d’adresses d’interface, d’informations de routage, de mots de passe ou d’autres informations de configuration spécifiques.</p> <p><b>Interface de ligne de commande</b></p> <p>Selon la plateforme et l’IOS, le routeur peut poser la question suivante avant d’afficher l’invite :</p> <span class="cmd"><p>Would you like to terminate autoinstall? [yes]: <b>&lt;Enter&gt;</b></p></span>  <span class="cmd"><p>Press the Enter key to accept the default answer. </p></span>  <span class="cmd"><p>Router&gt;</p></span> <p><b>Remarque :</b> si un fichier de configuration initiale est trouvé, le fichier de configuration en cours peut contenir un nom d’hôte ; l’invite affiche alors le nom d’hôte du routeur.</p> <p>Lorsque l’invite s’affiche, cela signifie que le routeur exécute l’IOS avec le fichier de configuration en cours d’exécution. L’administrateur réseau peut maintenant commencer à utiliser les commandes IOS sur ce routeur.</p> <p><b>Remarque : </b>le processus d’amorçage sera traité plus en détail dans un autre cours.</p></content-text>
</page>
<page type="OneColumn" id="tl0901010402">
<content-media type="StaticGraphic" id="cm6236486715"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010400/tl0901010402/cm6236486715.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010400/tl0901010402/cm6236486715text.xml"/></content-media>
<content-text><p><b>Vérification du processus d’amorçage du routeur</b></p> <p>La commande <span class="cmd"><b>show version</b></span> peut être utilisée pour vérifier et dépanner certains composants matériels et logiciels de base du routeur. La commande <span class="cmd"><b>show version</b></span> affiche des informations sur la version du logiciel Cisco IOS actuellement en cours d’exécution sur le routeur, sur la version du programme d’amorçage, ainsi que sur la configuration matérielle, en indiquant notamment la quantité de mémoire système.</p> <p>Le résultat de la commande <span class="cmd"><b>show version</b></span> comprend les éléments suivants :</p> <p><b>Version IOS</b></p> <span class="cmd"><p>Cisco Internetwork Operating System Software</p></span> <span class="cmd"><p>IOS (tm) C2600 Software (C2600-I-M), <b>Version 12.2(28)</b>, RELEASE SOFTWARE (fc5)</p></span> <p>Il s’agit de la version du logiciel Cisco IOS qui se trouve en mémoire vive et qui est actuellement utilisé par le routeur.</p> <p><b>Programme d’amorçage en mémoire morte</b></p> <span class="cmd"><p>ROM: System Bootstrap, <b>Version 12.1(3r)T2</b>, RELEASE SOFTWARE (fc1)</p></span> <p>Il s’agit de la version du logiciel d’amorçage système, stocké en mémoire morte, qui a été initialement utilisé pour démarrer le routeur.</p> <p><b>Emplacement du logiciel IOS</b></p> <span class="cmd"><p>System image file is &quot;<b>flash:c2600-i-mz.122-28.bin</b>&quot;</p></span> <p>Indique où se trouve le programme d’amorçage et où il a chargé le logiciel Cisco IOS, ainsi que le nom de fichier complet de l’image IOS.</p> <p><b>UC et quantité de mémoire vive</b></p> <span class="cmd"><p>cisco 2621 (<b>MPC860</b>) processor (revision 0x200) with <b>60416K/5120K bytes of memory</b></p></span> <p>La première partie de cette ligne indique le type d’UC sur ce routeur. La dernière partie de cette ligne affiche la quantité de mémoire vive dynamique. Certains modèles de routeurs, comme les routeurs 2600, utilisent une fraction de mémoire vive dynamique comme mémoire de paquets. Celle-ci est utilisée pour mettre les paquets en mémoire tampon.</p> <p>Pour déterminer la quantité totale de mémoire vive dynamique présente sur le routeur, additionnez les deux nombres. Dans cet exemple, le routeur Cisco 2621 a 60 416 Ko (kilo-octets) de mémoire vive dynamique libre, utilisée pour le stockage temporaire de Cisco IOS et d’autres processus système. Les 5 120 Ko restants sont consacrés à la mémoire de paquets. Additionnés, ces deux nombres donnent 65 536 Ko, ou 64 méga-octets (Mo), de mémoire vive dynamique totale.</p> <p><b>Remarque :</b> il peut être nécessaire de mettre à niveau la quantité de mémoire vive lors de la mise à niveau de l’IOS.</p> <p><b>Interfaces</b></p> <span class="cmd"><p>2 FastEthernet/IEEE 802.3 interface(s)</p></span> <span class="cmd"><p>2 Low-speed serial(sync/async) network interface(s)</p></span> <p>Cette partie du résultat indique les interfaces physiques sur le routeur. Dans cet exemple, le routeur Cisco 2621 a deux interfaces FastEthernet et deux interfaces série à faible vitesse.</p> <p><b>Quantité de mémoire vive non volatile</b></p> <span class="cmd"><p>32K bytes of non-volatile configuration memory.</p></span> <p>Il s’agit de la quantité de mémoire vive non volatile présente sur le routeur. La mémoire vive non volatile sert à stocker le fichier de configuration initiale.</p> <p><b>Quantité de mémoire flash</b></p> <span class="cmd"><p>16384K bytes of processor board System flash (Read/Write)</p></span> <p>Il s’agit de la quantité de mémoire flash présente sur le routeur. La mémoire flash sert à stocker le logiciel Cisco IOS de façon permanente.</p> <p><b>Remarque :</b> il peut être nécessaire de mettre à niveau la quantité de mémoire flash lors de la mise à niveau de l’IOS.</p> <p><b>Registre de configuration</b></p> <span class="cmd"><p>Configuration register is 0x2102</p></span> <p>La dernière ligne de la commande <span class="cmd"><b>show version</b></span> affiche l’actuelle valeur configurée du registre de configuration du logiciel au format hexadécimal. Si une deuxième valeur est affichée entre parenthèses, elle correspond à la valeur du registre de configuration qui sera utilisée pendant le prochain rechargement.</p> <p>Le registre de configuration a plusieurs fonctions, notamment la récupération de mot de passe. Le paramètre d’usine par défaut pour le registre de configuration est 0x2102. Cette valeur indique que le routeur va tenter de charger une image du logiciel Cisco IOS à partir de la mémoire flash et de charger le fichier de configuration initiale à partir de la mémoire vive non volatile.</p> <p><b>Remarque :</b> le registre de configuration sera traité plus en détail dans un autre cours.</p></content-text>
</page>
<page type="OneColumn" id="tl0901010403">
<content-media type="ActivityPKA" id="cm2465326324"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010400/tl0901010403/cm2465326324/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901010000/tl0901010400/tl0901010403/cm2465326324/icontext.xml"/></content-media>
<content-text><p>Utilisez cet exercice Packet Tracer pour vous familiariser avec le mode Configuration et avec la commande <span class="cmd"><b>show running-configuration</b></span>.</p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901010500">
<title><content-text>Interfaces du routeur</content-text></title>
<page type="OneColumn" id="tl0901010501">
<content-media type="InteractiveGraphicRollovers" id="cm3626653393"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010500/tl0901010501/cm3626653393.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010500/tl0901010501/cm3626653393text.xml"/></content-media>
<content-text><p><b>Ports de gestion</b></p> <p>Les routeurs sont dotés de connecteurs physiques qui permettent de les gérer. Ces connecteurs sont appelés ports de gestion. Contrairement aux interfaces Ethernet et série, les ports de gestion ne sont pas utilisés pour le transfert de paquets. Le port de gestion le plus courant est le <content-link target="cg8473764376" type="glossary">port de console</content-link>. Le port de console est utilisé pour connecter un terminal ou, plus fréquemment, un PC exécutant un logiciel émulateur de terminal, afin de configurer le routeur sans qu’il soit nécessaire d’accéder au réseau. Le port de console doit être utilisé pendant la configuration initiale du routeur.</p> <p>Le port auxiliaire est un autre port de gestion. Les routeurs ne possèdent pas tous un port auxiliaire. Parfois, le port auxiliaire peut être utilisé de façon similaire au port de console. Il peut également permettre de relier un modem. Les ports auxiliaires ne sont pas utilisés dans ce cursus.</p> <p>La figure montre le port de console et le port auxiliaire du routeur.</p> <p><b>Interfaces du routeur</b></p> <p>Sur les routeurs Cisco, le terme <i>interface</i> désigne un connecteur physique sur le routeur dont le rôle principal est de recevoir et de transférer des paquets. Les routeurs ont plusieurs interfaces, utilisées pour se connecter à plusieurs réseaux. Généralement, les interfaces se connectent à différents types de réseaux, ce qui veut dire que différents types de supports et de connecteurs sont nécessaires. Ainsi, un routeur nécessite souvent différents types d’interfaces. Par exemple, un routeur possède généralement des interfaces FastEthernet pour les connexions aux différents réseaux locaux et divers types d’interfaces WAN pour connecter divers liens série comme T1, <content-link target="cg5636558179" type="glossary">DSL</content-link> et <content-link target="cg5216639655" type="glossary">RNIS</content-link>. La figure montre les interfaces FastEthernet et les interfaces série du routeur.</p> <p>À l’instar des interfaces d’un PC, les ports et interfaces d’un routeur sont situés à l’extérieur de celui-ci. Cela facilite le branchement des câbles réseau et des connecteurs adéquats.</p> <p><b>Remarque :</b> sur un routeur, une seule interface peut permettre de se connecter à plusieurs réseaux ; toutefois, ceci n’est pas au programme de ce cours et sera traité dans un autre cours.</p> <p>Comme la plupart des périphériques réseau, les routeurs Cisco emploient des indicateurs <content-link target="cg9608982985" type="glossary">LED</content-link> pour fournir des informations d’état. Une LED indique l’activité de l’interface correspondante. Si une LED est éteinte alors que l’interface est active et correctement connectée, cela peut indiquer un problème avec cette interface. Si une interface est occupée en permanence, sa LED reste toujours allumée. Selon le type de routeur, il peut également y avoir d’autres LED. Pour en savoir plus sur l’affichage des LED sur les modèles 1841, cliquez sur le lien ci-dessous.</p> <p><b>Liens</b></p> <p>« Dépannage des routeurs de la gamme Cisco 1800 (modulaires) » (en anglais), à l’adresse <content-link target="http://www.cisco.com/en/US/docs/routers/access/1800/1841/hardware/installation/guide/18troub.html" type="external">http://www.cisco.com/en/US/docs/routers/access/1800/1841/hardware/installation/guide/18troub.html</content-link></p></content-text>
</page>
<page type="OneColumn" id="tl0901010502">
<content-media type="StaticGraphic" id="cm3720251398"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010500/tl0901010502/cm3720251398.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010500/tl0901010502/cm3720251398text.xml"/></content-media>
<content-text><p><b>Les interfaces appartiennent à différents réseaux</b></p> <p>Comme illustré dans la figure, chaque interface du routeur est membre ou hôte d’un réseau IP différent. Chaque interface doit être configurée avec l’adresse IP et le masque de sous-réseau d’un réseau différent. Avec Cisco IOS, deux interfaces actives du même routeur ne peuvent pas appartenir au même réseau.</p> <p>Les interfaces de routeur peuvent être classées en deux groupes principaux :</p> <ul><li> les <b>interfaces LAN</b>, comme Ethernet et FastEthernet ;</li> <li> les <b>interfaces WAN</b>, comme les interfaces série, RNIS et à relais de trames. </li></ul> <p><b>Interfaces LAN</b></p> <p>Comme leur nom l’indique, les interfaces LAN servent à connecter le routeur au réseau local, à la manière d’une carte réseau Ethernet de PC qui permet de connecter le PC au réseau local Ethernet. Comme une carte réseau Ethernet de PC, une interface Ethernet de routeur possède également une adresse MAC de couche 2 et participe au réseau local Ethernet de la même manière que tous les autres <content-link target="cg2311059411" type="glossary">hôtes</content-link> de ce réseau. Par exemple, une interface Ethernet de routeur participe au processus ARP pour ce réseau local. Le routeur conserve un cache ARP pour cette interface, et, lorsque cela est nécessaire, envoie des requêtes ARP et répond à l’aide de réponses ARP. </p> <p>Une interface Ethernet de routeur utilise généralement une prise RJ-45 prenant en charge des câbles à paires torsadées non blindées. Lorsqu’un routeur est connecté à un commutateur, un <content-link target="cg3853080056" type="glossary">câble</content-link> droit est utilisé. Lorsque deux routeurs sont directement connectés aux interfaces Ethernet, ou lorsqu’une carte réseau de PC est directement connectée à une interface Ethernet de routeur, un câble croisé est utilisé. </p> <p>Utilisez l’exercice Packet Tracer plus loin dans cette section pour tester vos compétences en matière de câblage.</p> <p><b>Interfaces WAN</b></p> <p>Les interfaces WAN servent à connecter les routeurs à des réseaux externes, généralement sur une distance géographique importante. L’encapsulation de couche 2 peut être de différents types, notamment PPP, Frame Relay et HDLC (High-Level Data Link Control). À l’instar des interfaces LAN, chaque interface WAN a sa propre adresse IP et son propre masque de sous-réseau, lui permettant d’être identifiée comme faisant partie d’un réseau donné. </p> <p><b>Remarque :</b> les adresses MAC sont utilisées sur les interfaces LAN, telles qu’Ethernet, et non sur les interfaces WAN. Toutefois, les interfaces WAN utilisent leurs propres adresses de couche 2, selon la technologie employée. Les types d’encapsulation et les adresses WAN de couche 2 seront traités dans un autre cours.</p> <p><b>Interfaces du routeur</b></p> <p>Le routeur présenté dans la figure a quatre interfaces. Chaque interface a une adresse IP et un masque de sous-réseau de couche 3 configurés pour être sur un réseau différent. Les interfaces Ethernet ont également des adresses MAC Ethernet de couche 2. </p> <p>Les interfaces WAN utilisent différentes encapsulations de couche 2. Serial 0/0/0 utilise HDLC et Serial 0/0/1 utilise PPP. Ces protocoles point à point série utilisent tous deux une adresse de diffusion pour l’adresse de destination de couche 2 lors de l’encapsulation du paquet IP dans une trame liaison de données.</p> <p>Dans un environnement de travaux pratiques, vous ne pouvez utiliser qu’un nombre restreint d’interfaces LAN et WAN pour configurer les travaux pratiques. Toutefois, avec Packet Tracer, vous disposez d’une certaine flexibilité pour concevoir des réseaux plus complexes.</p></content-text>
</page>
<page type="OneColumn" id="tl0901010503">
<content-media type="ActivityPKA" id="cm1897900983"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010500/tl0901010503/cm1897900983/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901010000/tl0901010500/tl0901010503/cm1897900983/icontext.xml"/></content-media>
<content-text><p>Utilisez l’exercice Packet Tracer pour vous entraîner à sélectionner le bon câble pour brancher les périphériques.</p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0901010504">
<content-media type="ActivityPKA" id="cm7358561846"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010500/tl0901010504/cm7358561846/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901010000/tl0901010500/tl0901010504/cm7358561846/icontext.xml"/></content-media>
<content-text><p>Utilisez l’exercice Packet Tracer pour vous familiariser aux onglets <b>Physical</b>, <b>Config</b> et <b>CLI</b> d’un routeur.</p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901010600">
<title><content-text>Routeurs et couche réseau</content-text></title>
<page type="OneColumn" id="tl0901010601">
<content-media type="AnimationPartialScreen" id="cm8562412505"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010600/tl0901010601/cm8562412505.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010600/tl0901010601/cm8562412505text.xml"/></content-media>
<content-text><p><b>Routeurs et couche réseau</b></p> <p>Le rôle principal d’un routeur est de relier plusieurs réseaux et de transférer des paquets destinés à ses propres réseaux ou à d’autres réseaux. Le routeur est considéré comme relevant de la couche 3 car sa décision principale de transfert est basée sur les informations du paquet IP de la couche 3, en particulier l’adresse IP de destination. Ce processus s’appelle le routage.</p> <p>Lorsqu’un routeur reçoit un paquet, il examine l’adresse IP de destination de celui-ci. Si celle-ci n’appartient à aucun des réseaux directement connectés au routeur, ce dernier doit transférer le paquet à un autre routeur. Dans la figure, R1 examine l’adresse IP de destination du paquet. Après avoir consulté la table de routage, R1 transfère le paquet à R2. Lorsque R2 reçoit le paquet, il examine également l’adresse IP de destination du paquet. Après avoir consulté sa table de routage, R2 transfère le paquet au PC2 par le biais de son réseau Ethernet connecté directement.</p> <p>Lorsqu’un routeur reçoit un paquet, il consulte sa table de routage pour trouver la meilleure correspondance entre l’adresse IP de destination du paquet et l’une des adresses réseau figurant dans la table de routage. Une fois qu’une correspondance est trouvée, le paquet est encapsulé dans la trame liaison de données de couche 2 pour cette interface sortante. Le type d’encapsulation de la liaison de données dépend du type d’interface, Ethernet ou HDLC par exemple.</p> <p>Au final, le paquet atteint un routeur faisant partie d’un réseau qui correspond à l’adresse IP de destination du paquet. Dans cet exemple, le routeur R2 reçoit le paquet envoyé par R1. R2 transfère le paquet à son interface Ethernet, qui appartient au même réseau que le périphérique de destination, à savoir le PC2. </p> <p>Cette séquence d’événements est expliquée plus en détail plus loin dans ce chapitre.</p></content-text>
</page>
<page type="OneColumn" id="tl0901010602">
<content-media type="AnimationPartialScreen" id="cm2652544993"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010600/tl0901010602/cm2652544993.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010600/tl0901010602/cm2652544993text.xml"/></content-media>
<content-text><p><b>Les routeurs fonctionnent au niveau des couches 1, 2 et 3</b></p> <p>Un routeur prend sa décision principale de transfert au niveau de la couche 3, mais comme nous l’avons vu, il participe également aux processus des couches 1 et 2. Une fois qu’un routeur a examiné l’adresse IP de destination d’un paquet et consulté sa table de routage pour prendre sa décision de transfert, il peut transférer ce paquet à l’interface appropriée pour que celui-ci puisse atteindre sa destination. Le routeur encapsule le paquet IP de couche 3 dans la partie données d’une trame liaison de données de couche 2 appropriée à l’interface de sortie. La trame peut être de type Ethernet ou HDLC, ou relever d’une autre encapsulation de couche 2, quelle que soit l’encapsulation utilisée sur cette interface. La trame de couche 2 est encodée dans les signaux physiques de couche 1 utilisés pour représenter les bits sur la liaison physique.</p> <p>Reportez-vous à la figure pour mieux comprendre ce processus. Vous remarquerez que le PC1 intervient dans chacune des sept couches, en encapsulant les données et en envoyant la trame à R1, sa passerelle par défaut, sous forme de flux de bits codés.</p> <p>R1 reçoit ce flux sur son interface. Les bits sont décodés et transmis à la couche 2, où R1 décapsule la trame. Le routeur examine l’adresse de destination de la trame liaison de données pour déterminer si elle concorde avec l’interface de réception, incluant une adresse de diffusion ou de multidiffusion. En cas de correspondance avec la partie données de la trame, le paquet IP est envoyé vers la couche 3, où R1 prend sa décision de routage. R1 encapsule ensuite le paquet dans une nouvelle trame liaison de données de couche 2 et le transfère à l’interface de sortie sous forme de flux de bits encodés. </p> <p>R2 reçoit le flux de bits et le processus se répète. R2 décapsule la trame et transmet la partie données de la trame, le paquet IP, à la couche 3, où R2 prend sa décision de routage. R2 encapsule ensuite le paquet dans une nouvelle trame liaison de données de couche 2 et le transfère à l’interface de sortie sous forme de flux de bits encodés.</p> <p>Ce processus est à nouveau répété par le routeur R3 qui transfère au PC2 le paquet IP, encapsulé dans une trame liaison de données et encodé sous forme de bits. </p> <p>Chaque routeur se trouvant sur le chemin reliant la source à la destination effectue ce même processus de décapsulage, de consultation de la table de routage, puis de nouvelle encapsulation. Il est important de connaître ce processus pour comprendre le rôle des routeurs au sein des réseaux. Par conséquent, nous approfondirons ce point dans une prochaine section.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0901020000">
<title><content-text>Configuration et adressage du CLI</content-text></title>
<topic type="" id="tl0901020100">
<title><content-text>Implémentation de systèmes d’adressage de base</content-text></title>
<page type="OneColumn" id="tl0901020101">
<content-media type="ActivityDnDCheckReset" id="cm1891347561"><title><content-text></content-text></title><media ref="tl0901000000/tl0901020000/tl0901020100/tl0901020101/cm1891347561.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901020000/tl0901020100/tl0901020101/cm1891347561text.xml"/></content-media>
<content-text><p>Lorsque vous concevez un nouveau réseau ou que vous mappez un réseau existant, fournissez des explications écrites sur le réseau. La documentation doit au minimum comprendre un schéma de topologie présentant la connectivité physique et une table d’adressage listant l’ensemble des informations suivantes :</p> <ul><li> les noms des périphériques ;</li> <li> les interfaces utilisées ;</li> <li> les adresses IP et masques de sous-réseau ;</li> <li> les adresses des passerelles par défaut des périphériques finaux, tels que les PC.</li></ul> <p><b>Remplissage d’une table d’adresses </b></p> <p>La figure illustre la topologie d’un réseau, avec les périphériques interconnectés et configurés avec des adresses IP. Au-dessous du schéma de topologie se trouve une table utilisée pour fournir des informations sur le réseau. La table contient en partie les données concernant le réseau (périphériques, adresses IP, masques de sous-réseau et interfaces).</p> <p>Le routeur R1 et l’hôte PC1 sont déjà documentés. Complétez la table et les espaces vides sur le schéma en faisant glisser vers les bons emplacements le pool d’adresses IP se trouvant sous la table.</p></content-text>
</page>
<page type="OneColumn" id="tl0901020102">
<content-media type="ActivityPKA" id="cm1772529439"><title><content-text></content-text></title><media ref="tl0901000000/tl0901020000/tl0901020100/tl0901020102/cm1772529439/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901020000/tl0901020100/tl0901020102/cm1772529439/icontext.xml"/></content-media>
<content-text><p>Utilisez l’exercice Packet Tracer pour connecter les périphériques. Configurez les noms des périphériques conformément à la figure et utilisez la fonction <b>Place Note</b> pour ajouter des étiquettes d’adresse réseau.</p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901020200">
<title><content-text>Configuration des paramètres de base d’un routeur</content-text></title>
<page type="OneColumn" id="tl0901020201">
<content-media type="StaticGraphic" id="cm6104940742"><title><content-text></content-text></title><media ref="tl0901000000/tl0901020000/tl0901020200/tl0901020201/cm6104940742.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901020000/tl0901020200/tl0901020201/cm6104940742text.xml"/></content-media>
<content-text><p><b>Configuration des paramètres de base d’un routeur</b></p> <p>Lors de la configuration d’un routeur, certaines tâches de base sont effectuées, notamment :</p> <ul><li> attribution d’un nom au routeur ;</li> <li> définition des mots de passe ;</li> <li> configuration des interfaces ;</li> <li> configuration d’une bannière ;</li> <li> enregistrement des modifications apportées au routeur ;</li> <li> vérification de la configuration de base et des opérations de routage.</li></ul> <p>En principe, vous connaissez déjà ces commandes de configuration ; nous allons toutefois les revoir rapidement. Supposons pour commencer que le routeur ne possède pas de fichier de configuration initiale.</p> <p>La première invite s’affiche en mode utilisateur. Le mode utilisateur vous permet de voir l’état du routeur, mais pas de modifier sa configuration. Ne confondez pas le terme « utilisateur » faisant référence au mode utilisateur et les utilisateurs du réseau. Le mode utilisateur est destiné aux techniciens, opérateurs et ingénieurs réseau chargés de configurer les périphériques.</p> <span class="cmd"><p>Router&gt;</p></span> <p>La commande <span class="cmd"><b>enable</b></span> permet de passer en <content-link target="cg2124003203" type="glossary">mode d’exécution privilégié</content-link>. Ce mode permet à l’utilisateur de modifier la configuration du routeur. L’invite affichée par le routeur (&gt;) devient # dans ce mode.</p> <span class="cmd"><p>Router&gt;<b>enable</b></p></span> <span class="cmd"><p>Router#</p></span> <p><b>Noms d’hôte et mots de passe</b></p> <p>La figure indique la syntaxe des commandes de configuration des paramètres de base d’un routeur utilisées pour configurer R1 dans l’exemple suivant. Vous pouvez ouvrir l’exercice Packet Tracer 1.2.2 et le suivre, ou attendre la fin de cette section pour le faire.</p> <p>Passez tout d’abord en mode de configuration globale.</p> <span class="cmd"><p>Router#<b>config t </b></p></span> <p>Appliquez ensuite un nom d’hôte unique au routeur.</p> <span class="cmd"><p>Router(config)#<b>hostname R1</b></p></span> <span class="cmd"><p>R1(config)#</p></span> <p>Configurez maintenant un mot de passe à utiliser pour passer en mode d’exécution privilégié. Dans notre environnement de travaux pratiques, nous allons utiliser le mot de passe <i>class</i>. Toutefois, dans des environnements de production, les routeurs doivent avoir des mots de passe forts. Pour en savoir plus sur la création et l’utilisation de mots de passe forts, cliquez sur les liens disponibles à la fin de cette section. </p> <span class="cmd"><p>Router(config)#<b>enable secret class</b></p></span> <p>Configurez ensuite les lignes de console et <content-link target="cg4751811026" type="glossary">Telnet</content-link> avec le mot de passe <i>cisco</i>. Là aussi, le mot de passe <i>cisco</i> est utilisé uniquement dans notre environnement de travaux pratiques. La commande login permet de vérifier le mot de passe sur la ligne. Si vous n’entrez pas la commande login sur la ligne de console, l’utilisateur pourra accéder à cette ligne sans entrer de mot de passe.</p> <span class="cmd"><p>R1(config)#<b>line console 0 </b></p></span> <span class="cmd"><p>R1(config-line)#<b>password cisco</b></p></span> <span class="cmd"><p>R1(config-line)#<b>login </b></p></span> <span class="cmd"><p>R1(config-line)#<b>exit </b></p></span> <span class="cmd"><p>R1(config)#<b>line vty 0 4</b> </p></span> <span class="cmd"><p>R1(config-line)#<b>password cisco</b></p></span> <span class="cmd"><p>R1(config-line)#<b>login </b></p></span> <span class="cmd"><p>R1(config-line)#<b>exit </b></p></span>  <p><b>Configuration d’une bannière</b></p> <p>En mode de configuration globale, configurez la bannière du message du jour (motd). Un séparateur, un « # » par exemple, est utilisé au début et à la fin du message. Le séparateur vous permet de configurer une bannière sur plusieurs lignes, comme illustré ici.</p> <span class="cmd"><p>R1(config)#<b>banner motd # </b></p></span> <span class="cmd"><p>Enter TEXT message. End with the character &apos;#&apos;.</p></span> <span class="cmd"><p><b>******************************************</b></p></span> <span class="cmd"><p><b>WARNING!! Unauthorized Access Prohibited!!</b></p></span> <span class="cmd"><p><b>******************************************</b></p></span> <span class="cmd"><p><b>#</b></p></span> <p>La configuration d’une bannière appropriée est un élément essentiel d’un plan de sécurité efficace. Une bannière doit au moins mettre en garde contre les accès non autorisés. Ne configurez jamais une bannière qui « accueille » un utilisateur non autorisé.</p> <p><b>Liens</b></p> <p>Pour en savoir plus sur l’utilisation des mots de passe forts, consultez les articles suivants :</p> <p>« Réponse de Cisco aux attaques par dictionnaire contre le protocole LEAP de Cisco » (en anglais), à l’adresse <content-link target="http://www.cisco.com/en/US/products/hw/wireless/ps430/prod_bulletin09186a00801cc901.html#wp1002291" type="external">http://www.cisco.com/en/US/products/hw/wireless/ps430/prod_bulletin09186a00801cc901.html#wp1002291</content-link></p> <p>« Mots de passe forts : création et utilisation », à l’adresse <content-link target="http://www.microsoft.com/athome/security/privacy/password.mspx" type="external">http://www.microsoft.com/athome/security/privacy/password.mspx</content-link></p></content-text>
</page>
<page type="OneColumn" id="tl0901020202">
<content-media type="StaticGraphic" id="cm4267619878"><title><content-text></content-text></title><media ref="tl0901000000/tl0901020000/tl0901020200/tl0901020202/cm4267619878.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901020000/tl0901020200/tl0901020202/cm4267619878text.xml"/></content-media>
<content-text><p><b>Configuration d’interface de routeur</b></p> <p>Vous allez maintenant configurer les différentes interfaces du routeur en indiquant les adresses IP et d’autres informations. D’abord, passez au mode de configuration d’interface en indiquant le type et le numéro d’interface. Configurez ensuite l’adresse IP et le masque de sous-réseau :</p> <span class="cmd"><p>R1(config)#<b>interface Serial0/0</b></p></span> <span class="cmd"><p>R1(config-if)#<b>ip address 192.168.2.1 255.255.255.0</b></p></span> <p>Il est conseillé de configurer une description sur chaque interface pour mieux documenter les informations du réseau. Le texte de description est limité à 240 caractères. Sur les réseaux de production, une description peut être utile en matière de dépannage, puisqu’elle fournit des informations sur le type de réseau auquel l’interface se connecte et indique la présence éventuelle d’autres routeurs sur ce réseau. Si l’interface se connecte à un FAI ou à un fournisseur de services, il est utile d’entrer les informations de connexion et de contact du fournisseur, par exemple :</p> <span class="cmd"><p>Router(config-if)#<b>description Ciruit#VBN32696-123 (help desk:1-800-555-1234)</b></p></span> <p>Dans les environnements de travaux pratiques, entrez une description simple pour aider en cas de dépannage, par exemple :</p> <span class="cmd"><p>R1(config-if)#<b>description Link to R2</b></p></span> <p>Une fois l’adresse IP et la description configurées, l’interface doit être activée à l’aide de la commande <span class="cmd"><b>no shutdown</b></span>. Cela revient à mettre l’interface sous tension. L’interface doit également être connectée à un autre périphérique (concentrateur, commutateur, autre routeur, etc.) pour que la couche physique soit active.</p> <span class="cmd"><p>Router(config-if)#<b>no shutdown</b></p></span> <p><b>Remarque :</b> lorsque vous câblez une liaison série point à point dans notre environnement de travaux pratiques, une extrémité du câble est marquée ETTD (DTE) et l’autre ETCD (DCE). Le routeur dont l’interface série est connectée à l’extrémité ETCD du câble nécessite également que la commande <span class="cmd"><b>clock rate</b></span> (fréquence d’horloge) soit configurée sur cette interface série. Cette étape n’est nécessaire que dans un environnement de travaux pratiques et est expliquée plus en détail dans le chapitre 2, « Routage statique ».</p> <span class="cmd"><p>R1(config-if)#<b>clock rate 64000</b></p></span> <p>Appliquez les commandes de configuration d’interface à toutes les autres interfaces à configurer. Dans notre exemple de topologie, l’interface FastEthernet doit être configurée.</p> <span class="cmd"><p>R1(config)#<b>interface FastEthernet0/0</b></p></span> <span class="cmd"><p>R1(config-if)#<b>ip address 192.168.1.1 255.255.255.0</b></p></span> <span class="cmd"><p>R1(config-if)#<b>description R1 LAN</b></p></span> <span class="cmd"><p>R1(config-if)#<b>no shutdown</b></p></span> <p><b>Chaque interface appartient à un réseau différent.</b></p> <p>À ce stade, notez que chaque interface doit appartenir à un réseau différent. Bien que l’IOS vous permette de configurer une adresse IP du même réseau sur deux interfaces différentes, le routeur n’active pas la deuxième interface. </p> <p>Par exemple, que se passe-t-il si vous essayez de configurer l’interface FastEthernet 0/1 sur R1 avec une adresse IP sur le réseau 192.168.1.0/24 ? Une adresse a déjà été attribuée à FastEthernet 0/0 sur ce même réseau. Si vous tentez de configurer une autre interface, FastEthernet 0/1, avec une adresse IP appartenant au même réseau, vous obtenez le message suivant :</p> <span class="cmd"><p>R1(config)#<b>interface FastEthernet0/1</b></p></span> <span class="cmd"><p>R1(config-if)#<b>ip address 192.168.1.2 255.255.255.0</b></p></span> <span class="cmd"><p><span class="blue">192.168.1.0 overlaps with FastEthernet0/0</span></p></span> <p>En cas de tentative d’activation de l’interface à l’aide de la commande <span class="cmd"><b>no shutdown</b></span>, le message suivant s’affiche :</p> <span class="cmd"><p>R1(config-if)#<b>no shutdown</b></p></span> <span class="cmd"><p><span class="blue">192.168.1.0 overlaps with FastEthernet0/0</span></p></span> <span class="cmd"><p><span class="blue">FastEthernet0/1: incorrect IP address assignment</span></p></span> <p>Notez que le résultat de la commande <span class="cmd"><b>show ip interface brief</b></span> indique que la deuxième interface configurée pour le réseau 192.168.1.0/24, FastEthernet 0/1, est toujours inactive. </p> <span class="cmd"><p>R1#<b>show ip interface brief</b></p></span> <span class="cmd"><p>&lt;résultat omis&gt;</p></span> <span class="cmd"><p>FastEthernet0/1 192.168.1.2 YES manual administratively down down</p></span></content-text>
</page>
<page type="OneColumn" id="tl0901020203">
<content-media type="InteractiveGraphicHotspots" id="cm8684422861"><title><content-text></content-text></title><media ref="tl0901000000/tl0901020000/tl0901020200/tl0901020203/cm8684422861.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901020000/tl0901020200/tl0901020203/cm8684422861text.xml"/></content-media>
<content-text><p><b>Vérification de la configuration des paramètres de base d’un routeur</b></p> <p>Dans l’exemple, à ce stade, toutes les précédentes commandes de configuration des paramètres de base d’un routeur ont été entrées et immédiatement stockées dans le fichier de configuration en cours de R1. Le fichier de configuration en cours est stocké dans la mémoire vive. Ce fichier de configuration est utilisé par l’IOS. L’étape suivante consiste à vérifier les commandes entrées en affichant la configuration en cours à l’aide de la commande suivante :</p> <span class="cmd"><p>R1#<b>show running-config</b></p></span> <p>Maintenant que les commandes de configuration de base ont été entrées, il est important d’enregistrer la configuration en cours dans la mémoire vive non volatile du routeur. Ainsi, en cas de panne de courant ou de rechargement accidentel, le routeur peut s’amorcer avec la configuration en cours. Une fois la configuration du routeur effectuée et testée, il est important d’enregistrer la configuration en cours comme configuration initiale pour qu’elle serve de configuration permanente.</p> <span class="cmd"><p>R1#<b>copy running-config startup-config</b></p></span> <p>Une fois la configuration de base appliquée et enregistrée, vous pouvez utiliser plusieurs commandes pour vérifier que vous avez correctement configuré le routeur. Cliquez sur le bouton approprié dans la figure pour afficher chacune des sorties de commande. Toutes ces commandes sont décrites plus en détail dans de prochains chapitres. Pour l’instant, commencez par vous familiariser avec le résultat des commandes.</p> <span class="cmd"><p>R1#<b>show running-config</b></p></span> <p>Cette commande affiche la configuration en cours d’exécution qui est stockée dans la mémoire vive. À de rares exceptions près, toutes les commandes de configuration qui ont été utilisées sont entrées dans le fichier de configuration en cours et immédiatement implémentées par l’IOS. </p> <span class="cmd"><p>R1#<b>show startup-config</b></p></span> <p>Cette commande affiche le fichier de configuration initiale stocké dans la mémoire vive non volatile. C’est la configuration que le routeur utilise au prochain amorçage. Cette configuration ne change pas, sauf si la configuration en cours est enregistrée dans la mémoire vive non volatile à l’aide de la commande <span class="cmd"><b>copy running-config startup-config</b></span>. Notez, dans la figure, que la configuration initiale et la configuration en cours sont identiques. Cela est dû au fait que la configuration en cours n’a pas changé depuis son dernier enregistrement. Notez également que la commande <span class="cmd"><b>show startup-config</b></span> affiche aussi le nombre d’octets utilisés par la configuration enregistrée dans la mémoire vive non volatile.</p> <span class="cmd"><p>R1#<b>show ip route</b></p></span> <p>Cette commande affiche la table de routage actuellement utilisée par l’IOS pour choisir le meilleur chemin vers les réseaux de destination. À ce stade, R1 ne dispose de routes que pour ses réseaux connectés directement par le biais de ses propres interfaces.</p> <span class="cmd"><p>R1#<b>show interfaces</b></p></span> <p>Cette commande affiche tous les paramètres et statistiques de configuration d’interface. Certaines de ces informations seront abordées ultérieurement dans ce cursus et dans le cursus CCNP. </p> <span class="cmd"><p>R1#<b>show ip interface brief</b></p></span> <p>Cette commande affiche des informations sommaires sur la configuration d’interface, notamment l’adresse IP et l’état de l’interface. Il s’agit d’un outil utile en cas de dépannage et d’un moyen rapide de déterminer l’état de toutes les interfaces du routeur.</p></content-text>
</page>
<page type="OneColumn" id="tl0901020204">
<content-media type="ActivityPKA" id="cm6348132421"><title><content-text></content-text></title><media ref="tl0901000000/tl0901020000/tl0901020200/tl0901020204/cm6348132421/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901020000/tl0901020200/tl0901020204/cm6348132421/icontext.xml"/></content-media>
<content-text><p>Utilisez l’exercice Packet Tracer pour mettre en pratique ce que vous avez appris sur la configuration des paramètres de base d’un routeur et les commandes de vérification.</p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0901030000">
<title><content-text>Élaboration de la table de routage</content-text></title>
<topic type="" id="tl0901030100">
<title><content-text>Présentation de la table de routage</content-text></title>
<page type="OneColumn" id="tl0901030101">
<content-media type="StaticGraphic" id="cm8650368766"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030100/tl0901030101/cm8650368766.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901030000/tl0901030100/tl0901030101/cm8650368766text.xml"/></content-media>
<content-text><p><b>Présentation de la table de routage</b></p> <p>La fonction principale d’un routeur est de transférer un paquet à son réseau de destination, lequel correspond à l’adresse IP de destination du paquet. Pour ce faire, le routeur doit rechercher les informations de routage stockées dans sa table de routage. </p> <p>Une table de routage est un fichier de données dans la mémoire vive qui sert à stocker des informations concernant la route pour les réseaux connectés directement et les réseaux distants. La table de routage contient des associations réseau/tronçon suivant. Celles-ci informent un routeur qu’une destination donnée peut être atteinte de manière optimale en envoyant le paquet à un routeur donné, lequel représente le « tronçon suivant » sur le chemin menant à la destination finale. L’association de tronçon suivant peut également être constituée de l’interface de sortie vers la destination finale. </p> <p>L’association réseau/interface de sortie peut également représenter l’adresse réseau de destination du paquet IP. Cette association se produit sur les réseaux connectés directement au routeur.</p> <p>Un réseau connecté directement est un réseau qui est directement branché sur l’une des interfaces du routeur. Lorsqu’une interface de routeur est configurée avec une adresse IP et un masque de sous-réseau, l’interface devient un hôte sur ce réseau connecté. L’adresse réseau et le masque de sous-réseau de l’interface, ainsi que le type et le numéro de l’interface, sont entrés dans la table de routage en tant que réseau directement connecté. Lorsqu’un routeur transfère un paquet à un hôte, un serveur Web par exemple, cet hôte se trouve sur le même réseau qu’un réseau directement connecté au routeur.</p> <p>Un réseau distant n’est pas connecté directement au routeur. En d’autres termes, un réseau distant est un réseau qui peut être atteint uniquement en envoyant le paquet à un autre routeur. Les réseaux distants sont ajoutés à la table de routage grâce à un protocole de routage dynamique ou grâce à la configuration de routes statiques. Les routes dynamiques, qui mènent à des réseaux distants, sont apprises automatiquement par le routeur et utilisent un protocole de routage dynamique. Les routes statiques mènent à des réseaux configurés manuellement par l’administrateur réseau.</p> <p><b>Remarque :</b> la table de routage, avec ses réseaux connectés directement et ses routes statiques et dynamiques, sera présentée dans les sections suivantes et décrite plus en détail tout au long du cours.</p> <p>Les analogies suivantes peuvent aider à clarifier le concept de routes connectées, statiques et dynamiques :</p> <ul><li> <b>Routes directement connectées</b> : pour rendre visite à un <content-link target="cg5460413738" type="glossary">voisin</content-link>, il vous suffit de descendre la rue dans laquelle vous habitez déjà. Cet itinéraire est similaire à une route connectée directement car la « destination » est directement disponible par le biais de votre « interface connectée », la rue.</li> <li> <b>Routes statiques</b> : pour une route donnée, un train utilise toujours la même voie ferrée. Cet itinéraire est similaire à une route statique car le chemin jusqu’à la destination est toujours le même.</li> <li> <b>Routes dynamiques</b> : lorsque vous conduisez une voiture, vous pouvez « dynamiquement » choisir une route différente, en fonction de la circulation, des conditions météorologiques ou autres facteurs. Cet itinéraire est similaire à une route dynamique car vous pouvez choisir, à différents moments du trajet vers la destination, de prendre une autre route.</li></ul> <p><b>La commande</b> <span class="cmd"><b>show ip route</b></span> </p> <p>Comme illustré dans la figure, la table de routage s’affiche à l’aide de la commande <span class="cmd"><b>show ip route</b></span>. À ce stade, aucune route statique n’a été configurée et aucun protocole de routage dynamique activé. Par conséquent, la table de routage pour R1 affiche uniquement les réseaux qui lui sont directement connectés. Les informations suivantes sont fournies pour chaque réseau listé dans la table de routage :</p> <ul><li> <span class="cmd"><b>C</b></span> : les informations contenues dans cette colonne indiquent la source des informations concernant la route, un réseau connecté directement, une route statique ou un protocole de routage dynamique. La lettre <b>C</b> représente une route connectée directement.</li> <li> <span class="cmd"><b>192.168.1.0/24</b></span> : il s’agit de l’adresse réseau et du masque de sous-réseau du réseau connecté directement ou distant. Dans cet exemple, les deux entrées de la table de routage, 192.168.1./24 et 192.168.2.0/24, sont des réseaux connectés directement.</li> <li> <span class="cmd"><b>FastEthernet 0/0</b></span> : les informations figurant à la fin de l’entrée de route représentent l’interface de sortie et/ou l’adresse IP du routeur du <content-link target="cg1289899180" type="glossary">tronçon suivant</content-link>. Dans cet exemple, FastEthernet 0/0 et Serial0/0/0 sont toutes deux les interfaces de sortie utilisées pour atteindre ces réseaux.</li></ul> <p>Lorsque la table de routage comprend une entrée de route pour un réseau distant, des informations supplémentaires sont incluses, comme la métrique de routage et la <content-link target="cg5039223251" type="glossary">distance administrative</content-link>. Les <content-link target="cg5601796963" type="glossary">métriques</content-link> de routage, la distance administrative et la commande <span class="cmd"><b>show ip route</b></span> sont expliquées plus en détail dans les chapitres suivants.</p> <p>Les PC possèdent également une table de routage. Dans la figure, vous pouvez voir la sortie de la commande <span class="cmd"><b>route print</b></span>. La commande indique la passerelle par défaut configurée ou acquise, ainsi que les réseaux connectés, permettant d’<content-link target="cg6552304928" type="glossary">envoyer en boucle</content-link>, de multidiffusion et de diffusion. La sortie de la commande <span class="cmd"><b>route print</b></span> n’est pas analysée dans ce cours. Elle est montrée ici pour insister sur le fait que tous les périphériques IP configurés doivent disposer d’une table de routage.</p></content-text>
</page>
</topic>
<topic type="" id="tl0901030200">
<title><content-text>Réseaux directement connectés</content-text></title>
<page type="OneColumn" id="tl0901030201">
<content-media type="StaticGraphic" id="cm5817273550"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030200/tl0901030201/cm5817273550.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901030000/tl0901030200/tl0901030201/cm5817273550text.xml"/></content-media>
<content-text><p><b>Ajout d’un réseau connecté à la table de routage</b></p> <p>Comme indiqué dans la section précédente, lorsqu’une interface de routeur est configurée avec une adresse IP et un masque de sous-réseau, cette interface devient un hôte sur le réseau. Par exemple, dans la figure, lorsque l’interface FastEthernet 0/0 sur R1 est configurée avec l’adresse IP 192.168.1.1 et le masque de sous-réseau 255.255.255.0, l’interface FastEthernet 0/0 devient alors membre du réseau 192.168.1.0/24. Les hôtes connectés au même réseau local, comme le PC1, sont également configurés avec une adresse IP appartenant au réseau 192.168.1.0/24.</p> <p>Lorsqu’un PC est configuré avec une adresse IP d’hôte et un masque de sous-réseau, il utilise le masque de sous-réseau pour déterminer le réseau auquel il appartient désormais. Cette opération est effectuée par le système d’exploitation, qui applique la commande ET à l’adresse IP d’hôte et au masque de sous-réseau. Lorsqu’une interface est configurée, un routeur utilise la même logique. </p> <p>Un PC est en principe configuré avec une seule adresse IP d’hôte car il n’a qu’une interface réseau, généralement une carte réseau Ethernet. Les routeurs ont plusieurs interfaces ; par conséquent, chaque interface doit appartenir à un réseau différent. Dans la figure, R1 est membre de deux réseaux différents : 192.168.1.0/24 et 192.168.2.0/24. Le routeur R2 est aussi membre de deux réseaux : 192.168.2.0/24 et 192.168.3.0/24.</p> <p>Une fois l’interface du routeur configurée et activée à l’aide de la commande <span class="cmd"><b>no shutdown</b></span>, elle doit recevoir un signal porteur d’un autre périphérique (routeur, commutateur, concentrateur, etc.) avant d’être considérée comme active. Une fois l’interface active, son réseau est ajouté à la table de routage en tant que réseau directement connecté. </p> <p>Avant la configuration d’un quelconque routage statique ou dynamique sur un routeur, celui-ci ne connaît que les réseaux qui sont connectés directement. Ceux-ci sont donc les seuls réseaux affichés dans la table de routage tant que le routage statique ou dynamique n’est pas configuré. Les réseaux directement connectés sont d’une importance capitale pour les décisions de routage. Les routes statiques et dynamiques ne peuvent pas exister dans la table de routage si le routeur n’a pas de réseaux directement connectés. Le routeur ne peut pas envoyer de paquets à une interface si celle-ci n’est pas activée avec une adresse IP et un masque de sous-réseau, de la même façon qu’un PC ne peut pas envoyer de paquets IP à son interface Ethernet si celle-ci n’est pas configurée avec une adresse IP et un masque de sous-réseau.</p> <p><b>Remarque :</b> le processus de configuration d’interfaces de routeur et d’ajout d’adresses réseau à la table de routage est abordé au chapitre suivant.</p></content-text>
</page>
<page type="OneColumn" id="tl0901030202">
<content-media type="ActivityPKA" id="cm4154586307"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030200/tl0901030202/cm4154586307/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901030000/tl0901030200/tl0901030202/cm4154586307/icontext.xml"/></content-media>
<content-text><p>Utilisez l’exercice Packet Tracer pour comprendre comment l’IOS installe et supprime les routes connectées directement.</p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901030300">
<title><content-text>Routage statique</content-text></title>
<page type="OneColumn" id="tl0901030301">
<content-media type="StaticGraphic" id="cm6425002053"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030300/tl0901030301/cm6425002053.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901030000/tl0901030300/tl0901030301/cm6425002053text.xml"/></content-media>
<content-text><p><b>Routage statique</b></p> <p>Les réseaux distants sont ajoutés à la table de routage soit en configurant des routes statiques, soit en activant un protocole de routage dynamique. Lorsque l’IOS doit atteindre un réseau distant et qu’il est informé de l’interface à utiliser, il ajoute cette route à la table de routage tant que l’interface de sortie est activée. </p> <p>Une route statique inclut l’adresse réseau et le masque de sous-réseau du réseau distant, ainsi que l’adresse IP du routeur du tronçon suivant ou de l’interface de sortie. Les routes statiques sont indiquées par le code <b>S</b> dans la table de routage, comme illustré dans la figure. Elles sont traitées en détail au chapitre suivant.</p> <p><b>Quand utiliser les routes statiques ?</b></p> <p>Les routes statiques doivent être utilisées dans les cas suivants :</p> <ul><li> <b>Un réseau ne comporte que quelques routeurs. </b>Dans ce cas, l’utilisation d’un protocole de routage dynamique ne présente aucun bénéfice substantiel. Au contraire, le routage dynamique risque d’accroître la charge administrative.</li> <li> <b>Un réseau est connecté à Internet par le biais d’un seul FAI. </b>Il n’est pas nécessaire d’utiliser un protocole de routage dynamique sur ce lien car le FAI représente le seul point de sortie vers Internet.</li> <li> <b>Un réseau de grande taille est configuré dans une topologie <content-link target="cg3878387383" type="glossary">Hub and Spoke</content-link>. </b>Une topologie Hub and Spoke est constituée d’un emplacement central (le concentrateur ou « Hub ») et de multiples terminaisons (les rayons ou « spokes »), chaque rayon ayant une seule connexion au concentrateur. L’utilisation du routage dynamique serait inutile car chaque terminaison n’est reliée à une destination donnée que par un chemin unique, qui passe par l’emplacement central.</li></ul> <p>Généralement, la plupart des tables de routage contiennent une combinaison de routes statiques et de routes dynamiques. Toutefois, comme indiqué précédemment, la table de routage doit d’abord contenir les réseaux connectés directement qui sont utilisés pour accéder aux réseaux distants, avant de pouvoir utiliser un quelconque routage statique ou dynamique.</p></content-text>
</page>
<page type="OneColumn" id="tl0901030302">
<content-media type="ActivityPKA" id="cm6134660474"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030300/tl0901030302/cm6134660474/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901030000/tl0901030300/tl0901030302/cm6134660474/icontext.xml"/></content-media>
<content-text><p>Utilisez l’exercice Packet Tracer pour comprendre comment l’IOS installe et supprime les routes statiques.</p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901030400">
<title><content-text>Routage dynamique</content-text></title>
<page type="OneColumn" id="tl0901030401">
<content-media type="StaticGraphic" id="cm7295035773"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030400/tl0901030401/cm7295035773.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901030000/tl0901030400/tl0901030401/cm7295035773text.xml"/></content-media>
<content-text><p><b>Routage dynamique</b></p> <p>Les réseaux distants peuvent également être ajoutés à la table de routage à l’aide d’un protocole de routage dynamique. Dans la figure, R1 a reçu automatiquement les informations nécessaires concernant le réseau 192.168.4.0/24 en provenance de R2, via le protocole de routage dynamique RIP (Routing Information Protocol). Le protocole RIP a été l’un des premiers protocoles de routage IP et est abordé en détail dans de prochains chapitres. </p> <p><b>Remarque :</b> dans la figure, la table de routage de R1 montre que celui-ci dispose des informations nécessaires concernant deux réseaux distants : une route qui a utilisé le protocole RIP dynamiquement et une route statique configurée manuellement. Cet exemple illustre comment les tables de routage peuvent contenir des routes apprises dynamiquement et des routes configurées de manière statique ; il ne représente pas forcément la meilleure configuration pour ce réseau.</p> <p>Les protocoles de routage dynamique sont utilisés par les routeurs pour partager des informations sur l’accessibilité et l’état des réseaux distants. Les protocoles de routage dynamique effectuent plusieurs tâches, notamment :</p> <ul><li> détection de réseaux ;</li> <li> mise à jour et maintenance des tables de routage.</li></ul> <p><b>Détection automatique de réseaux</b></p> <p>La détection de réseaux est la capacité d’un protocole de routage à partager des informations concernant les réseaux qu’il connaît avec d’autres routeurs utilisant le même protocole de routage. Au lieu de configurer des routes statiques vers des réseaux distants sur chaque routeur, un protocole de routage dynamique permet aux routeurs de recevoir automatiquement, par le biais d’autres routeurs, les informations nécessaires concernant ces réseaux. Ces réseaux, ainsi que le meilleur chemin pour accéder à chacun d’eux, sont ajoutés dans la table de routage du routeur et désignés comme acquis par un protocole de routage dynamique spécifique.</p> <p><b>Maintenance des tables de routage</b></p> <p>Après la découverte initiale des réseaux, les <content-link target="cg2512579249" type="glossary">protocoles de routage dynamique</content-link> les mettent à jour et les gèrent dans leurs tables de routage. Les protocoles de routage dynamique ne déterminent pas seulement le meilleur chemin pour rejoindre tel ou tel réseau, ils déterminent également un nouveau meilleur chemin si le chemin initial devient inutilisable (ou si la topologie change). C’est pour cette raison que les protocoles de routage dynamique sont plus avantageux que les routes statiques. Les routeurs utilisant des protocoles de routage dynamique partagent automatiquement des informations de routage avec d’autres routeurs et prennent en compte toute modification de la topologie, sans nécessiter l’intervention de l’administrateur réseau.</p> <p><b>Protocoles de routage IP</b></p> <p>Il existe plusieurs protocoles de routage dynamique IP. Voici quelques-uns des protocoles de routage dynamiques les plus répandus en matière de routage des paquets IP :</p> <ul><li> protocole RIP (Routing Information Protocol) </li> <li> <content-link target="cg4423637020" type="glossary">protocole IGRP</content-link> (Interior Gateway Routing Protocol)</li> <li> protocole EIGRP (Enhanced Interior Gateway Routing Protocol)</li> <li> protocole OSPF (Open Shortest Path First)</li> <li> protocole IS-IS (Intermediate System-to-Intermediate System)</li> <li> protocole BGP (Border Gateway Protocol)</li></ul> <p><b>Remarque :</b> les protocoles RIP (versions 1 et 2), EIGRP et OSPF sont abordés plus loin dans ce cours. Les protocoles EIGRP, OSPF, IS-IS et BGP sont également expliqués plus en détail dans le cursus CCNP. IGRP est un protocole de routage traditionnel, qui a été remplacé par EIGRP. IGRP et EIGRP sont tous deux des protocoles de routage propriétaires Cisco, alors que tous les autres protocoles de routage listés sont des protocoles standard, non propriétaires. </p> <p>N’oubliez pas que, dans la plupart des cas, les routeurs contiennent une combinaison de routes statiques et de routes dynamiques dans leur table de routage. Les protocoles de routage dynamique sont décrits plus en détail dans le chapitre 3, « Présentation des protocoles de routage dynamique ». </p></content-text>
</page>
<page type="OneColumn" id="tl0901030402">
<content-media type="ActivityPKA" id="cm2414749699"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030400/tl0901030402/cm2414749699/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901030000/tl0901030400/tl0901030402/cm2414749699/icontext.xml"/></content-media>
<content-text><p>Utilisez l’exercice Packet Tracer pour comprendre comment l’IOS installe et supprime les routes dynamiques.</p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901030500">
<title><content-text>Principes d’une table de routage</content-text></title>
<page type="OneColumn" id="tl0901030501">
<content-media type="AnimationPartialScreen" id="cm9786198804"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030500/tl0901030501/cm9786198804.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901030000/tl0901030500/tl0901030501/cm9786198804text.xml"/></content-media>
<content-text><p><b>Principes d’une table de routage</b></p> <p>À différents moments de ce cours, nous allons nous référer à trois principes relatifs aux tables de routage qui peuvent vous aider à comprendre, configurer et résoudre les problèmes de routage. Ces principes sont tirés du livre <i>Cisco IP Routing</i> (Routage IP Cisco) d’Alex Zinin.</p> <p>1. Chaque routeur prend sa décision tout seul, en fonction des informations disponibles dans sa table de routage. </p> <p>2. Le fait qu’un routeur dispose de certaines informations dans sa table de routage ne signifie pas que les autres routeurs ont les mêmes informations. </p> <p>3. Les informations de routage concernant un chemin menant d’un réseau à un autre ne fournissent aucune information sur le chemin inverse ou le chemin de retour.</p> <p>Quel effet ont ces principes ? Prenons l’exemple présenté dans la figure.</p> <p>1. Après avoir pris sa décision de routage, le routeur R1 transfère au routeur R2 le paquet destiné au PC2. R1 ne dispose que des informations contenues dans sa propre table de routage, lesquelles indiquent que R2 constitue le routeur du tronçon suivant. R1 ne sait pas si R2 dispose ou non d’une route vers le réseau de destination. </p> <p>2. L’administrateur réseau doit s’assurer que tous les routeurs qui sont sous son contrôle disposent d’informations de routage complètes et précises, permettant le transfert des paquets entre deux réseaux, quels qu’ils soient. Il peut procéder à l’aide de routes statiques, d’un protocole de routage dynamique ou d’une combinaison des deux.</p> <p>3. Le routeur R2 a pu transférer le paquet au réseau de destination du PC2. Toutefois, le paquet envoyé du PC2 au PC1 a été abandonné par R2. Bien que R3 dispose, dans sa table de routage, d’informations concernant le réseau de destination de PC1, nous ne savons pas si le routeur R2 a des informations sur le chemin de retour vers le réseau du PC1. </p> <p><b>Routage asymétrique</b></p> <p>Les routeurs ne disposant pas forcément tous des mêmes informations dans leur table de routage, les paquets peuvent traverser le réseau en empruntant un chemin donné et utiliser un chemin différent pour le retour. On parle de <content-link target="cg6775430194" type="glossary">routage asymétrique</content-link>. Le routage asymétrique est plus courant sur Internet, qui utilise le protocole de routage de passerelle externe BGP, que dans la plupart des réseaux internes.</p> <p>Lorsqu’il conçoit et dépanne un réseau, l’administrateur réseau doit donc vérifier les informations de routage suivantes :</p> <ul><li> Existe-t-il un chemin entre la source et la destination qui soit disponible dans les deux sens ?</li> <li> Le chemin emprunté dans les deux sens est-il le même ? (Le routage asymétrique est relativement courant, mais il peut parfois poser des problèmes supplémentaires.)</li></ul></content-text>
</page>
<page type="OneColumn" id="tl0901030502">
<content-media type="ActivityPKA" id="cm1190932262"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030500/tl0901030502/cm1190932262/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901030000/tl0901030500/tl0901030502/cm1190932262/icontext.xml"/></content-media>
<content-text><p>Utilisez l’exercice Packet Tracer pour examiner un réseau entièrement convergent, doté de routes connectées, statiques et dynamiques.</p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0901040000">
<title><content-text>Détermination du chemin et fonctions de commutation</content-text></title>
<topic type="" id="tl0901040100">
<title><content-text>Champs d’un paquet et d’une trame</content-text></title>
<page type="OneColumn" id="tl0901040101">
<content-media type="ActivityDnDCheckReset" id="cm1479960196"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040100/tl0901040101/cm1479960196.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040100/tl0901040101/cm1479960196text.xml"/></content-media>
<content-text><p><b>Champs d’un paquet et d’une trame</b></p> <p>Comme évoqué précédemment, les routeurs prennent leur décision principale de transfert en examinant l’adresse IP de destination d’un paquet. Avant d’être envoyé à l’interface de sortie appropriée, le paquet IP doit être encapsulé dans une trame liaison de données de couche 2. Plus loin dans cette section, nous suivrons un paquet IP de sa source à sa destination, en examinant le processus d’encapsulation et de décapsulage au niveau de chaque routeur. Mais revoyons d’abord le format d’un paquet IP de couche 3 et d’une trame Ethernet de couche 2.</p> <p><b>Format du paquet IP</b></p> <p>Le protocole IP spécifié dans le document RFC 791 définit le format du paquet IP. L’en-tête du paquet IP dispose de champs spécifiques contenant des informations sur le paquet et sur les hôtes émetteurs et récepteurs. La liste qui figure ci-dessous répertorie les champs présents dans l’en-tête IP, accompagnés d’une brève description. En principe, vous connaissez déjà les champs d’adresse IP de destination, d’adresse IP source, de version et de <content-link target="cg3832693226" type="glossary">durée de vie</content-link>. Les autres champs sont importants, mais ils ne sont pas traités dans ce cours.</p> <ul><li><b> Version</b> : numéro de version (4 bits). La version la plus répandue est IP version 4 (IPv4).</li> <li> <b>Longueur de l’en-tête IP</b> : ce champ est codé sur 4 bits et représente la longueur en mots de 32 bits de l’en-tête IP.</li> <li> <b>Préséance et type de service</b> : mode de traitement du datagramme (8 bits). Les 3 premiers bits sont les bits de préséance (cette utilisation a été supplantée par DSCP (Differentiated Services Code Point) qui utilise les 6 premiers bits (les 2 derniers sont réservés)).</li> <li> <b>Longueur du paquet</b> : longueur totale (en-tête + données) (16 bits).</li> <li> <b>Identification</b> : valeur de datagramme IP unique (16 bits).</li> <li> <b>Indicateurs</b> : contrôle la fragmentation (3 bits).</li> <li> <b>Décalage du fragment</b> : prend en charge la fragmentation des <content-link target="cg2992967514" type="glossary">datagrammes</content-link> pour permettre des unités de transmission maximale (MTU) différentes sur Internet (13 bits).</li> <li> <b>Durée de vie</b> : détermine le nombre de routeurs pouvant être traversés par le datagramme avant abandon (8 bits).</li> <li> <b>Protocole</b> : protocole de couche supérieure envoyant le datagramme (8 bits).</li> <li> <b>Somme de contrôle d’en-tête</b> : contrôle d’intégrité de l’en-tête (16 bits).</li> <li> <b>Adresse IP source</b> : adresse IP source de 32 bits (32 bits).</li> <li> <b>Adresse IP de destination</b> : adresse IP de destination de 32 bits (32 bits).</li> <li> <b>Options IP</b> : tests réseau, débogage, sécurité et autres options (0 ou 32 bits, le cas échéant).</li></ul></content-text>
</page>
<page type="OneColumn" id="tl0901040102">
<content-media type="StaticGraphic" id="cm3961277295"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040100/tl0901040102/cm3961277295.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040100/tl0901040102/cm3961277295text.xml"/></content-media>
<content-text><p><b>Format de trame de couche MAC</b></p> <p>La trame liaison de données de couche 2 contient généralement des informations d’en-tête, avec une adresse source et une adresse de destination de la liaison de données, des informations sur la queue de bande et les données réellement transmises. L’adresse source de la liaison de données est l’adresse de couche 2 de l’interface qui a envoyé la trame liaison de données. L’adresse de destination de la liaison de données est l’adresse de couche 2 de l’interface du périphérique de destination. L’interface de la liaison de données source et l’interface de la liaison de données de destination se trouvent sur le même réseau. Lorsqu’un paquet est transféré d’un routeur à l’autre, les adresses IP source et de destination de couche 3 ne changent pas ; par contre, les adresses des liaisons de données source et de destination changent. Ce processus est examiné plus en détail plus loin dans cette section.</p> <p><b>Remarque :</b> lorsque la traduction d’adresses de réseau (NAT) est utilisée, l’adresse IP de destination change, mais ce processus ne concerne pas IP et est effectué au sein du réseau d’une entreprise. Le routage utilisant la NAT sera abordé dans un autre cours.</p> <p>Le paquet IP de couche 3 est encapsulé dans la trame liaison de données de couche 2 associée à cette interface. Dans cet exemple, nous allons utiliser la trame Ethernet de couche 2. La figure présente les deux versions compatibles d’Ethernet. La liste qui figure ci-dessous répertorie les champs présents dans une trame Ethernet, accompagnés d’une brève description.</p> <ul><li> <b>Préambule</b> : 7 octets alternant 0 et 1, utilisés pour synchroniser les signaux.</li> <li> <b>Délimiteur de début de trame (SOF)</b> : 1 octet indiquant le début de la trame.</li> <li> <b>Adresse de destination</b> : adresse MAC de 6 octets du périphérique récepteur sur le segment local.</li> <li> <b>Adresse source</b> : adresse MAC de 6 octets du périphérique émetteur sur le segment local.</li> <li> <b>Type/longueur</b> : 2 octets indiquant le type de protocole de couche supérieure (format de trame Ethernet II) ou la longueur du champ de données (format de trame IEEE 802.3).</li> <li> <b>Données et remplissage</b> : 46 à 1 500 octets de données, les zéros étant utilisés pour remplir les paquets de données de moins de 46 octets.</li> <li> <b>Séquence de contrôle de trame</b> : 4 octets utilisés pour le contrôle par redondance cyclique, afin de s’assurer que la trame n’est pas endommagée.</li></ul></content-text>
</page>
</topic>
<topic type="" id="tl0901040200">
<title><content-text>Meilleur chemin et métrique</content-text></title>
<page type="OneColumn" id="tl0901040201">
<content-media type="AnimationPartialScreen" id="cm3151435222"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040200/tl0901040201/cm3151435222.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040200/tl0901040201/cm3151435222text.xml"/></content-media>
<content-text><p><b>Meilleur chemin</b></p> <p>La détermination du meilleur chemin d’un routeur implique d’évaluer plusieurs chemins menant au même réseau de destination et de choisir le chemin optimal ou « le plus court » pour atteindre ce réseau. Lorsqu’il existe plusieurs chemins menant au même réseau, chaque chemin utilise une interface de sortie différente sur le routeur pour atteindre ce réseau. Le meilleur chemin est sélectionné par un protocole de routage, qui utilise une valeur ou une métrique pour déterminer la distance à parcourir pour atteindre un réseau. Certains protocoles de routage, tels que le protocole RIP, se basent sur le nombre de sauts simples, qui représente le nombre de routeurs entre un routeur et le réseau de destination. Pour relier un routeur au réseau de destination, d’autres protocoles de routage, tels que le protocole OSPF, déterminent le chemin le plus court en examinant la bande passante des liens et en utilisant ceux dont la bande passante est la meilleure.</p> <p>Les protocoles de routage dynamique utilisent généralement leurs propres règles et métriques pour constituer et mettre à jour leur table de routage. Une métrique est une valeur quantitative utilisée pour mesurer la distance pour une route donnée. Le meilleur chemin pour rejoindre un réseau est celui dont la métrique est la plus faible. Par exemple, un routeur préfère un chemin comportant 5 sauts à un chemin qui en contient 10.</p> <p>Le principal objectif du protocole de routage est de déterminer les meilleurs chemins pour chaque route afin de les intégrer à la table de routage. L’algorithme de routage génère une valeur ou une métrique, pour chaque chemin traversant le réseau. Les métriques peuvent se baser sur une ou plusieurs caractéristiques d’un chemin. Pour choisir la route, certains protocoles de routage peuvent utiliser plusieurs métriques et les combiner en une seule. Plus la valeur de la métrique est faible, meilleur est le chemin.</p> <p><b>Comparaison des métriques du nombre de sauts et de la bande passante</b></p> <p>Voici deux métriques utilisées par certains protocoles de routage dynamique :</p> <ul><li> <b>Nombre de sauts</b> : le nombre de sauts correspond au nombre de routeurs qu’un paquet doit traverser avant d’atteindre sa destination. Chaque routeur équivaut à un saut. Un nombre de sauts égal à 4 signifie que le paquet doit passer par quatre routeurs pour atteindre sa destination. Si plusieurs chemins existent pour atteindre une destination, le protocole de routage, RIP par exemple, choisit celui dont le nombre de sauts est le plus faible.</li> <li> <b>Bande passante</b> : la bande passante correspond à la capacité de débit d’un lien, parfois appelée vitesse du lien. Par exemple, l’implémentation du protocole de routage OSPF par Cisco utilise la bande passante comme métrique. Le meilleur chemin pour rejoindre un réseau est celui qui comporte une accumulation de liens dont les valeurs de bande passante sont les plus élevées, c’est-à-dire les liens les plus rapides. L’utilisation de la bande passante dans le protocole OSPF est expliquée au chapitre 11. </li></ul> <p><b>Remarque : </b>d’un point de vue technique, la <i>vitesse</i> ne constitue pas une description précise de la bande passante, car tous les bits circulent à la même vitesse sur le même support physique. La bande passante se définit plus précisément par le nombre de bits pouvant être transmis par seconde sur un lien.</p> <p>Lorsque la métrique utilisée est le nombre de sauts, le chemin peut s’avérer inefficace. Prenons par exemple le réseau présenté dans la figure. Si le protocole de routage utilisé par les trois routeurs est RIP, R1 choisit la route non optimale, qui passe par R3 pour rejoindre le PC2, car ce chemin comporte moins de sauts. La bande passante n’est pas prise en compte. À l’inverse, si le protocole de routage utilisé est OSPF, R1 choisit la route en fonction de la bande passante. Les paquets peuvent atteindre leur destination plus rapidement en utilisant les deux liens T1, plus rapides, plutôt que le lien unique et plus lent de 56 Kbits/s.</p></content-text>
</page>
<page type="OneColumn" id="tl0901040202">
<content-media type="ActivityPKA" id="cm9355418918"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040200/tl0901040202/cm9355418918/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901040000/tl0901040200/tl0901040202/cm9355418918/icontext.xml"/></content-media>
<content-text><p>Utilisez l’exercice Packet Tracer pour déterminer le meilleur chemin à l’aide de tables de routage.</p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901040300">
<title><content-text>Équilibrage de charge à coût égal</content-text></title>
<page type="OneColumn" id="tl0901040301">
<content-media type="AnimationPartialScreen" id="cm3144198752"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040300/tl0901040301/cm3144198752.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040300/tl0901040301/cm3144198752text.xml"/></content-media>
<content-text><p><b>Équilibrage de charge à coût égal</b></p> <p>Vous vous demandez peut-être ce qui se passe si une table de routage contient deux ou plusieurs chemins ayant la même métrique et menant au même réseau de destination. Si un routeur dispose de plusieurs chemins vers un réseau de destination et que la valeur de cette métrique (nombre de sauts, bande passante, etc.) est la même, on parle de <content-link target="cg1940253388" type="glossary">métrique à coût égal</content-link> et le routeur effectue alors un <content-link target="cg3369030743" type="glossary">équilibrage de charge à coût égal</content-link>. La table de routage contient le réseau de destination unique, mais plusieurs interfaces de sortie, une pour chaque chemin de coût égal. Le routeur transfère les paquets en utilisant les différentes interfaces de sortie listées dans la table de routage. </p> <p>S’il est correctement configuré, l’équilibrage de charge peut améliorer l’efficacité et les performances du réseau. L’équilibrage de charge à coût égal peut être configuré pour utiliser à la fois des protocoles de routage dynamique et des routes statiques. L’équilibrage de charge à coût égal est abordé plus en détail au chapitre 8, « Table de routage : examen détaillé ».</p> <p><b>Chemins à coût égal et chemins à coût inégal</b></p> <p>Pour information, un routeur peut envoyer des paquets sur plusieurs réseaux même lorsque la métrique n’est pas la même, s’il utilise un protocole de routage qui le permet. On parle d’<content-link target="cg2256393806" type="glossary">équilibrage de charge à coût inégal</content-link>. Seuls les protocoles de routage EIGRP et IGRP peuvent être configurés pour l’équilibrage de charge à coût inégal. L’équilibrage de charge à coût inégal avec le protocole EIGRP est abordé non pas dans ce cursus, mais dans le cursus CCNP. </p></content-text>
</page>
<page type="OneColumn" id="tl0901040302">
<content-media type="ActivityPKA" id="cm8282093318"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040300/tl0901040302/cm8282093318/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901040000/tl0901040300/tl0901040302/cm8282093318/icontext.xml"/></content-media>
<content-text><p>Utilisez l’exercice Packet Tracer pour explorer une table de routage utilisant un <content-link target="cg9327612657" type="glossary">équilibrage de charge</content-link> à <content-link target="cg2024046045" type="glossary">coût</content-link> égal.</p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901040400">
<title><content-text>Détermination du chemin</content-text></title>
<page type="OneColumn" id="tl0901040401">
<content-media type="StaticGraphic" id="cm2642154089"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040400/tl0901040401/cm2642154089.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040400/tl0901040401/cm2642154089text.xml"/></content-media>
<content-text><p><b>Détermination du chemin</b></p> <p>Pour le transfert des paquets, deux fonctions sont utilisées :</p> <ul><li> la fonction de détermination du chemin ;</li> <li> la fonction de commutation.</li></ul> <p>La fonction de détermination du chemin est le processus utilisé par le routeur pour déterminer le chemin à emprunter lors du transfert d’un paquet. Pour déterminer le meilleur chemin, le routeur recherche dans sa table de routage une adresse réseau correspondant à l’adresse IP de destination du paquet.</p> <p>Cette recherche renvoie l’une des trois déterminations de chemin suivantes :</p> <p><b>Réseau connecté directement</b> : si l’adresse IP de destination du paquet appartient à un périphérique situé sur un réseau qui est connecté directement à l’une des interfaces du routeur, le paquet est transféré directement à ce périphérique. Ceci signifie que l’adresse IP de destination du paquet est une adresse d’hôte sur le même réseau que l’interface de ce routeur.</p> <p><b>Réseau distant</b> : si l’adresse IP de destination du paquet appartient à un réseau distant, le paquet est transféré à un autre routeur. Il n’est possible d’accéder aux réseaux distants qu’en transférant les paquets à un autre routeur.</p> <p><b>Aucune route déterminée</b> : si l’adresse IP de destination du paquet n’appartient ni à un réseau connecté ni à un réseau distant, et que le routeur ne possède pas de route par défaut, le paquet est abandonné. Le routeur envoie un message de <content-link target="cg6990448592" type="glossary">protocole ICMP</content-link> inaccessible à l’adresse IP source du paquet.</p> <p>Dans les deux premiers résultats, le routeur réencapsule le paquet IP dans le format de trame liaison de données de couche 2 de l’interface de sortie. Le type d’encapsulation de couche 2 est déterminé par le type d’interface. Par exemple, si l’interface de sortie est FastEthernet, le paquet est encapsulé dans une trame Ethernet. Si l’interface de sortie est une interface série configurée pour le protocole PPP, le paquet IP est encapsulé dans une trame PPP. </p> <p>Ce processus est expliqué à la section suivante.</p></content-text>
</page>
</topic>
<topic type="" id="tl0901040500">
<title><content-text>La fonction de commutation</content-text></title>
<page type="OneColumn" id="tl0901040501">
<content-media type="AnimationStepped" id="cm2117342259"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040500/tl0901040501/cm2117342259.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040500/tl0901040501/cm2117342259text.xml"/></content-media>
<content-text><p><b>La fonction de commutation</b></p> <p>Une fois que le routeur a déterminé l’interface de sortie à l’aide de la fonction de détermination du chemin, le routeur doit encapsuler le paquet dans la trame liaison de données de l’interface de sortie.</p> <p>La fonction de commutation est le processus utilisé par un routeur pour accepter un paquet sur une interface et le transférer à une autre interface. La fonction de commutation a pour responsabilité principale d’encapsuler les paquets dans le type de trame liaison de données adéquat pour la liaison de données de sortie. </p> <p>Que fait un routeur d’un paquet qu’il a reçu d’un réseau et qui est destiné à un autre réseau ? Le routeur effectue les trois étapes principales suivantes :</p> <p>1. Il décapsule le paquet de couche 3 en supprimant l’en-tête et la queue de bande de la trame de couche 2.</p> <p>2. Il examine l’adresse IP de destination du paquet IP pour trouver le meilleur chemin dans la table de routage.</p> <p>3. Il encapsule le paquet de couche 3 dans une nouvelle trame de couche 2 et transfère la trame à l’interface de sortie.</p> <p><b>Cliquez sur Lire pour lancer l’animation. </b></p> <p>Lorsque le paquet IP de couche 3 est transféré d’un routeur à l’autre, il reste inchangé, sauf en ce qui concerne le champ de durée de vie. Lorsqu’un routeur reçoit un paquet IP, il décrémente de un la valeur de la durée de vie. Si la nouvelle valeur de la durée de vie est zéro, le routeur ignore le paquet. La durée de vie est utilisée pour empêcher les paquets IP de circuler indéfiniment sur les réseaux du fait d’une boucle de routage ou d’un dysfonctionnement sur le réseau. Les boucles de routage seront abordées dans un autre chapitre.</p> <p>Alors que le paquet IP est décapsulé à partir d’une trame de couche 2 et encapsulé dans une nouvelle trame de couche 2, l’adresse de destination et l’adresse source de la liaison de données changent lorsqu’il est transféré d’un routeur à l’autre. L’adresse source de la liaison de données de couche 2 représente l’adresse de couche 2 de l’interface de sortie. L’adresse de destination de couche 2 représente l’adresse de couche 2 du routeur du tronçon suivant. Si le tronçon suivant est le périphérique de destination final, il s’agit de l’adresse de couche 2 de ce périphérique. </p> <p>Il est très probable que le paquet soit encapsulé dans un type de trame de couche 2 différent de celui dans lequel il a été reçu. Par exemple, le paquet peut être reçu par le routeur sur une interface FastEthernet, encapsulé dans une trame Ethernet et transféré d’une interface série encapsulé dans une trame PPP. </p> <p>N’oubliez pas que lorsqu’un paquet circule du périphérique source au périphérique de destination final, les adresses IP de couche 3 ne changent pas. Cependant, les adresses de liaison de données de couche 2 changent à chaque saut, lorsque le paquet est décapsulé, puis encapsulé dans une nouvelle trame par chacun des routeurs.</p></content-text>
</page>
<page type="OneColumn" id="tl0901040502">
<content-media type="AnimationStepped" id="cm2812462933"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040500/tl0901040502/cm2812462933.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040500/tl0901040502/cm2812462933text.xml"/></content-media>
<content-text><p><b>Détails sur les fonctions de détermination du chemin et de commutation</b></p> <p>Pouvez-vous décrire en détail ce qui arrive à un paquet au niveau des couches 2 et 3 lorsqu’il va de la source à la destination ? Si vous ne le savez pas, utilisez l’animation et suivez la discussion jusqu’à ce que vous soyez capable de décrire vous-même le processus. </p> <p><b>Cliquez sur Lire pour lancer l’animation.</b></p> <p><b>Étape 1 : le PC1 a un paquet à envoyer au PC2.</b></p> <p>Le PC1 encapsule le paquet IP dans une trame Ethernet avec l’adresse MAC de destination de l’interface FastEthernet 0/0 de R1.</p> <p>Comment le PC1 sait-il qu’il doit transférer le paquet à R1 et non directement au PC2 ? Le PC1 a déterminé que l’adresse IP source et l’adresse IP de destination ne se trouvent pas sur le même réseau. </p> <p>Le PC1 connaît le réseau auquel il appartient après avoir effectué une opération <b>ET</b> sur son adresse IP et son masque de sous-réseau, ce qui lui fournit son adresse réseau. Le PC1 renouvelle cette opération <b>ET</b> en utilisant son masque de sous-réseau et l’adresse IP de destination du paquet. Si l’adresse qui en résulte est la même que celle de son réseau, le PC1 en déduit que l’adresse IP de destination se trouve sur son réseau et qu’il n’a pas besoin de transférer le paquet à la passerelle par défaut, c’est-à-dire le routeur. Si l’opération <b>ET</b> renvoie une adresse réseau différente, le PC1 en déduit que l’adresse IP de destination n’est pas sur son propre réseau et qu’il doit transférer ce paquet à la passerelle par défaut, c’est-à-dire le routeur.</p> <p><b>Remarque :</b> si une opération <b>ET</b> effectuée avec l’adresse IP de destination du paquet et le masque de sous-réseau du PC1 donne une adresse réseau différente de celle du PC1, cette adresse n’est pas forcément celle du réseau distant en question. Le PC1 sait seulement que si l’adresse IP de destination se trouve sur son propre réseau, les masques et les adresses réseau sont les mêmes. Le masque du réseau distant peut être différent. Si l’adresse IP de destination est une adresse réseau différente, le PC1 ne connaît pas l’adresse réelle du réseau distant ; il sait seulement que l’adresse de destination ne se trouve pas sur son propre réseau.</p> <p>Comment le PC1 détermine-t-il l’adresse MAC de la passerelle par défaut, le routeur R1 ? Le PC1 recherche dans son tableau ARP l’adresse IP de la passerelle par défaut et l’adresse MAC qui lui est associée.</p> <p>Que se passe-t-il si cette entrée n’existe pas dans le tableau ARP ? Le PC1 envoie une requête ARP, puis le routeur R1 renvoie une réponse ARP.</p>  <p><b>Étape 2 : le routeur R1 reçoit la trame Ethernet.</b></p> <p>1. Le routeur R1 examine l’adresse MAC de destination qui correspond à l’adresse MAC de l’interface de réception, FastEthernet 0/0. R1 copie alors la trame dans sa mémoire tampon.</p> <p>2. R1 constate que le type d’Ethernet indiqué est 0x800, ce qui signifie que la trame Ethernet contient un paquet IP dans sa partie données. </p> <p>3. R1 décapsule la trame Ethernet.</p> <p>4. Comme l’adresse IP de destination du paquet ne correspond à aucun réseau connecté directement à R1, le routeur consulte sa table de routage pour acheminer ce paquet. R1 recherche dans sa table de routage une adresse réseau et un masque de sous-réseau comportant l’adresse IP de destination de ce paquet en tant qu’adresse d’hôte sur ce réseau. Dans cet exemple, la table de routage a une route pour le réseau 192.168.4.0/24. L’adresse IP de destination du paquet est 192.168.4.10, ce qui correspond à une adresse IP d’hôte sur ce réseau.</p> <p>La route de R1 menant au réseau 192.168.4.0/24 porte l’adresse IP du tronçon suivant 192.168.2.2 et l’interface de sortie FastEthernet 0/1. Cela signifie que le paquet IP va être encapsulé dans une nouvelle trame Ethernet avec l’adresse MAC de destination de l’adresse IP du routeur du tronçon suivant. Comme l’interface de sortie se trouve sur un réseau Ethernet, R1 doit convertir l’adresse IP du tronçon suivant en adresse MAC de destination.</p> <p>5. R1 recherche l’adresse IP du tronçon suivant 192.168.2.2 dans le cache ARP de son interface FastEthernet 0/1. Si l’entrée ne se trouve pas dans le cache ARP, R1 envoie une requête ARP à son interface FastEthernet 0/1. R2 renvoie une réponse ARP. R1 met ensuite à jour le cache ARP avec une entrée pour 192.168.2.2 et l’adresse MAC associée.</p> <p>6. Le paquet IP est maintenant encapsulé dans une nouvelle trame Ethernet et transféré à l’interface FastEthernet 0/1 de R1.</p></content-text>
</page>
<page type="OneColumn" id="tl0901040503">
<content-media type="AnimationStepped" id="cm4309293601"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040500/tl0901040503/cm4309293601.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040500/tl0901040503/cm4309293601text.xml"/></content-media>
<content-text><p><b>Étape 3 : le paquet arrive au routeur R2.</b></p> <p><b>Cliquez sur Lire pour lancer l’animation.</b></p> <p>1. Le routeur R2 examine l’adresse MAC de destination qui correspond à l’adresse MAC de l’interface de réception, FastEthernet 0/0. R1 copie alors la trame dans sa mémoire tampon.</p> <p>2. R2 constate que le type d’Ethernet indiqué est 0x800, ce qui signifie que la trame Ethernet contient un paquet IP dans sa partie données.</p> <p>3. R2 décapsule la trame Ethernet.</p> <p>4. Comme l’adresse IP de destination du paquet ne correspond à aucune adresse d’interface de R2, le routeur consulte sa table de routage pour acheminer ce paquet. R2 recherche dans sa table de routage l’adresse IP de destination du paquet en procédant de la même façon que R1.</p> <p>La table de routage de R2 contient une route pour 192.168.4.0/24, avec l’adresse IP de tronçon suivant 192.168.3.2 et l’interface de sortie Serial 0/0/0. Comme l’interface de sortie n’est pas un réseau Ethernet, R2 n’a pas à convertir l’adresse IP du tronçon suivant en adresse MAC de destination.</p> <p>Lorsque l’interface est une connexion série point à point, R2 encapsule le paquet IP dans le format de trame liaison de données utilisé par l’interface de sortie (HDLC, PPP, etc.). Dans ce cas, l’encapsulation de couche 2 est PPP ; par conséquent, l’adresse de destination de la liaison de données est de type diffusion. N’oubliez pas que les interfaces série ne comportent pas d’adresse MAC.</p> <p>5. Le paquet IP est maintenant encapsulé dans une nouvelle trame liaison de données, PPP, et envoyé à l’interface de sortie Serial 0/0/0.</p> <p> </p></content-text>
</page>
<page type="OneColumn" id="tl0901040504">
<content-media type="StaticGraphic" id="cm9392158065"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040500/tl0901040504/cm9392158065.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040500/tl0901040504/cm9392158065text.xml"/></content-media>
<content-text><p><b>Étape 4 : le paquet arrive au routeur R3.</b></p> <p>1. R3 reçoit et copie la trame PPP liaison de données dans sa mémoire tampon.</p> <p>2. R3 décapsule la trame PPP liaison de données.</p> <p>3. R3 recherche dans sa table de routage l’adresse IP de destination du paquet. Cette recherche aboutit à un réseau, qui est l’un des réseaux directement connectés à R3. Cela signifie que le paquet peut être directement envoyé au périphérique de destination, sans avoir à passer par un autre routeur.</p> <p>Comme l’interface de sortie est un réseau Ethernet directement connecté, R3 doit convertir l’adresse IP de destination du paquet en adresse MAC de destination.</p> <p>4. R3 recherche l’adresse IP de destination du paquet 192.168.4.10 dans son cache ARP. Si l’entrée ne se trouve pas dans le cache ARP, R3 envoie une requête ARP à son interface FastEthernet 0/0. Le PC2 renvoie une réponse ARP contenant son adresse MAC. R3 met alors à jour son cache ARP avec une entrée pour 192.168.4.10 et l’adresse MAC qui a été renvoyée dans la réponse ARP.</p> <p>5. Le paquet IP est encapsulé dans une nouvelle liaison de données, une trame Ethernet, et envoyé à l’interface FastEthernet 0/0 de R3.</p> <p><b>Étape 5 : la trame Ethernet contenant le paquet IP encapsulé arrive au PC2.</b></p> <p>1. Le PC2 examine l’adresse MAC de destination qui correspond à l’adresse MAC de l’interface de réception, sa carte réseau Ethernet. Le PC2 copie alors le reste de la trame dans sa mémoire tampon.</p> <p>2. Le PC2 constate que le type d’Ethernet indiqué est 0x800, ce qui signifie que la trame Ethernet contient un paquet IP dans sa partie données. </p> <p>3. Le PC2 décapsule la trame Ethernet et transmet le paquet IP au processus IP de son système d’exploitation.</p> <p><b>Résumé</b></p> <p>Nous venons d’examiner le processus d’encapsulation et de décapsulage d’un paquet lors de son transfert d’un routeur à l’autre, du périphérique source émetteur au périphérique de destination final. Nous avons également présenté le processus de recherche dans une table de routage, qui est abordé plus en détail dans un prochain chapitre. Nous avons vu que les routeurs jouent un rôle non seulement dans les décisions de routage de couche 3, mais aussi dans les processus de couche 2, notamment l’encapsulation, ainsi que sur les réseaux Ethernet, ARP. Les routeurs interviennent également au niveau de la couche 1, utilisée pour transmettre et recevoir les bits de données sur un support physique.</p> <p>Les tables de routage contiennent à la fois des réseaux connectés directement et des réseaux distants. Les routeurs contiennent des adresses de réseaux distants dans leur table de routage. De ce fait, ils savent où envoyer les paquets destinés à d’autres réseaux, y compris Internet. Dans les chapitres suivants, nous allons voir comment les routeurs élaborent et mettent à jour ces tables de routage, en utilisant des routes statiques entrées manuellement ou des protocoles de routage dynamique.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0901050000">
<title><content-text>Travaux pratiques de configuration d’un routeur</content-text></title>
<topic type="" id="tl0901050100">
<title><content-text>Câblage d’un réseau et configuration des paramètres de base d&apos;un routeur</content-text></title>
<page type="OneColumn" id="tl0901050101">
<content-media type="ActivityLab" id="cm1436403181"><title><content-text></content-text></title><media ref="tl0901000000/tl0901050000/tl0901050100/tl0901050101/cm1436403181/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901050000/tl0901050100/tl0901050101/cm1436403181/icontext.xml"/></content-media>
<content-text><p>Effectuez ces travaux pratiques si vous avez besoin de revoir en détail le câblage de périphériques, l’établissement d’une connexion de console et les concepts de base de l’interface de ligne de commande (CLI). Si vous êtes à l’aise avec ces notions, vous pouvez remplacer ces travaux pratiques par les <b>Travaux pratiques 1.5.2 : Configuration des paramètres de base d’un routeur</b>.</p><p><b>Cliquez sur l’icône des travaux pratiques pour plus d’informations.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0901050102">
<content-media type="ActivityPKA" id="cm6547049778"><title><content-text></content-text></title><media ref="tl0901000000/tl0901050000/tl0901050100/tl0901050102/cm6547049778/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901050000/tl0901050100/tl0901050102/cm6547049778/icontext.xml"/></content-media>
<content-text><p>Utilisez l’exercice Packet Tracer 1.5.1 pour répéter la simulation des travaux pratiques 1.5.1. Toutefois, n’oubliez pas que Packet Tracer ne saurait remplacer les travaux pratiques effectués avec des équipements réels. </p> <p>Un résumé des instructions est fourni dans l’exercice. Pour avoir des précisions, utilisez le fichier PDF des travaux pratiques.</p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901050200">
<title><content-text>Configuration des paramètres de base d’un routeur</content-text></title>
<page type="OneColumn" id="tl0901050201">
<content-media type="ActivityLab" id="cm2443309217"><title><content-text></content-text></title><media ref="tl0901000000/tl0901050000/tl0901050200/tl0901050201/cm2443309217/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901050000/tl0901050200/tl0901050201/cm2443309217/icontext.xml"/></content-media>
<content-text><p>Effectuez ces travaux pratiques si vous maîtrisez bien le câblage de périphériques, l’établissement d’une connexion de console et les concepts de base de l’interface de ligne de commande (CLI). Si vous avez besoin de revoir ces notions, vous pouvez remplacer ces travaux pratiques par les <b>Travaux pratiques 1.5.1 : Câblage d’un réseau et configuration des paramètres de base d&apos;un routeur</b>.</p><p><b>Cliquez sur l’icône des travaux pratiques pour plus d’informations.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0901050202">
<content-media type="ActivityPKA" id="cm5986063894"><title><content-text></content-text></title><media ref="tl0901000000/tl0901050000/tl0901050200/tl0901050202/cm5986063894/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901050000/tl0901050200/tl0901050202/cm5986063894/icontext.xml"/></content-media>
<content-text><p>Utilisez l’exercice Packet Tracer 1.5.2 pour répéter la simulation des travaux pratiques 1.5.2. Toutefois, n’oubliez pas que Packet Tracer ne saurait remplacer les travaux pratiques effectués avec des équipements réels. </p> <p>Un résumé des instructions est fourni dans l’exercice. Pour avoir des précisions, utilisez le fichier PDF des travaux pratiques.</p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901050300">
<title><content-text>Configuration des paramètres avancés d’un routeur</content-text></title>
<page type="OneColumn" id="tl0901050301">
<content-media type="ActivityLab" id="cm4857734514"><title><content-text></content-text></title><media ref="tl0901000000/tl0901050000/tl0901050300/tl0901050301/cm4857734514/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901050000/tl0901050300/tl0901050301/cm4857734514/icontext.xml"/></content-media>
<content-text><p>Ces travaux pratiques permettent de tester vos compétences en matière de création de sous-réseaux et de configuration. À partir d’un espace d’adressage et de la configuration d’un réseau donnés, vous devez concevoir et implémenter un système d’adressage dans une topologie à deux routeurs. </p><p><b>Cliquez sur l’icône des travaux pratiques pour plus de détails.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0901050302">
<content-media type="ActivityPKA" id="cm8658074208"><title><content-text></content-text></title><media ref="tl0901000000/tl0901050000/tl0901050300/tl0901050302/cm8658074208/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901050000/tl0901050300/tl0901050302/cm8658074208/icontext.xml"/></content-media>
<content-text><p>Utilisez l’exercice Packet Tracer 1.5.3 pour répéter la simulation des travaux pratiques 1.5.3. Toutefois, n’oubliez pas que Packet Tracer ne saurait remplacer les travaux pratiques effectués avec des équipements réels. </p> <p>Un résumé des instructions est fourni dans l’exercice. Pour avoir des précisions, utilisez le fichier PDF des travaux pratiques.</p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="tl0901060000">
<title><content-text>Résumé</content-text></title>
<topic type="" id="tl0901060100">
<title><content-text>Résumé et révision</content-text></title>
<page type="OneColumn" id="tl0901060101">
<content-media type="StaticGraphic" id="cm8924307551"><title><content-text></content-text></title><media ref="tl0901000000/tl0901060000/tl0901060100/tl0901060101/cm8924307551.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901060000/tl0901060100/tl0901060101/cm8924307551text.xml"/></content-media>
<content-text><p><b>Résumé</b></p> <p>Ce chapitre a présenté le routeur. Le routeur est un ordinateur qui possède de nombreux composants matériels et logiciels que l’on trouve également dans un PC standard, notamment un processeur, une mémoire vive, une mémoire morte et un système d’exploitation.</p> <p>Le rôle principal d’un routeur est de relier plusieurs réseaux et de transférer des paquets d’un réseau à l’autre. Cela signifie qu’un routeur comporte généralement plusieurs interfaces. Chaque interface est membre d’un réseau IP différent ou en est un hôte. </p> <p>Le routeur possède une table de routage qui dresse la liste des réseaux connus du routeur. La table de routage inclut des adresses réseau pour ses propres interfaces, qui correspondent aux réseaux directement connectés, ainsi que des adresses réseau pour des réseaux distants. Un réseau distant est un réseau qui n’est accessible qu’en transférant le paquet vers un autre routeur.</p> <p>Les réseaux distants sont ajoutés à la table de routage de deux manières : grâce à la configuration manuelle de routes statiques par l’administrateur réseau ou grâce à l’implémentation d’un protocole de routage dynamique. Les routes statiques n’ont pas autant de surcharge que les protocoles de routage dynamique ; elles peuvent toutefois nécessiter plus de maintenance si la topologie change constamment ou si celle-ci est instable. </p> <p>Les protocoles de routage dynamique s’adaptent automatiquement aux modifications, sans qu’aucune intervention de l’administrateur réseau ne soit nécessaire. Les protocoles de routage dynamique requièrent un traitement accru par le processeur et ils utilisent un certain nombre de liens pour les mises à jour et les messages de routage. Souvent, une table de routage contient à la fois des routes statiques et des routes dynamiques. </p> <p>Les routeurs prennent leur décision principale de transfert au niveau de la couche 3, c’est-à-dire la couche réseau. Toutefois, les interfaces de routeur jouent un rôle dans les couches 1, 2 et 3. Les paquets IP de couche 3 sont encapsulés dans une trame liaison de données de couche 2 et encodés en bits au niveau de la couche 1. Les interfaces de routeur participent aux processus de couche 2 liés à l’encapsulation. Par exemple, l’interface Ethernet d’un routeur participe au processus ARP comme d’autres hôtes se trouvant sur ce réseau local.</p> <p>Dans le chapitre suivant, nous allons examiner la configuration des routes statiques et présenter la table de routage IP.</p></content-text>
</page>
<page type="FullScreen" id="tl0901060102">
<content-media type="ChapterSummary" id="cm7640434875"><title><content-text></content-text></title><media ref="tl0901000000/tl0901060000/tl0901060100/tl0901060102/cm7640434875.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901060000/tl0901060100/tl0901060102/cm7640434875text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="tl0901060103">
<content-media type="ActivityPKA" id="cm3101126397"><title><content-text></content-text></title><media ref="tl0901000000/tl0901060000/tl0901060100/tl0901060103/cm3101126397/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901060000/tl0901060100/tl0901060103/cm3101126397/icontext.xml"/></content-media>
<content-text><p>L’exercice d’intégration des compétences Packet Tracer de ce chapitre intègre toutes les connaissances et compétences acquises dans les cours précédents et dans le premier chapitre de ce cours. Au cours de cet exercice, vous allez entièrement créer un réseau. À partir d’un espace d’adressage et d’une configuration réseau imposés, vous devez mettre en œuvre une conception de réseau répondant aux spécifications.</p> <p><content-link target="E2_PTAct_1_6_1_Directions.pdf" type="internalfile">Instructions d’intégration des compétences Packet Tracer (PDF)</content-link></p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0901060104">
<content-media type="StaticGraphic" id="cm8350104947"><title><content-text></content-text></title><media ref="tl0901000000/tl0901060000/tl0901060100/tl0901060104/cm8350104947.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901060000/tl0901060100/tl0901060104/cm8350104947text.xml"/></content-media>
<content-text><p><b>Pour approfondir vos connaissances</b></p> <p>Créez une topologie similaire à celle des travaux pratiques 1.4.5.2, avec plusieurs routeurs et un réseau local à chaque extrémité. Sur l’un des deux réseaux locaux, ajoutez un hôte client ; sur l’autre, ajoutez un serveur Web. Sur chaque réseau local, placez un commutateur entre l’ordinateur et le routeur. Partez du principe que chaque routeur dispose d’une route menant à chacun des réseaux locaux, comme dans les travaux pratiques 1.4.5.2.</p> <p>Que se passe-t-il lorsque l’hôte demande une page Web au serveur Web ? Examinez tous les processus et protocoles impliqués dès lors que l’utilisateur entre une URL, telle que www.cisco.com. Cela inclut des protocoles étudiés dans le cours Exploration : Notions de base sur les réseaux, ainsi que des informations apprises dans ce chapitre.</p> <p>Déterminez si vous êtes capable d’identifier chacun des processus ayant lieu, à commencer par le client qui doit convertir www.cisco.com en adresse IP, ce qui l’oblige à envoyer une requête ARP au serveur de noms de domaine (DNS). Quels sont tous les protocoles et processus impliqués, en commençant par la requête DNS, pour recevoir le premier paquet envoyé par le serveur Web avec des informations http ?</p> <ul><li> Comment le serveur DNS est-il impliqué ?</li> <li> Comment le protocole ARP est-il impliqué ?</li> <li> Quel effet TCP a-t-il entre le client et le serveur ? Le premier paquet envoyé par le client au serveur Web correspond-t-il à la demande de page Web ?</li> <li> Que font les commutateurs lorsqu’ils reçoivent une trame Ethernet ? Comment mettent-ils à jour leurs tables d’adresses MAC et comment déterminent-ils la manière dont ils doivent transférer la trame ?</li> <li> Que font les routeurs lorsqu’ils reçoivent un paquet IP ?</li> <li> En quoi consiste le processus de décapsulage et d’encapsulation de chaque trame reçue et transférée par le routeur ?</li> <li> Le serveur Web et sa passerelle par défaut (son routeur) nécessitent-ils des processus ARP ?</li></ul></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="tl0901070000">
<title><content-text>Questionnaire du chapitre</content-text></title>
<topic type="" id="tl0901070100">
<title><content-text>Questionnaire du chapitre</content-text></title>
<page type="FullScreen" id="tl0901070101">
<content-media type="ChapterQuiz" id="cm7638409877"><title><content-text></content-text></title><media ref="tl0901000000/tl0901070000/tl0901070100/tl0901070101/cm7638409877/" mime="" scale="true" type="directory" width="100%" height="100%" external="tl0901000000/tl0901070000/tl0901070100/tl0901070101/cm7638409877/icontext.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
</chapter>
