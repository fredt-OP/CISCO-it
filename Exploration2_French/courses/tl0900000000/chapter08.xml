<chapter type="" id="tl0908000000">
<title><content-text>Table de routage : examen détaillé</content-text></title>
<section type="ChapterIntroduction" id="tl0908000000">
<title><content-text>Présentation du chapitre</content-text></title>
<topic type="" id="tl0908000100">
<title><content-text>Présentation du chapitre</content-text></title>
<page type="OneColumn" id="tl0908000101">
<content-media type="StaticGraphic" id="cm9355873355"><title><content-text></content-text></title><media ref="tl0908000000/tl0908000000/tl0908000100/tl0908000101/cm9355873355.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908000000/tl0908000100/tl0908000101/cm9355873355text.xml"/></content-media>
<content-text><p>Dans les chapitres précédents, nous avons étudié la table de routage à l’aide de la commande <span class="cmd"><b>show ip route</b></span>. Nous avons vu que des routes statiques, dynamiques et connectées directement peuvent être ajoutées ou supprimées de la table de routage.</p> <p>En tant qu’administrateur réseau, il est important de savoir interpréter parfaitement la table de routage pour dépanner les erreurs de réseau. Vos connaissances de la structure et du processus de recherche de la table de routage vous permettront de diagnostiquer <i>tout</i> problème relatif à la table de routage, et ce quel que soit votre niveau de connaissance du protocole de routage utilisé. Par exemple, il peut arriver que la table de routage contienne toutes les routes attendues mais que le transfert de paquets ne s’effectue pas correctement. En sachant comment utiliser le processus de recherche de l’adresse IP de destination d’un paquet, vous parviendrez à déterminer si le paquet est transféré comme prévu, s’il est envoyé à une autre destination (et pourquoi) ou s’il a été abandonné.</p> <p>Dans ce chapitre, nous analyserons de plus près la table de routage. La première partie du chapitre porte sur la structure de la table de routage IP Cisco. Nous étudierons le format de la table de routage et les routes de niveaux 1 et 2. La deuxième partie du chapitre analyse le processus de recherche de la table de routage. Nous aborderons le comportement de routage par classe ou sans classe, qui utilise les commandes <span class="cmd">no ip classless</span> et <span class="cmd">ip classless</span>.</p> <p>De nombreux détails concernant la structure et le processus de recherche de la table de routage IP Cisco ne sont pas abordés dans ce chapitre. Si vous voulez en savoir plus sur ce sujet et sur le fonctionnement interne de Cisco IOS en ce qui concerne le routage, consultez l’ouvrage <i>Cisco IP Routing</i> (Routage IP Cisco, en anglais) d’Alex Zinin (ISBN 0-201-60473-6). </p> <p><b>Remarque :</b> cet ouvrage sur les protocoles de routage ne s’adresse <i>pas</i> aux débutants. Il examine en détail les protocoles, les processus et les algorithmes utilisés par Cisco IOS.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0908010000">
<title><content-text>Structure de la table de routage</content-text></title>
<topic type="" id="tl0908010100">
<title><content-text>Travaux pratiques de topologie</content-text></title>
<page type="OneColumn" id="tl0908010101">
<content-media type="StaticGraphic" id="cm8851252050"><title><content-text></content-text></title><media ref="tl0908000000/tl0908010000/tl0908010100/tl0908010101/cm8851252050.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908010000/tl0908010100/tl0908010101/cm8851252050text.xml"/></content-media>
<content-text><p>Dans ce chapitre, nous allons utiliser un réseau simple composé de trois routeurs, comme illustré dans la figure. R1 et R2 partagent un réseau commun 172.16.0.0/16 avec des sous-réseaux 172.16.0.0/24. R2 et R3 sont reliés par le réseau 192.168.1.0/24. Notez que R3 possède également un sous-réseau 172.16.4.0/24 discontinu (non contigu) du réseau 172.16.0.0 partagé par R1 et R2. Les effets de ce sous-réseau discontinu seront étudiés plus loin dans ce chapitre lorsque nous aborderons le processus de recherche de route.</p> <p><b>Cliquez sur R1, R2 et R3 dans la figure.</b></p> <p>Les configurations d’interfaces de R1 et R3 sont également illustrées dans la figure. Dans une autre section, nous configurerons les interfaces de R2.</p></content-text>
</page>
</topic>
<topic type="" id="tl0908010200">
<title><content-text>Entrées de table de routage</content-text></title>
<page type="OneColumn" id="tl0908010201">
<content-media type="StaticGraphic" id="cm3805096568"><title><content-text></content-text></title><media ref="tl0908000000/tl0908010000/tl0908010200/tl0908010201/cm3805096568.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908010000/tl0908010200/tl0908010201/cm3805096568text.xml"/></content-media>
<content-text><p>L’exemple de table de routage présenté dans la figure comporte des entrées de routes provenant des sources suivantes :</p> <ul><li> réseaux connectés directement ;</li> <li> routes statiques ;</li> <li> protocoles de routage dynamiques.</li></ul> <p>L’origine de la route n’affecte pas la structure de la table de routage. La figure présente un exemple de table de routage contenant des routes connectées directement, statiques et dynamiques. Notez que les sous-réseaux 172.16.0.0/24 combinent les trois types de source de routage.</p> <p><b>Remarque :</b> la hiérarchie de table de routage de Cisco IOS était à l’origine mise en œuvre avec le schéma de routage par classe. Bien que la table de routage incorpore à la fois l’adressage par classe et sans classe, la structure globale se base toujours sur le schéma par classe.</p></content-text>
</page>
</topic>
<topic type="" id="tl0908010300">
<title><content-text>Routes de niveau 1</content-text></title>
<page type="OneColumn" id="tl0908010301">
<content-media type="StaticGraphic" id="cm6203542146"><title><content-text></content-text></title><media ref="tl0908000000/tl0908010000/tl0908010300/tl0908010301/cm6203542146.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908010000/tl0908010300/tl0908010301/cm6203542146text.xml"/></content-media>
<content-text><p>Les interfaces des routeurs R1 et R3 sont déjà configurées avec les adresses IP et les masques de sous-réseau appropriés. Nous allons maintenant configurer les interfaces de R2 et utiliser <span class="cmd"><b>debug ip routing</b></span> pour afficher le processus de table de routage utilisé pour ajouter ces entrées.</p> <p>La figure présente l’interface série Serial 0/0/1 de R2 configurée avec l’adresse 192.168.1.1/24. Dès que la commande <span class="cmd"><b>no shutdown</b></span> est entrée, le résultat de la commande <span class="cmd"><b>debug ip routing</b></span> indique que cette route a été ajoutée à la table de routage. </p></content-text>
</page>
<page type="OneColumn" id="tl0908010302">
<content-media type="StaticGraphic" id="cm9102756252"><title><content-text></content-text></title><media ref="tl0908000000/tl0908010000/tl0908010300/tl0908010302/cm9102756252.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908010000/tl0908010300/tl0908010302/cm9102756252text.xml"/></content-media>
<content-text><p>Dans la figure, <span class="cmd"><b>show ip route</b></span> affiche le réseau connecté directement dans la table de routage que nous venons d’ajouter à R2.</p> <p>La table de routage IP Cisco n’est pas une base de données linéaire. La table de routage est en fait une structure hiérarchique utilisée pour accélérer le processus de recherche lors de la localisation de routes et du transfert de paquets. La hiérarchie de cette structure comprend plusieurs niveaux. Pour des raisons de simplicité, toutes les routes sont décrites ici comme étant de niveau 1 ou de niveau 2.</p></content-text>
</page>
<page type="OneColumn" id="tl0908010303">
<content-media type="StaticGraphic" id="cm9475810933"><title><content-text></content-text></title><media ref="tl0908000000/tl0908010000/tl0908010300/tl0908010303/cm9475810933.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908010000/tl0908010300/tl0908010303/cm9475810933text.xml"/></content-media>
<content-text><p>Étudions les routes de niveau 1 et de niveau 2 en examinant de plus près l’entrée de la table de routage. </p> <span class="cmd"><p>C 192.168.1.0/24 is directly connected, Serial0/0/1</p></span> <p><b>Une route de niveau 1 est une route possédant un masque de sous-réseau inférieur ou égal au masque par classe de l’adresse réseau.</b> 192.168.1.0/24 est une route de réseau de niveau 1 car son masque de sous-réseau est égal au masque par classe du réseau. /24 est le masque par classe pour les réseaux de classe C tels que le réseau 192.168.1.0.</p> <p>Une route de niveau 1 peut fonctionner comme :</p> <ul><li> <b>route par défaut</b> : une route par défaut est une route statique avec l’adresse 0.0.0.0/0 ;</li> <li> <b><content-link target="cg5428356456" type="glossary">route de super-réseau</content-link></b> : une route de super-réseau est une adresse réseau avec un masque inférieur au masque par classe ; </li> <li> <b>route de réseau</b> : une route de réseau est une route dotée d’un masque de sous-réseau égal à celui du masque par classe. Une route de réseau peut également être une route parent. Les routes parent seront abordées dans la section suivante.</li></ul> <p>La source d’une route de niveau 1 peut être un réseau connecté directement, une route statique ou un protocole de routage dynamique.</p></content-text>
</page>
<page type="OneColumn" id="tl0908010304">
<content-media type="StaticGraphic" id="cm5327504186"><title><content-text></content-text></title><media ref="tl0908000000/tl0908010000/tl0908010300/tl0908010304/cm5327504186.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908010000/tl0908010300/tl0908010304/cm5327504186text.xml"/></content-media>
<content-text><p><b><content-link target="cg1597835227" type="glossary">Meilleure route</content-link></b></p> <p>La route de niveau 1 192.168.1.0/24 peut être en outre définie comme <i>meilleure route</i>. Une meilleure route est une route comportant :</p> <ul><li> une adresse IP de tronçon suivant (un autre chemin)</li> <li> et/ou une interface de sortie.</li></ul> <p>Le réseau connecté directement 192.168.1.0/24 est une route de réseau de niveau 1 car son masque de sous-réseau est le même que son masque par classe. Cette route est également une meilleure route car elle contient l’interface de sortie Serial 0/0/1.</p> <span class="cmd"><p>C 192.168.1.0/24 is directly connected, <span class="blue">Serial0/0/1</span></p></span> <p>Nous verrons dans la rubrique suivante que les routes de niveau 2 sont également des meilleures routes.</p></content-text>
</page>
</topic>
<topic type="" id="tl0908010400">
<title><content-text>Routes parent et enfant : réseaux par classe</content-text></title>
<page type="OneColumn" id="tl0908010401">
<content-media type="StaticGraphic" id="cm5547703407"><title><content-text></content-text></title><media ref="tl0908000000/tl0908010000/tl0908010400/tl0908010401/cm5547703407.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908010000/tl0908010400/tl0908010401/cm5547703407text.xml"/></content-media>
<content-text><p>Dans la rubrique précédente, nous avons examiné une route de réseau de niveau 1 qui était également une meilleure route. Examinons maintenant un autre type de route de réseau de niveau 1 : une route parent. La figure présente la configuration de l’interface 172.16.3.1/24 de R2 et la sortie de la commande <span class="cmd"><b>show ip route</b></span>. Notez que la table de routage contient deux entrées supplémentaires. Il s’agit de la route parent et de la route enfant. Pourquoi deux entrées plutôt qu’une ?</p> <p><b>Cliquez sur Parent et Enfant dans la figure.</b></p> <p>Lorsque le sous-réseau 172.16.3.0 a été ajouté à la table de routage, une autre route (172.16.0.0) a également été ajoutée. La première entrée (172.16.0.0/24) ne contient pas d’informations d’adresse IP de tronçon suivant ni d’interface de sortie. Cette route est nommée <i>route parent de niveau 1</i>.</p></content-text>
</page>
<page type="OneColumn" id="tl0908010402">
<content-media type="StaticGraphic" id="cm2467102352"><title><content-text></content-text></title><media ref="tl0908000000/tl0908010000/tl0908010400/tl0908010402/cm2467102352.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908010000/tl0908010400/tl0908010402/cm2467102352text.xml"/></content-media>
<content-text><p><b>Une route parent de niveau 1 est une route de réseau qui ne contient pas d’adresse IP de tronçon suivant ni d’interface de sortie de réseau.</b> Le titre de route parent indique en fait la présence de routes de niveau 2, également nommées <i>routes enfant</i>. Une route parent de niveau 1 est créée automatiquement à chaque ajout d’un sous-réseau à la table de routage. En d’autres termes, une route parent est créée pour chaque route ayant un masque supérieur au masque par classe entrée dans la table de routage. Le sous-réseau est la route enfant de niveau 2 de la route parent. Dans notre cas, la route parent de niveau 1 automatiquement créée est la suivante : </p> <span class="cmd"><p>172.16.0.0/24 is subnetted, 1 subnets</p></span> <p><b>Une route de niveau 2 est un sous-réseau d’une adresse réseau par classe. </b>À l’instar d’une route de niveau 1, la source d’une route de niveau 2 peut être un réseau connecté directement, une route statique ou un protocole de routage dynamique. Dans notre cas, la route de niveau 2 est la route de sous-réseau réelle qui a été ajoutée au réseau lors de la configuration de l’interface FastEthernet 0/0 :</p> <span class="cmd"><p>C 172.16.3.0 is directly connected, FastEthernet0/0</p></span> <p><b>Remarque</b> : n’oubliez pas que la hiérarchie des tables de routage dans Cisco IOS se base sur un schéma de routage par classe. Une route parent de niveau 1 est l’adresse réseau par classe de la route de sous-réseau. Cela est vrai même si un protocole de routage sans classe est la source de la route de sous-réseau.</p></content-text>
</page>
<page type="OneColumn" id="tl0908010403">
<content-media type="AnimationPartialScreen" id="cm2204970606"><title><content-text></content-text></title><media ref="tl0908000000/tl0908010000/tl0908010400/tl0908010403/cm2204970606.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908010000/tl0908010400/tl0908010403/cm2204970606text.xml"/></content-media>
<content-text><p><b>Cliquez sur Lire pour lancer l’animation.</b></p> <p>Analysons les entrées de table de routage de la route parent de niveau 1 et de la route enfant de niveau 2 (sous-réseau).</p> <p><b>Route parent de niveau 1</b></p> <p>Cette route parent contient les informations suivantes :</p> <ul><li> <span class="cmd">172.16.0.0</span> : adresse réseau par classe de notre sous-réseau. N’oubliez pas que la table de routage IP Cisco est structurée par classe ;</li> <li> <span class="cmd">/24</span> : masque de sous-réseau de toutes les routes enfant. Si les routes enfant possèdent des masques de sous-réseau de longueur variable (VLSM), le masque de sous-réseau sera exclu de la route parent et inclus aux routes enfant individuelles. Nous aborderons ce scénario dans une section ultérieure ;</li> <li> <span class="cmd">is subnetted, 1 subnet</span> : cette partie de la route indique qu’il s’agit d’une route parent qui possède dans notre cas une route enfant (1 subnet).</li></ul> <p><b>Route enfant de niveau 2</b></p> <p>La seconde entrée (172.16.3.0) est la route de notre réseau connecté directement. Il s’agit d’une route de niveau 2, également nommée route enfant, qui contient les informations suivantes :</p> <ul><li> <span class="cmd">C</span> : code de route pour un réseau connecté directement ;</li> <li> <span class="cmd">172.16.3.0</span> : entrée de route spécifique ;</li> <li> <span class="cmd">is directly connected</span> : associé au code de route C, indique qu’il s’agit d’un réseau connecté directement doté d’une distance administrative égale à 0 ;</li> <li> <span class="cmd">FastEthernet0/0</span> : interface de sortie permettant de transférer les paquets qui correspondent à cette entrée de route spécifique. </li></ul> <p>Cette route enfant de niveau 2 est l’entrée de route spécifique du sous-réseau 172.16.3.0/24. Notez que le masque de sous-réseau n’est pas inclus avec le sous-réseau (route enfant de niveau 2). Le masque de sous-réseau de cette route enfant (sous-réseau) est le masque /24 inclus dans sa route parent (172.16.0.0). </p> <p>Les routes enfant de niveau 2 contiennent la source et l’adresse réseau de la route. <b>Les routes enfant de niveau 2 sont également de meilleures routes car elles contiennent l’adresse IP de tronçon suivant et/ou l’interface de sortie.</b> </p></content-text>
</page>
<page type="OneColumn" id="tl0908010404">
<content-media type="StaticGraphic" id="cm2661103299"><title><content-text></content-text></title><media ref="tl0908000000/tl0908010000/tl0908010400/tl0908010404/cm2661103299.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908010000/tl0908010400/tl0908010404/cm2661103299text.xml"/></content-media>
<content-text><p>La figure présente la configuration de l’interface série Serial 0/0/0 sur R2. </p> <p><b>Cliquez sur 2 et 3 dans la figure.</b></p> <p>La table de routage contient deux routes enfant pour la même route parent (172.16.0.0/24). 172.16.2.0 et 172.16.3.0 sont membres de la même route parent car elles sont également membres du réseau par classe 172.16.0.0/16. </p></content-text>
</page>
<page type="OneColumn" id="tl0908010405">
<content-media type="StaticGraphic" id="cm6818426136"><title><content-text></content-text></title><media ref="tl0908000000/tl0908010000/tl0908010400/tl0908010405/cm6818426136.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908010000/tl0908010400/tl0908010405/cm6818426136text.xml"/></content-media>
<content-text><p>Les deux routes enfant possédant le même masque de sous-réseau, la route parent conserve le masque /24 mais affiche désormais 2 sous-réseaux. Nous aborderons le rôle de la route parent lors de l’étude du processus de recherche de route.</p> <p><b>Remarque :</b> s’il n’existe qu’une seule route enfant de niveau 2 et que celle-ci est supprimée, la route parent de niveau 1 est automatiquement supprimée. Une route parent de niveau 1 n’est disponible que si au moins une route enfant de niveau 2 est présente.</p></content-text>
</page>
</topic>
<topic type="" id="tl0908010500">
<title><content-text>Routes parent et enfant : réseaux sans classe</content-text></title>
<page type="OneColumn" id="tl0908010501">
<content-media type="StaticGraphic" id="cm9883169619"><title><content-text></content-text></title><media ref="tl0908000000/tl0908010000/tl0908010500/tl0908010501/cm9883169619.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908010000/tl0908010500/tl0908010501/cm9883169619text.xml"/></content-media>
<content-text><p>Pour aborder ce point, nous allons utiliser la topologie présentée dans la figure. L’utilisation de RouterX avec la configuration VLSM affichée nous permet d’examiner l’impact de VLSM sur la table de routage. RouterX possède trois réseaux connectés directement. Les trois sous-réseaux appartiennent au réseau par classe 172.16.0.0/16 et sont par conséquent des routes enfant de niveau 2. </p> <p><b>Cliquez sur 2, 3 et 4 dans la figure.</b></p> <p>À la différence de l’exemple des réseaux par classe, nos routes enfant ne partagent pas le même masque de sous-réseau. Dans ce cas, nous mettons en œuvre un schéma d’adressage réseau avec VLSM. </p> <p><b>Cliquez sur le bouton 1 dans la figure.</b></p> <p>Chaque fois que sont détectées deux ou plusieurs routes enfant dotées de masques de sous-réseau différents appartenant au même réseau par classe, la table de routage présente une vue légèrement différente qui indique que ce réseau parent est découpé en sous-réseaux de manière variable (<span class="cmd"><b>variably subnetted</b></span>).</p> <p>Bien que la relation parent/enfant utilise une structure par classe pour afficher les réseaux et leurs sous-réseaux, ce format peut être utilisé avec l’adressage par classe et sans classe. <b>Quel que soit le schéma d’adressage utilisé par le réseau (sans classe ou par classe), la table de routage utilise un schéma par classe.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0908010502">
<content-media type="AnimationPartialScreen" id="cm9161466938"><title><content-text></content-text></title><media ref="tl0908000000/tl0908010000/tl0908010500/tl0908010502/cm9161466938.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908010000/tl0908010500/tl0908010502/cm9161466938text.xml"/></content-media>
<content-text><p><b>Cliquez sur Lire pour lancer l’animation.</b></p> <p>Cette route parent et ses routes enfant présentent plusieurs différences par rapport à l’exemple par classe abordé précédemment. En premier lieu, la route parent de 172.06.0.0 contient désormais le masque par classe /16. Dans l’exemple par classe précédent, le masque par classe n’était pas affiché. </p> <p>Notez également que la route parent indique que les routes enfant sont découpées en sous-réseaux de manière variable (<span class="cmd">variably subnetted</span>). Comme dans l’exemple par classe, la route parent affiche le nombre de sous-réseaux, mais elle inclut maintenant également le nombre de masques différents des routes enfant.</p> <p>La différence finale entre les réseaux par classe et sans classe se situe au niveau des routes enfant. Chaque route enfant contient désormais le masque de sous-réseau de cette route spécifique. Dans l’exemple sans VLSM, les deux routes enfant partageaient le même masque de sous-réseau et la route parent affichait le masque de sous-réseau commun. Avec VLSM, les différents masques de sous-réseau s’affichent avec les routes enfant spécifiques.</p> <p>La route parent contient les informations suivantes :</p> <ul><li> <span class="cmd"><b>172.16.0.0</b></span> : route parent, l’adresse réseau par classe associée aux routes enfant ;</li> <li> <span class="cmd"><b>/16</b></span> : masque de sous-réseau par classe de la route parent ;</li> <li> <span class="cmd"><b>variably subnetted</b></span> : indique que les routes enfant sont découpées en sous-réseaux de manière variable et que plusieurs masques sont disponibles pour ce réseau par classe ;</li> <li> <span class="cmd"><b>3 subnets, 2 masks</b></span> : indique le nombre de sous-réseaux et de masques de sous-réseau disponibles pour les routes enfant de cette route parent.</li></ul> <p>En prenant l’une des routes enfant comme exemple, nous pouvons afficher les informations suivantes :</p> <ul><li> <span class="cmd"><b>C</b></span> : code de la route pour un réseau connecté directement ;</li> <li> <span class="cmd"><b>172.16.3.0</b></span> : entrée de route spécifique ;</li> <li> <span class="cmd">/30</span> : masque de sous-réseau de cette route spécifique ;</li> <li> <span class="cmd"><b>is directly connected</b></span> : associé au code de route C, indique qu’il s’agit d’un réseau connecté directement doté d’une distance administrative égale à 0 ;</li> <li> <span class="cmd"><b>Serial0/0/0</b></span> : interface de sortie permettant de transférer les paquets qui correspondent à cette entrée de route spécifique. </li></ul> <p>Pourquoi Cisco utilise-t-il le format de table de routage par classe ? Les sections suivantes relatives au processus de recherche de route nous permettront de comprendre la réponse à cette question.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0908020000">
<title><content-text>Processus de recherche de la table de routage</content-text></title>
<topic type="" id="tl0908020100">
<title><content-text>Étapes du processus de recherche de la table de routage</content-text></title>
<page type="OneColumn" id="tl0908020101">
<content-media type="InteractiveGraphicHotspots" id="cm7151761710"><title><content-text></content-text></title><media ref="tl0908000000/tl0908020000/tl0908020100/tl0908020101/cm7151761710.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908020000/tl0908020100/tl0908020101/cm7151761710text.xml"/></content-media>
<content-text><p>Dans cette topologie, le protocole de routage par classe RIPv1 est maintenant configuré. Notez que nous avons spécifiquement choisi un protocole de routage par classe avec nos sous-réseaux 172.16.0.0 discontinus. La raison de ce choix paraîtra clairement dans une section ultérieure. </p> <p><b>Cliquez sur les boutons de la figure pour examiner la configuration RIP et les tables de routage qui en résultent.</b></p> <p>Comme on peut s’y attendre avec ce schéma d’adressage associé à un protocole de routage par classe, des problèmes d’accessibilité existent. Ni R1, ni R2 ne disposent d’une route vers 172.16.4.0. En outre, R3 ne dispose pas de routes vers les sous-réseaux 172.16.1.0/24, 172.16.2.0/24 ou 172.16.3.0/24. </p> <p>Étudions de manière plus approfondie la façon dont les routeurs déterminent les meilleures routes à utiliser lors de l’envoi de paquets et la raison pour laquelle les protocoles de routage par classe ne fonctionnent pas avec les réseaux discontinus. Nous allons aborder les points suivants :</p> <p>1. Que se passe-t-il lorsqu’un routeur reçoit un paquet IP, examine l’adresse IP de destination et recherche cette adresse dans la table de routage ? </p> <p>2. Comment le routeur choisit-il la meilleure route dans la table de routage ?</p> <p>3. Quel est l’impact du masque de sous-réseau sur le processus de recherche de la table de routage ?</p> <p>4. Comment le routeur choisit-il d’utiliser ou non un super-réseau ou une route par défaut en cas d’absence de meilleure route ?</p> <p>Pour répondre à ces questions, commençons par étudier les étapes du processus de recherche de route.</p></content-text>
</page>
<page type="OneColumn" id="tl0908020102">
<content-media type="InteractiveGraphicHotspots" id="cm3776197122"><title><content-text></content-text></title><media ref="tl0908000000/tl0908020000/tl0908020100/tl0908020102/cm3776197122.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908020000/tl0908020100/tl0908020102/cm3776197122text.xml"/></content-media>
<content-text><p><b>Le processus de recherche de route</b></p> <p>Procédez comme indiqué dans la figure pour afficher le processus de recherche de route. Ne vous inquiétez pas si vous ne comprenez pas toutes les étapes à ce stade. Ce processus vous paraîtra plus clair lorsque vous aurez étudié les exemples présentés dans les sections suivantes.</p> <p><b>Cliquez sur Étape 1. </b></p> <p>Le routeur examine les routes de niveau 1, y compris les routes de réseau et les routes de super-réseau, afin d’obtenir la meilleure correspondance avec l’adresse de destination du paquet IP.</p> <p><b>Cliquez sur Étape 1a. </b></p> <p>Si la meilleure correspondance est une meilleure route de niveau 1 (un réseau par classe, un super-réseau ou une route par défaut), cette route est utilisée pour <i>transférer le paquet</i>.</p> <p><b>Cliquez sur Étape 1b.</b></p> <p>Si la meilleure correspondance est une route parent de niveau 1, passez à l’étape 2.</p> <p><b>Cliquez sur Étape 2.</b></p>  <p>Le routeur examine les routes enfant (les routes de sous-réseau) de la route parent à la recherche d’une meilleure correspondance.</p> <p><b>Cliquez sur Étape 2a.</b></p> <p>En cas de correspondance avec une route enfant de niveau 2, ce sous-réseau est utilisé pour <i>transférer le paquet</i>.</p> <p><b>Cliquez sur Étape 2b.</b></p> <p>En cas d’absence de correspondance avec une route enfant de niveau 2, passez à l’étape 3. Cliquez sur Étape 3. Le routeur applique-t-il un comportement de routage par classe ou sans classe ?</p> <p><b>Cliquez sur Étape 3a.</b></p> <p><b>Comportement de routage par classe :</b> si un comportement de routage <i>par classe</i> est en place, terminez le processus de recherche et <i>supprimez le paquet</i>.</p> <p><b>Cliquez sur Étape 3b.</b></p> <p><b>Comportement de routage sans classe :</b> si un comportement de routage <i>sans classe</i> est en place, continuez à rechercher des routes de super-réseau de niveau 1 dans la table de routage, y compris, le cas échéant, la route par défaut.</p> <p><b>Cliquez sur Étape 4.</b></p> <p>En cas de correspondance inférieure avec une route de super-réseau de niveau 1 ou une route par défaut, le routeur utilise maintenant cette route pour <i>transférer le paquet</i>.</p> <p><b>Cliquez sur Étape 5. </b></p> <p>En cas d’absence de correspondance avec une route de la table de routage, le routeur <i>supprime le paquet</i>.</p> <p>Le comportement de routage par classe et sans classe est traité plus en détail dans une section ultérieure.</p> <p><b>Remarque :</b> une route référençant une adresse IP de tronçon suivant mais pas d’interface de sortie doit être convertie en route avec interface de sortie. Une recherche récurrente est effectuée sur l’adresse IP de tronçon suivant jusqu’à ce que la route soit convertie en interface de sortie.</p></content-text>
</page>
</topic>
<topic type="" id="tl0908020200">
<title><content-text>Correspondance la plus longue : routes de réseau de niveau 1</content-text></title>
<page type="OneColumn" id="tl0908020201">
<content-media type="StaticGraphic" id="cm8056663434"><title><content-text></content-text></title><media ref="tl0908000000/tl0908020000/tl0908020200/tl0908020201/cm8056663434.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908020000/tl0908020200/tl0908020201/cm8056663434text.xml"/></content-media>
<content-text><p><b>Correspondance la plus longue :</b></p> <p>Le terme de meilleure correspondance a été employé dans la section précédente relative à la recherche de route. Qu’entend-on par meilleure correspondance ? La meilleure correspondance est également la plus longue correspondance. </p> <p>Avant tout, qu’est-ce qu’une correspondance ? Pour obtenir une correspondance entre l’adresse IP de destination d’un paquet et une route de la table de routage, l’adresse IP du paquet et la route de la table de routage doivent partager un certain nombre de bits les plus à gauche identiques. Le masque de sous-réseau de la route dans la table de routage permet de déterminer le nombre minimum de bits les plus à gauche qui doivent correspondre. (N’oubliez pas qu’un paquet IP ne contient que l’adresse IP, et non le masque de sous-réseau.) </p> <p>La meilleure ou plus longue correspondance est la route de la table de routage qui possède le plus grand nombre de bits les plus à gauche correspondants à ceux de l’adresse IP de destination du paquet. <b>La route dotée du plus grand nombre de bits les plus à gauche correspondants (ou plus longue correspondance) constitue toujours la route préférée.</b></p> <p>Par exemple, dans la figure, un paquet est destiné à 172.16.0.10. Plusieurs routes <i>pourraient</i> correspondre à ce paquet. Trois routes possibles <i>correspondant</i> à ce paquet sont affichées : 172.16.0.0/12, 172.16.0.0/18 et 172.16.0.0/26. La route 172.16.0.0/26 est celle qui possède la plus longue correspondance. N’oubliez pas qu’une route est une correspondance lorsqu’elle possède au minimum le nombre de bits correspondants indiqués par le masque de sous-réseau de la route.</p></content-text>
</page>
<page type="OneColumn" id="tl0908020202">
<content-media type="InteractiveGraphicHotspots" id="cm3981462601"><title><content-text></content-text></title><media ref="tl0908000000/tl0908020000/tl0908020200/tl0908020202/cm3981462601.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908020000/tl0908020200/tl0908020202/cm3981462601text.xml"/></content-media>
<content-text><p><b>Exemple : meilleure route de niveau 1</b></p> <p>Le masque de sous-réseau utilisé pour déterminer la plus longue correspondance n’est pas toujours facile à déterminer. Examinons ce concept plus en détail, par le biais de plusieurs exemples.</p> <p><b>Cliquez sur Lire pour lancer l’animation.</b></p> <p>Dans cet exemple, PC1 envoie un ping à 192.168.1.2, l’interface sur R3. R1 reçoit le paquet.</p> <p><b>Cliquez sur Infos route, puis sur Table de routage R1 dans la figure.</b></p> <p>Remémorez-vous la première partie de l’étape 1 du processus de recherche de route. La figure démontre cette étape.</p> <p><b>Cliquez sur Étape 1 dans la figure.</b></p> <p>Le routeur commence à rechercher la meilleure correspondance dans les routes de niveau 1. Dans notre exemple, il existe une correspondance entre l’adresse IP de destination 192.168.1.2 et la meilleure route de niveau 1 de 192.168.1.0/24.</p> <p><b>Cliquez sur Étape 1a dans la figure.</b></p> <span class="cmd"><p>R 192.168.1.0/24 [120/1] via 172.16.2.2, 00:00:25, <span class="blue">Serial0/0/0</span></p></span> <p>R1 utilise cette route et transfère le paquet via l’interface Serial 0/0/0.</p></content-text>
</page>
<page type="OneColumn" id="tl0908020203">
<content-media type="StaticGraphic" id="cm6250831567"><title><content-text></content-text></title><media ref="tl0908000000/tl0908020000/tl0908020200/tl0908020203/cm6250831567.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908020000/tl0908020200/tl0908020203/cm6250831567text.xml"/></content-media>
<content-text><p>Pourquoi y a-t-il correspondance avec la route de niveau 1 192.168.1.0/24 et non avec l’un des sous-réseaux 172.16.0.0 ? Cela peut sembler évident. On peut être tenté de répondre : « Le routeur utilisera bien entendu 192.168.1.0/24 ». Cependant, le processus recherche la plus longue correspondance en comparant les adresses 32 bits et les entrées de route 32 bits. </p> <p>L’algorithme utilisé par IOS pour effectuer la recherche dans la table de routage dépasse le cadre de ce chapitre. Toutefois, il est important de comprendre pourquoi une entrée de route correspond ou ne correspond pas à l’adresse IP de destination du paquet.</p> <p>Pourquoi n’existe-t-il pas de correspondance avec l’un des sous-réseaux 172.16.0.0/24 de la table de routage ?</p> <p>Le sous-réseau 172.16.0.0/24 est une route parent des trois sous-réseaux ou routes enfant. Avant de déterminer une correspondance avec une route enfant, il doit exister au moins une correspondance entre l’adresse IP de destination du paquet et l’<b>adresse par classe</b> de la route parent (ou 172.16.0.0/16).</p> <p>Les 16 bits les plus à gauche de la route parent au moins correspondent-ils aux 16 premiers bits de l’adresse IP de destination du paquet de 192.168.1.2 ? La réponse est évidente : <b>non</b>. Cependant, dans la figure, vous remarquerez que le routeur vérifie le premier bit et trouve une correspondance. Il passe ensuite au deuxième bit. En raison de l’absence de correspondance, le processus de recherche passe à d’autres entrées de route.</p></content-text>
</page>
<page type="OneColumn" id="tl0908020204">
<content-media type="StaticGraphic" id="cm4871524980"><title><content-text></content-text></title><media ref="tl0908000000/tl0908020000/tl0908020200/tl0908020204/cm4871524980.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908020000/tl0908020200/tl0908020204/cm4871524980text.xml"/></content-media>
<content-text><p>Étudions maintenant comment le routeur trouve une correspondance entre l’adresse IP de destination du paquet de 192.168.1.2 et la route suivante de la table de routage 192.168.1.0/24 (meilleure route).</p> <span class="cmd"><p>R 192.168.1.0/24 [120/1] via 172.16.2.2, 00:00:25, Serial0/0/0</p></span> <p>La route 192.168.1.0 est une meilleure route de niveau 1 et contient par conséquent le masque de sous-réseau /24. Dans la figure, notez que les 24 premiers bits les plus à gauche au moins correspondent.</p> <p>La correspondance se vérifie même aux 30 premiers bits, comme illustré dans la figure. Est-ce important ? Nous verrons plus tard qu’il existe des situations dans lesquelles plusieurs routes correspondantes sont disponibles dans la table de routage pour une même adresse IP de destination. Quelle est la route préférée ? Celle qui possède le plus grand nombre de bits correspondants, ou plus longue correspondance.</p> <p>Dans cet exemple, il existe une correspondance entre l’adresse IP de destination 192.168.1.0 et la meilleure route de niveau 1 (192.168.1.0/24). Puisqu’il n’existe pas de correspondance plus longue et spécifique, le paquet est transféré à l’interface de sortie Serial 0/0/0.</p> <p><b>Remarque :</b> n’oubliez pas que le processus de recherche de route doit effectuer une recherche récurrente sur chaque route ne faisant référence qu’à une adresse IP de tronçon suivant, et non à une interface de sortie. Pour un rappel sur les recherches récurrentes, reportez-vous au chapitre 2, « Routage statique ».</p></content-text>
</page>
</topic>
<topic type="" id="tl0908020300">
<title><content-text>Correspondance la plus longue : routes parent de niveau 1 et enfant de niveau 2</content-text></title>
<page type="OneColumn" id="tl0908020301">
<content-media type="StaticGraphic" id="cm1299179193"><title><content-text></content-text></title><media ref="tl0908000000/tl0908020000/tl0908020300/tl0908020301/cm1299179193.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908020000/tl0908020300/tl0908020301/cm1299179193text.xml"/></content-media>
<content-text><p>Examinons ce qui se passe en cas de correspondance avec une route parent de niveau 1. </p> <p><b>Cliquez sur Infos route dans la figure.</b></p> <p>Comme illustré dans la figure, une route parent ne contient pas d’adresse de tronçon suivant ni d’interface de sortie, mais uniquement un « en-tête » pour ses routes enfant de niveau 2 (les sous-réseaux). </p> <p>Le masque de sous-réseau des routes enfant (/24 dans la figure) apparaît dans la route parent (172.16.0.0) pour les sous-réseaux qui utilisent le même masque de sous-réseau. </p> <p>Avant que les routes enfant de niveau 2 ne soient examinées pour une correspondance, il doit exister une correspondance entre l’adresse par classe de la route parent de niveau 1 et l’adresse IP de destination du paquet. </p></content-text>
</page>
<page type="OneColumn" id="tl0908020302">
<content-media type="InteractiveGraphicHotspots" id="cm1444017874"><title><content-text></content-text></title><media ref="tl0908000000/tl0908020000/tl0908020300/tl0908020302/cm1444017874.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908020000/tl0908020300/tl0908020302/cm1444017874text.xml"/></content-media>
<content-text><p><b>Exemple : route parent de niveau 1 et routes enfant de niveau 2</b></p> <p>Dans l’exemple de la figure, PC1 envoie une requête ping à PC2 à l’adresse 172.16.3.10. R1 reçoit le paquet et commence à rechercher une route dans la table de routage. </p> <p><b>Cliquez sur Étape 1b dans la figure.</b></p> <p>La première correspondance obtenue est une route parent de niveau 1 (172.16.0.0). N’oubliez pas que le masque par classe du parent n’apparaît pas pour les sous-réseaux autres que VLSM. Avant que les routes enfant (sous-réseaux) ne soient examinées pour une correspondance, il doit exister une correspondance avec l’adresse par classe de la route parent. </p> <p>La première entrée de route étant une route parent de niveau 1 qui correspond à l’adresse de destination (étape 1b du processus de recherche de route), le processus de recherche de route passe à l’étape 2.</p> <p><b>Cliquez sur Étape 2 dans la figure.</b></p> <p>Puisqu’il existe une correspondance avec la route parent, les routes enfant de niveau 2 seront examinées afin de trouver une correspondance. Cependant, le masque de sous-réseau /24 est utilisé cette fois-ci pour le nombre minimum de bits les plus à gauche qui doivent correspondre. </p> <p><b>Cliquez sur Étape 2a dans la figure.</b></p> <p>Le processus de recherche de route recherche une correspondance dans les routes enfant. Dans ce cas, 24 bits au minimum doivent correspondre. </p></content-text>
</page>
<page type="OneColumn" id="tl0908020303">
<content-media type="InteractiveGraphicHotspots" id="cm5255844411"><title><content-text></content-text></title><media ref="tl0908000000/tl0908020000/tl0908020300/tl0908020303/cm5255844411.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908020000/tl0908020300/tl0908020303/cm5255844411text.xml"/></content-media>
<content-text><p>Examinons comment le routeur recherche une correspondance avec l’une des routes enfant de niveau 2.</p> <p>En premier lieu, le routeur recherche une correspondance avec la route parent. Dans cet exemple, les 16 premiers bits de l’adresse IP doivent correspondre à ceux de la route parent. Les 16 bits les plus à gauche doivent correspondre car il s’agit du masque par classe de la route parent (/16). </p> <p>S’il existe une correspondance avec la route parent, le routeur vérifie la route 172.16.1.0. Les routes enfant sont examinées uniquement en cas de correspondance avec le masque par classe du parent.</p> <p><b>Cliquez sur le bouton 2 dans la figure.</b></p> <p>Lorsque le routeur vérifie le premier sous-réseau, 172.16.1.0, le 23ème bit ne correspond pas ; cette route est donc rejetée car les 24 premiers bits ne correspondent pas. </p> <p><b>Cliquez sur le bouton 3 dans la figure.</b></p> <p>Le routeur vérifie ensuite la route 172.16.2.0/24. Le 24ème bit ne correspondant pas, cette route est également rejetée. Les 24 premiers bits doivent correspondre.</p> <p><b>Cliquez sur le bouton 4 dans la figure.</b></p> <p>Le routeur vérifie la dernière route enfant de 172.16.3.0/24 et trouve une correspondance. Les 24 premiers bits correspondent. Le processus de la table de routage utilisera cette route (172.16.3.0/24) pour transférer le paquet avec l’adresse IP de destination 172.13.3.10 via l’interface de sortie Serial 0/0/0.</p> <span class="cmd"><p>R 172.16.3.0 [120/1] via 172.16.2.2, 00:00:25, Serial0/0/0</p></span> <p>Que se passe-t-il si le routeur ne trouve pas de route ? Il supprime le paquet.</p></content-text>
</page>
<page type="OneColumn" id="tl0908020304">
<content-media type="StaticGraphic" id="cm9962366577"><title><content-text></content-text></title><media ref="tl0908000000/tl0908020000/tl0908020300/tl0908020304/cm9962366577.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908020000/tl0908020300/tl0908020304/cm9962366577text.xml"/></content-media>
<content-text><p><b>Exemple : processus de recherche de route avec VLSM</b></p> <p>Qu’en est-il de notre topologie RouterX qui utilise un schéma d’adressage VLSM ? Comment ce schéma modifie-t-il le processus de recherche ?</p> <p><b>Cliquez sur le bouton 1 dans la figure.</b></p> <p>L’utilisation de VLSM ne modifie pas le processus de recherche. Avec VLSM, le masque par classe /16 s’affiche avec la route parent de niveau 1 (172.16.0.0/16 dans la figure). </p> <p><b>Cliquez sur les boutons 2, 3 et 4 dans la figure.</b></p> <p>Comme dans les réseaux autres que VLSM, s’il existe une correspondance entre l’adresse IP de destination du paquet et le masque par classe de la route parent de niveau 1, les routes enfant de niveau 2 seront recherchées.</p> <p>La seule différence avec VLSM se situe au niveau des routes enfant qui affichent leurs propres masques de sous-réseau. Ces masques de sous-réseau sont utilisés pour déterminer le nombre de bits les plus à gauche qui doivent correspondre à l’adresse IP de destination du paquet. Par exemple, pour obtenir une correspondance avec la route enfant 172.16.1.4, les 30 bits les plus à gauche doivent correspondre car il s’agit d’un masque de sous-réseau /30. </p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0908030000">
<title><content-text>Comportement du routage</content-text></title>
<topic type="" id="tl0908030100">
<title><content-text>Comportement du routage par classe et sans classe</content-text></title>
<page type="OneColumn" id="tl0908030101">
<content-media type="AnimationPartialScreen" id="cm4853554907"><title><content-text></content-text></title><media ref="tl0908000000/tl0908030000/tl0908030100/tl0908030101/cm4853554907.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908030000/tl0908030100/tl0908030101/cm4853554907text.xml"/></content-media>
<content-text><p>L’étape suivante du processus de recherche de route (étape 3) se penche sur le <i>comportement de routage</i>. Le comportement de routage influence le processus de recherche de la route préférée à l’aide des commandes <span class="cmd"><b>no ip classless</b></span> ou <span class="cmd"><b>ip classless</b></span>. </p> <p><b>Les <i>comportements</i> des routages sans classe et par classe sont différents des <i>protocoles</i> de routage sans classe et par classe.</b> Les <i>protocoles</i> de routage par classe et sans classe ont un impact sur la façon dont la table de routage est renseignée. Les <i>comportements</i> de routage par classe et sans classe déterminent le mode de recherche de la table de routage une fois qu’elle est renseignée. Dans la figure, les sources de routage (y compris les protocoles de routage par classe et sans classe) sont les entrées utilisées pour renseigner la table de routage. Le comportement de routage, spécifié par les commandes <span class="cmd"><b>ip classless</b></span> ou <span class="cmd"><b>no ip classless</b></span>, détermine le mode de fonctionnement du processus de recherche de route à l’étape 3.</p> <p>Comme vous pouvez le constater, les protocoles de routage et les comportements de routage sont totalement indépendants. La table de routage peut être renseignée à l’aide d’un <i>protocole de routage sans classe</i> comme RIPv2, tout en appliquant un <i>comportement de routage par classe</i> car la commande <span class="cmd"><b>no ip classless</b></span> est configurée.</p></content-text>
</page>
<page type="OneColumn" id="tl0908030102">
<content-media type="InteractiveGraphicHotspots" id="cm8074649530"><title><content-text></content-text></title><media ref="tl0908000000/tl0908030000/tl0908030100/tl0908030102/cm8074649530.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908030000/tl0908030100/tl0908030102/cm8074649530text.xml"/></content-media>
<content-text><p><b>Modifications de topologie</b></p> <p>Dans le chapitre 7 « RIPv2 », nous avons appris que les protocoles de routage par classe tels que RIPv1 ne prennent pas en charge les réseaux discontinus. Bien que notre topologie actuelle contienne des réseaux discontinus, nous pouvons configurer des routes statiques afin d’accéder à ces réseaux. </p> <p><b>Cliquez sur Configuration de R2 dans la figure.</b></p> <p>Nous ajoutons tout d’abord une route statique « à quatre zéros » sur R2 pour envoyer le trafic par défaut à R3. Nous ajoutons ensuite la commande <span class="cmd"><b>default-information originate</b></span> au processus de routage RIP afin que R2 envoie la route par défaut à R1. Cela permettra à R1 et R2 d’accéder à tous les autres réseaux, y compris 172.16.4.0/24 sur R3. Enfin, nous entrons la commande <span class="cmd"><b>no network 192.168.1.0</b></span> car nous ne souhaitons plus échanger de mises à jour RIP avec R3. </p> <p><b>Cliquez sur Configuration de R3 dans la figure.</b></p> <p>Pour terminer notre configuration, nous supprimons le routage RIP de R3 et y ajoutons une route statique afin d’envoyer le trafic du réseau principal 172.16.0.0/16, qui ne possède pas de plus longue correspondance dans la table de routage, vers R2. </p> <p>Nous n’allons pas tester la connectivité à ce stade. Nous effectuerons cette opération dans les sections suivantes.</p></content-text>
</page>
</topic>
<topic type="" id="tl0908030200">
<title><content-text>Comportement de routage par classe : no ip classless</content-text></title>
<page type="OneColumn" id="tl0908030201">
<content-media type="InteractiveGraphicHotspots" id="cm1545129011"><title><content-text></content-text></title><media ref="tl0908000000/tl0908030000/tl0908030200/tl0908030201/cm1545129011.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908030000/tl0908030200/tl0908030201/cm1545129011text.xml"/></content-media>
<content-text><p>Nous allons maintenant nous pencher sur l’étape 3 du processus de recherche de route. Que se passe-t-il après l’étape 2b en cas de non correspondance avec une route enfant de niveau 2 du parent ? Nous verrons ultérieurement un exemple spécifique de ce scénario.</p> <p>Comme nous l’avons vu dans la section précédente, lors des étapes 1 et 2, le routeur recherche la meilleure correspondance avec l’adresse de destination du paquet IP dans les routes de niveau 1 et les routes enfant. Supposons qu’il n’existe pas de correspondance et revenons à l’étape 3 du processus de recherche de route.</p> <p><b>Cliquez sur les étapes 3 et 3a dans la figure pour examiner l’impact du comportement de routage par classe sur le processus de recherche de route. </b></p> <p><b>Cliquez sur Étape 3 dans la figure. </b></p> <p>Le routeur applique-t-il un comportement de routage par classe ou sans classe ?</p> <p><b>Cliquez sur Étape 3a dans la figure.</b></p> <p>Si un comportement de routage <i>par classe</i> est en place, terminez le processus de recherche et <i>supprimez le paquet</i>. </p> <p><b> Remarque : </b>dans le cas d’un comportement de routage par classe, le processus n’atteint jamais l’étape 4.</p></content-text>
</page>
<page type="OneColumn" id="tl0908030202">
<content-media type="StaticGraphic" id="cm9320057142"><title><content-text></content-text></title><media ref="tl0908000000/tl0908030000/tl0908030200/tl0908030202/cm9320057142.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908030000/tl0908030200/tl0908030202/cm9320057142text.xml"/></content-media>
<content-text><p>Avant IOS 11.3, <span class="cmd"><b>no ip classless</b></span> était le comportement par défaut des routeurs Cisco. La commande <span class="cmd"><b>no ip classless</b></span> signifie que le processus de recherche de route utilise par défaut les recherches de table de routage par classe. Ceci sera expliqué dans les sections suivantes. </p> <p>Les commandes <span class="cmd"><b>no ip classless</b></span> et <span class="cmd"><b>ip classless</b></span> sont des commandes de configuration globale que vous pouvez afficher à l’aide de la commande <span class="cmd"><b>show running-config</b></span>. Dans IOS versions 11.3 et ultérieures, la commande <span class="cmd"><b>ip classless</b></span> est la commande par défaut. Elle permet d’implémenter un processus de recherche de route sans classe. </p> <p>Quel est l’impact du comportement de routage par classe lorsque tous les routeurs sont configurés avec la commande <span class="cmd"><b>no ip classless</b></span> ? </p> <span class="cmd"><p>R1(config)#<b>no ip classless</b></p></span> <span class="cmd"><p>R2(config)#<b>no ip classless</b></p></span> <span class="cmd"><p>R3(config)#<b>no ip classless</b></p></span> <p>Examinons les effets du comportement de routage par classe du routeur, c’est-à-dire lorsque la commande <span class="cmd"><b>no ip classless</b></span> est configurée.</p></content-text>
</page>
</topic>
<topic type="" id="tl0908030300">
<title><content-text>Comportement de routage par classe : processus de recherche</content-text></title>
<page type="OneColumn" id="tl0908030301">
<content-media type="InteractiveGraphicHotspots" id="cm4992195644"><title><content-text></content-text></title><media ref="tl0908000000/tl0908030000/tl0908030300/tl0908030301/cm4992195644.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908030000/tl0908030300/tl0908030301/cm4992195644text.xml"/></content-media>
<content-text><p>Dans notre processus de recherche de la table de routage, l’étape 3a indique que lorsque le comportement de routage par classe est actif (<span class="cmd"><b>no ip classless</b></span>), le processus ne poursuit pas la recherche des routes de niveau 1 dans la table de routage. Si un paquet ne correspond pas à une route enfant de la route de réseau parent, le routeur supprime le paquet. Examinons un exemple.</p> <p><b>Exemple : R2 appliquant un comportement de routage par classe</b></p> <p>Dans cet exemple, R2 reçoit un paquet destiné à PC3 à l’adresse 172.16.4.10. </p> <p><b>Cliquez sur Table de routage R2 et Parent dans la figure.</b></p> <p>Le processus de routage recherche la table de routage et trouve une correspondance de 16 bits avec la route parent 172.16.0.0, comme illustré dans la figure. Selon l’étape 1b du processus de routage, s’il existe une correspondance dans la route parent, les routes enfant sont vérifiées.</p> <p>Observons maintenant le processus de correspondance de bits qui a lieu lors de la vérification des routes enfant. </p> <p><b>Cliquez sur les boutons 1, 2 et 3 dans la figure.</b></p> <p>Notez qu’aucun des 24 bits les plus à gauche des routes enfant ne correspond à l’adresse IP de destination 172.16.4.10. Au mieux, seuls 21 bits correspondent. Il n’existe pas de correspondance avec les routes enfant de niveau 2.</p> <p> </p></content-text>
</page>
<page type="OneColumn" id="tl0908030302">
<content-media type="InteractiveGraphicHotspots" id="cm2981029881"><title><content-text></content-text></title><media ref="tl0908000000/tl0908030000/tl0908030300/tl0908030302/cm2981029881.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908030000/tl0908030300/tl0908030302/cm2981029881text.xml"/></content-media>
<content-text><p>Que se passe-t-il ensuite ? Le routeur R2 supprime le paquet.</p> <p><b>Cliquez sur Pas de corresp. dans la figure.</b></p> <p><i>Le routeur R2 utilisant un comportement de routage par classe</i> (<span class="cmd"><b>no ip classless</b></span>), <i>il ne recherche pas de correspondance inférieure au-delà des routes enfant.</i> </p> <p><b>Cliquez sur Abandon du paquet dans la figure.</b></p> <p>Le processus de la table de routage n’utilise pas la route par défaut 0.0.0.0/0, ni aucune autre route. </p> <p>Une erreur courante consiste à supposer qu’une route par défaut sera <i>toujours</i> utilisée si le routeur ne dispose pas de meilleure route. Dans notre exemple, la route par défaut de R2 n’est pas examinée, ni utilisée, bien qu’il s’agisse d’une correspondance. Ce résultat est souvent surprenant pour les administrateurs réseau qui ne comprennent pas la différence entre un comportement de routage par classe et un comportement de routage sans classe. </p> <p><b>Remarque</b> : nous verrons dans un autre exemple du chapitre 9, « Protocole EIGRP », l’importance de comprendre le processus de recherche de table de routage pour savoir pourquoi une route par défaut n’est pas utilisée, même avec un comportement de routage sans classe.</p> <p>Pourquoi ce comportement du routage par classe ? L’idée <i>générale</i> du comportement de routage par classe vient du temps où tous les réseaux étaient des réseaux par classe. Au début du développement d’Internet, une entreprise recevait une adresse réseau principale de classe A, B ou C. Une fois qu’une entreprise disposait d’une adresse réseau principale IP par classe, elle administrait également tous les sous-réseaux de cette adresse par classe. Les routeurs appartenant à l’entreprise connaissaient tous les sous-réseaux du réseau principal. Si un sous-réseau ne se trouvait pas dans la table de routage, celui-ci n’existait pas. Comme nous l’avons vu dans le chapitre 6 « VLSM et CIDR », les adresses IP ne sont plus allouées par classe.</p></content-text>
</page>
</topic>
<topic type="" id="tl0908030400">
<title><content-text>Comportement de routage sans classe : ip classless</content-text></title>
<page type="OneColumn" id="tl0908030401">
<content-media type="StaticGraphic" id="cm1704898308"><title><content-text></content-text></title><media ref="tl0908000000/tl0908030000/tl0908030400/tl0908030401/cm1704898308.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908030000/tl0908030400/tl0908030401/cm1704898308text.xml"/></content-media>
<content-text><p>Depuis IOS 11.3, Cisco utilise par défaut le comportement de routage sans classe. La commande <span class="cmd"><b>ip classless</b></span> est configurée par défaut. La commande <span class="cmd"><b>show running-config</b></span> affiche le comportement de routage. Un comportement de routage sans classe signifie que le processus de routage ne considère plus que tous les sous-réseaux d’un réseau par classe principal ne sont accessibles que dans les routes enfant de la route parent. Le comportement de routage sans classe est idéal pour les réseaux discontinus et les super-réseaux CIDR.</p> <p>Dans cette section, nous allons examiner l’impact du comportement de routage sans classe. Tous les routeurs sont configurés avec la commande <span class="cmd"><b>ip classless</b></span>. </p> <span class="cmd"><p>R1(config)#<b>ip classless</b></p></span> <span class="cmd"><p>R2(config)#<b>ip classless</b></p></span> <span class="cmd"><p>R3(config)#<b>ip classless</b></p></span> <p>Nous allons décrire le traitement d’un paquet en cas de correspondance avec une route parent de niveau 1, mais d’absence de correspondance avec les routes enfant de niveau 2 ou les sous-réseaux. Ceci nous conduit à l’étape 3b relative au comportement de routage sans classe.</p></content-text>
</page>
<page type="OneColumn" id="tl0908030402">
<content-media type="InteractiveGraphicHotspots" id="cm1001089653"><title><content-text></content-text></title><media ref="tl0908000000/tl0908030000/tl0908030400/tl0908030402/cm1001089653.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908030000/tl0908030400/tl0908030402/cm1001089653text.xml"/></content-media>
<content-text><p>Comme nous l’avons vu dans le processus de la table de routage, dans les étapes 1 et 2, celui-ci recherche la meilleure correspondance avec l’adresse de destination du paquet IP dans les routes enfant de niveaux 1 et 2. Supposons qu’il n’existe pas de correspondance et revenons à l’étape 3 du processus de recherche de route.</p> <p><b>Le processus de recherche de route :</b></p> <p>Procédez comme indiqué dans la figure pour afficher le processus de recherche de route :</p> <p><b>Cliquez sur Étape 3.</b></p> <p>Le routeur applique-t-il un comportement de routage par classe ou sans classe ?</p> <p><b>Cliquez sur Étape 3a.</b></p> <p><b>Comportement de routage par classe :</b> si un comportement de routage <i>par classe</i> est en place, terminez le processus de recherche et <i>supprimez le paquet</i>.</p> <p><b>Cliquez sur Étape 3b.</b></p> <p><b>Comportement de routage sans classe :</b>si un comportement de routage <i>sans classe</i> est en place, continuez à rechercher des routes de super-réseau de niveau 1 dans la table de routage, y compris, le cas échéant, la route par défaut.</p> <p><b>Cliquez sur Étape 4.</b></p> <p>En cas de correspondance inférieure avec une route de super-réseau de niveau 1 ou une route par défaut, le routeur utilise maintenant cette route pour <i>transférer le paquet</i>.</p> <p><b>Cliquez sur Étape 5.</b></p> <p>En cas d’absence de correspondance avec une route de la table de routage, le routeur <i>supprime le paquet</i>.</p></content-text>
</page>
</topic>
<topic type="" id="tl0908030500">
<title><content-text>Comportement de routage sans classe : processus de recherche</content-text></title>
<page type="OneColumn" id="tl0908030501">
<content-media type="InteractiveGraphicHotspots" id="cm3241825150"><title><content-text></content-text></title><media ref="tl0908000000/tl0908030000/tl0908030500/tl0908030501/cm3241825150.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908030000/tl0908030500/tl0908030501/cm3241825150text.xml"/></content-media>
<content-text><p>Dans notre exemple de topologie, examinons la correspondance de bits lorsque le comportement de routage sans classe (<span class="cmd"><b>ip classless</b></span>) est défini. </p> <p><b>Exemple : R2 appliquant un comportement de routage sans classe</b></p> <p><b>Cliquez sur Table de routage R2 et Parent dans la figure.</b></p> <p>Là aussi, R2 reçoit un paquet destiné à PC3 à l’adresse 172.16.4.10. Tout comme dans le comportement de routage par classe, le routeur effectue une recherche dans la table de routage et trouve une correspondance de 16 bits avec la route parent 172.16.0.0, comme illustré dans la figure. L’étape 1b du processus de routage indique que les routes enfant sont vérifiées en cas de correspondance avec une route parent. </p> <p><b>Cliquez sur les boutons 1, 2 et 3 dans la figure.</b></p> <p>Là encore, notez qu’aucun des 24 bits les plus à gauche des routes enfant ne correspond à l’adresse IP de destination 172.16.4.10. Au mieux, seuls 21 bits correspondent. Il n’existe pas de correspondance avec les routes enfant de niveau 2.</p></content-text>
</page>
<page type="OneColumn" id="tl0908030502">
<content-media type="StaticGraphic" id="cm6864267801"><title><content-text></content-text></title><media ref="tl0908000000/tl0908030000/tl0908030500/tl0908030502/cm6864267801.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908030000/tl0908030500/tl0908030502/cm6864267801text.xml"/></content-media>
<content-text><p>Puisque nous utilisons un comportement de routage sans classe (<span class="cmd">ip classless</span>), le routeur poursuit la recherche dans la table de routage, au-delà de cette route parent et de ses routes enfant. Le processus de routage poursuit sa recherche d’une route dotée d’un masque de sous-réseau inférieur aux 16 bits de la route parent précédente dans la table de routage. En d’autres termes, le routeur continue maintenant à rechercher les autres routes de la table de routage où moins de bits correspondent, mais où une correspondance existe.</p> <p><b>Dans la figure, cliquez sur Route de réseau.</b></p> <p>La route 192.168.1.0<span class="blue">/24</span> ne comporte pas 24 bits les plus à gauche correspondant à l’adresse IP de destination. </p> <span class="cmd"><p>C 192.168.1.0/24 is directly connected, Serial0/0/1</p></span> <p><b>Cliquez sur Route par défaut dans la figure.</b></p> <p>Qu’en est-il de la route par défaut ? Combien de bits doivent correspondre ? </p> <span class="cmd"><p>S* 0.0.0.0/<span class="blue">0</span> is directly connected, Serial0/0/1</p></span> <p>Le masque est /0, ce qui signifie qu’il n’y a aucune exigence quant à la correspondance de bits. La route par défaut est la correspondance contenant le moins de bits. Si aucune autre route ne correspond dans un comportement de routage sans classe, la route par défaut fait office de correspondance. </p> <p><b>Cliquez sur Transférer le paquet dans la figure.</b></p> <p>Dans ce cas, le routeur utilisera la route par défaut car elle constitue la meilleure correspondance. Le paquet sera transféré via l’interface Serial 0/0/1.</p> <p><b>Route par classe sur R3</b></p> <p><b>Cliquez sur Table de routage R3 dans la figure.</b></p> <p>Comment R3 traite-t-il le trafic revenant au PC2 à l’adresse 172.16.2.10 ? Dans la figure, vous remarquerez que dans la table de routage de R3, la route de sous-réseau 172.16.4.0/24 et la route de réseau par classe 172.16.0.0/16 sont des routes enfant de niveau 2 de la route parent 172.16.0.0/16. Lorsqu’il existe des routes pour les sous-réseaux d’un réseau par classe et une route pour la route de réseau par classe elle-même, la route par classe est considérée comme une route enfant de niveau 2, tout comme les sous-réseaux.</p> <p>Dans ce cas, R3 utilise la route enfant 172.16.0.0/16 et transfère le trafic via Serial 0/0/1 vers R2.</p></content-text>
</page>
<page type="OneColumn" id="tl0908030503">
<content-media type="StaticGraphic" id="cm7174144403"><title><content-text></content-text></title><media ref="tl0908000000/tl0908030000/tl0908030500/tl0908030503/cm7174144403.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908030000/tl0908030500/tl0908030503/cm7174144403text.xml"/></content-media>
<content-text><p><b>Comportement de routage par classe ou sans classe en situation réelle</b></p> <p>N’oubliez pas que les <i>comportements</i> de routage par classe et sans classe sont indépendants des <i>protocoles</i> de routage par classe et sans classe. Un routeur peut être configuré avec un comportement de routage par classe (<span class="cmd"><b>no ip classless</b></span>) et un protocole de routage sans classe, tel que RIPv2. Un routeur peut également être configuré avec un comportement de routage sans classe (<span class="cmd"><b>ip classless</b></span>) et un protocole de routage par classe, tel que RIPv1. </p> <p>Dans les réseaux modernes, il est recommandé d’utiliser le comportement de routage sans classe afin que les routes de super-réseau et les routes par défaut puissent être utilisées quand cela est nécessaire.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0908040000">
<title><content-text>Travaux pratiques de table de routage</content-text></title>
<topic type="" id="tl0908040100">
<title><content-text>Étude du processus de recherche de table de routage</content-text></title>
<page type="OneColumn" id="tl0908040101">
<content-media type="ActivityLab" id="cm9730041587"><title><content-text></content-text></title><media ref="tl0908000000/tl0908040000/tl0908040100/tl0908040101/cm9730041587/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0908000000/tl0908040000/tl0908040100/tl0908040101/cm9730041587/icontext.xml"/></content-media>
<content-text><p>Dans ces travaux pratiques, vous aurez l’occasion d’étudier le comportement de routage sans classe et par classe.</p><p><b>Pour plus d’informations, cliquez sur l’icône des travaux pratiques.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0908040102">
<content-media type="ActivityPKA" id="cm9403955628"><title><content-text></content-text></title><media ref="tl0908000000/tl0908040000/tl0908040100/tl0908040102/cm9403955628/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0908000000/tl0908040000/tl0908040100/tl0908040102/cm9403955628/icontext.xml"/></content-media>
<content-text><p>Dans cet exercice Packet Tracer, vous aurez l’occasion d’étudier le comportement de routage sans classe et par classe.</p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0908040200">
<title><content-text>Travaux pratiques avancés sur la commande show ip route</content-text></title>
<page type="OneColumn" id="tl0908040201">
<content-media type="ActivityLab" id="cm5231194811"><title><content-text></content-text></title><media ref="tl0908000000/tl0908040000/tl0908040200/tl0908040201/cm5231194811/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0908000000/tl0908040000/tl0908040200/tl0908040201/cm5231194811/icontext.xml"/></content-media>
<content-text><p><b>Pour plus d’informations, cliquez sur l’icône des travaux pratiques.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0908040202">
<content-media type="ActivityPKA" id="cm5835199697"><title><content-text></content-text></title><media ref="tl0908000000/tl0908040000/tl0908040200/tl0908040202/cm5835199697/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0908000000/tl0908040000/tl0908040200/tl0908040202/cm5835199697/icontext.xml"/></content-media>
<content-text><p>Dans cet exercice de travaux pratiques, vous allez déterminer la topologie d’un réseau à l’aide des sorties de la commande <span class="cmd"><b>show ip route</b></span>. </p> <p>Vous allez élaborer un schéma de topologie et déterminer l’adressage des interfaces sur chaque routeur. Ensuite, vous allez concevoir et configurer le réseau en fonction des sorties. Affectez les équipements ETTD et DCE comme vous le souhaitez. Une fois terminé, les sorties de votre réseau doivent correspondre à celles fournies ci-dessous. </p><p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="tl0908050000">
<title><content-text>Résumé du chapitre</content-text></title>
<topic type="" id="tl0908050100">
<title><content-text>Résumé et révision</content-text></title>
<page type="OneColumn" id="tl0908050101">
<content-media type="StaticGraphic" id="cm7098108824"><title><content-text></content-text></title><media ref="tl0908000000/tl0908050000/tl0908050100/tl0908050101/cm7098108824.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908050000/tl0908050100/tl0908050101/cm7098108824text.xml"/></content-media>
<content-text><p><b>Résumé</b></p> <p>La compréhension de la structure et du processus de recherche de la table de routage peut être un outil important lors de la vérification et du dépannage de réseaux. Savoir quelles routes doivent être incluses ou non dans la table de routage est une compétence essentielle lors du dépannage de problèmes de routage.</p> <p>La table de routage IP Cisco est structurée par classe. Cela signifie qu’elle utilise les adresses par classe par défaut pour organiser les entrées de route. La source d’une entrée de routage peut être un réseau connecté directement, une route statique ou une route dynamique de protocole de routage.</p> <p>Ce chapitre vous a présenté les routes de niveaux 1 et 2. Une route de niveau 1 peut être une meilleure route ou une route parent. Une meilleure route de niveau 1 est une route dont le masque de sous-réseau est égal ou inférieur au masque par classe par défaut du réseau et qui possède une adresse de tronçon suivant ou une interface de sortie. Par exemple, une route acquise via RIP et possédant l’adresse réseau 192.168.1.0 et un masque réseau /24 est une meilleure route de niveau 1. Ces routes sont affichées dans la table de routage sous forme d’entrée de route unique, telle que :</p> <span class="cmd"><p>R 192.168.1.0/24 [120/1] via 172.16.2.2, 00:00:25, Serial0/0/0</p></span> <p>Une route parent est un autre type de route de niveau 1. Une route parent de niveau 1 est automatiquement créée à chaque ajout d’un sous-réseau à la table de routage. La route de sous-réseau est aussi appelée route enfant de niveau 2. La route parent est un en-tête des routes enfant de niveau 2. Voici un exemple de route parent de niveau 1 et de route enfant de niveau 2 :</p> <span class="cmd"><p> 172.16.0.0/24 is subnetted, 1 subnets</p></span> <span class="cmd"><p>R 172.16.1.0 [120/1] via 172.16.2.1, 00:00:07, Serial0/0/0</p></span> <p>Les masques de sous-réseau des routes enfant sont affichés dans la route parent, sauf si VLSM est utilisé. Avec VLSM, la route parent affiche le masque par classe par défaut et le masque de sous-réseau est inclus dans les entrées de route VLSM individuelles.</p> <p>Ce chapitre vous a également présenté le processus de recherche de la table de routage. Lors de la réception d’un paquet par le routeur, le routeur recherche la plus longue correspondance avec l’une des routes de la table de routage. La plus longue correspondance est la route qui possède le plus grand nombre de bits les plus à gauche identiques entre l’adresse IP de destination du paquet et l’adresse réseau de la route dans la table de routage. Le masque de sous-réseau associé à l’adresse réseau dans la table de routage définit le nombre minimum de bits qui doivent correspondre pour obtenir une correspondance.</p> <p>Avant de rechercher une correspondance dans les routes enfant de niveau 2 (sous-réseaux), il doit exister une correspondance avec la route parent de niveau 1. Le masque par classe du parent détermine le nombre de bits qui doivent correspondre avec la route parent. S’il existe une correspondance avec la route parent, les routes enfant sont examinées afin de trouver une correspondance.</p> <p>Que se passe-t-il lorsqu’une correspondance est trouvée avec la route parent mais aucune avec les routes enfant ? Si le routeur utilise le comportement de routage par classe, aucune autre route ne fait l’objet d’une recherche et le paquet est supprimé. Le comportement de routage par classe était le comportement de routage par défaut sur les routeurs Cisco antérieurs à IOS 11.3. Le comportement de routage par classe peut être appliqué à l’aide de la commande <span class="cmd"><b>no ip classless</b></span>.</p> <p>Le comportement de routage sans classe est devenu le comportement de routage par défaut depuis IOS 11.3. S’il existe une correspondance avec une route parent mais avec aucune des routes enfant, le processus de la table de routage poursuit sa recherche d’autres routes dans la table de routage, y compris la route par défaut (si disponible). Le comportement de routage sans classe est appliqué à l’aide de la commande <span class="cmd"><b>ip classless</b></span>.</p> <p>Les routes vers les réseaux sont ajoutées à la table de routage à partir de diverses sources, telles que les réseaux connectés directement, les routes statiques, les protocoles de routage par classe et les protocoles de routage sans classe. Le processus de recherche (comportement de routage par classe ou sans classe) est indépendant de la source de la route. Une table de routage peut acquérir des routes d’un protocole de routage par classe tel que RIPv1, tout en utilisant un comportement de routage sans classe (<span class="cmd"><b>no ip classless</b></span>) pour son processus de recherche.</p></content-text>
</page>
<page type="FullScreen" id="tl0908050102">
<content-media type="ChapterSummary" id="cm5229847571"><title><content-text></content-text></title><media ref="tl0908000000/tl0908050000/tl0908050100/tl0908050102/cm5229847571.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908050000/tl0908050100/tl0908050102/cm5229847571text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="tl0908050103">
<content-media type="ActivityPKT" id="cm4154847951"><title><content-text></content-text></title><media ref="tl0908000000/tl0908050000/tl0908050100/tl0908050103/cm4154847951/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0908000000/tl0908050000/tl0908050100/tl0908050103/cm4154847951/icontext.xml"/></content-media>
<content-text><p><content-link target="E2_PTAct_8_5_1_Directions.pdf" type="internalfile">Instructions d’intégration des compétences Packet Tracer (PDF)</content-link></p><p><b>Pour plus d’informations, cliquez sur l’icône Packet Tracer.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0908050104">
<content-media type="StaticGraphic" id="cm6303911579"><title><content-text></content-text></title><media ref="tl0908000000/tl0908050000/tl0908050100/tl0908050104/cm6303911579.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0908000000/tl0908050000/tl0908050100/tl0908050104/cm6303911579text.xml"/></content-media>
<content-text><p><b>Autres sources d’informations</b></p> <p>L’ouvrage d’Alex Zinin, <i>Cisco IP Routing</i> (Routage IP Cisco, en anglais), constitue une excellente référence sur la structure de la table de routage et le processus de recherche. Cet ouvrage aborde de manière approfondie les points présentés dans ce chapitre.</p> <p>Le chapitre 4 de <i>Cisco IP Routing</i>, Routing Table Maintenance (Maintenance de la table de routage), comprend les sections suivantes :</p> <ul><li> Comparison of Route Sources (Comparaison des routes source)</li> <li> Representation of Routing Information and Interfaces (Représentation des informations de routage et des interfaces)</li> <li> Routing Table Structure (Structure de la table de routage)</li> <li> Route Source Selection (Sélection de la source de route)</li> <li> Routing Table Initialization (initialisation de la table de routage)</li> <li> Asynchronous Table Maintenance (Maintenance d’une table asynchrone)</li> <li> Route Resolvability (Résolution des routes)</li> <li> Dynamic Route Processing (Traitement des routes dynamiques)</li> <li> Static Route Processing (Traitement des routes statiques)</li> <li> Manual Routing Table Clearance (Suppression manuelle de la table de routage)</li> <li> Default Route Selection (Sélection d’une route par défaut)</li></ul></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="tl0908060000">
<title><content-text>Questionnaire du chapitre</content-text></title>
<topic type="" id="tl0908060100">
<title><content-text>Questionnaire du chapitre</content-text></title>
<page type="FullScreen" id="tl0908060101">
<content-media type="ChapterQuiz" id="cm6422503043"><title><content-text></content-text></title><media ref="tl0908000000/tl0908060000/tl0908060100/tl0908060101/cm6422503043/" mime="" scale="true" type="directory" width="100%" height="100%" external="tl0908000000/tl0908060000/tl0908060100/tl0908060101/cm6422503043/icontext.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
</chapter>
