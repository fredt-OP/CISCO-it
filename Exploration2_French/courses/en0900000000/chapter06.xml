<chapter type="" id="en0906000000">
<title><content-text>VLSM and CIDR</content-text></title>
<section type="ChapterIntroduction" id="en0906000000">
<title><content-text>Chapter Introduction</content-text></title>
<topic type="" id="en0906000100">
<title><content-text>Chapter Introduction</content-text></title>
<page type="OneColumn" id="en0906000101">
<content-media type="StaticGraphic" id="cm8229749744"><title><content-text></content-text></title><media ref="en0906000000/en0906000000/en0906000100/en0906000101/cm8229749744.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0906000000/en0906000000/en0906000100/en0906000101/cm8229749744text.xml"/></content-media>
<content-text><p>Prior to 1981, IP addresses used only the first 8 bits to specify the network portion of the address, limiting the Internet - then known as ARPANET - to 256 networks. Early on, it became obvious that this was not going to be enough address space.</p> <p>In 1981, RFC 791 modified the IPv4 32-bit address to allow for three different classes or sizes of the networks: class A, class B, and class C. Class A addresses used 8 bits for the network portion of the address, class B used 16 bits, and class C used 24 bits. This format became known as <content-link target="cg5511746298" type="glossary">classful IP addressing</content-link>.</p> <p>The initial development of classful addressing solved the 256 network limit problem - for a time. A decade later, it became clear that the IP address space was depleting rapidly. In response, the Internet Engineering Task Force (IETF) introduced <content-link target="cg9690551937" type="glossary">Classless Inter-Domain Routing (CIDR)</content-link>, which used Variable Length Subnet Masking (VLSM) to help conserve address space.</p> <p>With the introduction of CIDR and VLSM, ISPs could now assign one part of a classful network to one customer and different part to another customer. This <content-link target="cg7730322559" type="glossary">discontiguous address assignment</content-link> by ISPs was paralleled by the development of classless routing protocols. To compare: classful routing protocols always summarize on the classful boundary and do not include the subnet mask in routing updates. Classless routing protocols <i>do </i>include the subnet mask in routing updates and are not required to perform summarization. The classless routing protocols discussed in this course are RIPv2, EIGRP and OSPF.</p> <p>With the introduction of VLSM and CIDR, network administrators had to use additional subnetting skills. VLSM is simply subnetting a subnet. Subnets can be further subnetted in multiple levels, as you will learn in this chapter. In addition to subnetting, it became possible to summarize a large collection of classful networks into an aggregate route, or <content-link target="cg3607780675" type="glossary">supernet</content-link>. In this chapter, you will also review route summarization skills. </p></content-text>
</page>
</topic>
</section>
<section type="" id="en0906010000">
<title><content-text>Classful and Classless Addressing</content-text></title>
<topic type="" id="en0906010100">
<title><content-text>Classful IP Addressing</content-text></title>
<page type="OneColumn" id="en0906010101">
<content-media type="StaticGraphic" id="cm1747327430"><title><content-text></content-text></title><media ref="en0906000000/en0906010000/en0906010100/en0906010101/cm1747327430.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0906000000/en0906010000/en0906010100/en0906010101/cm1747327430text.xml"/></content-media>
<content-text><p>When the ARPANET was commissioned in 1969, no one anticipated that the Internet would explode out of the humble beginnings of this research project. By 1989, ARPANET had been transformed into what we now call the Internet. Over the next decade, the number of hosts on the Internet grew exponentially, from 159,000 in October 1989, to over 72 million by the end of the millennium. As of January 2007, there were over 433 million hosts on the Internet. </p> <p>Without the introduction of VLSM and CIDR notation in 1993 (RFC 1519), <content-link target="cg3847540083" type="glossary">Network Address Translator (NAT)</content-link> in 1994 (RFC 1631), and <content-link target="cg2133939773" type="glossary">private addressing</content-link> in 1996 (RFC 1918), the IPv4 32-bit address space would now be exhausted.</p> <p><b>Links:</b></p> <p>"ISC Domain Survey: Number of Internet Hosts," <content-link target="http://www.isc.org/index.pl?/ops/ds/host-count-history.php" type="external">http://www.isc.org/index.pl?/ops/ds/host-count-history.php</content-link></p></content-text>
</page>
<page type="OneColumn" id="en0906010102">
<content-media type="StaticGraphic" id="cm2287236063"><title><content-text></content-text></title><media ref="en0906000000/en0906010000/en0906010100/en0906010102/cm2287236063.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0906000000/en0906010000/en0906010100/en0906010102/cm2287236063text.xml"/></content-media>
<content-text><p><b>The High Order Bits</b></p> <p>IPv4 addresses were initially allocated based on class. In the original specification of IPv4 (RFC 791) released in 1981, the authors established the classes to provide three different sizes of networks for large, medium and small organizations. As a result, class A, B and C addresses were defined with a specific format for the <content-link target="cg8501917748" type="glossary">high order bits</content-link>. High order bits are the left-most bits in a 32-bit address. </p> <p>As shown in the figure:</p> <ul><li> Class A addresses begin with a 0 bit. Therefore, all addresses from 0.0.0.0 to 127.255.255.255 belong to class A. The 0.0.0.0 address is reserved for default routing and the 127.0.0.0 address is reserved for loopback testing.</li> <li> Class B addresses begin with a 1 bit and a 0 bit. Therefore, all addresses from 128.0.0.0 to 191.255.255.255 belong to class B. </li> <li> Class C addresses begin with two 1 bits and a 0 bit. Class C addresses range from 192.0.0.0 to 223.255.255.255. </li></ul> <p>The remaining addresses were reserved for multicasting and future uses. Multicast addresses begin with three 1s and a 0 bit. Multicast addresses are used to identify a group of hosts that are part of a multicast group. This helps reduce the amount of packet processing that is done by hosts, particularly on broadcast media. In this course, you will see that the routing protocols RIPv2, EIGRP, and OSPF use designated multicast addresses. </p> <p>IP addresses that begin with four <b>1</b> bits were reserved for future use.</p> <p><b>Links:</b></p> <p>"Internet Protocol," <content-link target="http://www.ietf.org/rfc/rfc791.txt" type="external">http://www.ietf.org/rfc/rfc791.txt</content-link></p> <p>"Internet Multicast Addresses," <content-link target="http://www.iana.org/assignments/multicast-addresses" type="external">http://www.iana.org/assignments/multicast-addresses</content-link></p></content-text>
</page>
<page type="OneColumn" id="en0906010103">
<content-media type="StaticGraphic" id="cm5814739957"><title><content-text></content-text></title><media ref="en0906000000/en0906010000/en0906010100/en0906010103/cm5814739957.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0906000000/en0906010000/en0906010100/en0906010103/cm5814739957text.xml"/></content-media>
<content-text><p><b>The IPv4 Classful Addressing Structure</b></p> <p>The designations of network bits and host bits were established in RFC 790 (released with RFC 791). As shown in the figure, class A networks used the first octet for network assignment, which translated to a 255.0.0.0 classful subnet mask. Because only 7 bits were left in the first octet (remember, the first bit is always 0), this made 2 to the 7th power or 128 networks. </p> <p>With 24 bits in the host portion, each class A address had the potential for over 16 million individual host addresses. Before CIDR and VLSM, organizations were assigned an entire classful network address. What was one organization going to do with 16 million addresses? Now you can understand the tremendous waste of address space that occurred in the beginning days of the Internet, when companies received class A addresses. Some companies and governmental organizations still have class A addresses. For example, General Electric owns 3.0.0.0/8, Apple Computer owns 17.0.0.0/8, and the U.S. Postal Service owns 56.0.0.0/8. (See the link "Internet Protocol v4 Address Space" below for a listing of all the IANA assignments.)</p> <p>Class B was not much better. RFC 790 specified the first two octets as network. With the first two bits already established as 1 and 0, 14 bits remained in the first two octets for assigning networks, which resulted in 16,384 class B network addresses. Because each class B network address contained 16 bits in the host portion, it controlled 65,534 addresses. (Remember, 2 addresses were reserved for the network and broadcast addresses.) Only the largest organizations and governments could ever hope to use all 65,000 addresses. Like class A, class B address space was wasted.</p> <p>To make things worse, class C addresses were often too small! RFC 790 specified the first three octets as network. With the first three bits established as 1 and 1 and 0, 21 bits remained for assigning networks for over 2 million class C networks. But, each class C network only had 8 bits in the host portion, or 254 possible host addresses.</p> <p><b>Links:</b></p> <p>"A Brief History of the Internet," <content-link target="http://www.isoc.org/internet/history/brief.shtml" type="external">http://www.isoc.org/internet/history/brief.shtml</content-link></p> <p>"Internet Protocol v4 Address Space," <content-link target="http://www.iana.org/assignments/ipv4-address-space" type="external">http://www.iana.org/assignments/ipv4-address-space</content-link></p></content-text>
</page>
</topic>
<topic type="" id="en0906010200">
<title><content-text>Classful Routing Protocol</content-text></title>
<page type="OneColumn" id="en0906010201">
<content-media type="InteractiveGraphicHotspots" id="cm8168570981"><title><content-text></content-text></title><media ref="en0906000000/en0906010000/en0906010200/en0906010201/cm8168570981.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0906000000/en0906010000/en0906010200/en0906010201/cm8168570981text.xml"/></content-media>
<content-text><p><b>Example of Classful Routing Updates</b></p> <p>Using classful IP addresses meant that the subnet mask of a network address could be determined by the value of the first octet, or more accurately, the first three bits of the address. Routing protocols, such as RIPv1 only needed to propagate the network address of known routes and did not need to include the subnet mask in the routing update. This is because the router receiving the routing update could determine the subnet mask simply by examining the value of the first octet in the network address, or by applying its ingress interface mask for subnetted routes. The subnet mask was directly related to the network address. </p> <p><b>Click R1 Update to R2 in the figure.</b></p> <p>In the example, R1 knows that subnet 172.16.1.0 belongs to the same major classful network as the outgoing interface. Therefore, it sends a RIP update to R2 containing subnet 172.16.1.0. When R2 receives the update, it applies the receiving interface subnet mask (/24) to the update and adds 172.16.1.0 to the routing table.</p> <p><b>Click R2 Update to R3 in the figure.</b></p> <p>When sending updates to R3, R2 summarizes subnets 172.16.1.0/24, 172.16.2.0/24, and 172.16.3.0/24 into the major classful network 172.16.0.0. Because R3 does not have any subnets that belong to 172.16.0.0, it will apply the classful mask for a class B network, /16. </p></content-text>
</page>
</topic>
<topic type="" id="en0906010300">
<title><content-text>Classless IP Addressing</content-text></title>
<page type="OneColumn" id="en0906010301">
<content-media type="StaticGraphic" id="cm2200788736"><title><content-text></content-text></title><media ref="en0906000000/en0906010000/en0906010300/en0906010301/cm2200788736.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0906000000/en0906010000/en0906010300/en0906010301/cm2200788736text.xml"/></content-media>
<content-text><p><b>The Move Towards Classless Addressing</b></p> <p>By 1992, members of the IETF (Internet Engineering Task Force) had serious concerns about the exponential growth of the Internet and the limited scalability of Internet routing tables. They were also concerned with the eventual exhaustion of 32-bit IPv4 address space. The depletion of the class B address space was occurring so fast that within two years there would be no more class B addresses available (RFC 1519). This depletion was occurring because every organization that requested and obtained approval for IP address space received an entire classful network address - either a class B with 65,534 host addresses or a class C with 254 host addresses. One fundamental cause of this problem was the lack of flexibility. No class existed to serve a mid-sized organization that needed thousands of IP addresses but not 65,000.</p> <p>In 1993, IETF introduced Classless Inter-Domain Routing, or CIDR (RFC 1517). CIDR allowed for:</p> <ul><li> More efficient use of IPv4 address space </li> <li> Prefix aggregation, which reduced the size of routing tables </li></ul> <p>To CIDR-compliant routers, address class is meaningless. The network portion of the address is determined by the network subnet mask, also known as the <content-link target="cg7813269836" type="glossary">network prefix</content-link>, or prefix length (/8, /19, etc.). The network address is no longer determined by the class of the address. </p> <p>ISPs could now more efficiently allocate address space using any prefix length, starting with /8 and larger (/8, /9, /10, etc.). ISPs were no longer limited to a /8, /16, or /24 subnet mask. Blocks of IP addresses could be assigned to a network based on the requirements of the customer, ranging from a few hosts to hundreds or thousands of hosts.</p></content-text>
</page>
<page type="OneColumn" id="en0906010302">
<content-media type="StaticGraphic" id="cm3378492928"><title><content-text></content-text></title><media ref="en0906000000/en0906010000/en0906010300/en0906010302/cm3378492928.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0906000000/en0906010000/en0906010300/en0906010302/cm3378492928text.xml"/></content-media>
<content-text><p><b>CIDR and Route Summarization</b></p> <p>CIDR uses Variable Length Subnet Masks (VLSM) to allocate IP addresses to subnets according to individual need rather than by class. This type of allocation allows the network/host boundary to occur at any bit in the address. Networks can be further divided or subnetted into smaller and smaller subnets. </p> <p>Just as the Internet was growing at an exponential rate in the early 1990s, so were the size of routing tables that were maintained by Internet routers under classful IP addressing. CIDR allowed for <content-link target="cg4993475144" type="glossary">prefix aggregation</content-link>, which you already know as route summarization. Recall from Chapter 2, "Static Routing" that you can create one static route for multiple networks. Internet routing tables were now able to benefit from the same type of aggregation of routes. The ability for routes to be summarized as a single route helps reduce the size of Internet routing tables. </p> <p>In the figure, notice that ISP1 has four customers, each with a variable amount of IP address space. However, all of the customer address space can be summarized into one advertisement to ISP2. The 192.168.0.0/20 summarized or aggregated route includes all the networks belonging to Customers A, B, C, and D. This type of route is known as a supernet route. A supernet summarizes multiple network addresses with a mask less than the classful mask. </p> <p>Propagating VLSM and supernet routes requires a classless routing protocol, because the subnet mask can no longer be determined by the value of the first octet. The subnet mask now needs to be included with the network address. Classless routing protocols include the subnet mask with the network address in the routing update.</p> <p><b>Links:</b></p> <p>"Classless Inter-Domain Routing (CIDR): an Address Assignment and Aggregation Strategy," <content-link target="http://www.ietf.org/rfc/rfc1519.txt" type="external">http://www.ietf.org/rfc/rfc1519.txt</content-link></p> <p>"Internet Protocol v4 Address Space," <content-link target="http://www.iana.org/assignments/ipv4-address-space" type="external">http://www.iana.org/assignments/ipv4-address-space</content-link></p></content-text>
</page>
</topic>
<topic type="" id="en0906010400">
<title><content-text>Classless Routing Protocol</content-text></title>
<page type="OneColumn" id="en0906010401">
<content-media type="StaticGraphic" id="cm7950321549"><title><content-text></content-text></title><media ref="en0906000000/en0906010000/en0906010400/en0906010401/cm7950321549.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0906000000/en0906010000/en0906010400/en0906010401/cm7950321549text.xml"/></content-media>
<content-text><p>Classless routing protocols include RIPv2, EIGRP, OSPF, IS-IS, and BGP. These routing protocols include the subnet mask with the network address in their routing updates. Classless routing protocols are necessary when the mask cannot be assumed or determined by the value of the first octet. </p> <p>For example, the networks 172.16.0.0/16, 172.17.0.0/16, 172.18.0.0/16 and 172.19.0.0/16 can be summarized as 172.16.0.0/14. </p> <p>If R2 sends the 172.16.0.0 summary route without the /14 mask, R3 only knows to apply the default classful mask of /16. In a classful routing protocol scenario, R3 is unaware of the 172.17.0.0/16, 172.18.0.0/16 and 172.19.0.0/16 networks. </p> <p><b>Note:</b> Using a classful routing protocol, R2 can send these individual networks without summarization, but the benefits of summarization are lost.</p> <p>Classful routing protocols cannot send supernet routes because the receiving router will apply the default classful to the network address in the routing update. If our topology contained a classful routing protocol, then R3 would only install 172.16.0.0/16 in the routing table. </p> <p><b>Note:</b> When a supernet route is in a routing table, for example, as a static route, a classful routing protocol will not include that route in its updates.</p> <p>With a classless routing protocol, R2 will advertise the 172.16.0.0 network along with the /14 mask to R3. R3 will then be able to install the supernet route 172.16.0.0/14 in its routing table giving it reachability to the 172.16.0.0/16, 172.17.0.0/16, 172.18.0.0/16 and 172.19.0.0/16 networks.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en0906020000">
<title><content-text>VLSM</content-text></title>
<topic type="" id="en0906020100">
<title><content-text>VLSM in Action</content-text></title>
<page type="OneColumn" id="en0906020101">
<content-media type="AnimationPartialScreen" id="cm9308859530"><title><content-text></content-text></title><media ref="en0906000000/en0906020000/en0906020100/en0906020101/cm9308859530.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0906000000/en0906020000/en0906020100/en0906020101/cm9308859530text.xml"/></content-media>
<content-text><p>In a previous course, you learned how Variable Length Subnet Masking (VLSM) allows the use of different masks for each subnet. After a network address is subnetted, those subnets can be further subnetted. <b>As you most likely recall, VLSM is simply subnetting a subnet. VLSM can be thought of as <i>sub-subnetting</i>.</b></p> <p><b>Click Play to view the animation.</b></p> <p>The figure shows the network 10.0.0.0/8 that has been subnetted using the subnet mask of /16, which makes 256 subnets.</p> <span class="cmd"><p>10.0.0.0/16</p></span> <span class="cmd"><p>10.1.0.0/16</p></span> <span class="cmd"><p>10.2.0.0/16</p></span> <span class="cmd"><p>.</p></span> <span class="cmd"><p>.</p></span> <span class="cmd"><p>.</p></span> <span class="cmd"><p>10.255.0.0/16</p></span> <p>Any of these /16 subnets can be subnetted further. For example, in the figure, the 10.1.0.0/16 subnet is subnetted again using the /24 mask, and results in the following additional subnets.</p> <span class="cmd"><p>10.1.1.0/24</p></span> <span class="cmd"><p>10.1.2.0/24</p></span> <span class="cmd"><p>10.1.3.0/24</p></span> <span class="cmd"><p>.</p></span> <span class="cmd"><p>.</p></span> <span class="cmd"><p>.</p></span> <span class="cmd"><p>10.1.255.0/24</p></span>  <p>The 10.2.0.0/16 subnet is also subnetted again with a /24 mask. The 10.3.0.0/16 subnet is subnetted again with the /28 mask, and the 10.4.0.0/16 subnet is subnetted again with the /20 mask. </p> <p>Individual host addresses are assigned from the addresses of "sub-subnets". For example, the figure shows the 10.1.0.0/16 subnet divided into /24 subnets. The 10.1.4.10 address would now be a member of the more specific subnet 10.1.4.0/24.</p></content-text>
</page>
</topic>
<topic type="" id="en0906020200">
<title><content-text>VLSM and IP Addresses</content-text></title>
<page type="OneColumn" id="en0906020201">
<content-media type="InteractiveGraphicHotspots" id="cm8064438819"><title><content-text></content-text></title><media ref="en0906000000/en0906020000/en0906020200/en0906020201/cm8064438819.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0906000000/en0906020000/en0906020200/en0906020201/cm8064438819text.xml"/></content-media>
<content-text><p>Another way to view the VLSM subnets is to list each subnet and its sub-subnets. In the figure, the 10.0.0.0/8 network is the starting address space. It is subnetted with a /16 mask on the first round of subnetting. You already know that borrowing 8 bits (going from /8 to /16) creates 256 subnets. With classful routing, that is as far as you can go. You can only choose one mask for all your networks. With VLSM and classless routing, you have more flexibility to create additional network addresses and use a mask that fits your needs. </p> <p><b>Click 10.1.0.0/16 in the figure.</b></p> <p>For subnet 10.1.0.0/16, 8 more bits are borrowed again, to create 256 subnets with a /24 mask. This mask will allow 254 host addresses per subnet. The subnets ranging 10.1.0.0/24 to 10.1.255.0/24 are subnets of the subnet 10.1.0.0/16.</p> <p><b>Click 10.2.0.0/16 in the figure.</b></p> <p>Subnet 10.2.0.0/16 is also further subnetted with a /24 mask. The subnets ranging from 10.2.0.0/24 to 10.2.255.0/24 are subnets of the subnet 10.2.0.0/16.</p> <p><b>Click 10.3.0.0/16 in the figure.</b></p> <p>Subnet 10.3.0.0/16 is further subnetted with a /28 mask. This mask will allow 14 host addresses per subnet. Twelve bits are borrowed, creating 4,096 subnets ranging from 10.3.0.0/28 to 10.3.255.240/28.</p> <p><b>Click 10.4.0.0/16 in the figure. </b></p> <p>Subnet 10.4.0.0/16 is further subnetted with a /20 mask. This mask will allow 2046 host addresses per subnet. Four bits are borrowed, creating 16 subnets ranging from 10.4.0.0/20 to 10.4.240.0/20. These /20 subnets are big enough to subnet even further, allowing more networks.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en0906030000">
<title><content-text>CIDR</content-text></title>
<topic type="" id="en0906030100">
<title><content-text>Route Summarization</content-text></title>
<page type="OneColumn" id="en0906030101">
<content-media type="StaticGraphic" id="cm3693851252"><title><content-text></content-text></title><media ref="en0906000000/en0906030000/en0906030100/en0906030101/cm3693851252.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0906000000/en0906030000/en0906030100/en0906030101/cm3693851252text.xml"/></content-media>
<content-text><p>As you previously learned, route summarization also known as route aggregation, is the process of advertising a <content-link target="cg4791660266" type="glossary">contiguous</content-link> set of addresses as a single address with a less-specific, shorter subnet mask. Remember that CIDR is a form of route summarization and is synonymous with the term <content-link target="cg9816153432" type="glossary">supernetting</content-link>. </p> <p>You should already be familiar with route summarization that is done by classful routing protocols like RIPv1. RIPv1 summarizes subnets to a single major network classful address when sending the RIPv1 update out an interface that belongs to another major network. For example, RIPv1 will summarize 10.0.0.0/24 subnets (10.0.0.0/24 through 10.255.255.0/24) as 10.0.0.0/8. </p> <p>CIDR ignores the limitation of classful boundaries, and allows summarization with masks that are less than that of the default classful mask. This type of summarization helps reduce the number of entries in routing updates and lowers the number of entries in local routing tables. It also helps reduce bandwidth utilization for routing updates and results in faster routing table lookups.</p> <p>The figure shows a single static route with the address 172.16.0.0 and the mask 255.248.0.0 summarizing all of the 172.16.0.0/16 to 172.23.0.0/16 classful networks. Although 172.22.0.0/16 and 172.23.0.0/16 are not shown in the graphic, these are also included in the summary route. Notice that the /13 mask (255.248.0.0) is less than the default classful mask /16 (255.255.0.0).</p> <p><b>Note:</b> You may recall that a supernet is always a route summary, but a route summary is not always a supernet. </p> <p> </p> <p>It is possible that a router could have both a specific route entry and a summary route entry covering the same network. Let us assume that router X has a specific route for 172.22.0.0/16 using Serial 0/0/1 and a summary route of 172.16.0.0/13 using Serial0/0/0. Packets with the IP address of 172.22.n.n match both route entries. These packets destined for 172.22.0.0 would be sent out the Serial0/0/1 interface because there is a more specific match of 16 bits, than with the 13 bits of the 172.16.0.0/13 summary route. </p> <p> </p></content-text>
</page>
</topic>
<topic type="" id="en0906030200">
<title><content-text>Calculating Route Summarization</content-text></title>
<page type="OneColumn" id="en0906030201">
<content-media type="InteractiveGraphicHotspots" id="cm2414351302"><title><content-text></content-text></title><media ref="en0906000000/en0906030000/en0906030200/en0906030201/cm2414351302.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0906000000/en0906030000/en0906030200/en0906030201/cm2414351302text.xml"/></content-media>
<content-text><p>Calculating route summaries and supernets is identical to the process that you already learned in Chapter 2, "Static Routing." Therefore, the following example is presented as a quick review. </p> <p>Summarizing networks into a single address and mask can be done in three steps. Let's look at the following four networks:</p> <ul><li> 172.20.0.0/16</li> <li> 172.21.0.0/16</li> <li> 172.22.0.0/16</li> <li> 172.23.0.0/16</li></ul> <p><b>Click Step 1 in the figure.</b></p> <p>The first step is to list the networks in binary format. The figure shows all four networks in binary.</p> <p><b>Click Step 2 in the figure.</b></p> <p>The second step is to count the number of left-most matching bits to determine the mask for the summary route. You can see in the figure that the first 14 left-most matching bits match. This is the prefix, or subnet mask, for the summarized route: /14 or 255.252.0.0.</p> <p><b>Click Step 3 in the figure.</b></p> <p>The third step is to copy the matching bits and then add zero bits to determine the summarized network address. The figure shows that the matching bits with zeros at the end results in the network address 172.20.0.0. The four networks - 172.20.0.0/16, 172.21.0.0/16, 172.22.0.0/16, and 172.23.0.0/16 - can be summarized into the single network address and prefix 172.20.0.0/14.</p> <p>The activities in the next section offer you an opportunity to practice designing and troubleshooting VLSM addressing schemes. You will also practice creating and troubleshooting route summarizations.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en0906040000">
<title><content-text>VLSM and Route Summarization Activity</content-text></title>
<topic type="" id="en0906040100">
<title><content-text>Basic VLSM Calculation and Addressing Design Activity</content-text></title>
<page type="OneColumn" id="en0906040101">
<content-media type="ActivityLab" id="cm1034259380"><title><content-text></content-text></title><media ref="en0906000000/en0906040000/en0906040100/en0906040101/cm1034259380/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en0906000000/en0906040000/en0906040100/en0906040101/cm1034259380/icontext.xml"/></content-media>
<content-text><p>In this activity, you will use the network address 192.168.1.0/24 to subnet and provide the IP addressing for a given topology. VLSM will be used so that the addressing requirements can be met using the 192.168.1.0/24 network. </p><p><b>Click the lab icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0906040102">
<content-media type="ActivityPKA" id="cm2825503187"><title><content-text></content-text></title><media ref="en0906000000/en0906040000/en0906040100/en0906040102/cm2825503187/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0906000000/en0906040000/en0906040100/en0906040102/cm2825503187/icontext.xml"/></content-media>
<content-text><p>You can use Packet Tracer Activity 6.4.1 to complete this activity. A summary of the instructions is provided within the activity, but you should use the Activity PDF on the previous page for more details.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0906040200">
<title><content-text>Challenge VLSM Calculation and Addressing Design Activity</content-text></title>
<page type="OneColumn" id="en0906040201">
<content-media type="ActivityLab" id="cm6685901685"><title><content-text></content-text></title><media ref="en0906000000/en0906040000/en0906040200/en0906040201/cm6685901685/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en0906000000/en0906040000/en0906040200/en0906040201/cm6685901685/icontext.xml"/></content-media>
<content-text><p>In this activity, you will use the network address 172.16.0.0/16 to subnet and provide the IP addressing for a given topology. VLSM will be used so that the addressing requirements can be met using the 172.16.0.0/16 network. </p><p><b>Click the lab icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0906040202">
<content-media type="ActivityPKA" id="cm4910444482"><title><content-text></content-text></title><media ref="en0906000000/en0906040000/en0906040200/en0906040202/cm4910444482/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0906000000/en0906040000/en0906040200/en0906040202/cm4910444482/icontext.xml"/></content-media>
<content-text><p>You can use Packet Tracer Activity 6.4.2 to complete this activity. A summary of the instructions is provided within the activity, but you should use the Activity PDF on the previous page for more details.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0906040300">
<title><content-text>Troubleshooting a VLSM Addressing Design Activity</content-text></title>
<page type="OneColumn" id="en0906040301">
<content-media type="ActivityLab" id="cm8080438180"><title><content-text></content-text></title><media ref="en0906000000/en0906040000/en0906040300/en0906040301/cm8080438180/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en0906000000/en0906040000/en0906040300/en0906040301/cm8080438180/icontext.xml"/></content-media>
<content-text><p>In this activity, the network address 172.16.128.0/17 was used to provide the IP addressing for a network. VLSM has been used to subnet the address space <b>incorrectly</b>. You will need to troubleshoot the addressing that was assigned to each subnet to determine where errors are present and determine the correct addressing assignments where needed.</p><p><b>Click the lab icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0906040302">
<content-media type="ActivityPKA" id="cm5581870985"><title><content-text></content-text></title><media ref="en0906000000/en0906040000/en0906040300/en0906040302/cm5581870985/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0906000000/en0906040000/en0906040300/en0906040302/cm5581870985/icontext.xml"/></content-media>
<content-text><p>You can use Packet Tracer Activity 6.4.3 to complete this activity. A summary of the instructions is provided within the activity, but you should use the Activity PDF on the previous page for more details.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0906040400">
<title><content-text>Basic Route Summarization Activity</content-text></title>
<page type="OneColumn" id="en0906040401">
<content-media type="ActivityLab" id="cm2465938079"><title><content-text></content-text></title><media ref="en0906000000/en0906040000/en0906040400/en0906040401/cm2465938079/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en0906000000/en0906040000/en0906040400/en0906040401/cm2465938079/icontext.xml" /></content-media>
<content-text><p>In this activity, you are given a network with subnetting and address assignments already completed. Your task is to determine summarized routes that can be used to reduce the number of entries in routing tables.</p><p><b>Click the lab icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0906040402">
<content-media type="ActivityPKA" id="cm6247567554"><title><content-text></content-text></title><media ref="en0906000000/en0906040000/en0906040400/en0906040402/cm6247567554/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0906000000/en0906040000/en0906040400/en0906040402/cm6247567554/icontext.xml"/></content-media>
<content-text><p>You can use Packet Tracer Activity 6.4.4 to complete this activity. A summary of the instructions is provided within the activity, but you should use the Activity PDF on the previous page for more details.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0906040500">
<title><content-text>Challenge Route Summarization Activity</content-text></title>
<page type="OneColumn" id="en0906040501">
<content-media type="ActivityLab" id="cm8257633125"><title><content-text></content-text></title><media ref="en0906000000/en0906040000/en0906040500/en0906040501/cm8257633125/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en0906000000/en0906040000/en0906040500/en0906040501/cm8257633125/icontext.xml"/></content-media>
<content-text><p>In this activity, you are given a network with subnetting and address assignments already completed. Your task is to determine summarized routes that can be used to reduce the number of entries in routing tables.</p><p><b>Click the lab icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0906040502">
<content-media type="ActivityPKA" id="cm1724022639"><title><content-text></content-text></title><media ref="en0906000000/en0906040000/en0906040500/en0906040502/cm1724022639/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0906000000/en0906040000/en0906040500/en0906040502/cm1724022639/icontext.xml"/></content-media>
<content-text><p>You can use Packet Tracer Activity 6.4.5 to complete this activity. A summary of the instructions is provided within the activity, but you should use the Activity PDF on the previous page for more details.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0906040600">
<title><content-text>Troubleshooting Route Summarization Activity</content-text></title>
<page type="OneColumn" id="en0906040601">
<content-media type="ActivityLab" id="cm8818245746"><title><content-text></content-text></title><media ref="en0906000000/en0906040000/en0906040600/en0906040601/cm8818245746/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en0906000000/en0906040000/en0906040600/en0906040601/cm8818245746/icontext.xml"/></content-media>
<content-text><p>In this activity, the LAN IP addressing is already completed for the network. VLSM was used to subnet the address space. The summary routes are <b>incorrect</b>. You will need to troubleshoot the summary routes that have been assigned to determine where errors are present and determine the correct summary routes.</p><p><b>Click the lab icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0906040602">
<content-media type="ActivityPKA" id="cm6309611390"><title><content-text></content-text></title><media ref="en0906000000/en0906040000/en0906040600/en0906040602/cm6309611390/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0906000000/en0906040000/en0906040600/en0906040602/cm6309611390/icontext.xml"/></content-media>
<content-text><p>You can use Packet Tracer Activity 6.4.6 to complete this activity. A summary of the instructions is provided within the activity, but you should use the Activity PDF on the previous page for more details.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="en0906050000">
<title><content-text>Summary</content-text></title>
<topic type="" id="en0906050100">
<title><content-text>Summary and Review</content-text></title>
<page type="OneColumn" id="en0906050101">
<content-media type="StaticGraphic" id="cm6758167281"><title><content-text></content-text></title><media ref="en0906000000/en0906050000/en0906050100/en0906050101/cm6758167281.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0906000000/en0906050000/en0906050100/en0906050101/cm6758167281text.xml"/></content-media>
<content-text><p><b>Summary</b></p> <p>CIDR (Classless Inter-Domain Routing) was introduced in 1993 replacing the previous generation of IP address syntax, classful networks. CIDR allowed for more efficient use of IPv4 address space and prefix aggregation, known as route summarization or supernetting. </p> <p>With CIDR, address classes (class A, class B, class C) became meaningless. The network address was no longer determined by the value of the first octet, but assigned prefix length (subnet mask). Address space, the number of hosts on a network, could now be assigned a specific prefix depending upon the number of hosts needed for that network.</p> <p>CIDR allows for supernetting. A supernet is a group of major network addresses summarized as a single network address with a mask less than that of the default classful mask.</p> <p>CIDR uses VLSM (Variable Length Subnet Masks) to allocate IP addresses to subnetworks according to need rather than by class. VLSM allows for subnets to be further divided or subnetted into even smaller subnets. Simply put, VLSM is just subnetting a subnet.</p> <p>Propagating CIDR supernets or VLSM subnets require a classless routing protocol. A classless routing protocol includes the subnet mask along with the network address in the routing update. </p> <p>Determining the summary route and subnet mask for a group of networks can be done in three easy steps. The first step is to list the networks in binary format. The second step is to count the number of left-most matching bits. This will give you the prefix length or subnet mask for the summarized route. The third step is to copy the matching bits and then add zero bits to the rest of the address to determine the summarized network address. The summarized network address and subnet mask can now be used as the summary route for this group of networks. Summary routes can be used by both static routes and classless routing protocols. Classful routing protocols can only summarize routes to the default classful mask.</p> <p>Classless routing protocols and their ability to support CIDR supernet, VLSM, and discontiguous networks is described in the following chapters.</p></content-text>
</page>
<page type="FullScreen" id="en0906050102">
<content-media type="ChapterSummary" id="cm9309355434"><title><content-text></content-text></title><media ref="en0906000000/en0906050000/en0906050100/en0906050102/cm9309355434.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0906000000/en0906050000/en0906050100/en0906050102/cm9309355434text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="en0906050103">
<content-media type="ActivityPKA" id="cm1269077189"><title><content-text></content-text></title><media ref="en0906000000/en0906050000/en0906050100/en0906050103/cm1269077189/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0906000000/en0906050000/en0906050100/en0906050103/cm1269077189/icontext.xml"/></content-media>
<content-text><p>The Packet Tracer Skills Integration Challenge Activity for this chapter is a moderately complex VLSM design scenario. You will create an addressing scheme based on requirements specified in the instructions, then you will build the network and configure the routers. Because you have not yet learned classful routing protocols, you will be shown two commands that will make your RIP network converge in a classless manner. Finally, you configure a summary route.</p> <p><content-link target="E2_PTAct_6_5_1_Directions.pdf" type="internalfile">Packet Tracer Skills Integration Instructions (PDF)</content-link></p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0906050104">
<content-media type="StaticGraphic" id="cm5765901095"><title><content-text></content-text></title><media ref="en0906000000/en0906050000/en0906050100/en0906050104/cm5765901095.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0906000000/en0906050000/en0906050100/en0906050104/cm5765901095text.xml"/></content-media>
<content-text><p><b>To Learn More</b></p> <p><b>RFC 1519 Classless Inter-Domain Routing (CIDR)</b></p> <p>RFCs (Request for Comments) are a series of documents submitted to the IETF (Internet Engineering Task Force) to propose an Internet standard or convey new concepts, information or even occasionally even humor. RFC 1519 is the RFC for Classless Inter-Domain Routing (CIDR). </p> <p>RFCs can be accessed from several web sites including <content-link target="http://www.ietf.org" type="external">www.ietf.org</content-link>. Read all or parts of RFC 1519 to learn more about the introduction of CIDR to the Internet community. </p> <p><b>Internet Core Routers</b></p> <p>In the To Learn More section of Chapter 3 (Introduction to Dynamic Routing Protocols), you accessed route servers to display BGP routes on the Internet. One such site is <content-link target="http://www.traceroute.org" type="external">www.traceroute.org</content-link>.</p> <p>Access one of the route servers and using the <span class="cmd"><b>show ip route</b></span> command, view the actual routing table of an Internet router. Notice how many routes there are on an Internet core router. As of March 2007, there were over 200,000 routes. Many of these are summarized routes and supernets. Use the command <span class="cmd"><b>show ip route 207.62.187.0</b></span> to view one such supernet.</p> <p><b>CAIDA</b></p> <p>An interesting web site is CAIDA, the Cooperative Assocation for Internet Data Analysis, <content-link target="http://www.caida.org" type="external">www.caida.org</content-link>. CAIDA "provides tools and analyses promoting the engineering and maintenance of a robust, scalable global Internet infrastructure." There are several sponsors for CAIDA including Cisco Systems. Although much of this information may seem beyond your understanding, you will begin to recognize many of these terms and concepts.</p></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="en0906060000">
<title><content-text>Chapter Quiz</content-text></title>
<topic type="" id="en0906060100">
<title><content-text>Chapter Quiz</content-text></title>
<page type="FullScreen" id="en0906060101">
<content-media type="ChapterQuiz" id="cm6725366376"><title><content-text></content-text></title><media ref="en0906000000/en0906060000/en0906060100/en0906060101/cm6725366376/" mime="" scale="true" type="directory" width="100%" height="100%" external="en0906000000/en0906060000/en0906060100/en0906060101/cm6725366376/icontext.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
</chapter>
