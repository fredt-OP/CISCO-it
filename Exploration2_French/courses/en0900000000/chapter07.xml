<chapter type="" id="en0907000000">
<title><content-text>RIPv2</content-text></title>
<section type="ChapterIntroduction" id="en0907000000">
<title><content-text>Chapter Introduction</content-text></title>
<topic type="" id="en0907000100">
<title><content-text>Chapter Introduction</content-text></title>
<page type="OneColumn" id="en0907000101">
<content-media type="StaticGraphic" id="cm5416580540"><title><content-text></content-text></title><media ref="en0907000000/en0907000000/en0907000100/en0907000101/cm5416580540.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907000000/en0907000100/en0907000101/cm5416580540text.xml"/></content-media>
<content-text><p>RIP Version 2 (RIPv2) is defined in RFC 1723. It is the first classless routing protocol discussed in this course. The figure places RIPv2 in its proper perspective with other routing protocols. Although RIPv2 is a suitable routing protocol for some environments, it has lost popularity when compared to other routing protocols such as EIGRP, OSPF, and IS-IS, which offer more features and are more scalable. </p> <p>While it may be less popular than other routing protocols, both versions of RIP are still appropriate in some situations. Although RIP lacks the capabilities of many of the later protocols, its sheer simplicity and widespread use in multiple operating systems makes it an ideal candidate for smaller, homogeneous networks where multi-vendor support is necessary - especially within UNIX environments. </p> <p>Because you will need to understand RIPv2 - even if you do not use it - this chapter will focus on the differences between a classful routing protocol (RIPv1) and a classless routing protocol (RIPv2) rather than on the details of RIPv2. The main limitation of RIPv1 is that it is a classful routing protocol. As you know, classful routing protocols do not include the subnet mask with the network address in routing updates, which can cause problems with discontiguous subnets or networks that use Variable-Length Subnet Masking (VLSM). Because RIPv2 is a classless routing protocol, subnet masks are included in the routing updates, making RIPv2 more compatible with modern routing environments.</p> <p>RIPv2 is actually an enhancement of RIPv1's features and extensions rather than an entirely new protocol. Some of these enhanced features include:</p> <ul><li> Next-hop addresses included in the routing updates</li> <li> Use of multicast addresses in sending updates</li> <li> Authentication option available</li></ul> <p>Like RIPv1, RIPv2 is a distance vector routing protocol. Both versions of RIP share the following features and limitations:</p> <ul><li> Use of holddown and other timers to help prevent routing loops.</li> <li> Use of split horizon or split horizon with poison reverse to also help prevent routing loops.</li> <li> Use of triggered updates when there is a change in the topology for faster convergence.</li> <li> Maximum hop count limit of 15 hops, with the hop count of 16 signifying an unreachable network.</li></ul></content-text>
</page>
</topic>
</section>
<section type="" id="en0907010000">
<title><content-text>RIPv1 Limitations</content-text></title>
<topic type="" id="en0907010100">
<title><content-text>Lab Topology</content-text></title>
<page type="OneColumn" id="en0907010101">
<content-media type="InteractiveGraphicHotspots" id="cm2868830782"><title><content-text></content-text></title><media ref="en0907000000/en0907010000/en0907010100/en0907010101/cm2868830782.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907010000/en0907010100/en0907010101/cm2868830782text.xml"/></content-media>
<content-text><p>The figure shows the topology and addressing scheme used in this chapter. This scenario is similar to the routing domain with three routers that was used at the end of Chapter 5, "RIPv1." Remember that both the R1 and R3 routers have subnets that are part of the 172.30.0.0/16 major classful network (class B). Also remember that R1 and R3 are connected to R2 using subnets of the 209.165.200.0/24 major classful network (class C). This topology is discontiguous and will not converge because 172.30.0.0/16 is divided by the 209.165.200.0/24. </p> <p><b>Click R1, R2, and R3 to see the starting configuration for each router.</b></p> <p><b>Summary Route</b></p> <p>The topology shows that R2 has a static summary route to the 192.168.0.0/16 network. The configuration of this summary route will be displayed later in this section. </p> <p>The concept and configuration of static summary routes was discussed in Chapter 2, "Static Routing." We can inject static route information into routing protocol updates. This is called redistribution and will also be discussed later in this section. For now, understand that this summary route will cause problems with RIPv1 because 192.168.0.0/16 is not a major classful address and includes all of the /24 versions of 192.168.0.0/16, as shown in the topology.</p> <p>Finally, notice that the R1 and R3 routers contain VLSM networks and are sharing address space from the 172.30.0.0/16 major classful network. Next, we will look at the VLSM addressing scheme.</p></content-text>
</page>
<page type="OneColumn" id="en0907010102">
<content-media type="StaticGraphic" id="cm4902730884"><title><content-text></content-text></title><media ref="en0907000000/en0907010000/en0907010100/en0907010102/cm4902730884.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907010000/en0907010100/en0907010102/cm4902730884text.xml"/></content-media>
<content-text><p><b>VLSM</b></p> <p>Review the VLSM addressing scheme in the figure. As shown in the top chart, both R1 and R3 have had the 172.30.0.0/16 network subnetted into /24 subnets. Four of these /24 subnets are assigned: two to R1 (172.30.1.0/24 and 172.30.2.0/24) and two to R3 (172.30.100.0/24 and 172.30.110.0/24). </p> <p>In the bottom chart, we have taken the 172.30.200.0/24 subnet and subnetted it again, using the first four bits for subnets and the last four bits for hosts. The result is a 255.255.255.240 mask or /28. Subnet 1 and Subnet 2 are assigned to R3. This means that the subnet 172.30.200.0/24 can no longer be used even though the remaining /28 subnets can be used.</p></content-text>
</page>
<page type="OneColumn" id="en0907010103">
<content-media type="InteractiveGraphicHotspots" id="cm2916585555"><title><content-text></content-text></title><media ref="en0907000000/en0907010000/en0907010100/en0907010103/cm2916585555.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907010000/en0907010100/en0907010103/cm2916585555text.xml"/></content-media>
<content-text><p><b>RFC 1918 Private Addresses</b></p> <p>You should already be familiar with RFC 1918 and the reasoning behind private addressing. All the examples in the curriculum use private IP addresses for the inside addressing example. </p> <p>The RFC 1918-compliant addresses are shown in the table. But when IP traffic is routed across WAN links through an ISP, or when inside users need to access outside sites, a public IP address must be used. </p> <p><b>Cisco Example IP Addresses</b></p> <p>You may have noticed that the WAN links between R1, R2, and R3 are using public IP addresses. Although these IP addresses are not private addresses according to RFC 1918, Cisco has acquired some public address space to use for example purposes. </p> <p>The addresses shown in the figure are all valid public IP addresses that are routable on the Internet. Cisco has set these addresses aside for educational purposes. Therefore, this course and future courses will use these addresses when there is a need to use public addresses. </p> <p>In the figure, R1, R2, and R3 are connected using the 209.165.200.224/27 Cisco public address space. Because WAN links need only two addresses, 209.165.200.224/27 is subnetted with a /30 mask. In the topology, subnet 1 is assigned to the WAN link between R1 and R2. Subnet 2 is assigned to the WAN link between R2 and R3.</p></content-text>
</page>
<page type="OneColumn" id="en0907010104">
<content-media type="StaticGraphic" id="cm2411978428"><title><content-text></content-text></title><media ref="en0907000000/en0907010000/en0907010100/en0907010104/cm2411978428.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907010000/en0907010100/en0907010104/cm2411978428text.xml"/></content-media>
<content-text><p><b>Loopback Interfaces</b></p> <p>Notice that R3 is using loopback interfaces (Lo0, Lo1, and Lo2). A loopback interface is a software-only interface that is used to emulate a physical interface. Like other interfaces, it can be assigned an IP address. Loopback interfaces are also used by other routing protocols, such as OSPF, for different purposes. These uses will be discussed in Chapter 11 OSPF. </p> <p>In a lab environment, loopback interfaces are useful in creating additional networks without having to add more physical interfaces on the router. A loopback interface can be pinged and the subnet can be advertised in routing updates. Therefore, loopback interfaces are ideal for simulating multiple networks attached to the same router. In our example, R3 does not need four LAN interfaces to demonstrate multiple subnets and VLSM. Instead, we use loopback interfaces.</p> <p>Links</p> <p>"Internet Assigned Numbers Authority," <content-link target="http://www.iana.org/" type="external">http://www.iana.org/</content-link></p> <p>"Configuring Logical Interfaces," <content-link target="http://www.cisco.com/en/US/docs/ios/12_2/interface/configuration/guide/icflogin.html" type="external">http://www.cisco.com/en/US/docs/ios/12_2/interface/configuration/guide/icflogin.html</content-link></p></content-text>
</page>
</topic>
<topic type="" id="en0907010200">
<title><content-text>RIPv1 Topology Limitations</content-text></title>
<page type="OneColumn" id="en0907010201">
<content-media type="StaticGraphic" id="cm9887372787"><title><content-text></content-text></title><media ref="en0907000000/en0907010000/en0907010200/en0907010201/cm9887372787.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907010000/en0907010200/en0907010201/cm9887372787text.xml"/></content-media>
<content-text><p><b>Static Routes and Null Interfaces</b></p> <p>To configure the static supernet route on R2, the following command is used:</p> <span class="cmd"><p>R2(config)#<b>ip route 192.168.0.0 255.255.0.0 </b><b><span class="blue">Null0</span></b></p></span> <p>Remember that route summarization allows a single high-level route entry to represent many lower-level routes, thereby reducing the size of routing tables. The static route on R2 uses a /16 mask to summarize all 256 networks ranging from 192.168.0.0/24 to 192.168.255.0/24. </p> <p>The address space represented by the static summary route 192.168.0.0/16 does not actually exist. In order to simulate this static route, we use a <content-link target="cg7693750233" type="glossary">null interface</content-link> as the exit interface. You do not need to enter any commands to create or configure the null interface. It is always up but does not forward or receive traffic. Traffic sent to the null interface is discarded. For our purposes, the null interface will serve as the exit interface for our static route. Remember from Chapter 2, "Static Routing," that a static route must have an active exit interface before it will be installed in the routing table. Using the null interface will allow R2 to advertise the static route in RIP even though networks belonging to the summary 192.168.0.0/16 do not actually exist.</p> <p><b>Route Redistribution</b></p> <p>The second command that needs to be entered is the <span class="cmd"><b>redistribute static</b></span> command:</p> <span class="cmd"><p>R2(config-router)#<b><span class="blue">redistribute static</span></b></p></span> <p>Redistribution involves taking the routes from one routing source and sending those routes to another routing source. In our example topology, we want the RIP process on R2 to redistribute our static route (192.168.0.0/16) by importing the route into RIP and then sending it to R1 and R3 using the RIP process. We will see if this is indeed happening and if not, why not.</p> <p><b>Links</b></p> <p>"Configuring Logical Interfaces," <content-link target="http://www.cisco.com/en/US/docs/ios/12_2/interface/configuration/guide/icflogin.html" type="external">http://www.cisco.com/en/US/docs/ios/12_2/interface/configuration/guide/icflogin.html</content-link></p></content-text>
</page>
<page type="OneColumn" id="en0907010202">
<content-media type="InteractiveGraphicHotspots" id="cm2600402693"><title><content-text></content-text></title><media ref="en0907000000/en0907010000/en0907010200/en0907010202/cm2600402693.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907010000/en0907010200/en0907010202/cm2600402693text.xml"/></content-media>
<content-text><p><b>Verifying and Testing Connectivity</b></p> <p>To test whether or not the topology has full connectivity, we first verify that both serial links on R2 are up using the <span class="cmd"><b>show ip interface brief</b></span> as shown in the figure for R2 Links. If a link is down, the Status field or the Protocol field (or both fields) will display <b>down</b> in the command output. If a link is up, both fields will display <b>up</b>, as shown here. R2 has direct connectivity to R1 and R3 across the serial links. </p> <p>But can R2 ping LANs on R1 and R3? Are there any connectivity problems with a classful routing protocol and the discontiguous subnets of 172.30.0.0? Let's test the communications between the routers using <span class="cmd"><b>ping</b></span>.</p> <p><b>Click R2 Pings in the figure.</b></p> <p>This output shows R2 attempting to ping the 172.30.1.1 interface on R1 and the 172.30.100.1 interface on R3. Whenever R2 pings any of the 172.30.0.0 subnets on R1 or R3, only about 50% of the ICMP messages are successful.</p> <p><b>Click R1 Pings in the figure.</b></p> <p>This output shows that R1 is able to ping 10.1.0.1 but is unsuccessful when attempting to ping the 172.30.100.1 interface on R3. </p> <p><b>Click R3 Pings in the figure.</b></p> <p>This output shows that R3 is able to ping 10.1.0.1 but is unsuccessful when attempting to ping the 172.30.1.1 interface on R1. </p> <p>As you can see, there is an obvious problem when trying to communicate with the 172.30.0.0 discontiguous subnets. In the following sections we will examine routing tables and routing updates to further investigate this problem and attempt to resolve it.</p></content-text>
</page>
<page type="OneColumn" id="en0907010203">
<content-media type="ActivityPKT" id="cm4452329343"><title><content-text></content-text></title><media ref="en0907000000/en0907010000/en0907010200/en0907010203/cm4452329343/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0907000000/en0907010000/en0907010200/en0907010203/cm4452329343/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to practice your router configuration skills, including RIPv1 configurations.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0907010300">
<title><content-text>RIPv1: Discontiguous Networks</content-text></title>
<page type="OneColumn" id="en0907010301">
<content-media type="StaticGraphic" id="cm5550705729"><title><content-text></content-text></title><media ref="en0907000000/en0907010000/en0907010300/en0907010301/cm5550705729.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907010000/en0907010300/en0907010301/cm5550705729text.xml"/></content-media>
<content-text><p>You already know that RIPv1 is a classful routing protocol. As you can see in the RIPv1 message format, It does not include the subnet masks in its routing updates. Therefore, RIPv1 cannot support discontiguous networks, VLSM, or Classless Inter-Domain Routing (CIDR) supernets. However, might there be room to expand the RIPv1 message format to include the subnet mask so that we could actually have a discontiguous network configuration? How would you change the format of this message in the figure to include the subnet mask?</p></content-text>
</page>
<page type="OneColumn" id="en0907010302">
<content-media type="StaticGraphic" id="cm1973029446"><title><content-text></content-text></title><media ref="en0907000000/en0907010000/en0907010300/en0907010302/cm1973029446.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907010000/en0907010300/en0907010302/cm1973029446text.xml"/></content-media>
<content-text><p>Because the subnet mask is not included in the update, RIPv1 and other classful routing protocols must summarize networks at major network boundaries. As you can see in the figure, RIPv1 on both the R1 and R3 routers will summarize their 172.30.0.0 subnets to the classful major network address of 172.30.0.0 when sending routing updates to R2. From the perspective of R2, both updates have an equal cost of 1 hop to reach network 172.30.0.0/16. As you will see, R2 installs both paths in the routing table. </p></content-text>
</page>
<page type="OneColumn" id="en0907010303">
<content-media type="InteractiveGraphicHotspots" id="cm6667716874"><title><content-text></content-text></title><media ref="en0907000000/en0907010000/en0907010300/en0907010303/cm6667716874.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907010000/en0907010300/en0907010303/cm6667716874text.xml"/></content-media>
<content-text><p><b>Examining the Routing Tables</b></p> <p>As you have seen, R2 gets inconsistent results when attempting to ping an address on one of the 172.30.0.0 subnets. </p> <p><b>Click R2 Routes in the figure.</b></p> <p>Notice that R2 has two equal cost routes to the 172.30.0.0/16 network. This is because both R1 and R3 are sending R2 a RIPv1 update for the 172.30.0.0/16 classful network with a metric of 1 hop. Because R1 and R3 automatically summarized the individual subnets, R2's routing table only contains the major classful network address of 172.30.0.0/16. </p> <p>We can examine the contents of the routing updates as the updates are sent and received with <span class="cmd"><b>debug ip rip</b></span> command.</p> <p><b>Click R2 Debug 1 in the figure. </b></p> <p>The output from this command shows that R2 is receiving two 172.30.0.0 equal cost routes with a metric of 1 hop. R2 is receiving one route on Serial 0/0/0 from R1 and the other route on Serial 0/0/1 from R3. Notice that the subnet mask is not included with the network address in the update.</p> <p>What about R1 and R3? Are they receiving each other's 172.30.0.0 subnets? </p> <p><b>Click R1 Routes in the figure.</b></p> <p>Here we see that R1 has its own 172.30.0.0 routes: 172.30.2.0/24 and 172.30.1.0/24. But R1 does not send R2 those subnets. R3 has a similar routing table. Both R1 and R3 are boundary routers and are only sending the summarized 172.30.0.0 network to R2 in their RIPv1 routing updates. As a result, R2 only knows about the 172.30.0.0/16 classful network and is unaware of any 172.30.0.0 subnets. </p> <p><b>Click R2 Debug 2 in the figure.</b></p> <p>Notice in the <span class="cmd"><b>debug ip rip</b></span> output for R2 that it is not including the 172.30.0.0 network in its updates to either R1 or R3. Why not? Because the split horizon rule is in effect. R2 learned about 172.30.0.0/16 on both the Serial 0/0/0 and Serial 0/0/1 interfaces. Because R2 learned about the 172.30.0.0 on these interfaces, it does not include that network in updates it sends out these same interfaces.</p></content-text>
</page>
</topic>
<topic type="" id="en0907010400">
<title><content-text>RIPv1: No VLSM Support</content-text></title>
<page type="OneColumn" id="en0907010401">
<content-media type="StaticGraphic" id="cm5639082266"><title><content-text></content-text></title><media ref="en0907000000/en0907010000/en0907010400/en0907010401/cm5639082266.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907010000/en0907010400/en0907010401/cm5639082266text.xml"/></content-media>
<content-text><p>Because RIPv1 does not send the subnet mask in routing updates, it cannot support VLSM. R3 router is configured with VLSM subnets, all of which are members of the class B network 172.30.0.0/16:</p> <ul><li> 172.30.100.0/<b>24 </b>(FastEthernet 0/0)</li> <li> 172.30.110.0/<b>24 </b>(Loopback 0)</li> <li> 172.30.200.16/<b>28 </b>(Loopback 1)</li> <li> 172.30.200.32/<b>28 </b>(Loopback 2)</li></ul> <p>As we saw with the 172.30.0.0/16 updates to R2 by R1 and R3, RIPv1 either summarizes the subnets to the classful boundary or uses the subnet mask of the outgoing interface to determine which subnets to advertise. </p> <p><b>Click on the Topology in the figure.</b></p> <p>To demonstrate how RIPv1 uses the subnet mask of the outgoing interface, R4 is added to the topology connected to R3 through the FastEthernet0/0 interface on the 172.30.100.0/24 network. </p> <p>Click <b>Router Output</b> in the figure.</p> <p>Refer to the <span class="cmd"><b>debug ip rip</b></span> in the figure. Notice that the only 172.30.0.0 subnet that is sent to the R4 router is 172.30.110.0. Also, notice that R3 is sending the full 172.30.0.0 major classful network out Serial 0/0/1.</p> <p>Why is RIPv1 on R3 not including the other subnets, 172.30.200.16/28 and 172.30.200.32/28, in updates to R4? Those subnets do not have the same subnet mask as FastEthernet 0/0. This is why all subnets must use the same subnet mask when a classful routing protocol is implemented in the network.</p> <p><b>A more detailed explanation</b></p> <p>R3 needs to determine which 172.30.0.0 subnets to include in the updates leaving its FastEthernet 0/0 interface with the IP address 172.30.100.1/24. It will only include those 172.30.0.0 routes in its routing table with the same mask as the exit interface. Since the interface is 172.30.100.1 with a /24 mask, it will only include 172.30.0.0 subnets with a /24 mask. The only one that meets this condition is 172.30.110.0.</p> <p>The other 172.30.0.0 subnets, 172.30.200.16/28 and 172.30.200.32/28, are not included because the /28 masks do not match the /24 mask of the outgoing interface. The receiving router, R4, can only apply its own /24 interface mask to RIPv1 route advertisements with 172.30.0.0 subnets. R4 would apply the wrong mask of /24 to these subnets with /28 masks.</p></content-text>
</page>
</topic>
<topic type="" id="en0907010500">
<title><content-text>RIPv1: No CIDR Support</content-text></title>
<page type="OneColumn" id="en0907010501">
<content-media type="InteractiveGraphicHotspots" id="cm1137743180"><title><content-text></content-text></title><media ref="en0907000000/en0907010000/en0907010500/en0907010501/cm1137743180.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907010000/en0907010500/en0907010501/cm1137743180text.xml"/></content-media>
<content-text><p><b>The 192.168.0.0/16 Static Route</b></p> <p>So far, most of this information should be familiar to you from Chapter 5, "RIPv1." However, there is one issue that we have not yet addressed. </p> <p><b>Click R2 Routing in the figure.</b></p> <p>We configured a static route to the 192.168.0.0/16 network on R2 and instructed RIP to include that route in its updates using the <span class="cmd"><b>redistribute static</b></span> command, as shown in the figure. This static route is a summary of the 192.168.0.0/24 subnets ranging from 192.168.0.0/24 to 192.168.255.0/24. </p> <span class="cmd"><p>R2(config)#<b>ip route 192.168.0.0 255.255.0.0 Null0</b></p></span> <p><b>Click R2 Routes in the figure.</b></p> <p>We can see that the static route is included in R2's routing table. </p> <p><b>Click R1 Routes in the figure.</b></p> <p>Looking at the routing table for R1, we notice that R1 is not receiving this 192.168.0.0/16 route in its RIP updates from R2, although we might expect that it should.</p> <p><b>Click R2 Debug in the figure.</b></p> <p>Using <span class="cmd"><b>debug ip rip</b></span> on R2, we notice that RIPv1 does not include the 192.168.0.0/16 route in its RIP updates to either R1 or R3. Can you think why this route is not included? Look at the route 192.168.0.0/16. What is the class of the route? Class A, B, or C? What is the mask used in the static route? Does it match the class? Is the mask in the static route less than the classful mask?</p> <p>We configured the static route 192.168.0.0 with a /16 mask. This is fewer bits than the classful class C mask of /24. Because the mask does not match the class or a subnet of the class, RIPv1 will not include this route in its updates to other routers.</p> <p>RIPv1 and other classful routing protocols cannot support CIDR routes that are summarized routes with a smaller subnet mask than the classful mask of the route. RIPv1 ignores these supernets in the routing table and does not include them in updates to other routers. This is because the receiving router would only be able to apply the larger classful mask to the update and not the shorter /16 mask.</p> <p><b>Note:</b> If the 192.168.0.0 static route were configured with a /24 mask or greater, this route would be included in the RIP updates. The receiving routers would apply the classful /24 mask to this update.</p></content-text>
</page>
<page type="OneColumn" id="en0907010502">
<content-media type="ActivityPKT" id="cm6564056915"><title><content-text></content-text></title><media ref="en0907000000/en0907010000/en0907010500/en0907010502/cm6564056915/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0907000000/en0907010000/en0907010500/en0907010502/cm6564056915/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity in Simulation mode to see that updates are not sent across classful network boundaries with RIPv1. In RealTime mode, verify non-convergence with the <span class="cmd"><b>show ip route</b></span>, <span class="cmd"><b>ping</b></span>, and <span class="cmd"><b>debug ip rip</b></span>.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="en0907020000">
<title><content-text>Configuring RIPv2</content-text></title>
<topic type="" id="en0907020100">
<title><content-text>Enabling and Verifying RIPv2</content-text></title>
<page type="OneColumn" id="en0907020101">
<content-media type="StaticGraphic" id="cm9926725123"><title><content-text></content-text></title><media ref="en0907000000/en0907020000/en0907020100/en0907020101/cm9926725123.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907020000/en0907020100/en0907020101/cm9926725123text.xml"/></content-media>
<content-text><p><b>Comparing RIPv1 and RIPv2 Message Formats</b></p> <p>RIPv2 is defined in RFC 1723. Like version 1, RIPv2 is encapsulated in a UDP segment using port 520 and can carry up to 25 routes. Although RIPv2 has the same basic message format as RIPv1, two significant extensions are added. </p> <p>The first extension in the RIPv2 message format is the subnet mask field that allows a 32 bit mask to be included in the RIP route entry. As a result, the receiving router no longer depends upon the subnet mask of the inbound interface or the classful mask when determining the subnet mask for a route.</p> <p>The second significant extension to the RIPv2 message format is the addition of the Next Hop address. The Next Hop address is used to identify a better next-hop address - if one exists - than the address of the sending router. If the field is set to all zeros (0.0.0.0), the address of the sending router is the best next-hop address. Detailed information about how the Next Hop address is used is beyond the scope of this course. However, an example can be found in RFC 1722 or <i>Routing TCP/IP Volume 1</i> by Jeff Doyle.</p> <p><b>Links</b></p> <p>"RFC 1723: RIP Version 2," <content-link target="http://www.ietf.org/rfc/rfc1723.txt" type="external">http://www.ietf.org/rfc/rfc1723.txt</content-link></p></content-text>
</page>
<page type="OneColumn" id="en0907020102">
<content-media type="InteractiveGraphicHotspots" id="cm9098894796"><title><content-text></content-text></title><media ref="en0907000000/en0907020000/en0907020100/en0907020102/cm9098894796.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907020000/en0907020100/en0907020102/cm9098894796text.xml"/></content-media>
<content-text><p><b>Version 2</b></p> <p>By default, when a RIP process is configured on a Cisco router, it is running RIPv1. However, even though the router only sends RIPv1 messages, it can interpret both RIPv1 and RIPv2 messages. A RIPv1 router will just ignore the RIPv2 fields in the route entry.</p> <p><b>Click R2 RIPv1 in the figure.</b></p> <p>The <span class="cmd"><b>show ip protocols</b></span> command verifies that R2 is configured for RIPv1 but receives RIP messages for both versions. </p> <p><b>Click RIPv2 Configs in the figure.</b></p> <p>Notice that the <span class="cmd"><b>version 2</b></span> command is used to modify RIP to use version 2. This command should be configured on all routers in the routing domain. The RIP process will now include the subnet mask in all updates, making RIPv2 a classless routing protocol. </p> <p><b>Click R2 RIPv2 in the figure.</b></p> <p>As you can see from the output, when a router is configured for version 2, only RIPv2 messages are sent and received.</p> <p><b>Click Revert to RIPv1 in the figure.</b></p> <p>The default behavior of RIPv1 can be restored by using the command <span class="cmd"><b>no version</b></span> in the router configuration mode. However, the command <span class="cmd"><b>version 1</b></span> can also be used so that only RIPv1 messages are sent and received.</p></content-text>
</page>
</topic>
<topic type="" id="en0907020200">
<title><content-text>Auto-summary and RIPv2</content-text></title>
<page type="OneColumn" id="en0907020201">
<content-media type="InteractiveGraphicHotspots" id="cm9908866463"><title><content-text></content-text></title><media ref="en0907000000/en0907020000/en0907020200/en0907020201/cm9908866463.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907020000/en0907020200/en0907020201/cm9908866463text.xml"/></content-media>
<content-text><p><b>Examining the Routing Tables</b></p> <p>Because RIPv2 is a classless routing protocol, you might expect to see the individual 172.30.0.0 subnets in the routing tables. However, when we examine the routing table for R2 in the figure, we still see the summarized 172.30.0.0/16 route with same two equal cost paths. Routers R1 and R3 still do not include the 172.30.0.0 subnets of the other router. </p> <p><b>Click R1 Routes in the figure.</b></p> <p>The only difference so far between RIPv1 and RIPV2 is that R1 and R3 each have a route to the 192.168.0.0/16 supernet. This route was the static route configured on R2 and redistributed by RIP. </p> <p><b>Click R1 Debug 1 in the figure.</b></p> <p>So, what is happening? To examine which RIPv2 routes are being sent and received, we will use <span class="cmd"><b>debug ip rip</b></span>. The figure shows the <span class="cmd"><b>debug ip rip</b></span> output for R1. Notice that RIPv2 is sending both the network address and subnet mask:</p> <span class="cmd"><p>RIP: sending v2 update to 224.0.0.9 via Serial0/0 (209.165.200.230)</p></span> <span class="cmd"><p> 172.30.0.0/16 via 0.0.0.0, metric 1, tag 0</p></span> <p>However, notice that the route sent is the summarized classful network address, 172.30.0.0/16, and not the individual 172.30.1.0/24 and 172.30.2.0/24 subnets. </p> <p><b>Click Auto-summary in the figure.</b></p> <p><b>By default, RIPv2 automatically summarizes networks at major network boundaries, just like RIPv1. </b>Both R1 and R3 routers are still summarizing their 172.30.0.0 subnets to the class B address of 172.30.0.0 when sending updates out their interfaces on the 209.165.200.228 and 209.165.200.232 networks, respectively. The command <span class="cmd"><b>show ip protocols</b></span> verifies that "automatic summarization is in effect."</p> <p><b>Click R1 Debug 2 in the figure.</b></p> <p>The only change resulting from the <span class="cmd"><b>version 2</b></span> command is that R2 is now including the 192.168.0.0/16 network in its updates. This is because RIPv2 includes the 255.255.0.0 mask with the 192.168.0.0 network address in the update. Both R1 and R3 will now receive this redistributed static route via RIPv2 and enter it into their routing tables.</p> <p><b>Note:</b> Remember, the 192.168.0.0/16 route could not be distributed with RIPv1 because the subnet mask was less than the classful mask. Because the mask is not included in RIPv1 updates, there was no way for the RIPv1 router to determine what that mask should be. Therefore, the update was never sent.</p></content-text>
</page>
</topic>
<topic type="" id="en0907020300">
<title><content-text>Disabling Auto-Summary in RIPv2</content-text></title>
<page type="OneColumn" id="en0907020301">
<content-media type="StaticGraphic" id="cm6363831877"><title><content-text></content-text></title><media ref="en0907000000/en0907020000/en0907020300/en0907020301/cm6363831877.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907020000/en0907020300/en0907020301/cm6363831877text.xml"/></content-media>
<content-text><p>As you can see in the figure, to modify the default RIPv2 behavior of automatic summarization, use the command <span class="cmd"><b>no auto-summary</b></span> in the router configuration mode. This command is not valid with RIPv1. Even though the Cisco IOS will let you configure <span class="cmd"><b>no auto-summary</b></span> for RIPv1, the command has no effect. You must also configure version 2 before the Cisco IOS will change the way it sends RIP updates.</p> <p>Once automatic summarization has been disabled, RIPv2 will no longer summarize networks to their classful address at boundary routers. RIPv2 will now include all subnets and their appropriate masks in its routing updates. The command <span class="cmd"><b>show ip protocols</b></span> can be used to verify that "automatic network summarization is not in effect."</p></content-text>
</page>
</topic>
<topic type="" id="en0907020400">
<title><content-text>Verifying RIPv2 Updates</content-text></title>
<page type="OneColumn" id="en0907020401">
<content-media type="InteractiveGraphicHotspots" id="cm6966142067"><title><content-text></content-text></title><media ref="en0907000000/en0907020000/en0907020400/en0907020401/cm6966142067.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907020000/en0907020400/en0907020401/cm6966142067text.xml"/></content-media>
<content-text><p>Now that we are using the classless routing protocol RIPv2 and we have also disabled automatic summarization, what should we expect to see in the routing tables? </p> <p>In the figure, the routing table for R2 now contains the individual subnets for 172.30.0.0/16. Notice that there is no longer a single summary route with two equal cost paths. Each subnet and mask has its own specific entry, along with the exit interface and next-hop address to reach that subnet.</p> <p><b>Click R1 Routes in the figure.</b></p> <p>The routing table for R1 contains all of the subnets for 172.30.0.0/16, including those subnets from R3.</p> <p><b>Click R3 Routes in the figure.</b></p> <p>The routing table for R3 contains all of the subnets for 172.30.0.0/16, including those subnets from R1. This network is converged.</p> <p><b>Click R2 Debug in the figure.</b></p> <p>We can verify that the classless routing protocol RIPv2 is indeed sending and receiving the subnet mask information in the routing updates using <span class="cmd"><b>debug ip rip</b></span>. Notice that each route entry now includes the slash notation for the subnet mask.</p> <p>We can also see that an update on one interface has its metric incremented before it is sent out another interface. For example, the update that was received on Serial 0/0/1 for the 172.30.100.0/24 network with 1 hop is sent out other interfaces, such as Serial 0/0/0, with a metric of 2, or 2 hops.</p> <span class="cmd"><p>RIP: received v2 update from 209.165.200.234 on Serial0/0/1</p></span> <span class="cmd"><p> 172.30.100.0/24 via 0.0.0.0 in <span class="blue">1 hops</span></p></span> <span class="cmd"><p>RIP: sending v2 update to 224.0.0.9 via Serial0/0/0 (209.165.200.229)</p></span> <span class="cmd"><p> 172.30.100.0/24 via 0.0.0.0, <span class="blue">metric 2</span>, tag 0</p></span> <p>Notice also that the updates are sent using the multicast address 224.0.0.9. RIPv1 sends updates as a broadcast 255.255.255.255. There are several advantages to using a multicast address. Details about multicast addressing are beyond the scope of this course; in general, however, multicasts can take up less bandwidth on the network. In addition, multicasting updates require less processing by devices that are not RIP-enabled. Under RIPv2, any device that is not configured for RIP will discard the frame at the Data Link layer. With broadcast updates under RIPv1 configurations, all devices on a broadcast network like Ethernet must process a RIP update all the way up to the Transport layer, where the device finally discovers that the packet is destined for a process that does not exist.</p></content-text>
</page>
<page type="OneColumn" id="en0907020402">
<content-media type="ActivityPKT" id="cm4407617918"><title><content-text></content-text></title><media ref="en0907000000/en0907020000/en0907020400/en0907020402/cm4407617918/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0907000000/en0907020000/en0907020400/en0907020402/cm4407617918/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to configure RIPv2, disable automatic summarization, and verify your configurations.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="en0907030000">
<title><content-text>VLSM and CIDR</content-text></title>
<topic type="" id="en0907030100">
<title><content-text>RIPv2 and VLSM</content-text></title>
<page type="OneColumn" id="en0907030101">
<content-media type="StaticGraphic" id="cm4246680612"><title><content-text></content-text></title><media ref="en0907000000/en0907030000/en0907030100/en0907030101/cm4246680612.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907030000/en0907030100/en0907030101/cm4246680612text.xml"/></content-media>
<content-text><p>Because classless routing protocols like RIPv2 can carry both the network address and the subnet mask, they do not need to summarize these networks to their classful addresses at major network boundaries. Therefore, classless routing protocols support VLSM. Routers using RIPv2 no longer need to use the inbound interface's mask to determine the subnet mask in the route advertisement. The network and the mask are explicitly included in each and every routing update.</p> <p>In networks that use a VLSM addressing scheme, a classless routing protocol is essential to propagate all of the networks along with their correct subnet masks. Looking at the output from <span class="cmd"><b>debug ip rip</b></span> for R3 in the figure, we can see that RIPv2 include the networks and their subnet masks in its routing updates. </p> <p>Also notice in the figure that we have once again added the R4 router in the topology. Remember, with RIPv1, R3 would only send R4 the 172.30.0.0 routes that had the same mask as the FastEthernet 0/0 exit interface. Because the interface is 172.30.100.1 with a /24 mask, RIPv1 only included 172.30.0.0 subnets with a /24 mask. The only route that met this condition was 172.30.110.0.</p> <p>However, with RIPv2, R3 can now include all of the 172.30.0.0 subnets in its routing updates to R4, as shown in the debug output in the figure. This is because RIPv2 can include the proper subnet mask with the network address in the update.</p></content-text>
</page>
</topic>
<topic type="" id="en0907030200">
<title><content-text>RIPv2 and CIDR</content-text></title>
<page type="OneColumn" id="en0907030201">
<content-media type="InteractiveGraphicHotspots" id="cm7188828208"><title><content-text></content-text></title><media ref="en0907000000/en0907030000/en0907030200/en0907030201/cm7188828208.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907030000/en0907030200/en0907030201/cm7188828208text.xml"/></content-media>
<content-text><p>One of the goals of Classless Inter-Domain Routing (CIDR) as stated by RFC 1519 is "to provide a mechanism for the aggregation of routing information." This goal includes the concept of supernetting. A supernet is a block of contiguous classful networks that is addressed as a single network. On the R2 router, we configured a supernet - a static route to a single network that is used to represent multiple networks or subnets. </p> <p>Supernets have masks that are smaller than the classful mask (/16 here, instead of the classful /24). For the supernet to be included in a routing update, the routing protocol must have the capability of carrying that mask. In other words, it must be a classless routing protocol, like RIPv2.</p> <p>The static route on R2 does include a mask which is less than the classful mask:</p> <span class="cmd"><p>R2(config)#<b>ip route 192.168.0.0 255.255.0.0 Null0</b></p></span> <p>In a classful environment, the 192.168.0.0 network address would be associated with the class C mask /24, or 255.255.255.0. In today's networks, we no longer associate network addresses with classful masks. In this example, the 192.168.0.0 network has a /16, or 255.255.0.0, mask. This route could represent a series of 192.168.0.0/24 networks or any number of different address ranges. The only way this route can be included in a dynamic routing update is with a classless routing protocol that includes the /16 mask.</p> <p><b>Click R2 Debug in the figure.</b></p> <p>Using <span class="cmd"><b>debug ip rip</b></span> we can see that this CIDR supernet is included in the routing update sent by R2. Automatic summarization does not have to be disabled on RIPv2 or any classless routing protocol in order for supernets to be included in the updates.</p> <p><b>Click R1 Routes in the figure.</b></p> <p>The routing table for R1 shows that it has received the supernet route from R2.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en0907040000">
<title><content-text>Verifying and Troubleshooting RIPv2</content-text></title>
<topic type="" id="en0907040100">
<title><content-text>Verification and Troubleshooting Commands</content-text></title>
<page type="OneColumn" id="en0907040101">
<content-media type="InteractiveGraphicHotspots" id="cm7324178988"><title><content-text></content-text></title><media ref="en0907000000/en0907040000/en0907040100/en0907040101/cm7324178988.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907040000/en0907040100/en0907040101/cm7324178988text.xml"/></content-media>
<content-text><p>There are several ways to verify and troubleshoot RIPv2. Many of the same commands used for RIPv2 can be used to verify and troubleshoot other routing protocols. </p> <p>It is always best to begin with the basics:</p> <p>1. Make sure all of the links (interfaces) are up and operational.</p> <p>2. Check the cabling. </p> <p>3. Check to make sure you have the correct IP address and subnet mask on each interface.</p> <p>4. Remove any unnecessary configuration commands that are no longer necessary or have been replaced by other commands.</p> <p><b>Click </b><span class="cmd"><b>show ip route</b></span><b> in the figure. </b></p> <p>This is the first command to use to check for network convergence. As you examine the routing table, it is important to look for the routes that you expect to be in the routing table as well as for those that should not be in the routing table. </p> <p><b>Click </b><span class="cmd"><b>show ip interface brief</b></span><b> in the figure. </b></p> <p>If a network is missing from the routing table, often it is because an interface is down or incorrectly configured. The <span class="cmd"><b>show ip interface brief</b></span> command quickly verifies the status of all interfaces.</p> <p><b>Click </b><span class="cmd"><b>show ip protocols</b></span><b> in the figure.</b></p> <p>The <span class="cmd"><b>show ip protocols</b></span> command verifies several critical items, including verifying that RIP is enabled, the version of RIP, the status of automatic summarization, and the networks that were included in the network statements. The Routing Information Sources listed at the bottom of the output are the RIP neighbors from which this router is currently receiving updates.</p> <p><b>Click </b><span class="cmd"><b>debug ip rip</b></span><b> in the figure.</b></p> <p>As demonstrated throughout the chapter, <span class="cmd"><b>debug ip rip</b></span> is an excellent command to use to examine the contents of the routing updates that are sent and received by a router. There may be times when a route is being received by a router but is not being added to the routing table. One reason for this could be that a static route is also configured for the same network being advertised. By default, a static route has a lower administrative distance than any dynamic routing protocol and will take precedence in being added to the routing table.</p> <p><b>Click </b><span class="cmd"><b>ping</b></span><b> in the figure.</b></p> <p>An easy way to verify round-trip connectivity is with the <span class="cmd"><b>ping</b></span> command. If end-to-end connectivity is not successful, begin by pinging the local interfaces. If successful, ping the router interfaces on the directly connected networks. If that is also successful, continue pinging interfaces on each successive router. Once a ping is unsuccessful, examine both routers and all the routers in-between to determine where and why the ping is failing.</p> <p><b>Click </b><span class="cmd"><b>show running-config</b></span><b> in the figure.</b></p> <p>The <span class="cmd"><b>show running-config</b></span> can be used to verify all the commands currently configured. Usually, other commands are more efficient and provide more information than a simple listing of the current configuration. However, the <span class="cmd"><b>show running-config</b></span> command is useful in determining if anything obvious was forgotten or misconfigured.</p></content-text>
</page>
</topic>
<topic type="" id="en0907040200">
<title><content-text>Common RIPv2 issues</content-text></title>
<page type="OneColumn" id="en0907040201">
<content-media type="StaticGraphic" id="cm1130444790"><title><content-text></content-text></title><media ref="en0907000000/en0907040000/en0907040200/en0907040201/cm1130444790.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907040000/en0907040200/en0907040201/cm1130444790text.xml"/></content-media>
<content-text><p>When troubleshooting issues specific to RIPv2, there are several areas to examine. </p> <p><b>Version </b></p> <p>A good place to begin troubleshooting a network that is running RIP is to verify that version 2 is configured on all routers. Although RIPv1 and RIPv2 are compatible, RIPv1 does not support discontiguous subnets, VLSM, or CIDR supernet routes. It is always better to use the same routing protocol on all routers unless there is a specific reason not to do so. </p> <p><b>Network Statements</b></p> <p>Another source of problems might be incorrect or missing network statements. Remember, the network statement does two things:</p> <ul><li> It enables the routing protocol to send and receive updates on any local interfaces that belong to that network.</li> <li> It includes that network in its routing updates to its neighboring routers.</li></ul> <p>A missing or incorrect network statement will result in missed routing updates and routing updates not being sent or received on an interface. </p> <p><b>Automatic Summarization</b></p> <p>If there is a need or expectation for sending specific subnets and not just summarized routes, make sure that automatic summarization has been disabled.</p></content-text>
</page>
</topic>
<topic type="" id="en0907040300">
<title><content-text>Authentication</content-text></title>
<page type="OneColumn" id="en0907040301">
<content-media type="StaticGraphic" id="cm5805533153"><title><content-text></content-text></title><media ref="en0907000000/en0907040000/en0907040300/en0907040301/cm5805533153.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907040000/en0907040300/en0907040301/cm5805533153text.xml"/></content-media>
<content-text><p>Most routing protocols send their routing updates and other routing information using IP (in IP packets). IS-IS is the notable exception and is discussed in CCNP courses. A security concern of any routing protocol is the possibility of accepting invalid routing updates. The source of these invalid routing updates could be an attacker maliciously attempting to disrupt the network or trying to capture packets by tricking the router into sending its updates to the wrong destination. Another source of invalid updates could be a misconfigured router. Or perhaps a host is attached to the network and - unknown to its user - the host is running the routing protocol of the local network.</p> <p>For example, in the figure, R1 is propagating a default route to all other routers in this routing domain. However, someone has mistakenly added router R4 to the network, which is also propagating a default route. Some of the routers may forward default traffic to R4 instead of to the real gateway router, R1. These packets could be "black holed" and never seen again.</p> <p>Whatever the reason, it is good practice to authenticate routing information transmitted between routers. RIPv2, EIGRP, OSPF, IS-IS, and BGP can be configured to authenticate routing information. This practice ensures routers will only accept routing information from other routers that have been configured with the same password or authentication information. Note: Authentication does not encrypt the routing table. </p> <p><b>Note: </b>Because RIP has given way to more popular routing protocols, detailed configuration features for authentication in RIPv2 are not discussed in this chapter. Instead, configuring routing protocols to use authentication will be discussed in a later course with other security issues.</p></content-text>
</page>
<page type="OneColumn" id="en0907040302">
<content-media type="ActivityPKT" id="cm6018361150"><title><content-text></content-text></title><media ref="en0907000000/en0907040000/en0907040300/en0907040302/cm6018361150/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0907000000/en0907040000/en0907040300/en0907040302/cm6018361150/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to see how unintentional routing updates can corrupt the routing table.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="en0907050000">
<title><content-text>RIPv2 Configuration Labs</content-text></title>
<topic type="" id="en0907050100">
<title><content-text>Basic RIPv2 Configuration</content-text></title>
<page type="OneColumn" id="en0907050101">
<content-media type="ActivityLab" id="cm3753237663"><title><content-text></content-text></title><media ref="en0907000000/en0907050000/en0907050100/en0907050101/cm3753237663/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en0907000000/en0907050000/en0907050100/en0907050101/cm3753237663/icontext.xml"/></content-media>
<content-text><p>In this lab, you will work with a <content-link target="cg4461611920" type="glossary">discontiguous network</content-link> that is subnetted using VLSM. As you have seen throughout this chapter and Chapter 5, "RIP version 1", this can be an issue when the routing protocol used does not include enough information to distinguish the individual subnets. To solve this problem, you will configure RIPv2 as the classless routing protocol to provide subnet mask information in the routing updates.</p><p><b>Click the lab icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0907050102">
<content-media type="ActivityPKA" id="cm6895014294"><title><content-text></content-text></title><media ref="en0907000000/en0907050000/en0907050100/en0907050102/cm6895014294/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0907000000/en0907050000/en0907050100/en0907050102/cm6895014294/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to repeat a simulation of Lab 7.5.1. Remember, however, that Packet Tracer is not a substitute for a hands-on lab experience with real equipment. </p> <p>A summary of the instructions is provided within the activity. Use the Lab PDF for more details.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0907050200">
<title><content-text>Challenge RIPv2 Configuration</content-text></title>
<page type="OneColumn" id="en0907050201">
<content-media type="ActivityLab" id="cm4318206083"><title><content-text></content-text></title><media ref="en0907000000/en0907050000/en0907050200/en0907050201/cm4318206083/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en0907000000/en0907050000/en0907050200/en0907050201/cm4318206083/icontext.xml"/></content-media>
<content-text><p>In this lab activity, you are given a network address that must be subnetted using VLSM to complete the addressing of the network. A combination of RIP version 2 and static routing will be required so that hosts on networks that are not directly connected will be able to communicate with each other and the Internet.</p><p><b>Click the lab icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0907050202">
<content-media type="ActivityPKA" id="cm6343800598"><title><content-text></content-text></title><media ref="en0907000000/en0907050000/en0907050200/en0907050202/cm6343800598/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0907000000/en0907050000/en0907050200/en0907050202/cm6343800598/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to repeat a simulation of Lab 7.5.2. Remember, however, that Packet Tracer is not a substitute for a hands-on lab experience with real equipment. </p> <p>A summary of the instructions is provided within the activity. Use the Lab PDF for more details.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0907050300">
<title><content-text>RIPv2 Troubleshooting</content-text></title>
<page type="OneColumn" id="en0907050301">
<content-media type="ActivityLab" id="cm6443912401"><title><content-text></content-text></title><media ref="en0907000000/en0907050000/en0907050300/en0907050301/cm6443912401/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en0907000000/en0907050000/en0907050300/en0907050301/cm6443912401/icontext.xml"/></content-media>
<content-text><p>In this lab, you begin by loading configuration scripts on each of the routers. These scripts contain errors that will prevent end-to-end communication across the network. After loading the corrupted scripts, troubleshoot each router to determine the configuration errors, and then use the appropriate commands to correct the configurations. When you have corrected all of the configuration errors, all of the hosts on the network should be able to communicate with each other.</p><p><b>Click the lab icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0907050302">
<content-media type="ActivityPKA" id="cm8190179932"><title><content-text></content-text></title><media ref="en0907000000/en0907050000/en0907050300/en0907050302/cm8190179932/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0907000000/en0907050000/en0907050300/en0907050302/cm8190179932/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to repeat a simulation of Lab 7.5.3. Remember, however, that Packet Tracer is not a substitute for a hands-on lab experience with real equipment. </p> <p>A summary of the instructions is provided within the activity. Use the Lab PDF for more details.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="en0907060000">
<title><content-text>Chapter Summary</content-text></title>
<topic type="" id="en0907060100">
<title><content-text>Summary and Review</content-text></title>
<page type="OneColumn" id="en0907060101">
<content-media type="StaticGraphic" id="cm7014867842"><title><content-text></content-text></title><media ref="en0907000000/en0907060000/en0907060100/en0907060101/cm7014867842.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907060000/en0907060100/en0907060101/cm7014867842text.xml"/></content-media>
<content-text><p><b>Summary</b></p> <p>RIPv2 is a classless, distance vector routing protocol, that is defined in RFC 1723. Because RIPv2 is a classless routing protocol, it includes the subnet mask with the network addresses in the routing updates. As with other classless routing protocols, RIPv2 supports CIDR supernets, VLSM and discontiguous networks.</p> <p>We saw that classful routing protocols like RIPv1 can not support discontiguous networks because they automatically summarize at major network boundaries. A router that receives routing updates from multiple routers advertising the same classful summary route cannot determine which subnets belong to which summary route. This inability leads to unexpected results including misrouted packets.</p> <p>The default version of RIP is version 1. The command <span class="cmd"><b>version 2</b></span> is used to modify RIP to RIPv2.</p> <p>Similar to RIPv1, RIPv2 automatically summarizes at major network boundaries. However, with RIPv2 automatic summarization can be disabled with the <span class="cmd"><b>no auto-summary</b></span> command. Automatic summarization must be disabled to support discontiguous networks. RIPv2 also supports CIDR supernets and VLSM because the specific subnet mask is included with the network address in every routing update. You can use the <span class="cmd"><b>debug ip rip</b></span> command to view the RIP update sending the subnet mask with the network address as part of the route entry. </p> <p>The <span class="cmd"><b>show ip protocols</b></span> command will display that RIP is now sending and receiving version 2 updates and whether or not automatic summarization is in effect.</p></content-text>
</page>
<page type="FullScreen" id="en0907060102">
<content-media type="ChapterSummary" id="cm7458552167"><title><content-text></content-text></title><media ref="en0907000000/en0907060000/en0907060100/en0907060102/cm7458552167.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907060000/en0907060100/en0907060102/cm7458552167text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="en0907060103">
<content-media type="ActivityPKA" id="cm3597071240"><title><content-text></content-text></title><media ref="en0907000000/en0907060000/en0907060100/en0907060103/cm3597071240/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0907000000/en0907060000/en0907060100/en0907060103/cm3597071240/icontext.xml"/></content-media>
<content-text><p>The Packet Tracer Skills Integration Challenge Activity integrates all the knowledge and skills you acquired in previous chapters of this course and prior courses. Skills related to the discussion of RIPv2 are also included. In this activity, you build a network from the ground up.</p> <p>Starting with an addressing space and network requirements, you must implement a network design that satisfies the specifications, then implement an effective RIPv2 routing configuration with integrated default routing. Detailed instructions are provided within the activity. </p> <p><content-link target="E2_PTAct_7_6_1_Directions.pdf" type="internalfile">Packet Tracer Skills Integration Instructions (PDF)</content-link></p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0907060104">
<content-media type="StaticGraphic" id="cm3125995247"><title><content-text></content-text></title><media ref="en0907000000/en0907060000/en0907060100/en0907060104/cm3125995247.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0907000000/en0907060000/en0907060100/en0907060104/cm3125995247text.xml"/></content-media>
<content-text><p><b>To Learn More</b></p> <p><b>RFC 1723 RIP version 2</b></p> <p>RFCs (Request for Comments) are a series of documents submitted to the IETF (Internet Engineering Task Force) to propose an Internet standard or convey new concepts, information or even occasionally even humor. RFC 1723 is the RFC for RIP version 2.</p> <p>RFCs can be accessed from several web sites including <content-link target="http://www.ietf.org" type="external">www.ietf.org</content-link>. Read all or parts of RFC 1723 to learn more about this classless routing protocol. </p> <p><b>Packet Tracer</b></p> <p>Use Packet Tracer to create two discontiguous classful networks. Each discontiguous network should have several routers and subnets, one using VLSM. Between the two groups of discontiguous networks, add another router linking the two discontiguous networks. Be sure to use a different major network between this router and each of the two discontiguous networks. </p> <p>Use this scenario to examine the issues with RIPv1 and how RIPv2 can be used to solve these routing issues.</p></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="en0907070000">
<title><content-text>Chapter Quiz</content-text></title>
<topic type="" id="en0907070100">
<title><content-text>Chapter Quiz</content-text></title>
<page type="FullScreen" id="en0907070101">
<content-media type="ChapterQuiz" id="cm7936652092"><title><content-text></content-text></title><media ref="en0907000000/en0907070000/en0907070100/en0907070101/cm7936652092/" mime="" scale="true" type="directory" width="100%" height="100%" external="en0907000000/en0907070000/en0907070100/en0907070101/cm7936652092/icontext.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
</chapter>
