<chapter type="" id="en0901000000">
<title><content-text>Introduction to Routing and Packet Forwarding</content-text></title>
<section type="ChapterIntroduction" id="en0901000000">
<title><content-text>Chapter Introduction</content-text></title>
<topic type="" id="en0901000100">
<title><content-text>Chapter Introduction</content-text></title>
<page type="OneColumn" id="en0901000101">
<content-media type="StaticGraphic" id="cm5338791101"><title><content-text></content-text></title><media ref="en0901000000/en0901000000/en0901000100/en0901000101/cm5338791101.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901000000/en0901000100/en0901000101/cm5338791101text.xml"/></content-media>
<content-text><p>Today's networks have a significant impact on our lives - changing the way we live, work, and play. Computer networks - and in a larger context the Internet - allow people to communicate, collaborate, and interact in ways they never did before. We use the network in a variety of ways, including web applications, <content-link target="cg9625811609" type="glossary">IP</content-link> telephony, video conferencing, interactive gaming, electronic commerce, education, and more. </p> <p>At the center of the network is the router. Stated simply, a router connects one network to another network. Therefore, the router is responsible for the delivery of packets across different networks. The destination of the IP packet might be a web server in another country or an e-mail server on the local area network. It is the responsibility of the routers to deliver those packets in a timely manner. The effectiveness of internetwork communications depends, to a large degree, on the ability of routers to forward packets in the most efficient way possible.</p> <p>Routers are now being added to satellites in space. These routers will have the ability to route IP traffic between satellites in space in much the same way that packets are moved on Earth, thereby reducing delays and offering greater networking flexibility.</p> <p>In addition to packet forwarding, a router provides other services as well. To meet the demands on today's networks, routers are also used to:</p> <ul><li> Ensure 24x7 (24 hours a day, 7 days a week) availability. To help guarantee network reachability, routers use alternate paths in case the primary path fails.</li> <li> Provide integrated services of data, video, and voice over wired and wireless networks. Routers use Quality of service (QoS) prioritization of IP packets to ensure that real-time traffic, such as voice, video and critical data are not dropped or delayed.</li> <li> Mitigate the impact of worms, viruses, and other attacks on the network by permitting or denying the forwarding of packets.</li></ul> <p>All of these services are built around the router and its primary responsibility of forwarding packets from one network to the next. It is only because of the router's ability to route packets between networks that devices on different networks can communicate. This chapter will introduce you to the router, its role in the networks, its main hardware and software components, and the routing process itself.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en0901010000">
<title><content-text>Inside the Router</content-text></title>
<topic type="" id="en0901010100">
<title><content-text>Routers are Computers</content-text></title>
<page type="OneColumn" id="en0901010101">
<content-media type="AnimationPartialScreen" id="cm1281314654"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010100/en0901010101/cm1281314654.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901010000/en0901010100/en0901010101/cm1281314654text.xml"/></content-media>
<content-text><p><b>Routers are Computers</b></p> <p>A router is a computer, just like any other computer including a PC. The very first router, used for the Advanced Research Projects Agency Network (ARPANET), was the Interface Message Processor (IMP). The IMP was a Honeywell 316 minicomputer; this computer brought the ARPANET to life on August 30, 1969. </p> <p><b>Note:</b> The ARPANET was developed by Advanced Research Projects Agency (ARPA) of the United States Department of Defense. The ARPANET was the world's first operational <content-link target="cg2207688691" type="glossary">packet</content-link> switching network and the predecessor of today's Internet.</p> <p>Routers have many of the same hardware and software components that are found in other computers including:</p> <ul><li> CPU</li> <li> RAM</li> <li> ROM</li> <li> <content-link target="cg9072288158" type="glossary">Operating System</content-link></li></ul> <p><b>Click Play to see the animation.</b></p></content-text>
</page>
<page type="OneColumn" id="en0901010102">
<content-media type="AnimationPartialScreen" id="cm4796025925"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010100/en0901010102/cm4796025925.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901010000/en0901010100/en0901010102/cm4796025925text.xml"/></content-media>
<content-text><p><b>Routers are at the network center</b></p> <p>Typical users may be unaware of the presence of numerous routers in their own network or in the Internet. Users expect to be able to access web pages, send e-mails, and download music - whether the server they are accessing is on their own network or on another network half-way around the world. However, networking professionals know it is the router that is responsible for forwarding packets from network-to-network, from the original source to the final destination.</p> <p>A router connects multiple networks. This means that it has multiple interfaces that each belong to a different IP network. When a router receives an IP packet on one interface, it determines which interface to use to forward the packet onto its destination. The interface that the router uses to forward the packet may be the network of the final destination of the packet (the network with the destination IP address of this packet), or it may be a network connected to another router that is used to reach the destination network.</p> <p>Each network that a router connects to typically requires a separate interface. These interfaces are used to connect a combination of both <content-link target="cg2442783702" type="glossary">Local Area Networks (LANs)</content-link> and <content-link target="cg2413697728" type="glossary">Wide Area Networks (WANs)</content-link>. LANs are commonly <content-link target="cg1794827428" type="glossary">Ethernet</content-link> networks that contain devices such as PCs, printers, and servers. WANs are used to connect networks over a large geographical area. For example, a WAN connection is commonly used to connect a LAN to the <content-link target="cg6625915036" type="glossary">Internet Service Provider (ISP)</content-link> network.</p> <p>In the figure, we see that routers R1 and R2 are responsible for receiving the packet on one network and forwarding the packet out another network toward the destination network.</p></content-text>
</page>
<page type="OneColumn" id="en0901010103">
<content-media type="AnimationPartialScreen" id="cm1720282653"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010100/en0901010103/cm1720282653.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901010000/en0901010100/en0901010103/cm1720282653text.xml"/></content-media>
<content-text><p><b>Routers determine the <content-link target="cg6489003437" type="glossary">best path</content-link></b></p> <p>The primary responsibility of a router is to direct packets destined for local and remote networks by:</p> <ul><li> Determining the best path to send packets </li> <li> Forwarding packets toward their destination</li></ul> <p>The router uses its <content-link target="cg5779791933" type="glossary">routing table</content-link> to determine the best path to forward the packet. When the router receives a packet, it examines its destination IP address and searches for the best match with a network address in the router's routing table. The routing table also includes the interface to be used to forward the packet. Once a match is found, the router encapsulates the IP packet into the data link frame of the outgoing or exit interface, and the packet is then forwarded toward its destination.</p> <p>It is very likely that a router will receive a packet that is encapsulated in one type of data link frame, such as an Ethernet frame and when forwarding the packet, the router will encapsulate it in a different type of data link frame, such as Point-to-Point Protocol (<content-link target="cg3376952186" type="glossary">PPP</content-link>). The data link encapsulation depends on the type of interface on the router and the type of medium it connects to. The different data link technologies that a router connects to can include LAN technologies, such as Ethernet, and WAN <content-link target="cg6273327444" type="glossary">serial</content-link> connections, such as T1 connection using PPP, <content-link target="cg4929417584" type="glossary">Frame Relay</content-link>, and <content-link target="cg7863235272" type="glossary">Asynchronous Transfer Mode (ATM)</content-link>. </p> <p>In the figure, we can follow a packet from the source PC to the destination PC. Notice that it is the responsibility of the router to find the destination network in its routing table and forward the packet on toward its destination. In this example, router R1 receives the packet encapsulated in an Ethernet frame. After decapsulating the packet, R1 uses the destination IP address of the packet to search its routing table for a matching network address. After a destination network address is found in the routing table, R1 encapsulates the packet inside a PPP frame and forwards the packet to R2. A similar process is performed by R2.</p> <p>Static routes and <content-link target="cg8753322308" type="glossary">dynamic routing</content-link> protocols are used by routers to learn about remote networks and build their routing tables. These routes and protocols are the primary focus of the course and will be discussed in detail in later chapters along with the process that routers use in searching their routing tables and forwarding the packets.</p> <p><b>Links</b></p> <p>"How Routers Work" <content-link target="http://computer.howstuffworks.com/router.htm" type="external">http://computer.howstuffworks.com/router.htm</content-link></p></content-text>
</page>
<page type="FullScreen" id="en0901010104">
<content-media type="AnimationFullScreen" id="cm5577947532"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010100/en0901010104/cm5577947532.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901010000/en0901010100/en0901010104/cm5577947532text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="en0901010105">
<content-media type="ActivityPKA" id="cm8238562839"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010100/en0901010105/cm8238562839/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901010000/en0901010100/en0901010105/cm8238562839/icontext.xml"/></content-media>
<content-text><p>This Packet Tracer Activity shows a complex network of routers with many different technologies. Be sure to view the activity in Simulation Mode so that you can see the traffic traveling from multiple sources to multiple destinations over various types of <content-link target="cg4379391683" type="glossary">media</content-link>. Please be patient as this complex topology may take some time to load.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0901010200">
<title><content-text>Router CPU and Memory</content-text></title>
<page type="OneColumn" id="en0901010201">
<content-media type="InteractiveGraphicHotspots" id="cm8329007509"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010200/en0901010201/cm8329007509.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901010000/en0901010200/en0901010201/cm8329007509text.xml"/></content-media>
<content-text><p>Although there are several different types and models of routers, every router has the same general hardware components. Depending on the model, those components are located in different places inside the router. The figure shows the inside of an 1841 router. To see the internal router components, you must unscrew the metal cover and take it off the router. <b>Usually you do not need to open the router unless you are upgrading memory.</b></p></content-text>
</page>
<page type="OneColumn" id="en0901010202">
<content-media type="InteractiveGraphicRollovers" id="cm7344735929"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010200/en0901010202/cm7344735929.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901010000/en0901010200/en0901010202/cm7344735929text.xml"/></content-media>
<content-text><p><b><content-link target="cg4650099337" type="glossary">Router</content-link> Components and their Functions</b></p> <p>Like a PC, a router also includes:</p> <ul><li> Central Processing Unit (CPU)</li> <li> Random-Access Memory (RAM)</li> <li> <content-link target="cg8286776423" type="glossary">Read-Only Memory (ROM)</content-link></li></ul> <p><b>Roll over components in the figure to see a brief description of each.</b></p> <p><b>CPU</b></p> <p>The CPU executes operating system instructions, such as system initialization, routing functions, and switching functions.</p> <p><b>RAM</b></p> <p>RAM stores the instructions and data needed to be executed by the CPU. RAM is used to store these components:</p> <ul><li> <b>Operating System:</b> The Cisco IOS (Internetwork Operating System) is copied into RAM during bootup.</li> <li> <b>Running Configuration File:</b> This is the configuration file that stores the configuration commands that the router IOS is currently using. With few exceptions, all commands configured on the router are stored in the running configuration file, known as running-config.</li> <li> <b>IP Routing Table:</b> This file stores information about directly connected and remote networks. It is used to determine the best path to forward the packet.</li> <li> <b><content-link target="cg4387624266" type="glossary">ARP</content-link> Cache:</b> This cache contains the IPv4 address to <content-link target="cg4560460940" type="glossary">MAC address</content-link> mappings, similar to the ARP cache on a PC. The ARP cache is used on routers that have LAN interfaces such as Ethernet interfaces.</li> <li> <b>Packet Buffer:</b> Packets are temporarily stored in a buffer when received on an interface or before they exit an interface.</li></ul> <p>RAM is volatile memory and loses its content when the router is powered down or restarted. However, the router also contains permanent storage areas, such as ROM, <content-link target="cg2090906049" type="glossary">flash</content-link> and NVRAM. </p> <p><b>ROM</b></p> <p>ROM is a form of permanent storage. Cisco devices use ROM to store:</p> <ul><li> The bootstrap instructions</li> <li> Basic diagnostic software</li> <li> Scaled-down version of IOS</li></ul> <p>ROM uses firmware, which is software that is embedded inside the integrated circuit. Firmware includes the software that does not normally need to be modified or upgraded, such as the bootup instructions. Many of these features, including ROM monitor software, will be discussed in a later course. ROM does not lose its contents when the router loses power or is restarted.</p> <p><b>Flash Memory</b></p> <p>Flash memory is nonvolatile computer memory that can be electrically stored and erased. Flash is used as permanent storage for the operating system, Cisco IOS. In most models of Cisco routers, the IOS is permanently stored in flash memory and copied into RAM during the bootup process, where it is then executed by the CPU. Some older models of Cisco routers run the IOS directly from flash. Flash consists of SIMMs or PCMCIA cards, which can be upgraded to increase the amount of flash memory.</p> <p>Flash memory does not lose its contents when the router loses power or is restarted.</p> <p><b>NVRAM</b></p> <p>NVRAM (Nonvolatile RAM) does not lose its information when power is turned off. This is in contrast to the most common forms of RAM, such as DRAM, that requires continual power to maintain its information. NVRAM is used by the Cisco IOS as permanent storage for the startup configuration file (startup-config). All configuration changes are stored in the running-config file in RAM, and with few exceptions, are implemented immediately by the IOS. To save those changes in case the router is restarted or loses power, the running-config must be copied to NVRAM, where it is stored as the startup-config file. NVRAM retains its contents even when the router reloads or is powered off.</p> <p>ROM, RAM, NVRAM, and flash are discussed in the following section which introduces the IOS and the bootup process. They are also discussed in more detail in a later course relative to managing the IOS.</p> <p>It is more important for a networking professional to understand the function of the main internal components of a router than the exact location of those components inside a specific router. The internal physical architecture will differ from model to model.</p>  <p><b>Links</b></p> <p>View the "Cisco 1800 Series Portfolio Multimedia Demo," <content-link target="http://www.cisco.com/en/US/products/ps5875/index.html" type="external">http://www.cisco.com/en/US/products/ps5875/index.html</content-link></p></content-text>
</page>
</topic>
<topic type="" id="en0901010300">
<title><content-text>Internetwork Operating System</content-text></title>
<page type="OneColumn" id="en0901010301">
<content-media type="AnimationPartialScreen" id="cm3739919545"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010300/en0901010301/cm3739919545.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901010000/en0901010300/en0901010301/cm3739919545text.xml"/></content-media>
<content-text><p><b>Internetwork Operating System</b></p> <p>The operating system software used in Cisco routers is known as Cisco Internetwork Operating System (IOS). Like any operating system on any computer, Cisco IOS manages the hardware and software resources of the router, including memory allocation, processes, security, and file systems. Cisco IOS is a multitasking operating system that is integrated with routing, switching, internetworking, and telecommunications functions.</p> <p>Although the Cisco IOS may appear to be the same on many routers, there are many different IOS images. An IOS image is a file that contains the entire IOS for that router. Cisco creates many different types of IOS images, depending upon the model of the router and the features within the IOS. Typically the more features in the IOS, the larger the IOS image, and therefore, the more flash and RAM that is required to store and load the IOS. For example, some features include the ability to run <content-link target="cg8872612645" type="glossary">IPv6</content-link> or the ability for the router to perform NAT (Network Address Translation).</p> <p>As with other operating systems Cisco IOS has its own user interface. Although some routers provide a graphical user interface (GUI), the command line interface (CLI) is a much more common method of configuring Cisco routers. The CLI is used throughout this curriculum.</p> <p>Upon bootup, the startup-config file in NVRAM is copied into RAM and stored as the running-config file. IOS executes the configuration commands in the running-config. Any changes entered by the network administrator are stored in the running-config and are immediately implemented by the IOS. In this chapter, we will review some of the basic IOS commands used to configure a Cisco router. In later chapters, we will learn the commands used to configure, verify, and troubleshoot <content-link target="cg8507263429" type="glossary">static routing</content-link> and various routing protocols such as RIP, EIGRP, and OSPF.</p> <p><b>Note:</b> Cisco IOS and the bootup process is discussed in more detail in a later course.</p></content-text>
</page>
</topic>
<topic type="" id="en0901010400">
<title><content-text>Router Boot-up Process</content-text></title>
<page type="OneColumn" id="en0901010401">
<content-media type="InteractiveGraphicRollovers" id="cm2783740641"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010400/en0901010401/cm2783740641.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901010000/en0901010400/en0901010401/cm2783740641text.xml"/></content-media>
<content-text><p><b>Bootup Process</b></p> <p>There are four major phases to the bootup process:</p> <p>1. Performing the POST</p> <p>2. Loading the bootstrap program</p> <p>3. Locating and loading the Cisco IOS software</p> <p>4. Locating and loading the startup configuration file or entering setup mode </p> <p><b>1. Performing the POST </b></p> <p>The <content-link target="cg1953373827" type="glossary">Power-On Self Test (POST)</content-link> is a common process that occurs on almost every computer during bootup. The POST process is used to test the router hardware. When the router is powered on, software on the ROM chip conducts the POST. During this self-test, the router executes diagnostics from ROM on several hardware components including the CPU, RAM, and NVRAM. After the POST has been completed, the router executes the bootstrap program.</p> <p><b>2. Loading the Bootstrap Program </b></p> <p>After the POST, the bootstrap program is copied from ROM into RAM. Once in RAM, the CPU executes the instructions in the bootstrap program. The main task of the bootstrap program is to locate the Cisco IOS and load it into RAM.</p> <p><b>Note:</b> At this point, if you have a console connection to the router, you will begin to see output on the screen. </p> <p><b>3. Locating and Loading Cisco IOS</b></p> <p><b>Locating the Cisco IOS software.</b> The IOS is typically stored in flash memory, but can also be stored in other places such as a TFTP (Trivial File Transfer Protocol) server.</p> <p>If a full IOS image can not be located, a scaled-down version of the IOS is copied from ROM into RAM. This version of IOS is used to help diagnose any problems and can be used to load a complete version of the IOS into RAM.</p> <p><b>Note:</b> A TFTP server is usually used as a backup server for IOS but it can also be used as a central point for storing and loading the IOS. IOS management and using the TFTP server is discussed in a later course.</p> <p><b>Loading the IOS.</b> Some of the older Cisco routers ran the IOS directly from flash, but current models copy the IOS into RAM for execution by the CPU. </p> <p><b>Note:</b> Once the IOS begins to load, you may see a string of pounds signs (#), as shown in the figure, while the image decompresses.</p> <p><b>4. Locating and Loading the Configuration File</b></p> <p><b>Locating the Startup Configuration File.</b> After the IOS is loaded, the bootstrap program searches for the startup configuration file, known as startup-config, in NVRAM. This file has the previously saved configuration commands and parameters including:</p> <ul><li> interface addresses</li> <li> routing information</li> <li> passwords</li> <li> any other configurations saved by the network administrator</li></ul> <p>If the startup configuration file, startup-config, is located in NVRAM, it is copied into RAM as the running configuration file, running-config.</p> <p><b>Note:</b> If the startup configuration file does not exist in NVRAM, the router may search for a TFTP server. If the router detects that it has an active link to another configured router, it sends a broadcast searching for a configuration file across the active link. This condition will cause the router to pause, but you will eventually see a console message like the following one:</p> <p>&lt;router pauses here while it broadcasts for a configuration file across an active link></p> <span class="cmd"><p>%Error opening tftp://255.255.255.255/network-confg (Timed out)</p></span> <span class="cmd"><p>%Error opening tftp://255.255.255.255/cisconet.cfg (Timed out)</p></span> <p><b>Executing the Configuration File. </b>If a startup configuration file is found in NVRAM, the IOS loads it into RAM as the running-config and executes the commands in the file, one line at a time. The running-config file contains interface addresses, starts routing processes, configures router passwords and defines other characteristics of the router. </p> <p><b>Enter Setup Mode (Optional).</b> If the startup configuration file can not be located, the router prompts the user to enter setup mode. <content-link target="cg2894784407" type="glossary">Setup mode</content-link> is a series of questions prompting the user for basic configuration information. Setup mode is not intended to be used to enter complex router configurations, and it is not commonly used by network administrators. </p> <p>When booting a router that does not contain a startup configuration file, you will see the following question after the IOS has been loaded:</p> <span class="cmd"><p>Would you like to enter the initial configuration dialog? [yes/no]: <b>no </b></p></span> <p>Setup mode will not be used in this course to configure the router. When prompted to enter setup mode, always answer <b>no</b>. If you answer <b>yes </b>and enter setup mode, you can press <b>Ctrl-C</b> at any time to terminate the setup process.</p> <p>When setup mode is not used, the IOS creates a default running-config. The default running-config is a basic configuration file that includes the router interfaces, management interfaces, and certain default information. The default running-config does not contain any interface addresses, routing information, passwords, or other specific configuration information.</p> <p><b>Command Line Interface</b></p> <p>Depending on the platform and IOS, the router may ask the following question before displaying the prompt:</p> <span class="cmd"><p>Would you like to terminate autoinstall? [yes]: <b>&lt;Enter></b></p></span>  <span class="cmd"><p>Press the Enter key to accept the default answer. </p></span>  <span class="cmd"><p>Router></p></span> <p><b>Note:</b> If a startup configuration file was found, the running-config may contain a hostname and the prompt will display the hostname of the router.</p> <p>Once the prompt displays, the router is now running the IOS with the current running configuration file. The network administrator can now begin using IOS commands on this router.</p> <p><b>Note: </b>The bootup process is discussed in more detail in a later course.</p></content-text>
</page>
<page type="OneColumn" id="en0901010402">
<content-media type="StaticGraphic" id="cm6236486715"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010400/en0901010402/cm6236486715.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901010000/en0901010400/en0901010402/cm6236486715text.xml"/></content-media>
<content-text><p><b>Verifying Router Bootup Process</b></p> <p>The <span class="cmd"><b>show version</b></span> command can be used to help verify and troubleshoot some of the basic hardware and software components of the router. The <span class="cmd"><b>show version</b></span> command displays information about the version of the Cisco IOS software currently running on the router, the version of the bootstrap program, and information about the hardware configuration, including the amount of system memory.</p> <p>The output from the <span class="cmd"><b>show version</b></span> command includes:</p> <p><b>IOS version</b></p> <span class="cmd"><p>Cisco Internetwork Operating System Software</p></span> <span class="cmd"><p>IOS (tm) C2600 Software (C2600-I-M), <b>Version 12.2(28)</b>, RELEASE SOFTWARE (fc5)</p></span> <p>This is the version of the Cisco IOS software in RAM and that is being used by the router.</p> <p><b>ROM Bootstrap Program</b></p> <span class="cmd"><p>ROM: System Bootstrap, <b>Version 12.1(3r)T2</b>, RELEASE SOFTWARE (fc1)</p></span> <p>This shows the version of the system bootstrap software, stored in ROM memory, that was initially used to boot up the router.</p> <p><b>Location of IOS</b></p> <span class="cmd"><p>System image file is "<b>flash:c2600-i-mz.122-28.bin</b>"</p></span> <p>This shows where the bootstrap program is located and loaded the Cisco IOS, and the complete filename of the IOS image.</p> <p><b>CPU and Amount of RAM</b></p> <span class="cmd"><p>cisco 2621 (<b>MPC860</b>) processor (revision 0x200) with<b> 60416K/5120K bytes of memory</b></p></span> <p>The first part of this line displays the type of CPU on this router. The last part of this line displays the amount of DRAM. Some series of routers, like the 2600, use a fraction of DRAM as packet memory. Packet memory is used for buffering packets.</p> <p>To determine the total amount of DRAM on the router, add both numbers. In this example, the Cisco 2621 router has 60,416 KB (kilobytes) of free DRAM used for temporarily storing the Cisco IOS and other system processes. The other 5,120 KB is dedicated for packet memory. The sum of these numbers is 65,536K, or 64 megabytes (MB) of total DRAM.</p> <p><b>Note:</b> It may be necessary to upgrade the amount of RAM when upgrading the IOS.</p> <p><b>Interfaces</b></p> <span class="cmd"><p>2 FastEthernet/IEEE 802.3 interface(s)</p></span> <span class="cmd"><p>2 Low-speed serial(sync/async) network interface(s)</p></span> <p>This section of the output displays the physical interfaces on the router. In this example, the Cisco 2621 router has two FastEthernet interfaces and two low-speed serial interfaces.</p> <p><b>Amount of NVRAM</b></p> <span class="cmd"><p>32K bytes of non-volatile configuration memory.</p></span> <p>This is the amount of NVRAM on the router. NVRAM is used to store the startup-config file.</p> <p><b>Amount of Flash</b></p> <span class="cmd"><p>16384K bytes of processor board System flash (Read/Write)</p></span> <p>This is the amount of flash memory on the router. Flash is used to permanently store the Cisco IOS.</p> <p><b>Note:</b> It may be necessary to upgrade the amount of flash when upgrading the IOS.</p> <p><b>Configuration Register</b></p> <span class="cmd"><p>Configuration register is 0x2102</p></span> <p>The last line of the <span class="cmd"><b>show version</b></span> command displays the current configured value of the software configuration register in hexadecimal. If there is a second value displayed in parentheses, it denotes the configuration register value that will be used during the next reload.</p> <p>The configuration register has several uses, including password recovery. The factory default setting for the configuration register is 0x2102. This value indicates that the router will attempt to load a Cisco IOS software image from flash memory and load the startup configuration file from NVRAM.</p> <p><b>Note:</b> The configuration register is discussed in more detail in a later course.</p></content-text>
</page>
<page type="OneColumn" id="en0901010403">
<content-media type="ActivityPKA" id="cm2465326324"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010400/en0901010403/cm2465326324/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901010000/en0901010400/en0901010403/cm2465326324/icontext.xml"/></content-media>
<content-text><p>Use this Packet Tracer Activity to experience setup mode and investigate the <span class="cmd"><b>show running-configuration</b></span> command.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0901010500">
<title><content-text>Router Interfaces</content-text></title>
<page type="OneColumn" id="en0901010501">
<content-media type="InteractiveGraphicRollovers" id="cm3626653393"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010500/en0901010501/cm3626653393.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901010000/en0901010500/en0901010501/cm3626653393text.xml"/></content-media>
<content-text><p><b>Management Ports</b></p> <p>Routers have physical connectors that are used to manage the router. These connectors are known as management ports. Unlike Ethernet and serial interfaces, management ports are not used for packet forwarding. The most common management port is the <content-link target="cg8473764376" type="glossary">console port</content-link>. The console port is used to connect a terminal, or most often a PC running terminal emulator software, to configure the router without the need for network access to that router. The console port must be used during initial configuration of the router.</p> <p>Another management port is the auxiliary port. Not all routers have auxiliary ports. At times the auxiliary port can be used in ways similar to a console port. It can also be used to attach a modem. Auxiliary ports will not be used in this curriculum.</p> <p>The figure shows the console and AUX ports on the router.</p> <p><b>Router Interfaces</b></p> <p>The term <i>interface </i>on Cisco routers refers to a physical connector on the router whose main purpose is to receive and forward packets. Routers have multiple interfaces that are used to connect to multiple networks. Typically, the interfaces connect to various types of networks, which means that different types of media and connectors are required. Often a router will need to have different types of interfaces. For example, a router usually has FastEthernet interfaces for connections to different LANs and various types of WAN interfaces to connect a variety of serial links including T1, <content-link target="cg5636558179" type="glossary">DSL</content-link> and <content-link target="cg5216639655" type="glossary">ISDN</content-link>. The figure shows the FastEthernet and serial interfaces on the router.</p> <p>Like interfaces on a PC, the ports and interfaces on a router are located on the outside of the router. Their external location allows for convenient attachment to the appropriate network cables and connectors.</p> <p><b>Note:</b> A single interface on a router can be used to connect to multiple networks; however, this is beyond the scope of this course and is discussed in a later course.</p> <p>Like most networking devices, Cisco routers use <content-link target="cg9608982985" type="glossary">LED</content-link> indicators to provide status information. An interface LED indicates the activity of the corresponding interface. If an LED is off when the interface is active and the interface is correctly connected, this may be an indication of a problem with that interface. If an interface is extremely busy, its LED will always be on. Depending on the type of router, there may be other LEDs as well. For more information on LED displays on the 1841, see the link below.</p> <p><b>Links</b></p> <p>"Troubleshooting Cisco 1800 Series Routers (Modular)," <content-link target="http://www.cisco.com/en/US/products/ps5853/products_installation_guide_chapter09186a00802c36b8.html" type="external">http://www.cisco.com/en/US/products/ps5853/products_installation_guide_chapter09186a00802c36b8.html</content-link></p></content-text>
</page>
<page type="OneColumn" id="en0901010502">
<content-media type="StaticGraphic" id="cm3720251398"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010500/en0901010502/cm3720251398.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901010000/en0901010500/en0901010502/cm3720251398text.xml"/></content-media>
<content-text><p><b>Interfaces Belong to Different Networks</b></p> <p>As shown in the figure, every interface on the router is a member or host on a different IP network. Each interface must be configured with an IP address and subnet mask of a different network. Cisco IOS will not allow two active interfaces on the same router to belong to the same network.</p> <p>Router interfaces can be divided into two major groups:</p> <ul><li> <b>LAN interfaces</b> - such as Ethernet and FastEthernet</li> <li> <b>WAN interfaces</b> - such as serial, ISDN, and Frame Relay </li></ul> <p><b>LAN Interfaces</b></p> <p>As the name indicates, LAN interfaces are used to connect the router to the LAN, similar to how a PC Ethernet NIC is used to connect the PC to the Ethernet LAN. Like a PC Ethernet NIC, a router Ethernet interface also has a Layer 2 MAC address and participates in the Ethernet LAN in the same way as any other <content-link target="cg2311059411" type="glossary">hosts</content-link> on that LAN. For example, a router Ethernet interface participates in the ARP process for that LAN. The router maintains an ARP cache for that interface, sends ARP requests when needed, and responds with ARP replies when required. </p> <p>A router Ethernet interface usually uses an RJ-45 jack that supports unshielded twisted-pair (UTP) cabling. When a router is connected to a switch, a straight-through <content-link target="cg3853080056" type="glossary">cable</content-link> is used. When two routers are connected directly through the Ethernet interfaces, or when a PC NIC is connected directly to a router Ethernet interface, a crossover cable is used. </p> <p>Use the Packet Tracer Activity later in this section to test your cabling skills.</p> <p><b>WAN Interfaces</b></p> <p>WAN interfaces are used to connect routers to external networks, usually over a larger geographical distance. The Layer 2 encapsulation can be of different types, such as PPP, Frame Relay, and HDLC (High-Level Data Link Control). Similar to LAN interfaces, each WAN interface has its own IP address and subnet mask, which identifies it as a member of a specific network. </p> <p><b>Note:</b> MAC addresses are used on LAN interfaces, such as Ethernet, and are not used on WAN interfaces. However, WAN interfaces use their own Layer 2 addresses depending on the technology. Layer 2 WAN encapsulation types and addresses are covered in a later course.</p> <p><b>Router Interfaces</b></p> <p>The router in the figure has four interfaces. Each interface has a Layer 3 IP address and subnet mask that configures it for a different network. The Ethernet interfaces also have Layer 2 Ethernet MAC addresses. </p> <p>The WAN interfaces are using different Layer 2 encapsulations. Serial 0/0/0 is using HDLC and Serial 0/0/1 is using PPP. Both of these serial point-to-point protocols use a broadcast address for the Layer 2 destination address when encapsulating the IP packet into a data link frame.</p> <p>In the lab environment, you are restricted as to how many LAN and WAN interfaces you can use to configure hands-on labs. With Packet Tracer, however, you have the flexibility to create more complex network designs.</p></content-text>
</page>
<page type="OneColumn" id="en0901010503">
<content-media type="ActivityPKA" id="cm1897900983"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010500/en0901010503/cm1897900983/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901010000/en0901010500/en0901010503/cm1897900983/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to practice selecting the correct cable to connect devices.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0901010504">
<content-media type="ActivityPKA" id="cm7358561846"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010500/en0901010504/cm7358561846/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901010000/en0901010500/en0901010504/cm7358561846/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to explore using the <b>Physical</b>, <b>Config</b>, and <b>CLI </b>tabs for a router.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0901010600">
<title><content-text>Routers and the Network Layer</content-text></title>
<page type="OneColumn" id="en0901010601">
<content-media type="AnimationPartialScreen" id="cm8562412505"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010600/en0901010601/cm8562412505.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901010000/en0901010600/en0901010601/cm8562412505text.xml"/></content-media>
<content-text><p><b>Routers and the Network Layer</b></p> <p>The main purpose of a router is to connect multiple networks and forward packets destined either for its own networks or other networks. A router is considered a Layer 3 device because its primary forwarding decision is based on the information in the Layer 3 IP packet, specifically the destination IP address. This process is known as routing.</p> <p>When a router receives a packet, it examines its destination IP address. If the destination IP address does not belong to any of the router's directly connected networks, the router must forward this packet to another router. In the figure, R1 examines the destination IP address of the packet. After searching the routing table, R1 forwards the packet onto R2. When R2 receives the packet, it also examines the packet's destination IP address. After searching its routing table, R2 forwards the packet out its directly connected Ethernet network to PC2.</p> <p>When each router receives a packet, it searches its routing table to find the best match between the destination IP address of the packet and one of the network addresses in the routing table. Once a match is found, the packet is encapsulated in the layer 2 data link frame for that outgoing interface. The type of data link encapsulation depends on the type of interface, such as Ethernet or HDLC.</p> <p>Eventually the packet reaches a router that is part of a network that matches the destination IP address of the packet. In this example, router R2 receives the packet from R1. R2 forwards the packet out its Ethernet interface, which belongs to the same network as the destination device, PC2. </p> <p>This sequence of events is explained in more detail later in this chapter.</p></content-text>
</page>
<page type="OneColumn" id="en0901010602">
<content-media type="AnimationPartialScreen" id="cm2652544993"><title><content-text></content-text></title><media ref="en0901000000/en0901010000/en0901010600/en0901010602/cm2652544993.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901010000/en0901010600/en0901010602/cm2652544993text.xml"/></content-media>
<content-text><p><b>Routers Operate at Layers 1, 2, and 3</b></p> <p>A router makes its primary forwarding decision at Layer 3, but as we saw earlier, it participates in Layer 1 and Layer 2 processes as well. After a router has examined the destination IP address of a packet and consulted its routing table to make its forwarding decision, it can forward that packet out the appropriate interface toward its destination. The router encapsulates the Layer 3 IP packet into the data portion of a Layer 2 data link frame appropriate for the exit interface. The type of frame can be an Ethernet, HDLC, or some other Layer 2 encapsulation - whatever encapsulation is used on that particular interface. The Layer 2 frame is encoded into the Layer 1 physical signals that are used to represent bits over the physical link.</p> <p>To understand this process better, refer to the figure. Notice that PC1 operates at all seven layers, encapsulating the data and sending the frame out as a stream of encoded bits to R1, its default gateway.</p> <p>R1 receives the stream of encoded bits on its interface. The bits are decoded and passed up to Layer 2, where R1 decapsulates the frame. The router examines the destination address of the data link frame to determine if it matches the receiving interface, including a broadcast or multicast address. If there is a match with the data portion of the frame, the IP packet is passed up to Layer 3, where R1 makes its routing decision. R1 then re-encapsulates the packet into a new Layer 2 data link frame and forwards it out the outbound interface as a stream of encoded bits. </p> <p>R2 receives the stream of bits, and the process repeats itself. R2 decapsulates the frame and passes the data portion of the frame, the IP packet, to Layer 3 where R2 makes its routing decision. R2 then re-encapsulates the packet into a new Layer 2 data link frame and forwards it out the outbound interface as a stream of encoded bits.</p> <p>This process is repeated once again by router R3, which forwards the IP packet, encapsulated inside a data link frame and encoded as bits, to PC2. </p> <p>Each router in the path from source to destination performs this same process of decapsulation, searching the routing table, and then re-encapsulation. This process is important to your understanding of how routers participate in networks. Therefore, we will revisit this discussion in more depth in a later section.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en0901020000">
<title><content-text>CLI Configuration and Addressing</content-text></title>
<topic type="" id="en0901020100">
<title><content-text>Implementing Basic Addressing Schemes</content-text></title>
<page type="OneColumn" id="en0901020101">
<content-media type="ActivityDnDCheckReset" id="cm1891347561"><title><content-text></content-text></title><media ref="en0901000000/en0901020000/en0901020100/en0901020101/cm1891347561.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901020000/en0901020100/en0901020101/cm1891347561text.xml"/></content-media>
<content-text><p>When designing a new network or mapping an existing network, document the network. At a minimum, the documentation should include a topology diagram that indicates the physical connectivity and an addressing table that lists all of the following information:</p> <ul><li> Device names</li> <li> Interfaces used in the design</li> <li> IP addresses and subnet masks</li> <li> Default gateway addresses for end devices, such as PCs</li></ul> <p><b>Populating an Address Table </b></p> <p>The figure shows a network topology with the devices interconnected and configured with IP addresses. Under the topology is a table used to document the network. The table is partially populated with the data documenting the network (devices, IP addresses, subnet masks, and interfaces).</p> <p>Router R1 and host PC1 are already documented. Finish populating the table and the blank spaces on the diagram dragging the pool of IP addresses shown below the table to the correct locations.</p></content-text>
</page>
<page type="OneColumn" id="en0901020102">
<content-media type="ActivityPKA" id="cm1772529439"><title><content-text></content-text></title><media ref="en0901000000/en0901020000/en0901020100/en0901020102/cm1772529439/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901020000/en0901020100/en0901020102/cm1772529439/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to connect the devices. Configure the device names to match the figure and use the <b>Place Note</b> feature to add network address labels.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0901020200">
<title><content-text>Basic Router Configuration</content-text></title>
<page type="OneColumn" id="en0901020201">
<content-media type="StaticGraphic" id="cm6104940742"><title><content-text></content-text></title><media ref="en0901000000/en0901020000/en0901020200/en0901020201/cm6104940742.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901020000/en0901020200/en0901020201/cm6104940742text.xml"/></content-media>
<content-text><p><b>Basic Router Configuration</b></p> <p>When configuring a router, certain basic tasks are performed including:</p> <ul><li> Naming the router</li> <li> Setting passwords</li> <li> Configuring interfaces</li> <li> Configuring a banner</li> <li> Saving changes on a router</li> <li> Verifying basic configuration and router operations</li></ul> <p>You should already be familiar with these configuration commands; however, we will do a brief review. We begin our review with the assumption that the router does not have a current startup-config file.</p> <p>The first prompt appears at user mode. User mode allows you to view the state of the router, but does not allow you to modify its configuration. Do not confuse the term "user" as used in user mode with users of the network. User mode is intended for the network technicians, operators, and engineers who have the responsibility to configure network devices.</p> <span class="cmd"><p>Router></p></span> <p>The <span class="cmd"><b>enable </b></span>command is used to enter the <content-link target="cg2124003203" type="glossary">privileged EXEC mode</content-link>. This mode allows the user to make configuration changes on the router. The router prompt will change from a ">" to a "#" in this mode.</p> <span class="cmd"><p>Router><b>enable</b></p></span> <span class="cmd"><p>Router#</p></span> <p><b>Hostnames and Passwords</b></p> <p>The figure shows the basic router configuration command syntax used to configure R1 in the following example. You can open Packet Tracer Activity 1.2.2 and follow along or wait until the end of this section to open it.</p> <p>First, enter the global configuration mode.</p> <span class="cmd"><p>Router#<b>config t </b></p></span> <p>Next, apply a unique hostname to the router.</p> <span class="cmd"><p>Router(config)#<b>hostname R1</b></p></span> <span class="cmd"><p>R1(config)#</p></span> <p>Now, configure a password that is to be used to enter privileged EXEC mode. In our lab environment, we will use the password <i>class</i>. However, in production environments, routers should have strong passwords. See the links at the end of this section for more information on creating and using strong passwords. </p> <span class="cmd"><p>Router(config)#<b>enable secret class</b></p></span> <p>Next, configure the console and <content-link target="cg4751811026" type="glossary">Telnet</content-link> lines with the password <i>cisco</i>. Once again, the password <i>cisco </i>is used only in our lab environment. The command login enables password checking on the line. If you do not enter the command login on the console line, the user will be granted access to the line without entering a password.</p> <span class="cmd"><p>R1(config)#<b>line console 0 </b></p></span> <span class="cmd"><p>R1(config-line)#<b>password cisco</b></p></span> <span class="cmd"><p>R1(config-line)#<b>login </b></p></span> <span class="cmd"><p>R1(config-line)#<b>exit </b></p></span> <span class="cmd"><p>R1(config)#<b>line vty 0 4</b> </p></span> <span class="cmd"><p>R1(config-line)#<b>password cisco</b></p></span> <span class="cmd"><p>R1(config-line)#<b>login </b></p></span> <span class="cmd"><p>R1(config-line)#<b>exit </b></p></span>  <p><b>Configuring a Banner</b></p> <p>From the global configuration mode, configure the message-of-the-day (motd) banner. A delimiting character, such as a "#" is used at the beginning and at the end of the message. The delimiter allows you to configure a multiline banner, as shown here.</p> <span class="cmd"><p>R1(config)#<b>banner motd # </b></p></span> <span class="cmd"><p>Enter TEXT message. End with the character '#'.</p></span> <span class="cmd"><p><b>******************************************</b></p></span> <span class="cmd"><p><b>WARNING!! Unauthorized Access Prohibited!!</b></p></span> <span class="cmd"><p><b>******************************************</b></p></span> <span class="cmd"><p><b>#</b></p></span> <p>Configuring an appropriate banner is part of a good security plan. At a very minimum, a banner should warn against unauthorized access. Never configure a banner that "welcomes" an unauthorized user.</p> <p><b>Links</b></p> <p>For discussions about using strong passwords, see:</p> <p>"Cisco Response to Dictionary Attacks on Cisco LEAP," at <content-link target="http://www.cisco.com/en/US/products/hw/wireless/ps430/prod_bulletin09186a00801cc901.html#wp1002291" type="external">http://www.cisco.com/en/US/products/hw/wireless/ps430/prod_bulletin09186a00801cc901.html#wp1002291</content-link></p> <p>"Strong passwords: How to create and use them," at <content-link target="http://www.microsoft.com/athome/security/privacy/password.mspx" type="external">http://www.microsoft.com/athome/security/privacy/password.mspx </content-link></p></content-text>
</page>
<page type="OneColumn" id="en0901020202">
<content-media type="StaticGraphic" id="cm4267619878"><title><content-text></content-text></title><media ref="en0901000000/en0901020000/en0901020200/en0901020202/cm4267619878.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901020000/en0901020200/en0901020202/cm4267619878text.xml"/></content-media>
<content-text><p><b>Router Interface Configuration</b></p> <p>You will now configure the individual router interfaces with IP addresses and other information. First, enter the interface configuration mode by specifying the interface type and number. Next, configure the IP address and subnet mask:</p> <span class="cmd"><p>R1(config)#<b>interface Serial0/0/0</b></p></span> <span class="cmd"><p>R1(config-if)#<b>ip address 192.168.2.1 255.255.255.0</b></p></span> <p>It is good practice to configure a description on each interface to help document the network information. The description text is limited to 240 characters. On production networks a description can be helpful in troubleshooting by providing information about the type of network that the interface is connected to and if there are any other routers on that network. If the interface connects to an ISP or service carrier, it is helpful to enter the third party connection and contact information; for example:</p> <span class="cmd"><p>Router(config-if)#<b>description Ciruit#VBN32696-123 (help desk:1-800-555-1234)</b></p></span> <p>In lab environments, enter a simple description that will help in troubleshooting situations; for example:</p> <span class="cmd"><p>R1(config-if)#<b>description Link to R2</b></p></span> <p>After configuring the IP address and description, the interface must be activated with the <span class="cmd"><b>no shutdown</b></span> command. This is similar to powering on the interface. The interface must also be connected to another device (a hub, a switch, another router, etc.) for the Physical layer to be active.</p> <span class="cmd"><p>Router(config-if)#<b>no shutdown</b></p></span> <p><b>Note:</b> When cabling a point-to-point serial link in our lab environment, one end of the cable is marked DTE and the other end is marked DCE. The router that has the DCE end of the cable connected to its serial interface will need the additional <span class="cmd"><b>clock rate</b></span> command configured on that serial interface. This step is only necessary in a lab environment and will be explained in more detail in Chapter 2, "Static Routing".</p> <span class="cmd"><p>R1(config-if)#<b>clock rate 64000</b></p></span> <p>Repeat the interface configuration commands on all other interfaces that need to be configured. In our topology example, the FastEthernet interface needs to be configured.</p> <span class="cmd"><p>R1(config)#<b>interface FastEthernet0/0</b></p></span> <span class="cmd"><p>R1(config-if)#<b>ip address 192.168.1.1 255.255.255.0</b></p></span> <span class="cmd"><p>R1(config-if)#<b>description R1 LAN</b></p></span> <span class="cmd"><p>R1(config-if)#<b>no shutdown</b></p></span> <p><b>Each Interface Belongs to a Different Network</b></p> <p>At this point, note that each interface must belong to a different network. Although the IOS allows you to configure an IP address from the same network on two different interfaces, the router will not activate the second interface. </p> <p>For example, what if you attempt to configure the FastEthernet 0/1 interface on R1 with an IP address on the 192.168.1.0/24 network? FastEthernet 0/0 has already been assigned an address on that same network. If you attempt to configure another interface, FastEthernet 0/1, with an IP address that belongs to the same network, you will get the following message:</p> <span class="cmd"><p>R1(config)#<b>interface FastEthernet0/1</b></p></span> <span class="cmd"><p>R1(config-if)#<b>ip address 192.168.1.2 255.255.255.0</b></p></span> <span class="cmd"><p><span class="blue">192.168.1.0 overlaps with FastEthernet0/0</span></p></span> <p>If there is an attempt to enable the interface with the <span class="cmd"><b>no shutdown</b></span> command, the following message will appear:</p> <span class="cmd"><p>R1(config-if)#<b>no shutdown</b></p></span> <span class="cmd"><p><span class="blue">192.168.1.0 overlaps with FastEthernet0/0</span></p></span> <span class="cmd"><p><span class="blue">FastEthernet0/1: incorrect IP address assignment</span></p></span> <p>Notice that the output from the <span class="cmd"><b>show ip interface brief</b></span> command shows that the second interface configured for the 192.168.1.0/24 network, FastEthernet 0/1, is still down. </p> <span class="cmd"><p>R1#<b>show ip interface brief</b></p></span> <span class="cmd"><p>&lt;output omitted></p></span> <span class="cmd"><p>FastEthernet0/1 192.168.1.2 YES manual administratively down down</p></span></content-text>
</page>
<page type="OneColumn" id="en0901020203">
<content-media type="InteractiveGraphicHotspots" id="cm8684422861"><title><content-text></content-text></title><media ref="en0901000000/en0901020000/en0901020200/en0901020203/cm8684422861.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901020000/en0901020200/en0901020203/cm8684422861text.xml"/></content-media>
<content-text><p><b>Verifying Basic Router Configuration</b></p> <p>Currently in the example, all of the previous basic router configuration commands have been entered and were immediately stored in the running configuration file of R1. The running-config file is stored in RAM and is the configuration file used by IOS. The next step is to verify the commands entered by displaying the running configuration with the following command:</p> <span class="cmd"><p>R1#<b>show running-config</b></p></span> <p>Now that the basic configuration commands have been entered, it is important to save the running-config to the nonvolatile memory, the NVRAM of the router. That way, in case of a power outage or an accidental reload, the router will be able to boot with the current configuration. After the router's configuration has been completed and tested, it is important to save the running-config to the startup-config as the permanent configuration file.</p> <span class="cmd"><p>R1#<b>copy running-config startup-config</b></p></span> <p>After applying and saving the basic configuration, you can use several commands to verify that you have correctly configured the router. Click the appropriate button in the figure to see a listing of each command's output. All of these commands are discussed in detail in later chapters. For now, begin to become familiar with the output.</p> <span class="cmd"><p>R1#<b>show running-config</b></p></span> <p>This command displays the current running configuration that is stored in RAM. With a few exceptions, all configuration commands that were used will be entered into the running-config and implemented immediately by the IOS. </p> <span class="cmd"><p>R1#<b>show startup-config</b></p></span> <p>This command displays the startup configuration file stored in NVRAM. This is the configuration that the router will use on the next reboot. This configuration does not change unless the current running configuration is saved to NVRAM with the <span class="cmd"><b>copy running-config startup-config</b></span> command. Notice in the figure that the startup configuration and the running configuration are identical. They are identical because the running configuration has not changed since the last time it was saved. Also notice that the <span class="cmd"><b>show startup-config</b></span> command also displays how many bytes of NVRAM the saved configuration is using.</p> <span class="cmd"><p>R1#<b>show ip route</b></p></span> <p>This command displays the routing table that the IOS is currently using to choose the best path to its destination networks. At this point, R1 only has routes for its directly connected networks via its own interfaces.</p> <span class="cmd"><p>R1#<b>show interfaces</b></p></span> <p>This command displays all of the interface configuration parameters and statistics. Some of this information is discussed later in the curriculum and in CCNP. </p> <span class="cmd"><p>R1#<b>show ip interface brief</b></p></span> <p>This command displays abbreviated interface configuration information, including IP address and interface status. This command is a useful tool for troubleshooting and a quick way to determine the status of all router interfaces.</p></content-text>
</page>
<page type="OneColumn" id="en0901020204">
<content-media type="ActivityPKA" id="cm6348132421"><title><content-text></content-text></title><media ref="en0901000000/en0901020000/en0901020200/en0901020204/cm6348132421/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901020000/en0901020200/en0901020204/cm6348132421/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to practice basic router configuration and verification commands.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="en0901030000">
<title><content-text>Building the Routing Table</content-text></title>
<topic type="" id="en0901030100">
<title><content-text>Introducing the Routing Table</content-text></title>
<page type="OneColumn" id="en0901030101">
<content-media type="StaticGraphic" id="cm8650368766"><title><content-text></content-text></title><media ref="en0901000000/en0901030000/en0901030100/en0901030101/cm8650368766.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901030000/en0901030100/en0901030101/cm8650368766text.xml"/></content-media>
<content-text><p><b>Introducing the Routing Table</b></p> <p>The primary function of a router is to forward a packet toward its destination network, which is the destination IP address of the packet. To do this, a router needs to search the routing information stored in its routing table. </p> <p>A routing table is a data file in RAM that is used to store route information about directly connected and remote networks. The routing table contains network/next hop associations. These associations tell a router that a particular destination can be optimally reached by sending the packet to a specific router that represents the "next hop" on the way to the final destination. The next hop association can also be the outgoing or exit interface to the final destination. </p> <p>The network/exit-interface association can also represent the destination network address of the IP packet. This association occurs on the router's directly connected networks.</p> <p>A directly connected network is a network that is directly attached to one of the router interfaces. When a router interface is configured with an IP address and subnet mask, the interface becomes a host on that attached network. The network address and subnet mask of the interface, along with the interface type and number, are entered into the routing table as a directly connected network. When a router forwards a packet to a host, such as a web server, that host is on the same network as a router's directly connected network.</p> <p>A remote network is a network that is not directly connected to the router. In other words, a remote network is a network that can only be reached by sending the packet to another router. Remote networks are added to the routing table using either a dynamic routing protocol or by configuring static routes. Dynamic routes are routes to remote networks that were learned automatically by the router, using a dynamic routing protocol. Static routes are routes to networks that a network administrator manually configured.</p> <p><b>Note:</b> The routing table-with its directly-connected networks, static routes, and dynamic routes-will be introduced in the following sections and discussed in even greater detail throughout this course.</p> <p>The following analogies may help clarify the concept of connected, static, and dynamic routes:</p> <ul><li> <b>Directly Connected Routes</b> - To visit a <content-link target="cg5460413738" type="glossary">neighbor</content-link>, you only have to go down the street on which you already live. This path is similar to a directly-connected route because the "destination" is available directly through your "connected interface," the street.</li> <li> <b>Static Routes</b> - A train uses the same railroad tracks every time for a specified route. This path is similar to a static route because the path to the destination is always the same.</li> <li> <b>Dynamic Routes</b> - When driving a car, you can "dynamically" choose a different path based on traffic, weather, or other conditions. This path is similar to a dynamic route because you can choose a new path at many different points on your way to the destination.</li></ul> <p><b>The </b><span class="cmd"><b>show ip route</b></span><b> command</b></p> <p>As shown in the figure the routing table is displayed with the <span class="cmd"><b>show ip route</b></span> command. At this point, there have not been any static routes configured nor any dynamic routing protocol enabled. Therefore, the routing table for R1 only shows the router's directly connected networks. For each network listed in the routing table, the following information is included:</p> <ul><li> <span class="cmd"><b>C</b></span> - The information in this column denotes the source of the route information, directly connected network, static route or a dynamic routing protocol. The <b>C</b> represents a directly connected route.</li> <li> <span class="cmd"><b>192.168.1.0/24</b></span> - This is the network address and subnet mask of the directly connected or remote network. In this example, both entries in the routing table, 192.168.1./24 and 192.168.2.0/24, are directly connected networks.</li> <li> <span class="cmd"><b>FastEthernet 0/0</b></span> - The information at the end of the route entry represents the exit interface and/or the IP address of the <content-link target="cg1289899180" type="glossary">next-hop</content-link> router. In this example, both FastEthernet 0/0 and Serial0/0/0 are the exit interfaces used to reach these networks.</li></ul> <p>When the routing table includes a route entry for a remote network, additional information is included, such as the routing metric and the <content-link target="cg5039223251" type="glossary">administrative distance</content-link>. Routing <content-link target="cg5601796963" type="glossary">metrics</content-link>, administrative distance, and the <span class="cmd"><b>show ip route</b></span> command are explained in more detail in later chapters.</p> <p>PCs also have a routing table. In the figure, you can see the <span class="cmd"><b>route print</b></span> command output. The command reveals the configured or acquired default gateway, connected, <content-link target="cg6552304928" type="glossary">loopback</content-link>, multicast, and broadcast networks. The output from <span class="cmd"><b>route print </b></span>command will not be analyzed during this course. It is shown here to emphasize the point that all IP configured devices should have a routing table.</p></content-text>
</page>
</topic>
<topic type="" id="en0901030200">
<title><content-text>Directly-Connected Networks</content-text></title>
<page type="OneColumn" id="en0901030201">
<content-media type="StaticGraphic" id="cm5817273550"><title><content-text></content-text></title><media ref="en0901000000/en0901030000/en0901030200/en0901030201/cm5817273550.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901030000/en0901030200/en0901030201/cm5817273550text.xml"/></content-media>
<content-text><p><b>Adding a Connected Network to the Routing Table</b></p> <p>As stated in the previous section, when a router's interface is configured with an IP address and subnet mask, that interface becomes a host on that network. For example, when the FastEthernet 0/0 interface on R1in the figure is configured with the IP address 192.168.1.1 and the subnet mask 255.255.255.0, the FastEthernet 0/0 interface becomes a member of the 192.168.1.0/24 network. Hosts that are attached to the same LAN, like PC1, are also configured with an IP address that belongs to the 192.168.1.0/24 network.</p> <p>When a PC is configured with a host IP address and subnet mask, the PC uses the subnet mask to determine what network it now belongs to. This is done by the operating system ANDing the host IP address and subnet mask. A router uses the same logic when an interface is configured. </p> <p>A PC is normally configured with a single host IP address because it only has a single network interface, usually an Ethernet NIC. Routers have multiple interfaces; therefore, each interface must be a member of a different network. In the figure, R1 is a member of two different networks: 192.168.1.0/24 and 192.168.2.0/24. Router R2 is also a member of two networks: 192.168.2.0/24 and 192.168.3.0/24.</p> <p>After the router's interface is configured and the interface is activated with the <span class="cmd"><b>no shutdown </b></span>command, the interface must receive a carrier signal from another device (router, switch, hub, etc.) before the interface state is considered "up." Once the interface is "up," the network of that interface is added to the routing table as a directly connected network. </p> <p>Before any static or dynamic routing is configured on a router, the router only knows about its own directly connected networks. These are the only networks that are displayed in the routing table until static or dynamic routing is configured. Directly connected networks are of prime importance for routing decisions. Static and dynamic routes cannot exist in the routing table without a router's own directly connected networks. The router cannot send packets out an interface if that interface is not enabled with an IP address and subnet mask, just as a PC cannot send IP packets out its Ethernet interface if that interface is not configured with an IP address and subnet mask.</p> <p><b>Note:</b> The process of configuring router interfaces and adding network address to the routing table are discussed in the following chapter.</p></content-text>
</page>
<page type="OneColumn" id="en0901030202">
<content-media type="ActivityPKA" id="cm4154586307"><title><content-text></content-text></title><media ref="en0901000000/en0901030000/en0901030200/en0901030202/cm4154586307/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901030000/en0901030200/en0901030202/cm4154586307/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to learn how the IOS installs and removes directly connected routes.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0901030300">
<title><content-text>Static Routing</content-text></title>
<page type="OneColumn" id="en0901030301">
<content-media type="StaticGraphic" id="cm6425002053"><title><content-text></content-text></title><media ref="en0901000000/en0901030000/en0901030300/en0901030301/cm6425002053.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901030000/en0901030300/en0901030301/cm6425002053text.xml"/></content-media>
<content-text><p><b>Static Routing</b></p> <p>Remote networks are added to the routing table either by configuring static routes or enabling a dynamic routing protocol. When the IOS learns about a remote network and the interface that it will use to reach that network, it adds that route to the routing table as long as the exit interface is enabled. </p> <p>A static route includes the network address and subnet mask of the remote network, along with the IP address of the next-hop router or exit interface. Static routes are denoted with the code <b>S</b> in the routing table as shown in the figure. Static routes are examined in detail in the next chapter.</p> <p><b>When to Use Static Routes</b></p> <p>Static routes should be used in the following cases:</p> <ul><li> <b>A network consists of only a few routers. </b>Using a dynamic routing protocol in such a case does not present any substantial benefit. On the contrary, dynamic routing may add more administrative overhead.</li> <li> <b>A network is connected to the Internet only through a single ISP. </b>There is no need to use a dynamic routing protocol across this link because the ISP represents the only exit point to the Internet.</li> <li> <b>A large network is configured in a <content-link target="cg3878387383" type="glossary">hub-and-spoke</content-link> topology. </b>A hub-and-spoke topology consists of a central location (the hub) and multiple branch locations (spokes), with each spoke having only one connection to the hub. Using dynamic routing would be unnecessary because each branch has only one path to a given destination-through the central location.</li></ul> <p>Typically, most routing tables contain a combination of static routes and dynamic routes. But, as stated earlier, the routing table must first contain the directly connected networks used to access these remote networks before any static or dynamic routing can be used.</p></content-text>
</page>
<page type="OneColumn" id="en0901030302">
<content-media type="ActivityPKA" id="cm6134660474"><title><content-text></content-text></title><media ref="en0901000000/en0901030000/en0901030300/en0901030302/cm6134660474/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901030000/en0901030300/en0901030302/cm6134660474/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to learn how the IOS installs and removes static routes.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0901030400">
<title><content-text>Dynamic Routing</content-text></title>
<page type="OneColumn" id="en0901030401">
<content-media type="StaticGraphic" id="cm7295035773"><title><content-text></content-text></title><media ref="en0901000000/en0901030000/en0901030400/en0901030401/cm7295035773.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901030000/en0901030400/en0901030401/cm7295035773text.xml"/></content-media>
<content-text><p><b>Dynamic Routing</b></p> <p>Remote networks can also be added to the routing table by using a dynamic routing protocol. In the figure, R1 has automatically learned about the 192.168.4.0/24 network from R2 through the dynamic routing protocol, RIP (Routing Information Protocol). RIP was one of the first IP routing protocols and will be fully discussed in later chapters. </p> <p><b>Note:</b> R1's routing table in the figure shows that R1 has learned about two remote networks: one route that dynamically used RIP and a static route that was configured manually. This is an example of how routing tables can contain routes learned dynamically and configured statically and is not necessarily representative of the best configuration for this network.</p> <p>Dynamic routing protocols are used by routers to share information about the reachability and status of remote networks. Dynamic routing protocols perform several activities, including:</p> <ul><li> Network discovery</li> <li> Updating and maintaining routing tables</li></ul> <p><b>Automatic Network Discovery</b></p> <p>Network discovery is the ability of a routing protocol to share information about the networks that it knows about with other routers that are also using the same routing protocol. Instead of configuring static routes to remote networks on every router, a dynamic routing protocol allows the routers to automatically learn about these networks from other routers. These networks - and the best path to each network - are added to the router's routing table and denoted as a network learned by a specific dynamic routing protocol.</p> <p><b>Maintaining Routing Tables</b></p> <p>After the initial network discovery, <content-link target="cg2512579249" type="glossary">dynamic routing protocols</content-link> update and maintain the networks in their routing tables. Dynamic routing protocols not only make a best path determination to various networks, they will also determine a new best path if the initial path becomes unusable (or if the topology changes). For these reasons, dynamic routing protocols have an advantage over static routes. Routers that use dynamic routing protocols automatically share routing information with other routers and compensate for any topology changes without involving the network administrator.</p> <p><b>IP Routing Protocols</b></p> <p>There are several dynamic routing protocols for IP. Here are some of the more common dynamic routing protocols for routing IP packets:</p> <ul><li> RIP (Routing Information Protocol) </li> <li> <content-link target="cg4423637020" type="glossary">IGRP</content-link> (Interior Gateway Routing Protocol)</li> <li> EIGRP (Enhanced Interior Gateway Routing Protocol)</li> <li> OSPF (Open Shortest Path First)</li> <li> IS-IS (Intermediate System-to-Intermediate System)</li> <li> BGP (Border Gateway Protocol)</li></ul> <p><b>Note:</b> RIP (versions 1 and 2), EIGRP, and OSPF are discussed in this course. EIGRP and OSPF are also explained in more detail in CCNP, along with IS-IS and BGP. IGRP is a legacy routing protocol and has been replaced by EIGRP. Both IGRP and EIGRP are Cisco proprietary routing protocols, whereas all other routing protocols listed are standard, non-proprietary protocols. </p> <p>Once again, remember that in most cases, routers contain a combination of static routes and dynamic routes in the routing tables. Dynamic routing protocols will be discussed in more detail in Chapter 3, "Introduction to Dynamic Routing Protocols." </p></content-text>
</page>
<page type="OneColumn" id="en0901030402">
<content-media type="ActivityPKA" id="cm2414749699"><title><content-text></content-text></title><media ref="en0901000000/en0901030000/en0901030400/en0901030402/cm2414749699/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901030000/en0901030400/en0901030402/cm2414749699/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to learn how the IOS installs and removes dynamic routes.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0901030500">
<title><content-text>Routing Table Principles</content-text></title>
<page type="OneColumn" id="en0901030501">
<content-media type="AnimationPartialScreen" id="cm9786198804"><title><content-text></content-text></title><media ref="en0901000000/en0901030000/en0901030500/en0901030501/cm9786198804.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901030000/en0901030500/en0901030501/cm9786198804text.xml"/></content-media>
<content-text><p><b>Routing Table Principles</b></p> <p>At times in this course we will refer to three principles regarding routing tables that will help you understand, configure, and troubleshoot routing issues. These principles are from Alex Zinin's book, <i>Cisco IP Routing</i>.</p> <p>1. Every router makes its decision alone, based on the information it has in its own routing table. </p> <p>2. The fact that one router has certain information in its routing table does not mean that other routers have the same information. </p> <p>3. Routing information about a path from one network to another does not provide routing information about the reverse, or return, path.</p> <p>What is the effect of these principles? Let's look at the example in the figure.</p> <p>1. After making its routing decision, router R1 forwards the packet destined for PC2 to router R2. R1 only knows about the information in its own routing table, which indicates that router R2 is the next-hop router. R1 does not know whether or not R2 actually has a route to the destination network. </p> <p>2. It is the responsibility of the network administrator to make sure that all routers within their control have complete and accurate routing information so that packets can be forwarded between any two networks. This can be done using static routes, a dynamic routing protocol, or a combination of both.</p> <p>3. Router R2 was able to forward the packet toward PC2's destination network. However, the packet from PC2 to PC1 was dropped by R2. Although R2 has information in its routing table about the destination network of PC2, we do not know if it has the information for the return path back to PC1's network. </p> <p><b>Asymmetric Routing</b></p> <p>Because routers do not necessarily have the same information in their routing tables, packets can traverse the network in one direction, using one path, and return via another path. This is called <content-link target="cg6775430194" type="glossary">asymmetric routing</content-link>. Asymmetric routing is more common in the Internet, which uses the BGP routing protocol than it is in most internal networks.</p> <p>This example implies that when designing and troubleshooting a network, the network administrator should check the following routing information:</p> <ul><li> Is there a path from source to destination available in both directions?</li> <li> Is the path taken in both directions the same path? (Asymmetrical routing is not uncommon, but sometimes can pose additional issues.)</li></ul></content-text>
</page>
<page type="OneColumn" id="en0901030502">
<content-media type="ActivityPKA" id="cm1190932262"><title><content-text></content-text></title><media ref="en0901000000/en0901030000/en0901030500/en0901030502/cm1190932262/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901030000/en0901030500/en0901030502/cm1190932262/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to investigate a fully-converged network with connected, static, and dynamic routing.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="en0901040000">
<title><content-text>Path Determination and Switching Functions</content-text></title>
<topic type="" id="en0901040100">
<title><content-text>Packet Fields and Frame Fields</content-text></title>
<page type="OneColumn" id="en0901040101">
<content-media type="ActivityDnDCheckReset" id="cm1479960196"><title><content-text></content-text></title><media ref="en0901000000/en0901040000/en0901040100/en0901040101/cm1479960196.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901040000/en0901040100/en0901040101/cm1479960196text.xml"/></content-media>
<content-text><p><b>Packet Fields and Frame Fields</b></p> <p>As we discussed previously, routers make their primary forwarding decision by examining the destination IP address of a packet. Before sending a packet out the proper exit interface, the IP packet needs to be encapsulated into a Layer 2 data link frame. Later in this section we will follow an IP packet from source to destination, examining the encapsulation and decapsulation process at each router. But first, we will review the format of a Layer 3 IP packet and a Layer 2 Ethernet frame.</p> <p><b>Internet Protocol (IP) Packet Format</b></p> <p>The Internet Protocol specified in RFC 791 defines the IP packet format. The IP packet header has specific fields that contain information about the packet and about the sending and receiving hosts. Below is a list of the fields in the IP header and a brief description for each one. You should already be familiar with destination IP address, source IP address, version, and Time To Live (<content-link target="cg3832693226" type="glossary">TTL</content-link>) fields. The other fields are important but are outside the scope of this course.</p> <ul><li><b> Version</b> - Version number (4 bits); predominant version is IP version 4 (IPv4)</li> <li> <b>IP header length</b> - Header length in 32-bit words (4 bits)</li> <li> <b>Precedence and type of service</b> - How the datagram should be handled (8 bits); the first 3 bits are precedence bits (this use has been superseded by Differentiated Services Code Point [DSCP], which uses the first 6 bits [last 2 reserved])</li> <li> <b>Packet length</b> - Total length (header + data) (16 bits)</li> <li> <b>Identification</b> - Unique IP datagram value (16 bits)</li> <li> <b>Flags</b> - Controls fragmenting (3 bits)</li> <li> <b>Fragment offset</b> - Supports fragmentation of <content-link target="cg2992967514" type="glossary">datagrams</content-link> to allow differing maximum transmission units (MTUs) in the Internet (13 bits)</li> <li> <b>Time to Live (TTL)</b> - Identifies how many routers can be traversed by the datagram before being dropped (8 bits)</li> <li> <b>Protocol</b> - Upper-layer protocol sending the datagram (8 bits)</li> <li> <b>Header checksum</b> - Integrity check on the header (16 bits)</li> <li> <b>Source IP address</b> - 32-bit source IP address (32 bits)</li> <li> <b>Destination IP address</b> - 32-bit destination IP address (32 bits)</li> <li> <b>IP options</b> - Network testing, debugging, security, and others (0 or 32 bits, if any)</li></ul></content-text>
</page>
<page type="OneColumn" id="en0901040102">
<content-media type="StaticGraphic" id="cm3961277295"><title><content-text></content-text></title><media ref="en0901000000/en0901040000/en0901040100/en0901040102/cm3961277295.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901040000/en0901040100/en0901040102/cm3961277295text.xml"/></content-media>
<content-text><p><b>MAC Layer Frame Format</b></p> <p>The Layer 2 data link frame usually contains header information with a data link source and destination address, trailer information, and the actual transmitted data. The data link source address is the Layer 2 address of the interface that sent the data link frame. The data link destination address is the Layer 2 address of the interface of the destination device. Both the source and destination data link interfaces are on the same network. As a packet is forwarded from router to router, the Layer 3 source and destination IP addresses will not change; however, the Layer 2 source and destination data link addresses will change. This process will be examined more closely later in this section.</p> <p><b>Note:</b> When NAT (Network Address Translation) is used, the destination IP address does change, but this process is of no concern to IP and is a process performed within a company's network. Routing with NAT is discussed in a later course.</p> <p>The Layer 3 IP packet is encapsulated in the Layer 2 data link frame associated with that interface. In this example, we will show the Layer 2 Ethernet frame. The figure shows the two compatible versions of Ethernet. Below is a list of the fields in an Ethernet frame and a brief description of each one.</p> <ul><li> <b>Preamble</b> - Seven bytes of alternating 1s and 0s, used to synchronize signals</li> <li> <b>Start-of-frame (SOF) delimiter</b> - 1 byte signaling the beginning of the frame</li> <li> <b>Destination address</b> - 6 byte MAC address of the sending device on the local segment</li> <li> <b>Source address</b> - 6 byte MAC address of the receiving device on the local segment</li> <li> <b>Type/length</b> - 2 bytes specifying either the type of upper layer protocol (Ethernet II frame format) or the length of the data field (IEEE 802.3 frame format)</li> <li> <b>Data and pad</b> - 46 to 1500 bytes of data; zeros used to pad any data packet less than 46 bytes</li> <li> <b>Frame check sequence (FCS)</b> - 4 bytes used for a cyclical redundancy check to make sure the frame is not corrupted</li></ul></content-text>
</page>
</topic>
<topic type="" id="en0901040200">
<title><content-text>Best Path and Metric</content-text></title>
<page type="OneColumn" id="en0901040201">
<content-media type="AnimationPartialScreen" id="cm3151435222"><title><content-text></content-text></title><media ref="en0901000000/en0901040000/en0901040200/en0901040201/cm3151435222.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901040000/en0901040200/en0901040201/cm3151435222text.xml"/></content-media>
<content-text><p><b>Best Path</b></p> <p>Determining a router's best path involves the evaluation of multiple paths to the same destination network and selecting the optimum or "shortest" path to reach that network. Whenever multiple paths to reach the same network exist, each path uses a different exit interface on the router to reach that network. The best path is selected by a routing protocol based on the value or metric it uses to determine the distance to reach a network. Some routing protocols, such as RIP, use simple hop-count, which the number of routers between a router and the destination network. Other routing protocols, such as OSPF, determine the shortest path by examining the bandwidth of the links, and using the links with the fastest bandwidth from a router to the destination network.</p> <p>Dynamic routing protocols typically use their own rules and metrics to build and update routing tables. A metric is the quantitative value used to measure the distance to a given route. The best path to a network is the path with the lowest metric. For example, a router will prefer a path that is 5 hops away over a path that is 10 hops away.</p> <p>The primary objective of the routing protocol is to determine the best paths for each route to include in the routing table. The routing algorithm generates a value, or a metric, for each path through the network. Metrics can be based on either a single characteristic or several characteristics of a path. Some routing protocols can base route selection on multiple metrics, combining them into a single metric. The smaller the value of the metric, the better the path.</p> <p><b>Comparing Hop Count and Bandwidth Metrics</b></p> <p>Two metrics that are used by some dynamic routing protocols are:</p> <ul><li> <b>Hop count</b>-Hop count is the number of routers that a packet must travel through before reaching its destination. Each router is equal to one hop. A hop count of four indicates that a packet must pass through four routers to reach its destination. If multiple paths are available to a destination, the routing protocol, such as RIP, picks the path with the least number of hops.</li> <li> <b>Bandwidth</b>-Bandwidth is the data capacity of a link, sometimes referred to as the speed of the link. For example, Cisco's implementation of the OSPF routing protocol uses bandwidth as its metric. The best path to a network is determined by the path with an accumulation of links that have the highest bandwidth values, or the fastest links. The use of bandwidth in OSPF will be explained in Chapter 11. </li></ul> <p><b>Note: </b><i>Speed </i>is technically not an accurate description of bandwidth because all bits travel at the same speed over the same physical medium. Bandwidth is more accurately defined as the number of bits that can be transmitted over a link per second.</p> <p>When hop count is used as the metric, the resulting path may sometimes be suboptimal. For example, consider the network shown in the figure. If RIP is the routing protocol used by the three routers, then R1 will choose the suboptimal route through R3 to reach PC2 because this path has fewer hops. Bandwidth is not considered. However, if OSPF is used as the routing protocol, then R1 will choose the route based on bandwidth. Packets will be able to reach their destination sooner using the two, faster T1 links as compared to the single, slower 56 Kbps link.</p></content-text>
</page>
<page type="OneColumn" id="en0901040202">
<content-media type="ActivityPKA" id="cm9355418918"><title><content-text></content-text></title><media ref="en0901000000/en0901040000/en0901040200/en0901040202/cm9355418918/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901040000/en0901040200/en0901040202/cm9355418918/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to determine the best path using routing tables.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0901040300">
<title><content-text>Equal Cost Load Balancing</content-text></title>
<page type="OneColumn" id="en0901040301">
<content-media type="AnimationPartialScreen" id="cm3144198752"><title><content-text></content-text></title><media ref="en0901000000/en0901040000/en0901040300/en0901040301/cm3144198752.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901040000/en0901040300/en0901040301/cm3144198752text.xml"/></content-media>
<content-text><p><b>Equal Cost Load Balancing</b></p> <p>You may be wondering what happens if a routing table has two or more paths with the same metric to the same destination network. When a router has multiple paths to a destination network and the value of that metric (hop count, bandwidth, etc.) is the same, this is known as an <content-link target="cg1940253388" type="glossary">equal cost metric</content-link>, and the router will perform <content-link target="cg3369030743" type="glossary">equal cost load balancing</content-link>. The routing table will contain the single destination network but will have multiple exit interfaces, one for each equal cost path. The router will forward packets using the multiple exit interfaces listed in the routing table. </p> <p>If configured correctly, load balancing can increase the effectiveness and performance of the network. Equal cost load balancing can be configured to use both dynamic routing protocols and static routes. Equal cost load balancing is discussed in more detail in Chapter 8, "Routing Table: A Closer Look".</p> <p><b>Equal Cost Paths and Unequal Cost Paths</b></p> <p>Just in case you are wondering, a router can send packets over multiple networks even when the metric is not the same if it is using a routing protocol that has this capability. This is known as <content-link target="cg2256393806" type="glossary">unequal cost load balancing</content-link>. EIGRP (as well as IGRP) are the only routing protocols that can be configured for unequal cost load balancing. Unequal cost load balancing in EIGRP is not discussed in this course but is covered in CCNP. </p></content-text>
</page>
<page type="OneColumn" id="en0901040302">
<content-media type="ActivityPKA" id="cm8282093318"><title><content-text></content-text></title><media ref="en0901000000/en0901040000/en0901040300/en0901040302/cm8282093318/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901040000/en0901040300/en0901040302/cm8282093318/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to explore a routing table that is using equal <content-link target="cg2024046045" type="glossary">cost</content-link>&#160;<content-link target="cg9327612657" type="glossary">load balancing</content-link>.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0901040400">
<title><content-text>Path Determination</content-text></title>
<page type="OneColumn" id="en0901040401">
<content-media type="StaticGraphic" id="cm2642154089"><title><content-text></content-text></title><media ref="en0901000000/en0901040000/en0901040400/en0901040401/cm2642154089.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901040000/en0901040400/en0901040401/cm2642154089text.xml"/></content-media>
<content-text><p><b>Path Determination</b></p> <p>Packet forwarding involves two functions:</p> <ul><li> Path determination function</li> <li> Switching function</li></ul> <p>The path determination function is the process of how the router determines which path to use when forwarding a packet. To determine the best path, the router searches its routing table for a network address that matches the packet's destination IP address.</p> <p>One of three path determinations results from this search:</p> <p><b>Directly Connected Network</b> - If the destination IP address of the packet belongs to a device on a network that is directly connected to one of the router's interfaces, that packet is forwarded directly to that device. This means that the destination IP address of the packet is a host address on the same network as this router's interface.</p> <p><b>Remote Network</b> - If the destination IP address of the packet belongs to a remote network, then the packet is forwarded to another router. Remote networks can only be reached by forwarding packets to another router.</p> <p><b>No Route Determined</b> - If the destination IP address of the packet does not belong to either a connected or remote network, and if the router does not have a default route, then the packet is discarded. The router sends an <content-link target="cg6990448592" type="glossary">ICMP</content-link> unreachable message to the source IP address of the packet.</p> <p>In the first two results, the router re-encapsulates the IP packet into the Layer 2 data link frame format of the exit interface. The type of Layer 2 encapsulation is determined by the type of interface. For example, if the exit interface is FastEthernet, the packet is encapsulated in an Ethernet frame. If the exit interface is a serial interface configured for PPP, the IP packet is encapsulated in a PPP frame. </p> <p>The following section demonstrates this process.</p></content-text>
</page>
</topic>
<topic type="" id="en0901040500">
<title><content-text>Switching Function</content-text></title>
<page type="OneColumn" id="en0901040501">
<content-media type="AnimationStepped" id="cm2117342259"><title><content-text></content-text></title><media ref="en0901000000/en0901040000/en0901040500/en0901040501/cm2117342259.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901040000/en0901040500/en0901040501/cm2117342259text.xml"/></content-media>
<content-text><p><b>Switching Function</b></p> <p>After the router has determined the exit interface using the path determination function, the router needs to encapsulate the packet into the data link frame of the outgoing interface.</p> <p>The switching function is the process used by a router to accept a packet on one interface and forward it out another interface. A key responsibility of the switching function is to encapsulate packets in the appropriate data link frame type for the outgoing data link. </p> <p>What does a router do with a packet received from one network and destined for another network? The router performs the following three major steps:</p> <p>1. Decapsulates the Layer 3 packet by removing the Layer 2 frame header and trailer.</p> <p>2. Examines the destination IP address of the IP packet to find the best path in the routing table.</p> <p>3. Encapsulates Layer 3 packet into a new Layer 2 frame and forwards the frame out the exit interface.</p> <p><b>Click Play to view the animation. </b></p> <p>As the Layer 3 IP packet is forwarded from one router to the next, the IP packet remains unchanged, with the exception of the Time To Live (TTL) field. When a router receives an IP packet, it decrements the TTL by one. If the resulting TTL value is zero, the router discards the packet. The TTL is used to prevent IP packets from traveling endlessly over networks due to a routing loop or other misfunction in the network. Routing loops are discussed in a later a chapter.</p> <p>As the IP packet is decapsulated from one Layer 2 frame and encapsulated into a new Layer 2 frame, the data link destination address and source address will change as the packet is forwarded from one router to the next. The Layer 2 data link source address represents the Layer 2 address of the outbound interface. The Layer 2 destination address represents the Layer 2 address of the next-hop router. If the next hop is the final destination device, it will be the Layer 2 address of that device. </p> <p>It is very likely that the packet will be encapsulated in a different type of Layer 2 frame than the one in which it was received. For example, the packet might be received by the router on a FastEthernet interface, encapsulated in an Ethernet frame, and forwarded out a serial interface encapsulated in a PPP frame. </p> <p>Remember, as a packet travels from the source device to the final destination device, the Layer 3 IP addresses do not change. However, the Layer 2 data link addresses change at every hop as the packet is decapsulated and re-encapsulated in a new frame by each router.</p></content-text>
</page>
<page type="OneColumn" id="en0901040502">
<content-media type="AnimationStepped" id="cm2812462933"><title><content-text></content-text></title><media ref="en0901000000/en0901040000/en0901040500/en0901040502/cm2812462933.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901040000/en0901040500/en0901040502/cm2812462933text.xml"/></content-media>
<content-text><p><b>Path Determination and Switching Function Details</b></p> <p>Can you describe the exact details of what happens to a packet at Layer 2 and Layer 3 as it travels from source to destination? If not, study the animation and follow along with the discussion until you can describe the process on your own. </p> <p><b>Click Play to view the animation.</b></p> <p><b>Step 1: PC1 has a packet to be sent to PC2</b></p> <p>PC1 encapsulates the IP packet into an Ethernet frame with the destination MAC address of R1's FastEthernet 0/0 interface.</p> <p>How does PC1 know to forward to packet to R1 and not directly to PC2? PC1 has determined that the IP source and IP destination addresses are on different networks. </p> <p>PC1 knows the network it belongs to by doing an <b>AND </b>operation on its own IP address and subnet mask, which results in its network address. PC1 does this same <b>AND </b>operation using the packet destination IP address and the PC1 subnet mask. If the result is the same as its own network, PC1 knows that the destination IP address is on its own network and it does not need to forward the packet to the default gateway, the router. If the <b>AND </b>operation results in a different network address, PC1 knows that the destination IP address is not on its own network and that it must forward this packet to the default gateway, the router.</p> <p><b>Note:</b> If an <b>AND </b>operation with the destination IP address of the packet and the subnet mask of PC1 results in a different network address than what PC1 has determined to be its own network address, this address does not necessarily reflect the actual remote network address. PC1 only knows that if the destination IP address is on its own network, the masks will be the same and the network addresses would be the same. The mask of the remote network might be a different mask. If the destination IP address results in a different network address, PC1 will not know the actual remote network address - it only knows that it is not on its own network.</p> <p>How does PC1 determine the MAC address of the default gateway, router R1? PC1 checks its ARP table for the IP address of the default gateway and its associated MAC address.</p> <p>What if this entry does not exist in the ARP table? PC1 sends an ARP request and router R1 sends back an ARP reply.</p>  <p><b>Step 2: Router R1 receives the Ethernet frame</b></p> <p>1. Router R1 examines the destination MAC address, which matches the MAC address of the receiving interface, FastEthernet 0/0. R1 will therefore copy the frame into its buffer.</p> <p>2. R1 sees that the Ethernet Type field is 0x800, which means that the Ethernet frame contains an IP packet in the data portion of the frame. </p> <p>3. R1 decapsulates the Ethernet frame.</p> <p>4. Because the destination IP address of the packet does not match any of R1's directly connected networks, the router consults its routing table to route this packet. R1 searches the routing table for a network address and subnet mask that would include this packet's destination IP address as a host address on that network. In this example, the routing table has a route for the 192.168.4.0/24 network. The destination IP address of the packet is 192.168.4.10, which is a host IP address on that network.</p> <p>R1's route to the 192.168.4.0/24 network has a next-hop IP address of 192.168.2.2 and an exit interface of FastEthernet 0/1. This means that the IP packet will be encapsulated in a new Ethernet frame with the destination MAC address of the next-hop router's IP address. Because the exit interface is on an Ethernet network, R1 must resolve the next-hop IP address with a destination MAC address.</p> <p>5. R1 looks up the next-hop IP address of 192.168.2.2 in its ARP cache for its FastEthernet 0/1 interface. If the entry is not in the ARP cache, R1 sends an ARP request out its FastEthernet 0/1 interface. R2 sends back an ARP reply. R1 then updates its ARP cache with an entry for 192.168.2.2 and the associated MAC address.</p> <p>6. The IP packet is now encapsulated into a new Ethernet frame and forwarded out R1's FastEthernet 0/1 interface.</p></content-text>
</page>
<page type="OneColumn" id="en0901040503">
<content-media type="AnimationStepped" id="cm4309293601"><title><content-text></content-text></title><media ref="en0901000000/en0901040000/en0901040500/en0901040503/cm4309293601.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901040000/en0901040500/en0901040503/cm4309293601text.xml"/></content-media>
<content-text><p><b>Step 3: Packet arrives at router R2</b></p> <p><b>Click Play to view the animation.</b></p> <p>1. Router R2 examines the destination MAC address, which matches the MAC address of the receiving interface, FastEthernet 0/0. R1 will therefore copy the frame into its buffer.</p> <p>2. R2 sees that the Ethernet Type field is 0x800, which means that the Ethernet frame contains an IP packet in the data portion of the frame.</p> <p>3. R2 decapsulates the Ethernet frame.</p> <p>4. Because the destination IP address of the packet does not match any of R2's interface addresses, the router consults its routing table to route this packet. R2 searches the routing table for the packet's destination IP address using the same process R1 used.</p> <p>R2's routing table has a route to the 192.168.4.0/24 route, with a next-hop IP address of 192.168.3.2 and an exit interface of Serial 0/0/0. Because the exit interface is not an Ethernet network, R2 does not have to resolve the next-hop-IP address with a destination MAC address.</p> <p>When the interface is a point-to-point serial connection, R2 encapsulates the IP packet into the proper data link frame format used by the exit interface (HDLC, PPP, etc.). In this case, the Layer 2 encapsulation is PPP; therefore, the data link destination address is set to a broadcast. Remember, there are no MAC addresses on serial interfaces.</p> <p>5. The IP packet is now encapsulated into a new data link frame, PPP, and sent out the serial 0/0/0 exit interface.</p> <p> </p></content-text>
</page>
<page type="OneColumn" id="en0901040504">
<content-media type="StaticGraphic" id="cm9392158065"><title><content-text></content-text></title><media ref="en0901000000/en0901040000/en0901040500/en0901040504/cm9392158065.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901040000/en0901040500/en0901040504/cm9392158065text.xml"/></content-media>
<content-text><p><b>Step 4: The packet arrives at R3</b></p> <p>1. R3 receives and copies the data link PPP frame into its buffer.</p> <p>2. R3 decapsulates the data link PPP frame.</p> <p>3. R3 searches the routing table for the destination IP address of the packet. The search of the routing table results in a network that is one of R3's directly connected networks. This means that the packet can be sent directly to the destination device and does not need to be sent to another router.</p> <p>Because the exit interface is a directly connected Ethernet network, R3 needs to resolve the destination IP address of the packet with a destination MAC address.</p> <p>4. R3 searches for the packet's destination IP address of 192.168.4.10 in its ARP cache. If the entry is not in the ARP cache, R3 sends an ARP request out its FastEthernet 0/0 interface. PC2 sends back an ARP reply with its MAC address. R3 updates its ARP cache with an entry for 192.168.4.10 and the MAC address that was returned in the ARP reply.</p> <p>5. The IP packet is encapsulated into a new data link, Ethernet frame and sent out R3's FastEthernet 0/0 interface.</p> <p><b>Step 5: The Ethernet Frame with encapsulated IP packet arrives at PC2 </b></p> <p>1. PC2 examines the destination MAC address, which matches the MAC address of the receiving interface, its Ethernet NIC. PC2 will therefore copy the rest of the frame into its buffer.</p> <p>2. PC2 sees that the Ethernet Type field is 0x800, which means that the Ethernet frame contains an IP packet in the data portion of the frame. </p> <p>3. PC2 decapsulates the Ethernet frame and passes the IP packet to the IP process of its operating system.</p> <p><b>Summary</b></p> <p>We have just examined the encapsulation and decapsulation process of a packet as it is forwarded from router to router, from the originating source device the final destination device. We have also been introduced to the routing table lookup process, which will be discussed more thoroughly in a later chapter. We have seen that routers are not involved only in Layer 3 routing decisions, but that they also participate in Layer 2 processes, including encapsulation, and on Ethernet networks, ARP. Routers also participate in Layer 1, which is used to transmit and receive the data bits over the physical medium.</p> <p>Routing tables contain both directly connected networks and remote networks. It is because routers contain addresses for remote networks in their routing tables that routers know where to send packets destined other networks, including the Internet. In the following chapters will learn how the routers build and maintain these routing tables - either by the use of manually entered static routes or through the use of dynamic routing protocols.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en0901050000">
<title><content-text>Router Configuration Labs</content-text></title>
<topic type="" id="en0901050100">
<title><content-text>Cabling a Network and Basic Router Configuration</content-text></title>
<page type="OneColumn" id="en0901050101">
<content-media type="ActivityLab" id="cm1436403181"><title><content-text></content-text></title><media ref="en0901000000/en0901050000/en0901050100/en0901050101/cm1436403181/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901050000/en0901050100/en0901050101/cm1436403181/icontext.xml"/></content-media>
<content-text><p>Complete this lab if you need a solid review of device cabling, establishing a console connection, and command-line interface (CLI) basics. If you are comfortable with these skills, you can substitute <b>Lab 1.5.2 Basic Router Configuration</b> for this lab.</p><p><b>Click the lab icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0901050102">
<content-media type="ActivityPKA" id="cm6547049778"><title><content-text></content-text></title><media ref="en0901000000/en0901050000/en0901050100/en0901050102/cm6547049778/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901050000/en0901050100/en0901050102/cm6547049778/icontext.xml"/></content-media>
<content-text><p>Use Packet Tracer Activity 1.5.1 to repeat a simulation of Lab 1.5.1. Remember, however, that Packet Tracer is not a substitute for a hands-on lab experience with real equipment. </p> <p>A summary of the instructions is provided within the activity. Use the Lab PDF for more details.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0901050200">
<title><content-text>Basic Router Configuration</content-text></title>
<page type="OneColumn" id="en0901050201">
<content-media type="ActivityLab" id="cm2443309217"><title><content-text></content-text></title><media ref="en0901000000/en0901050000/en0901050200/en0901050201/cm2443309217/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901050000/en0901050200/en0901050201/cm2443309217/icontext.xml"/></content-media>
<content-text><p>Complete this lab if you have solid skills in device cabling, establishing a console connection, and command-line interface (CLI) basics. If you need a review of these skills, you can substitute <b>Lab 1.5.1 Cabling a Network and Basic Router Configuration</b> for this lab.</p><p><b>Click the lab icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0901050202">
<content-media type="ActivityPKA" id="cm5986063894"><title><content-text></content-text></title><media ref="en0901000000/en0901050000/en0901050200/en0901050202/cm5986063894/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901050000/en0901050200/en0901050202/cm5986063894/icontext.xml"/></content-media>
<content-text><p>Use Packet Tracer Activity 1.5.2 to repeat a simulation of Lab 1.5.2. Remember, however, that Packet Tracer is not a substitute for a hands-on lab experience with real equipment. </p> <p>A summary of the instructions is provided within the activity. Use the Lab PDF for more details.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0901050300">
<title><content-text>Challenge Router Configuration</content-text></title>
<page type="OneColumn" id="en0901050301">
<content-media type="ActivityLab" id="cm4857734514"><title><content-text></content-text></title><media ref="en0901000000/en0901050000/en0901050300/en0901050301/cm4857734514/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901050000/en0901050300/en0901050301/cm4857734514/icontext.xml"/></content-media>
<content-text><p>This lab challenges your subnetting and configuration skills. Given an address space and network requirements, you are expected to design and implement an addressing scheme in a two-router topology. </p><p><b>Click the lab icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0901050302">
<content-media type="ActivityPKA" id="cm8658074208"><title><content-text></content-text></title><media ref="en0901000000/en0901050000/en0901050300/en0901050302/cm8658074208/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901050000/en0901050300/en0901050302/cm8658074208/icontext.xml"/></content-media>
<content-text><p>Use Packet Tracer Activity 1.5.3 to repeat a simulation of Lab 1.5.3. Remember, however, that Packet Tracer is not a substitute for a hands-on lab experience with real equipment. </p> <p>A summary of the instructions is provided within the activity. Use the Lab PDF for more details.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="en0901060000">
<title><content-text>Summary</content-text></title>
<topic type="" id="en0901060100">
<title><content-text>Summary and Review</content-text></title>
<page type="OneColumn" id="en0901060101">
<content-media type="StaticGraphic" id="cm8924307551"><title><content-text></content-text></title><media ref="en0901000000/en0901060000/en0901060100/en0901060101/cm8924307551.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901060000/en0901060100/en0901060101/cm8924307551text.xml"/></content-media>
<content-text><p><b>Summary</b></p> <p>This chapter introduced the router. Routers are computers and include many of the same hardware and software components found in a typical PC, such as CPU, RAM, ROM, and an operating system.</p> <p>The main purpose of a router is to connect multiple networks and forward packets from one network to the next. This means that a router typically has multiple interfaces. Each interface is a member or host on a different IP network. </p> <p>The router has a routing table, which is a list of networks known by the router. The routing table includes network addresses for its own interfaces, which are the directly connected networks, as well as network addresses for remote networks. A remote network is a network that can only be reached by forwarding the packet to another router.</p> <p>Remote networks are added to the routing table in two ways: either by the network administrator manually configuring static routes or by implementing a dynamic routing protocol. Static routes do not have as much overhead as dynamic routing protocols; however, static routes can require more maintenance if the topology is constantly changing or is unstable. </p> <p>Dynamic routing protocols automatically adjust to changes without any intervention from the network administrator. Dynamic routing protocols require more CPU processing and also use a certain amount of link capacity for routing updates and messages. In many cases, a routing table will contain both static and dynamic routes. </p> <p>Routers make their primary forwarding decision at Layer 3, the Network layer. However, router interfaces participate in Layers 1, 2, and 3. Layer 3 IP packets are encapsulated into a Layer 2 data link frame and encoded into bits at Layer 1. Router interfaces participate in Layer 2 processes associated with their encapsulation. For example, an Ethernet interface on a router participates in the ARP process like other hosts on that LAN.</p> <p>In the next chapter, we will examine the configuration of static routes and introduce the IP routing table.</p></content-text>
</page>
<page type="FullScreen" id="en0901060102">
<content-media type="ChapterSummary" id="cm7640434875"><title><content-text></content-text></title><media ref="en0901000000/en0901060000/en0901060100/en0901060102/cm7640434875.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901060000/en0901060100/en0901060102/cm7640434875text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="en0901060103">
<content-media type="ActivityPKA" id="cm3101126397"><title><content-text></content-text></title><media ref="en0901000000/en0901060000/en0901060100/en0901060103/cm3101126397/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0901000000/en0901060000/en0901060100/en0901060103/cm3101126397/icontext.xml"/></content-media>
<content-text><p>The Packet Tracer Skills Integration Challenge Activity for this chapter integrates all the knowledge and skills you acquired in previous courses and the first chapter of this course. In this activity, you build a network from the ground up. Starting with an addressing space and network requirements, you must implement a network design that satisfies the specifications.</p> <p><content-link target="E2_PTAct_1_6_1_Directions.pdf" type="internalfile">Packet Tracer Skills Integration Instructions (PDF)</content-link></p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0901060104">
<content-media type="StaticGraphic" id="cm8350104947"><title><content-text></content-text></title><media ref="en0901000000/en0901060000/en0901060100/en0901060104/cm8350104947.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0901000000/en0901060000/en0901060100/en0901060104/cm8350104947text.xml"/></content-media>
<content-text><p><b>To Learn More</b></p> <p>Create a topology similar to that in 1.4.5.2, with several routers, and a LAN at each end. On one LAN add a client host, and on the other end add a web server. On each LAN include a switch between the computer and the router. Assume that each router has a route to each of the LANs, similar to that in 1.4.5.2.</p> <p>What happens when the host requests a web page from the web server? Look at all of the processes and protocols involved starting with the user entering a URL such as www.cisco.com. This includes protocols learned in Exploration 1 as well as information learned in this chapter.</p> <p>See if you can determine each of the processes that happen starting with the client needing to resolve www.cisco.com to an IP address which results in the client having to do an ARP Request for the DNS server. What are all of the protocols and processes involved starting with the DNS request to getting the first packet with http information from the web server.</p> <ul><li> How is DNS involved?</li> <li> How is ARP involved?</li> <li> What affect does TCP have between the client and the server? Is the first packet the web server receives from the client the request for the web page?</li> <li> What do the switches do when they receive an Ethernet frame? How do they update their MAC address tables and how do they determine how to forward the frame?</li> <li> What do the routers do when they receive an IP packet?</li> <li> What is the decapsulation and encapsulation process of each frame received and forwarded by the router?</li> <li> Is any ARP processes required by the web server and its default gateway (its router)?</li></ul></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="en0901070000">
<title><content-text>Chapter Quiz</content-text></title>
<topic type="" id="en0901070100">
<title><content-text>Chapter Quiz</content-text></title>
<page type="FullScreen" id="en0901070101">
<content-media type="ChapterQuiz" id="cm7638409877"><title><content-text></content-text></title><media ref="en0901000000/en0901070000/en0901070100/en0901070101/cm7638409877/" mime="" scale="true" type="directory" width="100%" height="100%" external="en0901000000/en0901070000/en0901070100/en0901070101/cm7638409877/icontext.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
</chapter>
