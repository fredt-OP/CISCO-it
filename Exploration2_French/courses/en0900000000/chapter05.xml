<chapter type="" id="en0905000000">
<title><content-text>RIP version 1</content-text></title>
<section type="ChapterIntroduction" id="en0905000000">
<title><content-text>Routing Information Protocol</content-text></title>
<topic type="" id="en0905000100">
<title><content-text>Chapter Introduction</content-text></title>
<page type="OneColumn" id="en0905000101">
<content-media type="StaticGraphic" id="cm3612863680"><title><content-text></content-text></title><media ref="en0905000000/en0905000000/en0905000100/en0905000101/cm3612863680.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905000000/en0905000100/en0905000101/cm3612863680text.xml"/></content-media>
<content-text><p>Over the years, routing protocols have evolved to meet the increasing demands of complex networks. The first protocol used was Routing Information Protocol (RIP). RIP still enjoys popularity because of its simplicity and widespread support. </p> <p>Understanding RIP is important to your networking studies for two reasons. First, RIP is still in use today. You may encounter a network implementation that is large enough to need a routing protocol, yet simple enough to use RIP effectively. Second, familiarity with many of the fundamental concepts of RIP will help you to compare RIP with other protocols. Understanding how RIP operates and its implementation will make learning other routing protocols easier. </p> <p>This chapter covers the details of the first version of RIP, including a bit of history, RIPv1 characteristics, operation, configuration, verification, and troubleshooting. Throughout the chapter, you can use Packet Tracer activities to practice what you learn. At the end of the chapter, three hands-on labs and a Packet Tracer Skills Integration Challenge activity are provided to help you integrate RIPv1 into your growing set of networking knowledge and skills.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en0905010000">
<title><content-text>RIPv1: Distance Vector, Classful Routing Protocol</content-text></title>
<topic type="" id="en0905010100">
<title><content-text>Background and Perspective</content-text></title>
<page type="OneColumn" id="en0905010101">
<content-media type="InteractiveGraphicRollovers" id="cm1295210760"><title><content-text></content-text></title><media ref="en0905000000/en0905010000/en0905010100/en0905010101/cm1295210760.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905010000/en0905010100/en0905010101/cm1295210760text.xml"/></content-media>
<content-text><p><b>RIP Historical Impact</b></p> <p>RIP is the oldest of the distance vector routing protocols. Although RIP lacks the sophistication of more advanced routing protocols, its simplicity and continued widespread use is a testament to its longevity. RIP is not a protocol "on the way out." In fact, an IPv6 form of RIP called RIPng (next generation) is now available. </p> <p><b>Click the dates in the figure to compare RIP and network protocol development over time.</b> </p> <p>RIP evolved from an earlier protocol developed at Xerox, called Gateway Information Protocol (GWINFO). With the development of Xerox Network System (<content-link target="cg4132971760" type="glossary">XNS</content-link>), GWINFO evolved into RIP. It later gained popularity because it was implemented in the Berkeley Software Distribution (BSD) as a daemon named <i>routed</i> (pronounced "route-dee", not "rout-ed"). Various other vendors made their own, slightly different implementations of RIP. Recognizing the need for standardization of the protocol, Charles Hedrick wrote RFC 1058 in 1988, in which he documented the existing protocol and specified some improvements. Since then, RIP has been improved with RIPv2 in 1994 and with RIPng in 1997. </p> <p><b>Note: </b>The first version of RIP is often called RIPv1 to distinguish it from RIPv2. However, both versions share many of the same features. When discussing features common to both versions, we will refer to RIP. When discussing features unique to each version, we will use RIPv1 and RIPv2. RIPv2 is discussed in a later chapter. </p> <p><b>Links</b></p> <p>"RFC 1058: Routing Information Protocol," <content-link target="http://www.ietf.org/rfc/rfc1058.txt" type="external">http://www.ietf.org/rfc/rfc1058.txt</content-link></p></content-text>
</page>
</topic>
<topic type="" id="en0905010200">
<title><content-text>RIPv1 Characteristics and Message Format</content-text></title>
<page type="OneColumn" id="en0905010201">
<content-media type="InteractiveGraphicRollovers" id="cm5640853016"><title><content-text></content-text></title><media ref="en0905000000/en0905010000/en0905010200/en0905010201/cm5640853016.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905010000/en0905010200/en0905010201/cm5640853016text.xml"/></content-media>
<content-text><p><b>RIP Characteristics</b></p> <p>As discussed in Chapter 4, "Distance Vector Routing Protocols," RIP has the following key characteristics:</p> <ul><li> RIP is a distance vector routing protocol.</li> <li> RIP uses hop count as its only metric for path selection.</li> <li> Advertised routes with hop counts greater than 15 are unreachable.</li> <li> Messages are broadcast every 30 seconds.</li></ul> <p><b>Roll over the fields in the Encapsulated RIPv1 Message to see the encapsulation process. </b></p> <p>The data portion of a RIP message is encapsulated into a UDP segment, with both source and destination port numbers set to 520. The IP header and data link headers add broadcast destination addresses before the message is sent out to all RIP configured interfaces.</p></content-text>
</page>
<page type="OneColumn" id="en0905010202">
<content-media type="AnimationPartialScreen" id="cm6866685889"><title><content-text></content-text></title><media ref="en0905000000/en0905010000/en0905010200/en0905010202/cm6866685889.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905010000/en0905010200/en0905010202/cm6866685889text.xml"/></content-media>
<content-text><p><b>RIP Message Format: RIP Header</b></p> <p>Three fields are specified in the four byte header portion shown in orange in the figure. The <b>Command</b> field specifies the message type, discussed in more detail in the next section. The <b>Version</b> field is set to 1 for RIP version 1. The third field is labeled <b>Must be zero</b>. "Must be zero" fields provide room for future expansion of the protocol.</p> <p><b>RIP Message Format: Route Entry</b></p> <p>The route entry portion of the message includes three fields with content: <b>Address family identifier</b> (set to 2 for IP unless a router is requesting a full routing table, in which case the field is set to zero), <b>IP address</b>, and <b>Metric</b>. This route entry portion represents one destination route with its associated metric. One RIP update can contain up to 25 route entries. The maximum datagram size is 504 bytes, not including the IP or UDP headers.</p> <p><b>Why are there so many fields set to zero? </b></p> <p>RIP was developed before IP and was used for other network protocols (like XNS). BSD also had its influence. Initially, the extra space was added with the intention of supporting larger address spaces in the future. As we will see in Chapter 7, RIPv2 has now used most of these empty fields.</p></content-text>
</page>
</topic>
<topic type="" id="en0905010300">
<title><content-text>RIP Operation</content-text></title>
<page type="OneColumn" id="en0905010301">
<content-media type="AnimationPartialScreen" id="cm4580702771"><title><content-text></content-text></title><media ref="en0905000000/en0905010000/en0905010300/en0905010301/cm4580702771.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905010000/en0905010300/en0905010301/cm4580702771text.xml"/></content-media>
<content-text><p><b>RIP Request/Response Process</b></p> <p>RIP uses two message types specified in the Command field: <b>Request message</b> and <b>Response message</b>. </p> <p><b>Click Play to view the request/response process.</b></p> <p>Each RIP-configured interface sends out a request message on startup, requesting that all RIP neighbors send their complete routing tables. A response message is sent back by RIP-enabled neighbors. When the requesting router receives the responses, it evaluates each route entry. If a route entry is new, the receiving router installs the route in the routing table. If the route is already in the table, the existing entry is replaced if the new entry has a better hop count. The startup router then sends a triggered update out all RIP-enabled interfaces containing its own routing table so that RIP neighbors can be informed of any new routes.</p></content-text>
</page>
<page type="OneColumn" id="en0905010302">
<content-media type="StaticGraphic" id="cm7388163538"><title><content-text></content-text></title><media ref="en0905000000/en0905010000/en0905010300/en0905010302/cm7388163538.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905010000/en0905010300/en0905010302/cm7388163538text.xml"/></content-media>
<content-text><p><b>IP Address Classes and Classful Routing</b></p> <p>You may recall from previous studies that IP addresses assigned to hosts were initially divided into 3 classes: class A, class B, and class C. Each class was assigned a default subnet mask, as shown in the figure. Knowing the default subnet mask for each class is important to understanding how RIP operates.</p> <p>RIP is a classful routing protocol. As you may have realized from the previous message format discussion, RIPv1 does not send subnet mask information in the update. Therefore, a router either uses the subnet mask configured on a local interface, or applies the default subnet mask based on the address class. Due to this limitation, RIPv1 networks cannot be discontiguous nor can they implement VLSM.</p> <p>IP Addressing is discussed further in Chapter 6, "VLSM and CIDR." You can also visit the links below for a review of the classes. </p> <p><b>Links</b></p> <p>"Internet Protocol," <content-link target="http://www.ietf.org/rfc/rfc791.txt" type="external">http://www.ietf.org/rfc/rfc791.txt</content-link></p> <p>"IP Addressing and Subnetting for New Users," <content-link target="http://www.cisco.com/en/US/tech/tk365/technologies_tech_note09186a00800a67f5.shtml" type="external">http://www.cisco.com/en/US/tech/tk365/technologies_tech_note09186a00800a67f5.shtml</content-link></p></content-text>
</page>
</topic>
<topic type="" id="en0905010400">
<title><content-text>Administrative Distance</content-text></title>
<page type="OneColumn" id="en0905010401">
<content-media type="InteractiveGraphicHotspots" id="cm7441208198"><title><content-text></content-text></title><media ref="en0905000000/en0905010000/en0905010400/en0905010401/cm7441208198.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905010000/en0905010400/en0905010401/cm7441208198text.xml"/></content-media>
<content-text><p>As you know from Chapter 3, "Introduction to Dynamic Routing Protocols," administrative distance (AD) is the trustworthiness (or preference) of the route source. RIP has a default administrative distance of 120. When compared to other interior gateway protocols, RIP is the least-preferred routing protocol. IS-IS, OSPF, IGRP, and EIGRP all have lower default AD values.</p> <p>Remember, you can check the administrative distance using the <span class="cmd"><b>show ip route</b></span> or <span class="cmd"><b>show ip protocols</b></span> commands.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en0905020000">
<title><content-text>Basic RIPv1 Configuration</content-text></title>
<topic type="" id="en0905020100">
<title><content-text>Basic RIPv1 Configuration</content-text></title>
<page type="OneColumn" id="en0905020101">
<content-media type="StaticGraphic" id="cm5316516891"><title><content-text></content-text></title><media ref="en0905000000/en0905020000/en0905020100/en0905020101/cm5316516891.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905020000/en0905020100/en0905020101/cm5316516891text.xml"/></content-media>
<content-text><p>The figure shows the three router topology we used in Chapter 2, "Static Routing". Physically, the topology is the same except that we will not need PCs attached to the LANs. Logically, however, the addressing scheme is different. We are using five class C network addresses.</p> <p><b>Click Address Table in the figure to see the interface addressing for each router.</b></p></content-text>
</page>
<page type="OneColumn" id="en0905020102">
<content-media type="ActivityPKA" id="cm6792493573"><title><content-text></content-text></title><media ref="en0905000000/en0905020000/en0905020100/en0905020102/cm6792493573/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0905000000/en0905020000/en0905020100/en0905020102/cm6792493573/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to configure and activate all the interfaces for the RIP Topology: Scenario A. Detailed instructions are provided within the activity. </p><p><b>Click the packet tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0905020200">
<title><content-text>Enabling RIP: router rip command</content-text></title>
<page type="OneColumn" id="en0905020201">
<content-media type="StaticGraphic" id="cm2500619377"><title><content-text></content-text></title><media ref="en0905000000/en0905020000/en0905020200/en0905020201/cm2500619377.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905020000/en0905020200/en0905020201/cm2500619377text.xml"/></content-media>
<content-text><p>To enable a dynamic routing protocol, enter the global configuration mode and use the <b><span class="cmd">router</span></b> command. As shown in the figure, if you type a space followed by a question mark, a list of all the available routing protocols supported by the IOS displays.</p> <p>To enter the router configuration mode for RIP, enter <b><span class="cmd">router rip</span></b> at the global configuration prompt. Notice that the prompt changes from a global configuration prompt to the following:</p> <span class="cmd"><p>R1(config-router)#</p></span> <p>This command does not directly start the RIP process. Instead, it provides access to configure routing protocol settings. No routing updates are sent. </p> <p>If you need to completely remove the RIP routing process from a device, negate the command with <b><span class="cmd">no router rip</span></b>. This command stops the RIP process and erases all existing RIP configurations.</p></content-text>
</page>
</topic>
<topic type="" id="en0905020300">
<title><content-text>Specifying Networks</content-text></title>
<page type="OneColumn" id="en0905020301">
<content-media type="StaticGraphic" id="cm6519625480"><title><content-text></content-text></title><media ref="en0905000000/en0905020000/en0905020300/en0905020301/cm6519625480.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905020000/en0905020300/en0905020301/cm6519625480text.xml"/></content-media>
<content-text><p>By entering the RIP router configuration mode, the router is instructed to run RIP. But the router still needs to know which local interfaces it should use for communication with other routers, as well as which locally connected networks it should advertise to those routers. To enable RIP routing for a network, use the <span class="cmd"><b>network</b></span> command in the router configuration mode and enter the classful network address for each directly connected network.</p> <span class="cmd"><p>Router(config-router)#<b>network </b><i>directly-connected-classful-network-address </i></p></span> <p>The <span class="cmd"><b>network</b></span> command:</p> <ul><li> Enables RIP on all interfaces that belong to a specific network. Associated interfaces will now both send and receive RIP updates.</li> <li> Advertises the specified network in RIP routing updates sent to other routers every 30 seconds.</li></ul> <p><b>Note:</b> If you enter a subnet address, the IOS automatically converts it to a classful network address. For example, if you enter the command <span class="cmd"><b>network 192.168.1.32</b></span>, the router will convert it to <span class="cmd"><b>network 192.168.1.0</b></span>.</p></content-text>
</page>
<page type="OneColumn" id="en0905020302">
<content-media type="InteractiveGraphicHotspots" id="cm4282458484"><title><content-text></content-text></title><media ref="en0905000000/en0905020000/en0905020300/en0905020302/cm4282458484.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905020000/en0905020300/en0905020302/cm4282458484text.xml"/></content-media>
<content-text><p>In the figure, the <span class="cmd"><b>network</b></span> command is configured on all three routers for the directly connected networks. Notice that only classful networks were entered. </p> <p>What happens if you enter a subnet address or interface IP address instead of the classful network address when using the <span class="cmd"><b>network</b></span> command for RIP configurations?</p> <span class="cmd"><p>R3(config)#<b>router rip</b></p></span> <span class="cmd"><p>R3(config-router)#<b>network 192.168.4.0</b></p></span> <span class="cmd"><p>R3(config-router)#<b>network 192.168.5.1</b></p></span> <p>In this example, we entered an interface IP address instead of the classful network address. Notice that the IOS does not give an error message. Instead, the IOS corrects the input and enters the classful network address. This is proven with the verification below.</p> <span class="cmd"><p>R3#<b>show running-config</b></p></span> <span class="cmd"><p>!</p></span> <span class="cmd"><p>router rip</p></span> <span class="cmd"><p>network 192.168.4.0</p></span> <span class="cmd"><p>network 192.168.5.0</p></span> <span class="cmd"><p>!</p></span></content-text>
</page>
<page type="OneColumn" id="en0905020303">
<content-media type="ActivityPKA" id="cm3505145117"><title><content-text></content-text></title><media ref="en0905000000/en0905020000/en0905020300/en0905020303/cm3505145117/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0905000000/en0905020000/en0905020300/en0905020303/cm3505145117/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to practice configuring RIP routing on all three routers in the topology. Detailed instructions are provided within the activity. </p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="en0905030000">
<title><content-text>Verification and Troubleshooting</content-text></title>
<topic type="" id="en0905030100">
<title><content-text>Verifying RIP: show ip route</content-text></title>
<page type="OneColumn" id="en0905030101">
<content-media type="InteractiveGraphicHotspots" id="cm6594413959"><title><content-text></content-text></title><media ref="en0905000000/en0905030000/en0905030100/en0905030101/cm6594413959.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905030000/en0905030100/en0905030101/cm6594413959text.xml"/></content-media>
<content-text><p><b>Powerful Troubleshooting Commands</b></p> <p>To verify and troubleshoot routing, first use <span class="cmd"><b>show ip route</b></span> and <span class="cmd"><b>show ip protocols</b></span>. If you cannot isolate the problem using these two commands, then use <span class="cmd"><b>debug ip rip</b></span> to see exactly what is happening. These three commands are discussed in a suggested order that you might use to verify and troubleshoot a routing protocol configuration. Remember, before you configure any routing - whether static or dynamic - make sure all necessary interfaces are "up" and "up" with the <span class="cmd"><b>show ip interface brief</b></span> command.</p> <p><b>Click R1, R2, and R3 to see the routing tables.</b></p> <p>The <span class="cmd"><b>show ip route</b></span> command verifies that routes received by RIP neighbors are installed in a routing table. An <span class="cmd"><b>R</b></span> in the output indicates RIP routes. Because this command displays the entire routing table, including directly connected and static routes, it is normally the first command used to check for convergence. Routes may not immediately appear when you execute the command because networks take some time to converge. However, once routing is correctly configured on all routers, the <span class="cmd"><b>show ip route</b></span> command will reflect that each router has a full routing table, with a route to each network in the topology.</p> <p><b>Click the Topology button.</b></p> <p>As you can see in the figure, there are five networks in the topology. Each router lists five networks in the routing table; therefore, we can say that all three routers are converged because each router has a route to every network shown in the topology.</p></content-text>
</page>
<page type="OneColumn" id="en0905030102">
<content-media type="StaticGraphic" id="cm8214359985"><title><content-text></content-text></title><media ref="en0905000000/en0905030000/en0905030100/en0905030102/cm8214359985.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905030000/en0905030100/en0905030102/cm8214359985text.xml"/></content-media>
<content-text><p><b>Interpreting <span class="cmd">show ip route</span> Output</b></p> <p>Using the information in the figure, let's focus on one RIP route learned by R1 and interpret the output shown in the routing table.</p> <span class="cmd"><p><b>R 192.168.5.0/24 [120/2] via 192.168.2.2, 00:00:23, Serial0/0/0</b></p></span> <p>The listing of routes with an <span class="cmd"><b>R</b></span> code is a quick way to verify that RIP is actually running on this router. If RIP is not at least partially configured, you will not see any RIP routes. </p> <p>Next, the remote network address and subnet mask are listed (<span class="cmd"><b>192.168.5.0/24</b></span>). </p> <p>The AD value (<span class="cmd"><b>120</b></span> for RIP) and the distance to the network (<span class="cmd"><b>2</b></span> hops) is shown in brackets. </p> <p>The next-hop IP address of the advertising router is listed (R2 at <span class="cmd"><b>192.168.2.2</b></span>) and how many seconds have passed since the last update (<span class="cmd"><b>00:00:23</b></span>, in this case). </p> <p>Finally, the exit interface that this router will use for traffic destined for the remote network is listed (<span class="cmd"><b>Serial 0/0/0</b></span>).</p></content-text>
</page>
</topic>
<topic type="" id="en0905030200">
<title><content-text>Verifying RIP: show ip protocols</content-text></title>
<page type="OneColumn" id="en0905030201">
<content-media type="InteractiveGraphicHotspots" id="cm3888481266"><title><content-text></content-text></title><media ref="en0905000000/en0905030000/en0905030200/en0905030201/cm3888481266.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905030000/en0905030200/en0905030201/cm3888481266text.xml"/></content-media>
<content-text><p><b>Interpreting <span class="cmd">show ip protocols</span> Output</b></p> <p>If a network is missing from the routing table, check the routing configuration using <span class="cmd"><b>show ip protocols</b></span>. The <span class="cmd"><b>show ip protocols</b></span> command displays the routing protocol that is currently configured on the router. This output can be used to verify most RIP parameters to confirm that:</p> <ul><li> RIP routing is configured</li> <li> The correct interfaces send and receive RIP updates</li> <li> The router advertises the correct networks</li> <li> RIP neighbors are sending updates</li></ul> <p>This command is also very useful when verifying the operations of other routing protocols, as we will see later with EIGRP and OSPF.</p> <p><b>Click button 1 in the figure.</b></p> <p>The first line of output verifies that RIP routing is configured and running on router R2. As we saw in the previous section, "Basic RIPv1Configuration," at least one active interface with an associated <span class="cmd"><b>network</b></span> command is needed before RIP routing will start.</p> <p><b>Click button 2 in the figure.</b></p> <p>These are the timers that show when the next round of updates will be sent out from this router - 23 seconds from now, in the example.</p> <p><b>Click button 3 in the figure.</b></p> <p>This information relates to filtering updates and redistributing routes, if configured on this router. Filtering and redistribution are both CCNP-level topics.</p> <p><b>Click button 4 in the figure.</b></p> <p>This block of output contains information about which RIP version is currently configured and which interfaces are participating in RIP updates.</p> <p><b>Click button 5 in the figure.</b></p> <p>This part of the output shows that router R2 is currently summarizing at the classful network boundary and by default will use up to four equal-cost routes to load balance traffic. </p> <p><b>Click button 6 in the figure.</b></p> <p>The classful networks configured with the <span class="cmd"><b>network</b></span> command are listed next. These are the networks that R2 will include in its RIP updates.</p> <p><b>Click button 7 in the figure.</b></p> <p>Scroll down to see the remaining output. Here, the RIP neighbors are listed as <b>Routing Information Sources</b>. <b>Gateway</b> is the next-hop IP address of the neighbor that is sending R2 updates. <b>Distance</b> is the AD that R2 uses for updates sent by this neighbor. <b>Last Update</b> is the seconds since the last update was received from this neighbor.</p></content-text>
</page>
</topic>
<topic type="" id="en0905030300">
<title><content-text>Verifying RIP: debug ip rip</content-text></title>
<page type="OneColumn" id="en0905030301">
<content-media type="InteractiveGraphicHotspots" id="cm3765083639"><title><content-text></content-text></title><media ref="en0905000000/en0905030000/en0905030300/en0905030301/cm3765083639.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905030000/en0905030300/en0905030301/cm3765083639text.xml"/></content-media>
<content-text><p><b>Interpreting <span class="cmd">debug ip rip</span> Output</b></p> <p>Most RIP configuration errors involve an incorrect <span class="cmd"><b>network</b></span> statement configuration, a missing <span class="cmd"><b>network</b></span> statement configuration, or the configuration of discontiguous subnets in a classful environment. As shown in the figure, an effective command used to find issues with RIP updates is the <span class="cmd"><b>debug ip rip</b></span>. This command displays RIP routing updates as they are sent and received. Because updates are periodic, you need to wait for the next round of updates before seeing any output. </p> <p><b>Click button 1 in the figure.</b></p> <p>First we see an update coming in from R1 on interface Serial 0/0/0. Notice that R1 only sends one route to the 192.168.1.0 network. No other routes are sent because doing so would violate the split horizon rule. R1 is not allowed to advertise networks back to R2 that R2 previously sent to R1. </p> <p><b>Click button 2 in the figure.</b></p> <p>The next update that is received is from R3. Again, because of the split horizon rule, R3 only sends one route - the 192.168.5.0 network.</p> <p><b>Click button 3 in the figure.</b></p> <p>R2 sends out its own updates. First, R2 builds an update to send out the FastEthernet0/0 interface. The update includes the entire routing table except for network 192.168.3.0, which is attached to FastEthernet0/0. </p> <p><b>Click button 4 in the figure.</b></p> <p>Next, R2 builds an update to send to R3. Three routes are included. R2 does not advertise the network R2 and R3 share nor does it advertise the 192.168.5.0 network because of split horizon. </p> <p><b>Click button 5 in the figure.</b></p> <p>Finally, R2 builds an update to send to R1. Three routes are included. R2 does not advertise the network that R2 and R1 share, nor does it advertise the 192.168.1.0 network because of split horizon.</p> <p><b>Note:</b> If you waited another 30 seconds, you would see all the debug output shown in the figure repeat because RIP sends out periodic updates every 30 seconds.</p> <p><b>Click button 6 in the figure.</b></p> <p>To stop monitoring RIP updates on R2, enter the <span class="cmd"><b>no debug ip rip</b></span> command or simply <span class="cmd"><b>undebug all</b></span>, as shown in figure.</p> <p>Reviewing this debug output, we can verify that RIP routing is fully operational on R2. But do you see a way that we could optimize RIP routing on R2? Does R2 need to send updates out FastEthernet0/0? We will see in the next topic how we can prevent unnecessary updates.</p></content-text>
</page>
</topic>
<topic type="" id="en0905030400">
<title><content-text>Passive Interfaces</content-text></title>
<page type="OneColumn" id="en0905030401">
<content-media type="StaticGraphic" id="cm3970644539"><title><content-text></content-text></title><media ref="en0905000000/en0905030000/en0905030400/en0905030401/cm3970644539.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905030000/en0905030400/en0905030401/cm3970644539text.xml"/></content-media>
<content-text><p><b>Unnecessary RIP Updates Impact Network</b></p> <p>As you saw in the previous example, R2 is sending updates out FastEthernet0/0 even though no RIP device exists on that LAN. R2 has no way of knowing this and, as a result, sends an update every 30 seconds. Sending out unneeded updates on a LAN impacts the network in three ways:</p> <p>1. Bandwidth is wasted transporting unnecessary updates. Because RIP updates are broadcast, switches will forward the updates out all ports. </p> <p>2. All devices on the LAN must process the update up to the Transport layers, where the receiving device will discard the update.</p> <p>3. Advertising updates on a broadcast network is a security risk. RIP updates can be intercepted with packet sniffing software. Routing updates can be modified and sent back to the router, corrupting the routing table with false metrics that misdirect traffic.</p> <p><b>Stopping Unnecessary RIP Updates</b></p> <p>You might think you could stop the updates by removing the 192.168.3.0 network from the configuration using the <span class="cmd"><b>no network 192.168.3.0</b></span> command, but then R2 would not advertise this LAN as a route in updates sent to R1 and R3. The correct solution is to use the <span class="cmd"><b>passive-interface</b></span> command, which prevents the transmission of routing updates through a router interface but still allows that network to be advertised to other routers. Enter the <span class="cmd"><b>passive-interface</b></span> command in router configuration mode.</p> <span class="cmd"><p>Router(config-router)#<b>passive-interface </b><i>interface-type interface-number</i></p></span> <p>This command stops routing updates out the specified interface. However, the network that the specified interface belongs to will still be advertised in routing updates that are sent out other interfaces. </p> <p>In the figure, R2 is first configured with the <span class="cmd"><b>passive-interface</b></span> command to prevent routing updates on FastEthernet0/0 because no RIP neighbors exist on the LAN. The <span class="cmd"><b>show ip protocols</b></span> command is then used to verify the passive interface. Notice that the interface is no longer listed under <b>Interface</b>, but under a new section called <b>Passive Interface(s)</b>. Also notice that the network 192.168.3.0 is still listed under <b>Routing for Networks</b>, which means that this network is still included as a route entry in RIP updates that are sent to R1 and R3.</p> <p>All routing protocols support the <span class="cmd"><b>passive-interface</b></span> command. You will be expected to use the <span class="cmd"><b>passive-interface</b></span> command when appropriate as part of your normal routing configuration.</p></content-text>
</page>
<page type="OneColumn" id="en0905030402">
<content-media type="ActivityPKA" id="cm7328523808"><title><content-text></content-text></title><media ref="en0905000000/en0905030000/en0905030400/en0905030402/cm7328523808/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0905000000/en0905030000/en0905030400/en0905030402/cm7328523808/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to verify RIP routing and stop RIP updates using the <span class="cmd"><b>passive-interface</b></span> command. Detailed instructions are provided within the activity. </p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="en0905040000">
<title><content-text>Automatic Summarization</content-text></title>
<topic type="" id="en0905040100">
<title><content-text>Modified Topology: Scenario B</content-text></title>
<page type="OneColumn" id="en0905040101">
<content-media type="InteractiveGraphicHotspots" id="cm7506510685"><title><content-text></content-text></title><media ref="en0905000000/en0905040000/en0905040100/en0905040101/cm7506510685.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905040000/en0905040100/en0905040101/cm7506510685text.xml"/></content-media>
<content-text><p>To aid the discussion of <content-link target="cg3567348536" type="glossary">automatic summarization</content-link>, the RIP topology shown in the figure has been modified with the following changes:</p> <p>Three classful networks are used:</p> <ul><li> 172.30.0.0/16</li> <li> 192.168.4.0/24</li> <li> 192.168.5.0/24</li></ul> <p>The 172.30.0.0/16 network is subnetted into three subnets:</p> <ul><li> 172.30.1.0/24</li> <li> 172.30.2.0/24</li> <li> 172.30.3.0/24</li></ul> <p>The following devices are part of the 172.30.0.0/16 classful network address:</p> <ul><li> All interfaces on R1</li> <li> S0/0/0 and Fa0/0 on R2</li></ul> <p>The 192.168.4.0/24 network is subnetted as a single subnet 192.168.4.8/30</p></content-text>
</page>
<page type="OneColumn" id="en0905040102">
<content-media type="StaticGraphic" id="cm6323924586"><title><content-text></content-text></title><media ref="en0905000000/en0905040000/en0905040100/en0905040102/cm6323924586.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905040000/en0905040100/en0905040102/cm6323924586text.xml"/></content-media>
<content-text><p><b>Click R1, R2, and R3 to view the configuration details for each router.</b></p> <p>Notice that the <span class="cmd"><b>no shutdown</b></span> and <span class="cmd"><b>clock rate</b></span> commands are not needed because these commands are still configured from Scenario A. However, because new networks were added, the RIP routing process was completely removed with the <span class="cmd"><b>no router rip</b></span> command before enabling it again.</p> <p><b>Click R1 in the figure.</b></p> <p>In the output for R1, notice that both subnets were configured with the <span class="cmd"><b>network</b></span> command. This configuration is technically incorrect since RIPv1 sends the classful network address in its updates and not the subnet. Therefore, the IOS changed the configuration to reflect the correct, classful configuration, as can be seen with the <span class="cmd"><b>show run</b></span> output.</p> <p><b>Click R2 in the figure.</b></p> <p>In the output for R2, notice that the subnet 192.168.4.8 was configured with the <span class="cmd"><b>network</b></span> command. Again, this configuration is technically incorrect and the IOS changed it to 192.168.4.0 in the running configuration.</p> <p><b>Click R3 in the figure.</b></p> <p>The routing configuration for R3 is correct. The running configuration matches what was entered in router configuration mode.</p> <p><b>Note:</b> On assessment and certification exams, entering a subnet address instead of the classful network address in a <span class="cmd"><b>network </b></span>command is considered an incorrect answer. </p></content-text>
</page>
</topic>
<topic type="" id="en0905040200">
<title><content-text>Boundary Routers and Automatic Summarization</content-text></title>
<page type="OneColumn" id="en0905040201">
<content-media type="StaticGraphic" id="cm5649253188"><title><content-text></content-text></title><media ref="en0905000000/en0905040000/en0905040200/en0905040201/cm5649253188.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905040000/en0905040200/en0905040201/cm5649253188text.xml"/></content-media>
<content-text><p>As you know, RIP is a classful routing protocol that automatically summarizes classful networks across major network boundaries. In the figure, you can see that R2 has interfaces in more than one major classful network. This makes R2 a <content-link target="cg8932544635" type="glossary">boundary router</content-link> in RIP. Serial 0/0/0 and FastEthernet 0/0 interfaces on R2 are both inside the 172.30.0.0 boundary. The Serial 0/0/1 interface is inside the 192.168.4.0 boundary. </p> <p>Because boundary routers summarize RIP subnets from one major network to the other, updates for the 172.30.1.0, 172.30.2.0 and 172.30.3.0 networks will automatically be summarized into 172.30.0.0 when sent out R2's Serial 0/0/1 interface.</p> <p>We will see in the next two sections how boundary routers perform this summarization.</p></content-text>
</page>
</topic>
<topic type="" id="en0905040300">
<title><content-text>Processing RIP Updates</content-text></title>
<page type="OneColumn" id="en0905040301">
<content-media type="StaticGraphic" id="cm5356626038"><title><content-text></content-text></title><media ref="en0905000000/en0905040000/en0905040300/en0905040301/cm5356626038.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905040000/en0905040300/en0905040301/cm5356626038text.xml"/></content-media>
<content-text><p><b>Rules for Processing RIPv1 Updates</b></p> <p>The following two rules govern RIPv1 updates:</p> <ul><li> If a routing update and the interface on which it is received belong to the same major network, the subnet mask of the interface is applied to the network in the routing update.</li> <li> If a routing update and the interface on which it is received belong to different major networks, the classful subnet mask of the network is applied to the network in the routing update.</li></ul> <p><b>Example of RIPv1 Processing Updates</b></p> <p>In the figure, R2 receives an update from R1 and enters the network in the routing table. How does R2 know that this subnet has a /24 (255.255.255.0) subnet mask? It knows because:</p> <ul><li> R2 received this information on an interface that belongs to the same classful network (172.30.0.0) as that of the incoming 172.30.1.0 update.</li> <li> The IP address for which R2 received the "172.30.1.0 in 1 hops" message was on Serial 0/0/0 with an IP address of 172.30.2.2 and a subnet mask of 255.255.255.0 (/24). </li> <li> R2 uses its own subnet mask on this interface and applies it to this and all other 172.30.0.0 subnets that it receives on this interface - in this case, 172.30.1.0. </li> <li> The 172.30.1.0 /24 subnet was added to the routing table.</li></ul> <p>Routers running RIPv1 are limited to using the same subnet mask for all subnets with the same classful network. </p> <p>As you will learn in later chapters, classless routing protocols like RIPv2 allow the same major (classful) network to use different subnet masks on different subnets, better known as Variable Length Subnet Masking (VLSM).</p></content-text>
</page>
</topic>
<topic type="" id="en0905040400">
<title><content-text>Sending RIP Updates</content-text></title>
<page type="OneColumn" id="en0905040401">
<content-media type="InteractiveGraphicHotspots" id="cm9810893481"><title><content-text></content-text></title><media ref="en0905000000/en0905040000/en0905040400/en0905040401/cm9810893481.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905040000/en0905040400/en0905040401/cm9810893481text.xml"/></content-media>
<content-text><p><b>Using Debug to View Automatic Summarization</b></p> <p>When sending an update, boundary router R2 will include the network address and associated metric. If the route entry is for an update sent out a different major network, then the network address in the route entry is summarized to the classful or major network address. This is exactly what R2 does for 192.168.4.0 and 192.168.5.0. It sends these classful networks to R1.</p> <p>R2 also has routes for the 172.30.1.0/24, 172.30.2.0/24 and 172.30.3.0/24 subnets. In R2's routing update to R3 on Serial0/0/1, R2 only sends a summary of the classful network address of 172.30.0.0.</p> <p>If the route entry is for an update sent within a major network, the subnet mask of the outbound interface is used to determine the network address to advertise. R2 sends the 172.30.3.0 subnet to R1 using the subnet mask on Serial0/0/0 to determine the subnet address to advertise. </p> <p>R1 receives the 172.30.3.0 update on Serial0/0/0 interface, which has an interface address of 172.30.2.1/24. Since the routing update and interface both belong to the same major network, R1 applies its /24 mask to the 172.30.3.0 route.</p> <p><b>Click R1 and R3 Routing Tables in the figure to compare the routing tables.</b></p> <p>Notice that R1 has three routes for the 172.30.0.0 major network, which has been subnetted to /24 or 255.255.255.0. R3 has only one route to the 172.30.0.0 network, and the network has not been subnetted. R3 has the major network in its routing table. However, it would be a mistake to assume that R3 does not have full connectivity. R3 will send any packets destined for the 172.30.1.0/24, 172.30.2.0/24, and 172.30.3.0/24 networks to R2 because all three of those networks belong to 172.30.0.0/16 and are reachable through R2.</p></content-text>
</page>
</topic>
<topic type="" id="en0905040500">
<title><content-text>Advantages and Disadvantages of Automatic Summarization</content-text></title>
<page type="OneColumn" id="en0905040501">
<content-media type="StaticGraphic" id="cm6027576615"><title><content-text></content-text></title><media ref="en0905000000/en0905040000/en0905040500/en0905040501/cm6027576615.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905040000/en0905040500/en0905040501/cm6027576615text.xml"/></content-media>
<content-text><p><b>Advantages of Automatic Summarization</b></p> <p>As we saw with R2 in the previous figure, RIP automatically summarizes updates between classful networks. Because the 172.30.0.0 update is sent out an interface (Serial 0/0/1) on a different classful network (192.168.4.0), RIP sends out only a single update for the entire classful network instead of one for each of the different subnets. This process is similar to what we did when summarized several static routes into a single static route. Why is automatic summarization an advantage? </p> <ul><li> Smaller routing updates sent and received, which uses less bandwidth for routing updates between R2 and R3. </li> <li> R3 has a single route for the 172.30.0.0/16 network, regardless of how many subnets there are or how it is subnetted. Using a single route results in a faster lookup process in the routing table for R3.</li></ul></content-text>
</page>
<page type="OneColumn" id="en0905040502">
<content-media type="InteractiveGraphicHotspots" id="cm8512098222"><title><content-text></content-text></title><media ref="en0905000000/en0905040000/en0905040500/en0905040502/cm8512098222.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905040000/en0905040500/en0905040502/cm8512098222text.xml"/></content-media>
<content-text><p>Is there a disadvantage to automatic summarization? Yes, when there are discontiguous networks configured in the topology.</p> <p><b>Disadvantage of Automatic Summarization</b></p> <p>As you can see in the figure, the addressing scheme has been changed. This topology will be used to show a main disadvantage with classful routing protocols like RIPv1 - their lack of support for discontiguous networks. </p> <p>Classful routing protocols do not include the subnet mask in routing updates. Networks are automatically summarized across major network boundaries since the receiving router in unable to determine the mask of the route. This is because the receiving interface may have a different mask than the subnetted routes. </p> <p>Notice that R1 and R3 both have subnets from the 172.30.0.0/16 major network, whereas R2 does not. Essentially, R1 and R3 are boundary routers for 172.30.0.0/16 because they are separated by another major network, 209.165.200.0/24. This separation creates a discontiguous network, as two groups of 172.30.0.0/24 subnets are separated by at least one other major network. 172.30.0.0/16 is a discontiguous network. </p></content-text>
</page>
<page type="OneColumn" id="en0905040503">
<content-media type="StaticGraphic" id="cm8024546921"><title><content-text></content-text></title><media ref="en0905000000/en0905040000/en0905040500/en0905040503/cm8024546921.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905040000/en0905040500/en0905040503/cm8024546921text.xml"/></content-media>
<content-text><p><b>Discontiguous Topologies do not Converge with RIPv1</b> </p> <p>The figure shows the RIP configuration for each router based on the topology. The RIPv1 configuration is correct, but it is unable to determine all of the networks in this discontiguous topology. To understand why, remember that a router will only advertise major network addresses out interfaces that do not belong to the advertised route. As a result, R1 will not advertise 172.30.1.0 or 172.30.2.0 to R2 across the 209.165.200.0 network. R3 will not advertise 172.30.100.0 or 172.30.200.0 to R2 across the 209.165.200.0 network. Both routers R1 and R3, however, will advertise the 172.30.0.0 major network address.</p> <p>What is the result? Without the inclusion of the subnet mask in the routing update, RIPv1 cannot advertise specific routing information that will allow routers to correctly route for the 172.30.0.0/24 subnets.</p> <p><b>Click the </b><span class="cmd"><b>show ip route</b></span><b> buttons for R1, R2, and R3 in the figure and review the routes.</b></p> <ul><li> R1 does not have any routes to the LANs attached to R3. </li> <li> R3 does not have any routes to the LANs attached to R1.</li> <li> R2 has two equal-cost paths to the 172.30.0.0 network. </li> <li> R2 will load balance traffic destined for any subnet of 172.30.0.0. This means that R1 will get half of the traffic and R3 will get the other half of the traffic whether or not the destination of the traffic is for one of their LANs. </li></ul> <p>In Chapter 7, "RIPv2," you will see a version of this topology. It will be used to show the difference between classful and classless routing.</p></content-text>
</page>
<page type="OneColumn" id="en0905040504">
<content-media type="ActivityPKA" id="cm5980281860"><title><content-text></content-text></title><media ref="en0905000000/en0905040000/en0905040500/en0905040504/cm5980281860/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0905000000/en0905040000/en0905040500/en0905040504/cm5980281860/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to implement the Scenario B addressing scheme and explore the advantages and disadvantages of automatic summarization. Detailed instructions are provided within the activity. </p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="en0905050000">
<title><content-text>Default Route and RIPv1</content-text></title>
<topic type="" id="en0905050100">
<title><content-text>Modified Topology: Scenario C</content-text></title>
<page type="OneColumn" id="en0905050101">
<content-media type="InteractiveGraphicHotspots" id="cm1070061580"><title><content-text></content-text></title><media ref="en0905000000/en0905050000/en0905050100/en0905050101/cm1070061580.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905050000/en0905050100/en0905050101/cm1070061580text.xml"/></content-media>
<content-text><p><b>Adding Internet Access to the Topology</b></p> <p>RIP was the first dynamic routing protocol and was used extensively in early implementations between customers and ISPs, as well as between different ISPs. But in today's networks, customers do not necessarily have to exchange routing updates with their ISP. Customer routers that connect to an ISP do not need a listing for every route on the Internet. Instead, these routers have a default route that sends all traffic to the ISP router when the customer router does not have a route to a destination. The ISP configures a static route pointing to the customer router for addresses inside the customer's network. </p> <p>In scenario C, R3 is the service provider with access to the Internet, as signified by the cloud. R3 and R2 do not exchange RIP updates. Instead, R2 uses a default route to reach the R3 LAN and all other destinations that are not listed in its routing table. R3 uses a summary static route to reach the subnets 172.30.1.0, 172.30.2.0, and 172.30.3.0.</p> <p>To prepare the topology, we can leave the addressing in place; it is the same as was used in Scenario B. However, we also need to complete the following steps:</p> <p><b>Click RIP configuration in the figure.</b></p> <p>1. Disable RIP routing for network 192.168.4.0 on R2.</p> <p>2. Configure R2 with a static default route to send default traffic to R3.</p> <p>3. Completely disable RIP routing on R3. </p> <p>4. Configure R3 with a static route to the 172.30.0.0 subnets.</p> <p><b>Click the </b><span class="cmd"><b>show ip route</b></span><b> tab in the figure for the corresponding router to see the output.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0905050200">
<title><content-text>Propagating the Default Route in RIPv1</content-text></title>
<page type="OneColumn" id="en0905050201">
<content-media type="StaticGraphic" id="cm2590209304"><title><content-text></content-text></title><media ref="en0905000000/en0905050000/en0905050200/en0905050201/cm2590209304.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905050000/en0905050200/en0905050201/cm2590209304text.xml"/></content-media>
<content-text><p>To provide Internet connectivity to all other networks in the RIP routing domain, the default static route needs to be advertised to all other routers that use the dynamic routing protocol. You could configure a static default route on R1 pointing to R2, but this technique is not scalable. With every router added to the RIP routing domain, you would have to configure another static default route. Why not let the routing protocol do the work for you?</p> <p>In many routing protocols, including RIP, you can use the <span class="cmd"><b>default-information originate</b></span> command in router configuration mode to specify that this router is to originate default information, by propagating the static default route in RIP updates. In the figure, R2 has been configured with the <span class="cmd"><b>default-information originate</b></span> command. Notice from the <span class="cmd"><b>debug ip rip</b></span> output that it is now sending a "quad-zero" static default route to R1.</p> <p><b>Click <span class="cmd">show ip route</span> in the figure.</b></p> <p>In the routing table for R1, you can see that there is a candidate default route, as denoted by the <b><span class="cmd">R*</span></b> code. The static default route on R2 has been propagated to R1 in a RIP update. R1 has connectivity to the LAN on R3 and any destination on the Internet.</p></content-text>
</page>
<page type="OneColumn" id="en0905050202">
<content-media type="ActivityPKA" id="cm2641692402"><title><content-text></content-text></title><media ref="en0905000000/en0905050000/en0905050200/en0905050202/cm2641692402/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0905000000/en0905050000/en0905050200/en0905050202/cm2641692402/icontext.xml"/></content-media>
<content-text><p>Use the Packet Tracer Activity to implement Scenario C with static and default routing and configure R2 to propagate a default route. Detailed instructions are provided within the activity. </p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="en0905060000">
<title><content-text>RIPv1 Configuration Labs</content-text></title>
<topic type="" id="en0905060100">
<title><content-text>Basic RIP Configuration</content-text></title>
<page type="OneColumn" id="en0905060101">
<content-media type="ActivityLab" id="cm3250463502"><title><content-text></content-text></title><media ref="en0905000000/en0905060000/en0905060100/en0905060101/cm3250463502/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en0905000000/en0905060000/en0905060100/en0905060101/cm3250463502/icontext.xml"/></content-media>
<content-text><p>In this lab, you will work through the configuration and verification commands discussed in this chapter using the same three scenarios. You will configure RIP routing, verify your configurations, investigate the problem with discontiguous networks, observe automatic summarization, and configure and propagate a default route.</p><p><b>Click the lab icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0905060102">
<content-media type="ActivityPKA" id="cm8743710156"><title><content-text></content-text></title><media ref="en0905000000/en0905060000/en0905060100/en0905060102/cm8743710156/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0905000000/en0905060000/en0905060100/en0905060102/cm8743710156/icontext.xml"/></content-media>
<content-text><p>Use Packet Tracer Activity 5.6.1 to repeat a simulation of Lab 5.6.1. Remember, however, that Packet Tracer is not a substitute for a hands-on lab experience with real equipment. </p> <p>A summary of the instructions is provided within the activity. Use the Lab PDF for more details.</p> <p><b>Clicking the Packet Tracer icon will launch Scenario A. All scenarios for this simulation of the hands-on lab can be launched from the links below.</b></p> <p><content-link target="E2_PTAct_5_6_1a.pka" type="internalfile">Scenario A</content-link></p> <p><content-link target="E2_PTAct_5_6_1b.pka" type="internalfile">Scenario B</content-link></p> <p><content-link target="E2_PTAct_5_6_1c.pka" type="internalfile">Scenario C</content-link></p></content-text>
</page>
</topic>
<topic type="" id="en0905060200">
<title><content-text>Challenge RIP Configuration</content-text></title>
<page type="OneColumn" id="en0905060201">
<content-media type="ActivityLab" id="cm2995971215"><title><content-text></content-text></title><media ref="en0905000000/en0905060000/en0905060200/en0905060201/cm2995971215/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en0905000000/en0905060000/en0905060200/en0905060201/cm2995971215/icontext.xml"/></content-media>
<content-text><p>In this lab activity, you will be given a network address that must be subnetted to complete the addressing of the network shown in the Topology Diagram. A combination of RIPv1 and static routing will be required so that hosts on networks that are not directly connected will be able to communicate with each other.</p><p><b>Click the lab icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0905060202">
<content-media type="ActivityPKA" id="cm6691523507"><title><content-text></content-text></title><media ref="en0905000000/en0905060000/en0905060200/en0905060202/cm6691523507/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0905000000/en0905060000/en0905060200/en0905060202/cm6691523507/icontext.xml"/></content-media>
<content-text><p>Use Packet Tracer Activity 5.6.2 to repeat a simulation of Lab 5.6.2. Remember, however, that Packet Tracer is not a substitute for a hands-on lab experience with real equipment. </p> <p>A summary of the instructions is provided within the activity. Use the Lab PDF for more details.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en0905060300">
<title><content-text>RIP Troubleshooting</content-text></title>
<page type="OneColumn" id="en0905060301">
<content-media type="ActivityLab" id="cm6463424098"><title><content-text></content-text></title><media ref="en0905000000/en0905060000/en0905060300/en0905060301/cm6463424098/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en0905000000/en0905060000/en0905060300/en0905060301/cm6463424098/icontext.xml"/></content-media>
<content-text><p>In this lab, you will begin by loading configuration scripts on each of the routers. These scripts contain errors that will prevent end-to-end communication across the network. You will need to troubleshoot each router to determine the configuration errors, and then use the appropriate commands to correct the configurations. When you have corrected all of the configuration errors, all of the hosts on the network should be able to communicate with each other.</p><p><b>Click the lab icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0905060302">
<content-media type="ActivityPKA" id="cm6643327348"><title><content-text></content-text></title><media ref="en0905000000/en0905060000/en0905060300/en0905060302/cm6643327348/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0905000000/en0905060000/en0905060300/en0905060302/cm6643327348/icontext.xml"/></content-media>
<content-text><p>Use Packet Tracer Activity 5.6.3 to repeat a simulation of Lab 5.6.3. Remember, however, that Packet Tracer is not a substitute for a hands-on lab experience with real equipment. </p> <p>A summary of the instructions is provided within the activity. Use the Lab PDF for more details.</p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="en0905070000">
<title><content-text>Summary</content-text></title>
<topic type="" id="en0905070100">
<title><content-text>Summary and Review</content-text></title>
<page type="OneColumn" id="en0905070101">
<content-media type="StaticGraphic" id="cm8927353877"><title><content-text></content-text></title><media ref="en0905000000/en0905070000/en0905070100/en0905070101/cm8927353877.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905070000/en0905070100/en0905070101/cm8927353877text.xml"/></content-media>
<content-text><p><b>Summary</b></p> <p>RIP (version 1) is a classful, distance vector routing protocol. RIPv1 was one of the first routing protocols developed for routing IP packets. RIP uses hop count for its metric, with a metric of 16 hops meaning that route is unreachable. As a result, RIP can only be used in networks where there are no more than fifteen routers between any two networks.</p> <p>RIP messages are encapsulated in a UDP segment, with source and destination ports of 520. RIP routers send their complete routing tables to their neighbors every 30 seconds except for those routes which are covered by the split horizon rule.</p> <p>RIP is enabled by using the <span class="cmd"><b>router rip</b></span> command at the global configuration prompt. The <span class="cmd"><b>network</b></span> command is used to specify which interfaces on the router will be enabled for RIP along with the classful network address for each directly connected network. The <span class="cmd"><b>network</b></span> command enables the interface to send and receive RIP updates and also advertises that network in RIP updates to other routers. </p> <p>The <span class="cmd"><b>debug ip rip</b></span> command can be used to view the RIP updates that are sent and received by the router. To prevent RIP updates from being sent out an interface, such on a LAN where there are no other routers, the <span class="cmd"><b>passive-interface</b></span> command is used. </p> <p>RIP entries are displayed in the routing table with the source code of <b>R</b> and have an administrative distance of 120. Default routes are propagated in RIP by configuring a static default route and using the <span class="cmd"><b>default-information originate</b></span> command in RIP.</p> <p>RIPv1 automatically summarizes subnets to their classful address when sending an update out an interface that is on a different major network than the subnetted address of the route. Because RIPv1 is a classful routing protocol, the subnet mask is not included in the routing update. When a router receives a RIPv1 routing update, RIP must determine the subnet mask of that route. If the route belongs to the same major classful network as the update, RIPv1 applies the subnet mask of the receiving interface. If the route belongs to a different major classful network than the receiving interface, RIPv1 applies the default classful mask.</p> <p>The <span class="cmd"><b>show ip protocols</b></span> command can be used to display information for any routing protocol enabled on the router. Regarding RIP, this command displays timer information, status of automatic summarization, which networks are enabled on this router for RIP, and other information.</p> <p>Because RIPv1 is a classful routing protocol, it does not support discontiguous networks or VLSM. Both of these topics are discussed in Chapter 7, "RIPv2".</p></content-text>
</page>
<page type="FullScreen" id="en0905070102">
<content-media type="ChapterSummary" id="cm2768262517"><title><content-text></content-text></title><media ref="en0905000000/en0905070000/en0905070100/en0905070102/cm2768262517.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905070000/en0905070100/en0905070102/cm2768262517text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="en0905070103">
<content-media type="ActivityPKA" id="cm8761742000"><title><content-text></content-text></title><media ref="en0905000000/en0905070000/en0905070100/en0905070103/cm8761742000/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en0905000000/en0905070000/en0905070100/en0905070103/cm8761742000/icontext.xml"/></content-media>
<content-text><p>The Packet Tracer Skills Integration Challenge Activity for this chapter integrates all the knowledge and skills you acquired in the first two chapters of this course and adds knowledge and skills related to RIPv1. </p> <p>In this activity, you build a network from the ground up. Starting with an addressing space and network requirements, you must implement a network design that satisfies the specifications. Next, you implement an effective RIPv1 routing configuration with integrated default routing. Detailed instructions are provided within the activity. </p> <p><content-link target="E2_PTAct_5_7_1_Directions.pdf" type="internalfile">Packet Tracer Skills Integration Instructions (PDF)</content-link></p><p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
<page type="OneColumn" id="en0905070104">
<content-media type="StaticGraphic" id="cm8291557991"><title><content-text></content-text></title><media ref="en0905000000/en0905070000/en0905070100/en0905070104/cm8291557991.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en0905000000/en0905070000/en0905070100/en0905070104/cm8291557991text.xml"/></content-media>
<content-text><p><b>To Learn More</b></p> <p>RFCs (Request for Comments) are a series of documents submitted to the IETF (Internet Engineering Task Force) to propose an Internet standard or convey new concepts, information or even occasionally even humor. RFC 1058 is the original RFC for RIP written by Charles Hedrick. </p> <p>RFCs can be accessed from several web sites including <content-link target="http://www.ietf.org" type="external">www.ietf.org</content-link>. Read all or parts of RFC 1058. Much of this information will now be familiar to you, along with some additional information as well. </p></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="en0905080000">
<title><content-text>Quiz</content-text></title>
<topic type="" id="en0905080100">
<title><content-text>Chapter Quiz</content-text></title>
<page type="FullScreen" id="en0905080101">
<content-media type="ChapterQuiz" id="cm9587363550"><title><content-text></content-text></title><media ref="en0905000000/en0905080000/en0905080100/en0905080101/cm9587363550/" mime="shockwave/flash" scale="true" type="file" width="100%" height="100%" external="en0905000000/en0905080000/en0905080100/en0905080101/cm9587363550/icontext.xml"/></content-media>
<content-text><p><b>Click the Quiz icon for more details.</b></p></content-text>
</page>
</topic>
</section>
</chapter>
