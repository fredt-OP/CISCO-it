<chapter type="" id="en1208000000">
<title><content-text>Prototyping the WAN</content-text></title>
<section type="ChapterIntroduction" id="en1208000000">
<title><content-text>Chapter Introduction</content-text></title>
<topic type="" id="en1208000100">
<title><content-text>Introduction</content-text></title>
<page type="FullScreen" id="en1208000101">
<content-media type="ChapterIntroduction" id="cm5945790943">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208000000/en1208000100/en1208000101/cm5945790943.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208000000/en1208000100/en1208000101/cm5945790943text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
<section type="" id="en1208010000">
<title><content-text>Prototyping Remote Connectivity</content-text></title>
<topic type="" id="en1208010100">
<title><content-text>Describe Remote Connectivity Testing Methods</content-text></title>
<page type="OneColumn" id="en1208010101">
<content-media type="StaticGraphic" id="cm2270766380">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208010000/en1208010100/en1208010101/cm2270766380.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208010000/en1208010100/en1208010101/cm2270766380text.xml"/></content-media>
<content-text><p>The results of the prototype testing of the LAN validate the design choices made by the NetworkingCompany designer. The new design elements that provide WAN connectivity to remote sites and workers need to be tested. Testing remote connectivity options may be more difficult than testing the LAN design. </p> <p>Remote connectivity usually requires the use of transmission facilities that are not owned or managed by the customer. These facilities, Frame Relay networks, T1 connections, or even DSL links, are usually not available to the designer for testing purposes. As a result, the designer must consider ways to test the proposed design without having access to the actual transmission facilities.</p> <p>The designer can use three different methods to test remote connectivity designs:</p> <p><ul><li> Simulation software</li><li> Prototype testing using simulated links</li><li> Pilot testing in the actual environment</li></ul></p></content-text>
</page>
</topic>
<topic type="" id="en1208010200">
<title><content-text>Testing WAN Connectivity with Simulation Software</content-text></title>
<page type="OneColumn" id="en1208010201">
<content-media type="AnimationPartialScreen" id="cm1461469152">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208010000/en1208010200/en1208010201/cm1461469152.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208010000/en1208010200/en1208010201/cm1461469152text.xml"/></content-media>
<content-text><p>Simulated environments can provide a way to test device configuration and operation. After the design is verified in the simulated environment, remote connectivity can be further tested in a pilot installation. </p> <p><b>Network Simulation Software</b></p> <p>Computer software programs offer the designer a tool to test configurations before implementing them on actual equipment. The benefits of using a simulation software package are:</p> <p><ul><li> <b>Lower overall cost</b> - Test networks are expensive to build and maintain. Networking device capabilities and configuration options change frequently. As a result, keeping a lab environment up-to-date can be difficult.</li><li> <b>Flexibility </b>- Simulation software can support many different types of devices and connectivity options. Changing configurations and topologies is usually much quicker and easier in a simulation than when using actual equipment.</li><li> <b>Scalability </b>- Building a large or complex network in a lab environment is time-consuming and error-prone. Using a simulation program permits testing of large networks in a reduced amount of time.</li><li> <b>Control </b>-Using simulation software allows the designer to control the entire network operation at once. The network designer can determine the types of traffic to send across the network and the rate at which the traffic is sent. The designer can also stop the simulation to capture and examine packets at various points in the network. </li></ul></p></content-text>
</page>
<page type="OneColumn" id="en1208010202">
<content-media type="StaticGraphic" id="cm6122533599">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208010000/en1208010200/en1208010202/cm6122533599.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208010000/en1208010200/en1208010202/cm6122533599text.xml"/></content-media>
<content-text><p><b>Software Limitations</b></p> <p>Using simulation software programs to validate the network designs has a few disadvantages:</p> <p><ul><li> <b>Limited functionality</b> - Software programs are designed and written long before they are available to the public and can quickly become out-of-date. In addition, the software may support only some of the capabilities of the actual equipment.</li><li> <b>Unrealistic performance</b> - It is difficult, if not impossible, for the software programmers to anticipate and simulate all of the conditions that can occur in an actual network. Therefore, relying on the timing and performance estimates obtained from simulation software is risky.</li></ul></p> <p>Despite these disadvantages, using simulation software to test the configurations is an excellent way to uncover design flaws. </p></content-text>
</page>
<page type="OneColumn" id="en1208010203">
<content-media type="ActivityPKA" id="cm9158709474">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208010000/en1208010200/en1208010203/cm9158709474/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en1208000000/en1208010000/en1208010200/en1208010203/cm9158709474/icontext.xml"/></content-media>
<content-text><p><b>Packet Tracer Activity</b></p> <p>Use Packet Tracer to simulate a multirouter serial WAN using PPP.</p><p><b>Click the Packet Tracer icon to begin.</b></p></content-text>
</page>
</topic>
<topic type="" id="en1208010300">
<title><content-text>Simulating WAN Connectivity in a Lab Environment</content-text></title>
<page type="OneColumn" id="en1208010301">
<content-media type="InteractiveGraphicRollovers" id="cm9948373890">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208010000/en1208010300/en1208010301/cm9948373890.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208010000/en1208010300/en1208010301/cm9948373890text.xml"/></content-media>
<content-text><p>In addition to network simulation software, other methods are available to simulate remote connectivity in a test environment.</p> <p>Almost all WAN technologies require an intermediary device to convert the WAN signals to either serial or Ethernet signals at the customer premise. These devices include various types of modems and <content-link target="{3AFA299C-FB8D-4251-9EB2-C0C29182AAA2}" type="glossary">CSU/DSUs</content-link>. An exception to this is Metro Ethernet,</p> <p>which does not require the intermediary device. </p> <p><b>Simulating a DSL or Cable Connection</b></p> <p>To simulate a DSL or cable WAN connection, an Ethernet connection can be used. Most Ethernet interfaces can be set to provide a 10-Mb connection, which is similar to the type of connectivity provided over DSL or cable. The routers are connected using an Ethernet <content-link target="{5FFE991C-B829-4E1C-A419-3D400A98837E}" type="glossary">crossover cable</content-link>. Routing protocol metrics can be adjusted to simulate the metrics of a lower-speed link by using the <span class="cmd"><b>bandwidth</b></span> command on the interface. Static route preference can be manually configured by adjusting the <content-link target="{A92F5DAB-1C7C-4E2A-8FAA-05DA39C95F7E}" type="glossary">administrative distance</content-link> assigned to the route.</p></content-text>
</page>
<page type="OneColumn" id="en1208010302">
<content-media type="InteractiveGraphicRollovers" id="cm7068650341">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208010000/en1208010300/en1208010302/cm7068650341.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208010000/en1208010300/en1208010302/cm7068650341text.xml"/></content-media>
<content-text><p><b>Simulating Serial Connectivity</b></p> <p>There are two common methods used to simulate serial connectivity: </p> <p><ul><li> CSU/DSUs or serial modems</li><li> V.35 cables</li></ul></p> <p><b>Using CSU/DSUs or Modems</b></p> <p>If CSU/DSUs or modems are available, the documentation included with the device usually includes the wiring diagram necessary to create a crossover cable. If the diagram is not included, a search of the Internet can usually uncover the correct pinouts to use. This crossover cable can be used to connect two like devices to simulate the link provided by the telecommunications service provider (<content-link target="{263EC02A-31F0-409F-BD0F-888F57E57F9A}" type="glossary">TSP</content-link>). </p> <p>One CSU/DSU or modem is configured to provide the <content-link target="{C8D6D667-34D5-42F9-A967-302755785430}" type="glossary">DCE</content-link> function. The other device is configured as a <content-link target="{5958BD8E-9446-419C-B70F-111482F22224}" type="glossary">DTE</content-link> device. The routers are then connected and configured just as they would be in the actual WAN environment. The CSU/DSU or modem provides the clocking for the link.</p></content-text>
</page>
<page type="OneColumn" id="en1208010303">
<content-media type="InteractiveGraphicRollovers" id="cm5892197832">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208010000/en1208010300/en1208010303/cm5892197832.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208010000/en1208010300/en1208010303/cm5892197832text.xml"/></content-media>
<content-text><p><b>Using V.35 Cables</b></p> <p>In the NetworkingCompany prototype lab environment, it is possible to simulate a point-to-point WAN connection using two serial V.35 cables. One cable must be a V.35 DCE cable, and the other cable must be a V.35 DTE cable. By connecting the two cables, a V.35 crossover cable is created. Interconnecting the routers with these two cables creates a circuit. Eliminating the CSU/DSU or modem from the connection removes the clocking function on the circuit. As a result, one of the routers must be configured as a DCE device, using the <span class="cmd"><b>clock rate</b></span> command on the interface. In actual implementations, routers and other CPE devices rarely, if ever, provide the DCE function on a circuit.</p> <p>Setting various clock rates enables the network designer and the NetworkingCompany staff doing the testing to simulate different connection speeds.</p> <p>The advantage of using simulated serial WAN connections is that the configuration of the serial interfaces can be tested and verified. The disadvantage of doing this type of simulated testing is that the actual network factors of the telecommunications provider cannot be evaluated. </p> <p>After the configurations are tested in a simulated manner, it is recommended that additional testing be done using a pilot installation.</p></content-text>
</page>
<page type="OneColumn" id="en1208010304">
<content-media type="ActivityLab" id="cm8929072276">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208010000/en1208010300/en1208010304/cm8929072276/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1208000000/en1208010000/en1208010300/en1208010304/cm8929072276/icontext.xml"/></content-media>
<content-text><p><b>Lab Activity</b></p> <p> </p> <p>Connect two routers using a DCE and a DTE v.35 cable. Configure one device to provide the clocking for the interface.</p><p><b>Click the lab icon to begin.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="en1208020000">
<title><content-text>Prototyping WAN Connectivity</content-text></title>
<topic type="" id="en1208020100">
<title><content-text>Identify WAN Goals and Requirements</content-text></title>
<page type="OneColumn" id="en1208020101">
<content-media type="InteractiveGraphicHotspots" id="cm3819998684">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020100/en1208020101/cm3819998684.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208020000/en1208020100/en1208020101/cm3819998684text.xml"/></content-media>
<content-text><p>Connectivity to the remote sites is a major issue in the existing stadium network. A high-priority goal for the stadium management is to extend the new IP telephony system and the video surveillance network to current remote sites. These services cannot be supported over the existing WAN.</p> <p>In the stadium network, the two current remote sites access the main network using virtual private network (<content-link target="{304B9119-D073-4F9F-8DF2-456DACFA55D4}" type="glossary">VPN</content-link>) connections across the Internet. These VPN connections use DSL lines. The ISP does not offer a guarantee of bandwidth or QoS. The proposed design includes an upgrade to dedicated Frame Relay WAN connectivity. The network designer recommends using Frame Relay to connect the new remote office for Team A and the FilmCompany office. </p> <p>The existing VPNs through the Internet remain in the new design to backup the new WAN.</p> <p>The designer decides to build a prototype to simulate the WAN connectivity. This prototype tests the configurations and the failover in case of a link failure. It is not possible to simulate the entire TSP packet-switched network using either a prototype or simulation software. The actual Frame Relay connection through the TSP network can only be tested in a pilot. After the prototype is completed and the design accepted, a pilot installation is planned for the souvenir shop.</p></content-text>
</page>
</topic>
<topic type="" id="en1208020200">
<title><content-text>Creating the Test Plan</content-text></title>
<page type="OneColumn" id="en1208020201">
<content-media type="StaticGraphic" id="cm3991198586">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020200/en1208020201/cm3991198586.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208020000/en1208020200/en1208020201/cm3991198586text.xml"/></content-media>
<content-text><p>The performance through the TSP network cannot be tested in the prototype. However, other important elements of the design can be tested in the prototype WAN network:</p> <p><ul><li> Frame Relay local loop configuration</li><li> Mechanisms to activate the VPN backup link in the event of a Frame Relay failure</li><li> Static routing configuration</li><li> ACLs that filter traffic to and from the WAN sites</li><li> SSH configuration to enable remote management</li></ul></p> <p>To prototype the WAN connectivity, the network designer recommends using a Cisco router to simulate a Frame Relay switch. This simulation enables the local loop configurations to be tested without having to physically connect to the TSP network. To build the WAN prototype, the designer needs four routers to test all of the functionality.</p> <p>The designer creates the test topology diagram, the installation checklist, and the test plan to demonstrate the Frame Relay connectivity.</p></content-text>
</page>
<page type="OneColumn" id="en1208020202">
<content-media type="StaticGraphic" id="cm1158949081">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020200/en1208020202/cm1158949081.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208020000/en1208020200/en1208020202/cm1158949081text.xml"/></content-media>
<content-text><p>The topology for the Frame Relay WAN test requires a different type of connectivity than the earlier prototypes. In an actual implementation, a Frame Relay local loop usually connects to a CSU/DSU at the customer premise. From the CSU/DSU, a serial connection is made to the customer premise equipment (<content-link target="{C17C5F37-79BE-41B8-9A53-854CEA0687D2}" type="glossary">CPE</content-link>) router. </p> <p>The DCE function on the local loop is provided by either the TSP or the CSU/DSU. The clocking for the serial connection between the CSU/DSU and the CPE router is provided by the CSU/DSU. All of the connections at the router are DTE connections and use DTE cable.</p> <p>In the prototype test network, a true <content-link target="{8AAFFD5A-54B5-4E04-B895-BBC84805C9EF}" type="glossary">T1</content-link> or <content-link target="{2E155B75-D6F2-41F2-A999-DD6B4FAC65BE}" type="glossary">E1</content-link> connection to a Frame Relay switch does not exist. It has to be simulated using a Cisco router acting as the Frame Relay switch. This router is identified as FR1. It connects to the other routers in the topology using a crossover connection. At the NetworkingCompany, this crossover function is created by connecting one V.35 DTE cable directly to a V.35 DCE cable. Because no CSU/DSU exists in the test topology, the FR1 router interfaces are configured with a clock rate to provide the DCE function.</p></content-text>
</page>
<page type="OneColumn" id="en1208020203">
<content-media type="ActivityLab" id="cm3362130117">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020200/en1208020203/cm3362130117/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1208000000/en1208020000/en1208020200/en1208020203/cm3362130117/icontext.xml"/></content-media>
<content-text><p><b>Lab Activity</b></p> <p>Create a test plan to prototype the WAN connectivity between the FilmCompany and the stadium.</p> <p>The following document should be downloaded to perform the lab activity:</p> <p>1. <content-link target="Dis4_Lab_8.2.2.3_WANDesignTestPlan_Student.pdf" type="internalfile">WAN Design Test Plan</content-link></p><p><b>Click the lab icon to begin.</b></p></content-text>
</page>
</topic>
<topic type="" id="en1208020300">
<title><content-text>Validating the Choice of Devices and Topologies</content-text></title>
<page type="OneColumn" id="en1208020301">
<content-media type="StaticGraphic" id="cm4763372273">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020300/en1208020301/cm4763372273.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208020000/en1208020300/en1208020301/cm4763372273text.xml"/></content-media>
<content-text><p>The Frame Relay topology recommended in the proposed WAN design is radically different from the existing VPN connectivity managed by the ISP. There are many options available when using Frame Relay. It is a recommended practice for the network designer to review the design and operation of the WAN with the NetworkingCompany staff before they set up the prototype.</p> <p><b>Frame Relay</b> </p> <p>Frame Relay is a high-performance WAN protocol that was standardized by the International Telecommunication Union <content-link target="{422C7E1B-A437-4D41-9761-6C4D733EA95E}" type="glossary">ITU-T</content-link>. It is widely used in the United States. Many people think of a Frame Relay link as a physical connection between two sites. In reality, a Frame Relay link is a virtual circuit that spans a series of connections.</p> <p>Every Frame Relay link has at least three components:</p> <p><ul><li> The local point-to-point circuit that connects the local CPE router to the TSP Frame Relay switch</li><li> The TSP packet-switched network</li><li> The remote point-to-point circuit that connects the remote site into the TSP network</li></ul></p> <p>Configuring Frame Relay on the CPE router consists of configuring only the settings for the point-to-point link with the TSP Frame Relay switch. These point-to-point links are usually T1/E1 or fractional T1/E1 circuits. The TSP configures the virtual circuit through the packet-switched network. </p></content-text>
</page>
<page type="OneColumn" id="en1208020302">
<content-media type="StaticGraphic" id="cm9083634420">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020300/en1208020302/cm9083634420.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208020000/en1208020300/en1208020302/cm9083634420text.xml"/></content-media>
<content-text><p>Frame Relay terminology and configuration can easily become confusing. To explain the configuration options to the NetworkingCompany staff, the network designer starts with the link between the planned new stadium CPE router and a TSP Frame Relay switch.</p> <p><b>The Local Loop</b></p> <p>The proposed connection between the stadium CPE router and the Frame Relay switch at the TSP is a T1 circuit. This connection is referred to as a <content-link target="{C2AF670D-05B5-4F8D-8236-810E2D8F9AEB}" type="glossary">local loop</content-link>. The local loop connects the provider Frame Relay switch to the CSU/DSU on the stadium premises. The connection then terminates on the serial port of the CPE router. The clock speed (port speed) of the local loop connection to the Frame Relay cloud is known as the <content-link target="{0B608E57-DD0E-47FE-A96D-F6764706E1B3}" type="glossary">local access rate</content-link>. The local access rate defines the rate at which data can travel into or out of the provider packet-switched network, regardless of other settings.</p> <p><b>Data-link Connection Identifier</b></p> <p>More than one virtual circuit can be carried on a single physical local loop circuit. Each virtual circuit endpoint is identified by a data-link connection identifier (<content-link target="{E4CF378D-0E65-4C6B-8E0D-9D4D93F3C6E9}" type="glossary">DLCI</content-link>). A DLCI is usually significant only on the local loop. In other words, DLCI numbers are unique within a single Frame Relay switch. However, because there can be many Frame Relay switches within the network, DLCI numbers can be duplicated on other switches.</p></content-text>
</page>
<page type="OneColumn" id="en1208020303">
<content-media type="StaticGraphic" id="cm8016130040">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020300/en1208020303/cm8016130040.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208020000/en1208020300/en1208020303/cm8016130040text.xml"/></content-media>
<content-text><p>Some of the services offered by the Frame Relay switch impact the quality of the data transmissions through the telecommunications provider network.</p> <p><b>Guaranteed Data Rates</b></p> <p>Frame Relay providers offer services with guaranteed average data transfer rates through the provider packet-switched network. This committed information rate (<content-link target="{F3392FBD-44C5-489D-BBA7-4F85E8EF07B2}" type="glossary">CIR</content-link>) specifies the maximum average data rate that the network delivers under normal conditions. The CIR is less than or equal to the local access rate. A CIR is assigned to each DLCI that is carried on the local loop. If the stadium attempts to send data at a faster rate than the CIR, the provider network flags some frames with a discard eligible (<content-link target="{81D2813F-0546-43C1-8FB8-6E67B1E71925}" type="glossary">DE</content-link>) bit in the frame address header. The network attempts to deliver all frames. However, if there is congestion, it discards any frames marked with the DE bit. </p> <p><b>Zero CIR</b></p> <p>Many inexpensive Frame Relay services are based on a CIR of zero. A <content-link target="{86C92597-2E98-4463-AB91-A4A3986B66E8}" type="glossary">zero CIR</content-link> means that every frame is a DE frame, and the network can throw any frame away when there is congestion. There is no guarantee of service with a CIR set to zero, so these services are not good choices for mission critical data. </p> <p><b>Local Management Interface </b></p> <p>Local Management Interface (<content-link target="{DF1BAEB0-4279-4609-A4E6-6D10739E96A4}" type="glossary">LMI</content-link>) is a signaling standard between the router (DTE device) and the local Frame Relay switch (DCE device). LMI is responsible for managing the connection and maintaining status between the router and the Frame Relay switch. For example, LMI uses <content-link target="{37907786-9CE6-4B34-8B81-4294C65D959B}" type="glossary">keepalive</content-link> messages to monitor the status of network connections. LMI Frame Relay adds a set of enhancements, referred to as extensions, to basic Frame Relay. One important LMI extension is the ability to report the status of the virtual circuit as well as the status of the physical connection. LMI standards can differ between networks. Cisco routers support three LMI types: Cisco, ANSI Annex D, and ITU-T Q.933 Annex A.</p></content-text>
</page>
<page type="OneColumn" id="en1208020304">
<content-media type="AnimationPartialScreen" id="cm4333585638">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020300/en1208020304/cm4333585638.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208020000/en1208020300/en1208020304/cm4333585638text.xml"/></content-media>
<content-text><p><b>Congestion Control </b></p> <p>To help manage traffic flows in the network, Frame Relay implements two mechanisms: </p> <p><ul><li> Forward-explicit congestion notification (<content-link target="{9967B05F-0105-488F-BB06-F45E6A9B8806}" type="glossary">FECN</content-link>) </li><li> Backward-explicit congestion notification (<content-link target="{2C5B88B5-749D-46FE-A35E-4C1EFAA252F5}" type="glossary">BECN</content-link>) </li></ul></p> <p>FECNs and BECNs are controlled by a single bit contained in the Frame Relay frame header. </p> <p><b>FECN</b></p> <p>FECN informs the destination device about congestion on the network path. The FECN bit is part of the Address field in the Frame Relay frame header. The FECN mechanism works in the following way:</p> <p>1. A DTE device sends Frame Relay frames into the network.</p> <p>2. If the network is congested, the DCE devices (switches) set the value of the FECN bit to 1.</p> <p>3. The frames reach the remote destination DTE device.</p> <p>4. The DTE device reads the Address field with the FECN bit set to 1.</p> <p>5. This setting indicates that the frame experienced congestion in the path from source to destination.</p> <p><b>BECN</b></p> <p>BECN informs the source device about congestion on the network path. The BECN bit is also part of the Address field in the Frame Relay frame header. A BECN works in the following way:</p> <p>1. A Frame Relay switch detects congestion in the network.</p> <p>2. It sets the BECN bit to 1 in frames headed in the opposite direction from the frames marked with the FECN bit. </p> <p>3. This setting informs the source DTE device that a particular path through the network is congested.</p></content-text>
</page>
<page type="FullScreen" id="en1208020305">
<content-media type="ActivityDnDSnapback" id="cm3613765080">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020300/en1208020305/cm3613765080.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208020000/en1208020300/en1208020305/cm3613765080text.xml"/></content-media>
<content-text><p>Full Screen <b>Activity</b></p> <p><b>Drag each definition to the appropriate Frame Relay term, then click Check.</b></p></content-text>
</page>
</topic>
<topic type="" id="en1208020400">
<title><content-text>Prototype the WAN</content-text></title>
<page type="OneColumn" id="en1208020401">
<content-media type="StaticGraphic" id="cm7371981187">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020400/en1208020401/cm7371981187.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208020000/en1208020400/en1208020401/cm7371981187text.xml"/></content-media>
<content-text><p>To configure the Frame Relay WAN prototype, the NetworkingCompany staff first configures the router FR1 to act as the Frame Relay switch. The staff uses the command <span class="cmd"><b>frame-relay switching</b></span> to begin the configuration. This command tells the router to act as the DCE device and to emulate a Frame Relay switch. Additional <span class="cmd"><b>frame-relay route</b></span> configuration commands are applied to the router to enable it to switch the DLCIs from each interface.</p> <p>The two serial interfaces on FR1 can now be configured as the Frame Relay DCE devices. Frame Relay encapsulation must be specified on each interface. The two possible Frame Relay encapsulations are <b>ietf</b> and <b>cisco</b>. The default encapsulation is <b>cisco</b>. The <b>cisco</b> method is proprietary and should not be used if the router is connected to a non-Cisco router across a Frame Relay WAN. </p> <p>The network designer configures Frame Relay by configuring the Layer 3 IP address on the interface and setting the encapsulation type to Frame Relay. Encapsulation is set using the following command:</p> <p><span class="cmd">Router(config-if)#<b>encapsulation frame-relay {cisco | ietf} </b></span></p> <p>The CPE routers do not need to be configured as Frame Relay switches. However, the CPE router serial interface needs to be configured with Frame Relay encapsulation and an IP address. The designer uses the names of the planned devices and their addresses during the test.</p> <p>In the prototype network, there is no CSU/DSU device to provide the clocking. Therefore, it is important to configure a clock rate on the serial interfaces of FR1.</p></content-text>
</page>
<page type="OneColumn" id="en1208020402">
<content-media type="AnimationPartialScreen" id="cm4633025445">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020400/en1208020402/cm4633025445.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208020000/en1208020400/en1208020402/cm4633025445text.xml"/></content-media>
<content-text><p>During the prototype test, the router FR1 acts as the Frame Relay switch at the service provider. This simulates the connectivity through the Frame Relay cloud. A virtual circuit is created between the Edge2 and BR3 routers. This circuit behaves the same as a directly connected link. </p> <p><b>Inverse ARP and Frame Relay Maps</b></p> <p>Inverse Address Resolution Protocol (<content-link target="{97D5FDEE-4068-4538-BC23-0AF99567425C}" type="glossary">Inverse ARP</content-link>) provides a mechanism to create dynamic DLCI-to-Layer 3 address maps. Inverse ARP works similarly to ARP on an Ethernet local network. With ARP, the sending device knows the Layer 3 IP address. It sends broadcasts to learn the remote data link MAC address. With Inverse ARP, the router learns the Layer 2 address, which is the DLCI. It sends requests for the remote Layer 3 IP address.</p> <p>When an interface on a Cisco router is configured to use Frame Relay encapsulation, Inverse ARP is on by default. It is possible to manually configure a static mapping for a specific DLCI. Static mapping is used if the router at the other end does not support Inverse ARP.</p></content-text>
</page>
<page type="OneColumn" id="en1208020403">
<content-media type="InteractiveGraphicHotspots" id="cm9259489454">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020400/en1208020403/cm9259489454.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208020000/en1208020400/en1208020403/cm9259489454text.xml"/></content-media>
<content-text><p>An advantage of Frame Relay connectivity is that one physical interface can support multiple virtual circuits. Frame Relay enables one connection into the provider packet-switched network to provide connectivity to multiple remote sites. This type of <content-link target="{5418FBC3-007F-44E5-BF4D-518A37220727}" type="glossary">multi-access</content-link> WAN is less expensive than one that requires dedicated point-to-point links between sites.</p> <p>Multiple links sharing a single interface can cause problems for distance vector routing protocol updates. Frame Relay is a nonbroadcast multi-access (<content-link target="{0218A4F8-1D81-4EBC-922F-F9B6873B664C}" type="glossary">NBMA</content-link>) protocol. This means that each virtual circuit on an interface is treated as a separate local network. <content-link target="{DCCD39A0-17C3-4F3E-8FDB-F36524EEE22A}" type="glossary">Split horizon</content-link> stops routing table updates from going out of the same interface on which they were received. Because of this, if one remote site sends a routing protocol update, that update does not get sent out on the other virtual circuits that share the same physical interface. </p> <p>To avoid the problems caused by split horizon, the physical interface is divided into logical <content-link target="{A16D9272-1FA7-4BB9-AF99-3E733DBD52B6}" type="glossary">subinterfaces</content-link>. The two types of Frame Relay subinterfaces are point to-point and multipoint.</p> <p><b>Point-to-point</b></p> <p>With point-to-point subinterfaces, a single subinterface is used to establish one permanent virtual circuit (<content-link target="{788424BD-98DB-4BED-BB88-3C1BB4AD74AE}" type="glossary">PVC</content-link>) connection to another physical interface or subinterface on a remote router. Each pair of interfaces is in its own subnet, and each interface has a single DLCI. Broadcasts are not a problem in this environment because the routers are connected in a point-to-point manner and act like leased lines.</p> <p><b>Multipoint</b></p> <p>With multipoint subinterfaces, a single subinterface is used to establish multiple PVC connections to multiple physical interfaces or subinterfaces on remote routers. This configuration does not solve the problems with split horizon. Split horizon must be turned off for distance vector routing protocols to work with multipoint links.</p></content-text>
</page>
<page type="OneColumn" id="en1208020404">
<content-media type="InteractiveGraphicHotspots" id="cm6966175255">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020400/en1208020404/cm6966175255.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208020000/en1208020400/en1208020404/cm6966175255text.xml"/></content-media>
<content-text><p>Once the Frame Relay WAN is configured, it is necessary to verify that it is operating as expected. On the CPE router, there are a number of <span class="cmd"><b>show</b></span> commands that display information about the status of the Frame Relay local loop and the PVC circuit. </p> <p>The <span class="cmd"><b>show interfaces serial</b></span> command displays the status of the interfaces, as well as details about the encapsulation, DLCI, LMI type and the LMI statistics. In normal operation of Frame Relay, the show interface serial command output should indicate that the interface is up and line protocol is up. </p> <p>To verify that LMI messages are being exchanged between the CPE router and the local Frame Relay switch, use the <span class="cmd"><b>show frame-relay lmi</b></span> command. </p> <p>The <span class="cmd"><b>show frame-relay pvc</b> [<b>interface</b> <i>interface</i>] [<b>dlci</b>]</span> command shows the status of each configured PVC as well as traffic statistics. This command is also useful for viewing the number of BECN and FECN packets received by the router. </p> <p>Use the <span class="cmd"><b>show frame-relay map</b></span> command to display the current entries learned through Inverse ARP, statically configured maps, and information about the connections. </p> <p>To clear dynamically created Frame Relay maps, which are created using Inverse ARP, use the <span class="cmd"><b>clear frame-relay-inarp</b></span> command. </p></content-text>
</page>
<page type="FullScreen" id="en1208020405">
<content-media type="ActivityPopup" id="cm1672634435">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020400/en1208020405/cm1672634435/" mime="" scale="true" type="directory" width="100%" height="100%" external="en1208000000/en1208020000/en1208020400/en1208020405/cm1672634435/icontext.xml"/></content-media>
<content-text><p><b>Full Screen</b></p></content-text>
</page>
</topic>
<topic type="" id="en1208020500">
<title><content-text>Troubleshooting Frame Relay Operation</content-text></title>
<page type="OneColumn" id="en1208020501">
<content-media type="StaticGraphic" id="cm7427756900">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020500/en1208020501/cm7427756900.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208020000/en1208020500/en1208020501/cm7427756900text.xml"/></content-media>
<content-text><p>After testing the basic Frame Relay connectivity, the network designer and NetworkingCompany staff decide to test the backup capabilities. They set up Ethernet connections between the routers. These Ethernet connections are intended to simulate the existing VPNs between the remote sites and the main stadium network. Another router, called ISPX, is added to the topology to simulate the ISP connectivity.</p> <p><b>Configuring the Backup Link</b></p> <p>Routing on the two CPE routers must be configured so that the backup link is used if the Frame Relay link fails. One way to configure the routers to use the backup is to create <content-link target="{487A07AB-8B78-400A-9FD1-084FF252C526}" type="glossary">floating static routes</content-link>.</p> <p>A floating static route is a static route that has an administrative distance greater than the administrative distance of the corresponding dynamic routes. The staff can configure a static route using the Fast Ethernet interfaces. The configuration specifies a higher administrative distance than the Frame Relay route, using the following command:</p> <p><span class="cmd">Edge2(config)#<b>ip route 172.18.225.0 255.255.255.0 172.18.0.250 130</b></span></p> <p>This route, with an administrative distance of 130, is only installed into the routing table if the other route is lost due to a link failure or some other cause. In this way, as long as the route using the Frame Relay connection is available, the Fast Ethernet interface is not used.</p> <p>The designer creates a test plan to verify the performance of the backup links in the event of a failure.</p></content-text>
</page>
<page type="OneColumn" id="en1208020502">
<content-media type="StaticGraphic" id="cm5916482970">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020500/en1208020502/cm5916482970.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208020000/en1208020500/en1208020502/cm5916482970text.xml"/></content-media>
<content-text><p><b>Troubleshooting a Primary Link Failure</b></p> <p>In a WAN design, the network designer must ensure that there are backup links, and that they function correctly in the event of a primary link failure. Frame Relay and other WAN technologies are generally very reliable services. There are times however, when the WAN network may perform at less than expected levels, or the circuit may be down. A backup link can carry traffic during these times, as well as during the time it takes to troubleshoot and repair the primary connection failure. </p> <p>Troubleshooting a Frame-Relay circuit is a multi-step process that encompasses Layer 1, 2 and 3 functionality.</p> <p><b>Checking Frame Relay Interface Status</b></p> <p>The first step in verifying or troubleshooting Frame Relay configuration issues is to use the <span class="cmd"><b>show interface serial</b></span> command. If the output of the <span class="cmd"><b>show interface serial</b></span> command indicates that both the interface and the line protocol are down, it typically indicates a problem at Layer 1. There may be a problem with the cable or CSU/DSU that needs to be corrected.</p> <p>The interface may also show a down condition if the DLCI is incorrectly statically configured. To check for this, use the <span class="cmd"><b>show frame-relay pvc</b></span> command. A PVC status of <span class="cmd"><b>DELETED</b></span> can indicate that the DLCI configured on the CPE device does not match the DLCI assigned to the circuit.</p> <p><b>Verify LMI Operation</b></p> <p>When the output of a <span class="cmd"><b>show interface serial</b></span> command indicates that the interface is up, but the line protocol is down, there can be problem at Layer 2. The serial interface may not be receiving the LMI keep alive messages from the Frame Relay switch. The next step in troubleshooting the Frame Relay circuit is to verify that LMI messages are being sent and received correctly. Use the <span class="cmd"><b>show frame-relay lmi</b></span> command and look for a non-zero value in any of the <span class="cmd"><b>Invalid</b></span> counters. Also make sure that the LMI type is correct for the circuit.</p></content-text>
</page>
<page type="OneColumn" id="en1208020503">
<content-media type="StaticGraphic" id="cm5721417467">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020500/en1208020503/cm5721417467.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208020000/en1208020500/en1208020503/cm5721417467text.xml"/></content-media>
<content-text><p><b>Debugging the LMI Exchange</b></p> <p>If the LMI type is correct for the circuit, but invalid messages are indicated, the <span class="cmd"><b>debug frame-relay lmi</b></span> command can provide more information. The <span class="cmd"><b>debug</b></span> command output shows the LMI messages as they are being sent and received between the Frame Relay switch and the CPE router in real time.</p> <p>LMI status messages sent by the router are indicated by the (<span class="cmd"><b>out</b></span>) output. The (<span class="cmd"><b>in</b></span>) output indicates a message received from the Frame Relay switch.</p> <p>A <span class="cmd"><b>type 0</b></span> message is a full LMI status message. Within the status message, the <span class="cmd"><b>dlci 110</b></span>, <span class="cmd"><b>status 0x2</b></span> output indicates that <span class="cmd"><b>DLCI 110</b></span> is active. The common values of the DLCI status field are:</p> <p><b>0x0:</b> Added and inactive - the switch has this DLCI programmed but it is not usable.</p> <p> </p> <p><b>0x2:</b> Added and active - the Frame Relay switch has the DLCI and everything is operational. </p> <p> </p> <p><b>0x4:</b> Deleted - the Frame Relay switch does not have this DLCI programmed for the router. This status can happen if the DLCIs are reversed on the router or if the PVC was deleted in the Frame Relay cloud.</p> <p>A <span class="cmd"><b>type 1</b></span> message indicates a keepalive LMI exchange.</p> <p><b>Checking Layer 3 Functionality</b></p> <p>At times, the Layer 1 and 2 functions are operational, but IP communication is not occurring over the PVC. For a router to reach a remote router across the Frame Relay network, it must map the IP address of the remote router with the correct local DLCI. If the IP address of the remote router does not appear in the Frame Relay mapping table, it may not support Inverse ARP. It may require the IP address-to-DLCI mapping to be configured using the <span class="cmd"><b>frame-relay map ip</b> <i>{ip address}{dlci}</i> [<b>broadcast</b>]</span> command. </p> <p>In addition, it is necessary to verify that no access control lists or IP routing table issues exist, as well. Although these types of issues are not directly related to the WAN circuit operation, they can make it appear as though the circuit is not functioning correctly.</p></content-text>
</page>
<page type="OneColumn" id="en1208020504">
<content-media type="ActivityPKA" id="cm5213973472">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020500/en1208020504/cm5213973472/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en1208000000/en1208020000/en1208020500/en1208020504/cm5213973472/icontext.xml"/></content-media>
<content-text><p><b>Packet Tracer Activity</b></p> <p>Using the test plan and the prototype network, configure the backup links and verify that the failover works as expected.</p> <p>The following document should be downloaded to perform the Packet Tracer activity:</p> <p>1. <content-link target="D4_PT_8.2.5.4_StadiumRedundancyTestPlan_Student.pdf" type="internalfile">Stadium Redundancy Test Plan</content-link></p><p><b>Click the Packet Tracer icon to begin.</b></p></content-text>
</page>
<page type="OneColumn" id="en1208020505">
<content-media type="ActivityLab" id="cm4249109877">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020500/en1208020505/cm4249109877/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1208000000/en1208020000/en1208020500/en1208020505/cm4249109877/icontext.xml"/></content-media>
<content-text><p><b>Lab Activity</b></p> <p>Using the test plan and the FilmCompany prototype network, configure the backup links and verify that the failover works as expected.</p><p><b>Click the lab icon to begin.</b></p></content-text>
</page>
</topic>
<topic type="" id="en1208020600">
<title><content-text>Identifying Risks and Weaknesses</content-text></title>
<page type="OneColumn" id="en1208020601">
<content-media type="StaticGraphic" id="cm5037555512">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020600/en1208020601/cm5037555512.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208020000/en1208020600/en1208020601/cm5037555512text.xml"/></content-media>
<content-text><p>After completing the prototype testing of the WAN, the network designer and the NetworkingCompany staff discuss the results of the testing. The Frame Relay configuration performs as expected and the backup links protect the WAN connectivity in the event the Frame Relay link fails.</p> <p>However, there are a couple of risks involved with the Frame Relay configuration that must be communicated to the stadium management.</p> <p><b>Areas of Risk</b></p> <p>The most critical area of risk is the performance of the VPN links functioning correctly when used as backups. When the voice and video components of the network are added to the existing WAN traffic, there may be a quality of service issue if the VPN connection must be used. The current VPN through the ISP does not have a guaranteed level of service. Furthermore, it does not have mechanisms to provide QoS. As a result, the backup links can only provide limited connectivity in the event of a failure.</p> <p>It is not possible to test the performance through the actual TSP Frame Relay network; therefore, there is a risk associated with the design. The final acceptance of the design cannot be done until the results of the pilot installation are known.</p></content-text>
</page>
<page type="OneColumn" id="en1208020602">
<content-media type="ActivityLab" id="cm9555561275">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208020000/en1208020600/en1208020602/cm9555561275/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1208000000/en1208020000/en1208020600/en1208020602/cm9555561275/icontext.xml"/></content-media>
<content-text><p><b>Lab Activity</b></p> <p>Analyze the results of the FilmCompany prototype test and document any risks or weaknesses in the design. Complete the Conclusions section of the test plan.</p><p><b>Click the lab icon to begin.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="en1208030000">
<title><content-text>Prototyping Remote Worker Support</content-text></title>
<topic type="" id="en1208030100">
<title><content-text>Identifying VPN Goals and Requirements</content-text></title>
<page type="OneColumn" id="en1208030101">
<content-media type="StaticGraphic" id="cm2933964998">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208030000/en1208030100/en1208030101/cm2933964998.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208030000/en1208030100/en1208030101/cm2933964998text.xml"/></content-media>
<content-text><p>A high-priority business goal of the stadium network design is to offer additional services to stadium vendors and customers to improve the stadium experience.</p> <p><b>Team Office Requirements</b></p> <p>The team offices are requesting a secure method for their scouts to connect to the team servers. The scouts need to transmit prospect information to the team servers when they are away from the stadium. Because this information is extremely confidential, the team wants the scouts to be able to connect remotely via a VPN. A VPN is an extension of the internal private network. VPNs transmit information securely across shared or public networks, like the Internet. The network designer needs to consider the network impact of providing this service.</p> <p><b>How a VPN Works</b></p> <p>A VPN emulates a point-to-point link. The VPN encapsulates the data with a header that provides routing information. This format enables the data to traverse the public network to reach its destination. To emulate a private link, the encapsulated data is encrypted for confidentiality. Encryption algorithms ensure that if packets are intercepted on the public network, they cannot be read without the encryption keys. </p> <p>The team scouts, as well as others working at home or on the road, can use VPN connections to establish remote access to servers located at the stadium. From the perspective of the users, the VPN is a point-to-point connection between their computer (the VPN client) and a VPN endpoint (the VPN server or VPN concentrator) at the stadium.</p></content-text>
</page>
<page type="OneColumn" id="en1208030102">
<content-media type="StaticGraphic" id="cm3580900819">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208030000/en1208030100/en1208030102/cm3580900819.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208030000/en1208030100/en1208030102/cm3580900819text.xml"/></content-media>
<content-text><p>There is risk when extending the private LAN to include remote workers.</p> <p><b>VPN Security</b></p> <p>In many businesses, remote workers accessing resources at the central site through a VPN are considered "trusted" users, just like those workers who actually work on site. Unlike the on-site workers, VPN users may be accessing the network from devices that are not fully secured or from insecure locations in public areas. Extra care needs to be taken to ensure that these remote workers do not have access to resources or areas of the network that they do not need to do their jobs. </p> <p><b>VPN Server Location</b></p> <p>The network designer knows that encrypted data cannot be filtered until it is unencrypted at the VPN server endpoint. For that reason, the location of the VPN server in the network is very important. It must be located at a point where incoming packets can be examined and filtered before being delivered to the internal network resources. </p></content-text>
</page>
</topic>
<topic type="" id="en1208030200">
<title><content-text>Creating the Test Plan</content-text></title>
<page type="OneColumn" id="en1208030201">
<content-media type="StaticGraphic" id="cm3104016581">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208030000/en1208030200/en1208030201/cm3104016581.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208030000/en1208030200/en1208030201/cm3104016581text.xml"/></content-media>
<content-text><p><b>What Needs to Be Tested?</b></p> <p>The stadium uses VPN networks to connect to the souvenir shop and the ticket outlet. These VPNs are site-to-site VPNs managed by the ISP and do not need to be tested.</p> <p><b>Team Scout Support</b></p> <p>Two options are available to support the team scout VPN requirements for the remote clients:</p> <p><ul><li> <b>Option 1</b>: The stadium management can request additional VPN services from the current ISP. </li><li> <b>Option 2</b>: The VPN server can be installed on the stadium network.</li></ul></p> <p><b>VPN Server Management</b></p> <p>The designer suggests using split tunneling to allow users to send traffic that is destined for the corporate network across the VPN tunnel, while allowing all other traffic to be sent out to the Internet through the local LAN of the VPN client. The designer must determine if a VPN server can be configured and managed by the existing stadium personnel. To do this, the designer decides to test the ease of configuring and installing the VPN server and client software. After configuring the VPN, the designer tests the ACLs for filtering traffic coming through the VPN and the placement of the VPN server in the network.</p> <p><b>Cisco EasyVPN</b></p> <p>The designer decides that Cisco EasyVPN is the best option to use for configuring and managing remote user VPN connectivity. EasyVPN is a Cisco IOS software tool. It facilitates the configuration of a Cisco security appliance or router as a VPN server or endpoint. </p> <p>For the prototype, the designer selects the IP Advanced Security feature set for the 1841 router. The Cisco <content-link target="{BD13DF95-8682-405C-9113-1A0DB7656160}" type="glossary">SDM</content-link> interface on the 1841 can be used to configure the EasyVPN Server for the remote clients. </p></content-text>
</page>
<page type="OneColumn" id="en1208030202">
<content-media type="StaticGraphic" id="cm8648692154">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208030000/en1208030200/en1208030202/cm8648692154.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208030000/en1208030200/en1208030202/cm8648692154text.xml"/></content-media>
<content-text><p><b>The Cisco EasyVPN Solution</b></p> <p>To ensure that the VPN can support the mobile team scouts, ease of deployment is important. There are two components of Cisco EasyVPN:</p> <p><ul><li> <b>Cisco EasyVPN Server</b> - This server can be a router or a dedicated VPN gateway, such as a PIX firewall or a VPN concentrator. A VPN gateway using Cisco EasyVPN Server software can terminate remote access VPNs and site-to-site VPN connections.</li><li> <b>Cisco EasyVPN Remote</b> - Cisco EasyVPN Remote enables remote devices to receive security policies from a Cisco EasyVPN Server. This minimizes configuration requirements at the remote VPN location. Cisco EasyVPN Remote allows the VPN parameters to be pushed from the server to the remote device. VPN parameters include internal IP addresses, internal subnet masks, and DHCP server addresses.</li></ul></p> <p>The network designer creates a test plan to verify the use of Cisco EasyVPN to configure a VPN server for the stadium and to set up the client software.</p></content-text>
</page>
<page type="OneColumn" id="en1208030203">
<content-media type="ActivityLab" id="cm5150961468">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208030000/en1208030200/en1208030203/cm5150961468/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1208000000/en1208030000/en1208030200/en1208030203/cm5150961468/icontext.xml"/></content-media>
<content-text><p><b>Lab Activity</b></p> <p>Create a test plan for configuring and testing a VPN client configuration for the FilmCompany.</p> <p>The following document should be downloaded to perform the lab activity:</p> <p>1. <content-link target="Dis4_Lab_8.3.2_VPNDesignTestPlan_Student.pdf" type="internalfile">VPN Design Test Plan</content-link></p><p><b>Click the lab icon to begin.</b></p></content-text>
</page>
</topic>
<topic type="" id="en1208030300">
<title><content-text>Validate Choice of VPN Topology, Devices and Topologies</content-text></title>
<page type="OneColumn" id="en1208030301">
<content-media type="InteractiveGraphicHotspots" id="cm1746379044">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208030000/en1208030300/en1208030301/cm1746379044.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208030000/en1208030300/en1208030301/cm1746379044text.xml"/></content-media>
<content-text><p>Before testing the VPN prototype configuration, the network designer needs to consider many different protocols, algorithms, and options.</p> <p><b>VPN Components</b></p> <p>VPNs have two important components:</p> <p><ul><li> Tunneling to create the virtual network </li><li> Encryption to enable privacy and security</li></ul></p> <p><b>Virtual Network</b></p> <p>To build a virtual network, a <content-link target="{305DB289-775E-4465-960A-A9EE3EBF0B4D}" type="glossary">tunnel</content-link> is created between the two endpoints. In a <content-link target="{CE098032-CAE3-412C-B381-5597A8C35199}" type="glossary">site-to-site VPN</content-link>, hosts send and receive normal TCP/IP traffic through a VPN gateway. A gateway can be a router, firewall, <content-link target="{C33EFF6A-7220-4B1C-96BF-82FCA4AF218D}" type="glossary">VPN concentrator</content-link>, or security appliance. The gateway is responsible for encapsulating outbound traffic from one site and sending it through a tunnel over a network to a peer gateway at the remote site. A tunnel by itself may not guarantee security. The tunnel simply creates an extension of the local network across the WAN or public network. Tunnels can carry either encrypted or unencrypted content. Upon receipt, the remote peer gateway strips the headers, decrypts the packet, and relays it toward the target host inside its private network. In a <content-link target="{EB4B6723-4004-404F-A5E5-A7E228D82AAB}" type="glossary">remote-access VPN</content-link>, the VPN client on the user computer contacts the gateway to set up the tunnel. </p> <p><b>VPN Tunnel Protocols</b></p> <p>VPN tunnels are created using a number of different encapsulation protocols. These protocols include:</p> <p><ul><li> Generic routing encapsulation (<content-link target="{AEFE357C-03A7-4FFE-A862-69F802D9DF77}" type="glossary">GRE</content-link>)</li><li> IP Security (<content-link target="{D629A42F-95F1-4671-8834-90AC818B9E87}" type="glossary">IPSec</content-link>)</li><li> <content-link target="{2CBC4476-2F2E-4292-AFB4-A25033E7D367}" type="glossary">Layer 2 Forwarding (L2F) Protocol</content-link></li><li> Point-to-Point Tunneling Protocol (<content-link target="{55E75FF2-052B-4FD6-B23E-CD98BEE0F434}" type="glossary">PPTP</content-link>)</li><li> Layer 2 Tunneling Protocol (<content-link target="{FBFC9F08-9AA7-4A42-9629-E4C1A406C994}" type="glossary">L2TP</content-link>)</li></ul></p> <p>Not all protocols offer the same level of security. </p></content-text>
</page>
<page type="OneColumn" id="en1208030302">
<content-media type="AnimationPartialScreen" id="cm4546141715">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208030000/en1208030300/en1208030302/cm4546141715.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208030000/en1208030300/en1208030302/cm4546141715text.xml"/></content-media>
<content-text><p>VPN technologies use encryption algorithms that prevent data from being read if it is intercepted. An encryption algorithm is a mathematical function that combines the message with a string of digits called a key. The output is an unreadable <content-link target="{0FD229F2-8B5B-40A1-90D6-1DC52C1769A9}" type="glossary">cipher string</content-link>. Decryption is extremely difficult or impossible without the correct key. The most common encryption methods used for VPNs are Data Encryption Standard (<content-link target="{383473BA-6E61-4140-B1E8-3614F340CABA}" type="glossary">DES</content-link>), Triple DES (<content-link target="{9FEEEAD0-AC57-4083-8382-855927A50320}" type="glossary">3DES</content-link>), Advanced Encryption Standard (<content-link target="{3E4FC4B0-EAD8-48B7-93F0-C20E2A1EA072}" type="glossary">AES</content-link>), and Rivest, Shamir, and Adleman (<content-link target="{300A5CD1-A561-473F-B1DF-024848F1C0D9}" type="glossary">RSA</content-link>).</p> <p><b>Encryption Algorithms</b></p> <p>Encryption algorithms, such as DES and 3DES, require a symmetric, shared secret key to perform encryption and decryption. The network administrator can manually configure keys. </p> <p>Alternatively, keys can be configured through the use of a key exchange method. The Diffie-Hellman (<content-link target="{4445FD86-B123-4F9C-8BE7-FA8CC59D6F96}" type="glossary">DH</content-link>) key agreement is a public key exchange method. It provides a way for two peers to establish a shared secret key, which only they recognize, while communicating over an unsecured channel. Diffie-Hellman groups specify the type of <content-link target="{3C7EFCBA-CCBA-4243-8536-10794ECBCAD2}" type="glossary">cryptography</content-link> to be used:</p> <p><ul><li> <b>DH GROUP 1</b> - Uses 768-bit cryptography. </li><li> <b>DH GROUP 2</b> - Cisco IOS, PIX Firewall, and Cisco Adaptive Security Appliances (ASA) devices only. Specifies to use 1024-bit cryptography. </li><li> <b>DH GROUP 5</b> - Supported if the software system requirements are met. Specifies to use 1536-bit cryptography.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en1208030303">
<content-media type="StaticGraphic" id="cm2255692752">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208030000/en1208030300/en1208030303/cm2255692752.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208030000/en1208030300/en1208030303/cm2255692752text.xml"/></content-media>
<content-text><p>To guard against the interception and modification of VPN data, a <content-link target="{FA1ECD9E-6BE0-4E8F-BE76-5BE7E6AF42D7}" type="glossary">data integrity</content-link> algorithm can be used. A data integrity algorithm adds a <content-link target="{D6B351AE-B8A6-4FF7-B92B-C23EAC6C9BAB}" type="glossary">hash</content-link> to the message. If the transmitted hash matches the received hash, the received message is accepted as an exact copy of the transmitted message. Keyed Hashed Message Authentication Code (<content-link target="{273E7F49-B23F-4CB2-B07C-300B6B46936F}" type="glossary">HMAC</content-link>) is a data integrity algorithm that guarantees the integrity of the message. There are two common HMAC algorithms:</p> <p><ul><li> HMAC-Message Digest 5 (<content-link target="{7F153F2F-B6FA-4F63-8C23-16B7DA03B492}" type="glossary">MD5</content-link>) - This algorithm uses a 128-bit shared secret key. The variable length message and 128-bit shared secret key are combined and run through the HMAC-MD5 hash algorithm. The output is a 128-bit hash. The hash is appended to the original message and forwarded to the remote end.</li><li> HMAC-Secure Hash Algorithm 1 (<content-link target="{8159C839-3D8B-45F7-AF20-56C10CEB66A1}" type="glossary">HMAC-SHA-1</content-link>) - This algorithm uses a 160-bit secret key. The variable length message and the 160-bit shared secret key are combined and run through the HMAC-SHA-1 hash algorithm. The output is a 160-bit hash. The hash is appended to the original message and forwarded to the remote end.</li></ul></p></content-text>
</page>
<page type="FullScreen" id="en1208030304">
<content-media type="ActivityCustom" id="cm8730988479">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208030000/en1208030300/en1208030304/cm8730988479.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208030000/en1208030300/en1208030304/cm8730988479text.xml"/></content-media>
<content-text><p><b>Full Screen Activity</b></p> <p>Complete this crossword puzzle based on VPN information discussed in this topic.</p></content-text>
</page>
</topic>
<topic type="" id="en1208030400">
<title><content-text>Prototype VPN Connectivity for Remote Workers</content-text></title>
<page type="OneColumn" id="en1208030401">
<content-media type="StaticGraphic" id="cm5037283339">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208030000/en1208030400/en1208030401/cm5037283339.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208030000/en1208030400/en1208030401/cm5037283339text.xml"/></content-media>
<content-text><p>In the proposed stadium network, the network designer chooses IPSec technology for the remote access VPNs. </p> <p><b>IPSec</b></p> <p>IPSec is a framework of open standards. It provides data confidentiality, data integrity, and data authentication between participating peers. IPSec provides these security services at Layer 3. </p> <p>IPSec relies on existing algorithms to implement the encryption, authentication, and key exchange. When configuring the VPN server, the following settings must be configured:</p> <p><ul><li> <b>An IPSec protocol</b> - The choices are Encapsulating Security Payload (<content-link target="{68C45811-4E49-40E9-8D20-0D3D06DB9804}" type="glossary">ESP</content-link>), Authentication Header (<content-link target="{509266DE-AC64-41BA-9D90-D5B0F27B02C3}" type="glossary">AH</content-link>), or ESP with AH. </li><li> <b>An encryption algorithm that is appropriate for the desired level of security</b> - The choices are DES, 3DES, or AES. </li><li> <b>An authentication algorithm to provide data integrity</b> - The choices are MD5 or SHA. </li><li> <b>A Diffie-Hellman group</b> - The choices are DH1, DH2, and DH5, if supported.</li></ul></p> <p>IPSec can use Internet Key Exchange (<content-link target="{8B7F35C6-DDBE-42A6-BD2B-DC82179D6697}" type="glossary">IKE</content-link>) to handle negotiation of protocols and algorithms. IKE can also generate the encryption and authentication keys that IPSec uses.</p></content-text>
</page>
<page type="OneColumn" id="en1208030402">
<content-media type="InteractiveGraphicHotspots" id="cm4222360747">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208030000/en1208030400/en1208030402/cm4222360747.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208030000/en1208030400/en1208030402/cm4222360747text.xml"/></content-media>
<content-text><p>VPN clients receive a logical network interface with an IPv4 address that is significant on the central site internal network. This IPv4 address typically comes from a private IP address range. As a result, VPN users may not be able to access their local resources, such as printers and servers.</p> <p><b>Split Tunnels</b></p> <p>In a basic VPN client scenario, all traffic from the VPN client is encrypted using the logical network interface. It is then sent to the VPN server, regardless of where the traffic is destined to go. </p> <p><content-link target="{DEE16F3C-4E86-49C5-8F8F-ABAC3C98C7C2}" type="glossary">Split tunneling</content-link> allows users to send only the traffic that is destined for the corporate network across the tunnel. All other traffic is sent out to the Internet via the local LAN of the VPN client. Examples of other traffic include instant messaging, email, and casual web browsing. Cisco VPN client software can be configured for split tunnels by enabling the Allow Local LAN Access option. Split tunneling increases security risks, because an attack can come from the Internet side of the client into the secured network.</p></content-text>
</page>
<page type="OneColumn" id="en1208030403">
<content-media type="ActivityLab" id="cm4020901673">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208030000/en1208030400/en1208030403/cm4020901673/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1208000000/en1208030000/en1208030400/en1208030403/cm4020901673/icontext.xml"/></content-media>
<content-text><p><b>Lab Activity</b></p> <p>Using the Cisco SDM, explore the configuration options to create a Cisco EasyVPN Server.</p><p><b>Click the lab icon to begin.</b></p></content-text>
</page>
<page type="OneColumn" id="en1208030404">
<content-media type="ActivityLab" id="cm8455643369">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208030000/en1208030400/en1208030404/cm8455643369/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1208000000/en1208030000/en1208030400/en1208030404/cm8455643369/icontext.xml"/></content-media>
<content-text><p><b>Lab Activity</b></p> <p>Using the test plan, configure and test the VPN client.</p><p><b>Click the lab icon to begin.</b></p></content-text>
</page>
</topic>
<topic type="" id="en1208030500">
<title><content-text>Validate Placement of VPN Server</content-text></title>
<page type="OneColumn" id="en1208030501">
<content-media type="StaticGraphic" id="cm5402215165">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208030000/en1208030500/en1208030501/cm5402215165.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208030000/en1208030500/en1208030501/cm5402215165text.xml"/></content-media>
<content-text><p>The network designer must decide where to place the VPN server before determining how and where to filter and control traffic. </p> <p><b>VPN Server Placement</b></p> <p>Often, VPN servers are placed at the WAN edge of a network. In these cases, firewalls or ACLs are used to ensure that VPN users have access only to appropriate network resources. </p> <p>If the stadium management chooses to install a local VPN server, the designer recommends placing the VPN server on the same device that is providing firewall filtering for servers. The remote user traffic can be decrypted and filtered before being sent to the server.</p> <p>The designer creates a test topology that is similar to the topology used in the server farm prototype testing. The designer then creates an installation checklist and a test plan to test the operation of the VPN and the ACL filtering.</p></content-text>
</page>
</topic>
<topic type="" id="en1208030600">
<title><content-text>Identify Risks or Weaknesses</content-text></title>
<page type="OneColumn" id="en1208030601">
<content-media type="StaticGraphic" id="cm9234808895">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208030000/en1208030600/en1208030601/cm9234808895.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208030000/en1208030600/en1208030601/cm9234808895text.xml"/></content-media>
<content-text><p>Upon completion of the testing, the network designer analyzes the results to determine the level of risk in the design.</p> <p><b>VPN Design Risks</b></p> <p>In the VPN design to support the remote team personnel, the main risk relates to the ability of the current IT support staff to configure and maintain the VPN server. Configuring clients as the need arises is also a risk.</p> <p>Using Cisco EasyVPN and SDM proves to be the correct choice for configuring and maintaining the remote access VPN for the stadium network. It is relatively easy to create secure connectivity for the remote workers.</p> <p>With the entire prototype testing complete, the designer can work with the rest of the NetworkingCompany staff to prepare the final design presentation for the stadium network upgrade.</p></content-text>
</page>
<page type="FullScreen" id="en1208030602">
<content-media type="ActivityMCMA" id="cm6522261207">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208030000/en1208030600/en1208030602/cm6522261207.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208030000/en1208030600/en1208030602/cm6522261207text.xml"/></content-media>
<content-text><p>Full Screen Activity</p> <p>Determine whether each acronym represents a tunnelling term or an encryption term. Drag each term to the correct security category, then click Check. </p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="en1208040000">
<title><content-text>Chapter Summary</content-text></title>
<topic type="" id="en1208040100">
<title><content-text>Summary</content-text></title>
<page type="FullScreen" id="en1208040101">
<content-media type="ChapterSummary" id="cm5153660326">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208040000/en1208040100/en1208040101/cm5153660326.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208040000/en1208040100/en1208040101/cm5153660326text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
<topic type="" id="en1208040200">
<title><content-text>Critical Thinking</content-text></title>
<page type="FullScreen" id="en1208040201">
<content-media type="ActivityCustom" id="cm7141658970">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208040000/en1208040200/en1208040201/cm7141658970.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1208000000/en1208040000/en1208040200/en1208040201/cm7141658970text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="en1208050000">
<title><content-text>Chapter Quiz</content-text></title>
<topic type="" id="en1208050100">
<title><content-text>Quiz</content-text></title>
<page type="OneColumn" id="en1208050101">
<content-media type="ChapterQuiz" id="cm5047080003">	<title><content-text></content-text></title>	<media ref="en1208000000/en1208050000/en1208050100/en1208050101/cm5047080003/" mime="" scale="true" type="directory" width="100%" height="100%" external="en1208000000/en1208050000/en1208050100/en1208050101/cm5047080003/icontext.xml"/></content-media>
<content-text><p>Take the chapter quiz to check your knowledge.</p><p><b>Click the quiz icon to begin.</b></p></content-text>
</page>
</topic>
</section>
</chapter>
