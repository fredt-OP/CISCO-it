<transcript lastedited="11.05.08 19:11:35">
<title><content-text><![CDATA[5.4.9  - Troubleshooting STP Operation]]></content-text></title>
<brief><content-text><![CDATA[The animation depicts an STP failure scenario.<br><br>Network Topology:<br>Three switches, S1, S2, and S3, are interconnected in a full mesh. Switch S1 port F0/5 is connected to S2 port F0/2. Switch S1 port F0/4 is connected to S3 port F0/4. Switch S2 port F0/3 is connected to S3 port F0/1, and switch S3 port F0/4 is connected to S1 port F0/4. Switch S1 is the root bridge. S2 port F0/3 is currently blocked by STP. <br><br>Initial switch and port status:<br><br>Switch S1 (Root bridge):<br>Root ID: 32768.00-00-00-00-00-01<br>Bridge ID: 32768.00-00-00-00-00-01<br>F0/4: Designated port (Forwarding)<br>F0/5: Designated port (Forwarding)<br><br>Switch S2:<br>Root ID: 32768.00-00-00-00-00-03<br>Bridge ID: 32768.00-00-00-00-00-01<br>F0/2: Root port (Forwarding)<br>F0/3: Non-designated port (Blocking)<br><br>Switch S3 Bridge ID:<br>Root ID: 32768.00-00-00-00-00-02<br>Bridge ID: 32768.00-00-00-00-00-01<br>F0/1: Designated port (Forwarding)<br>F0/4: Root port (Forwarding)<br><br>Animation sequence:<br>One. The network in its current state is fully converged.<br>Two. Switch S3 has a better BPDU than switch S2, and as long as port F0/3 on switch S2 receives BPDU's from switch S3, port F0/3 on switch S2 will stay in blocking mode and discard all broadcasts received from switch S3.<br><br>Three. For some reason, port F0/3 on switch S2 fails to receive BPDU's for the default max_age time of 20 seconds. Most spanning-tree algorithm failures occur because of excessive losses of BPDU's causing blocked ports to transition to forwarding mode.<br><br>Four. Port F0/3 on switch S2 transitions to the forwarding state. The F0/3 port on switch S2 has gone from blocking to forwarding, and switching loops can now occur.<br><br>Five. The result is a spanning-tree failure. A broadcast storm is occurring.<br>]]></content-text></brief>
<full><content-text><![CDATA[FULL - NOT FOR PRODUCTION]]></content-text></full>
</transcript>
