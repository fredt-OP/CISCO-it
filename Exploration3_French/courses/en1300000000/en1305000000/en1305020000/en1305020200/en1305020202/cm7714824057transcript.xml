<transcript lastedited="01.06.09 07:01:27">
<title><content-text><![CDATA[5.2.2  - STP BPDU]]></content-text></title>
<brief><content-text><![CDATA[The diagram depicts the BPDU root bridge determination process.<br><br>Network Topology:<br>Three switches, S1, S2, and S3, are interconnected in a full mesh.<br>Switch S1 port F0/1 is connected to S2 port F0/1 (Trunk 1).<br>Switch S2 port F0/2 is connected to S3 port F0/2 (Trunk 2).<br>Switch S3 port F0/1 is connected to S1 port F0/2 (Trunk 3). <br><br>All switches are initially labeled "Root Bridge" and the following information applies.<br><br>Switch S1 Bridge ID:<br>Root ID: 24577.000A00333333<br>Bridge ID: 24577.000A00333333<br>Path Cost = 19<br><br>Switch S2 Bridge ID:<br>Root ID: 32769.000A00111111<br>Bridge ID: 32769.000A00111111<br>Path Cost = 19<br><br>Switch S3 Bridge ID:<br>Root ID: 32769.000A00222222<br>Bridge ID: 32769.000A00222222<br>Path Cost = 19<br><br>Step 1: Switch S2 forwards BPDU frames out of all switch ports. The BPDU frame contains the bridge ID and the root ID of switch S2, indicating that it is the root bridge.<br><br>Step 2: Switch S3 compares the received root ID with its own and identifies switch S2 as the lower root ID.<br>Switch S3 updates its root ID with the root ID switch S2.<br>Switch S3 now considers switch S2 as the root bridge.<br>Switch S3 updates the path cost to 19 because the BPDU was received on a Fast Ethernet port. <br><br>Step 3: When S1 compares its root ID with the one in the BPDU frame received from S2, it identifies the local root ID as the lower value and discards the BPDU from S2. Switch S1 still considers itself the root bridge.<br><br>Step 4: Switch S3 forwards BPDU frames out all switch ports. The BPDU frame contains the root ID of switch S2, indicating that it is the root bridge.<br><br>Step 5: Switch S2 compares the received BPDU root ID with its own and identifies that it matches. Switch S2 continues to think it is the root bridge on the network. Switch S2 does not update the path cost.<br><br>Step 6: Switch S1 compares the received BPDU root ID with its own and identifies that its own is lower. Switch S1 continues to think it is the root bridge on the network. Switch S1 does not update the path cost.<br><br>Step 7: Switch S1 forwards BPDU frames out all switch ports. The BPDU frame contains the bridge ID and root ID of switch S1, indicating that it is the root bridge.<br><br>Step 8: Switch S3 compares the received root ID with its own and identifies switch S1 as the lower root ID. Switch S3 updates its root ID with the root ID of switch S1. Switch S3 now considers switch S1 as the root bridge. Switch S3 updates the path cost to 19 because the BPDU was received on a Fast Ethernet port.<br><br>Step 9: Switch S2 compares the received root ID with its own and identifies switch S1 as the lower root ID. Switch S2 updates its root ID with the root ID of switch S1. Switch S2 now considers switch S1 as the root bridge. Switch S2 updates the path cost to 19 because the BPDU was received on a Fast Ethernet port.<br><br>When all BPDU's have been exchanged to determine the root bridge, the following information applies:<br><br>Switch S1 Bridge ID:<br>Root ID: 24577.000A00333333<br>Bridge ID: 24577.000A00333333<br>Path Cost = 19<br><br>Switch S2 Bridge ID:<br>Root ID: 24577.000A00333333<br>Bridge ID: 32769.000A00111111<br>Path Cost = 19<br><br>Switch S3 Bridge ID:<br>Root ID: 24577.000A00333333<br>Bridge ID: 32769.000A00222222<br>Path Cost = 19]]></content-text></brief>
<full><content-text><![CDATA[FULL - NOT FOR PRODUCTION]]></content-text></full>
</transcript>
