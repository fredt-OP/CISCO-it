<chapter type="" id="en1404000000">
<title><content-text>Network Security</content-text></title>
<section type="ChapterIntroduction" id="en1404000000">
<title><content-text>Chapter Introduction</content-text></title>
<topic type="" id="en1404000100">
<title><content-text>Chapter Introduction</content-text></title>
<page type="OneColumn" id="en1404000101">
<content-media type="StaticGraphic" id="cm8213708816">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404000000/en1404000100/en1404000101/cm8213708816.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404000000/en1404000100/en1404000101/cm8213708816text.xml"/></content-media>
<content-text><p>Security has moved to the forefront of <content-link target="{87A658F6-A903-42E4-A602-6FD161885153}" type="glossary">network management</content-link> and implementation. The overall security challenge is to find a balance between two important requirements: the need to open networks to support evolving business opportunities, and the need to protect private, personal, and strategic business information. </p>  <p>The application of an effective security policy is the most important step that an organization can take to protect its network. It provides guidelines about the activities to be carried out and the resources to be used to secure an organization's network. </p>  <p>Layer 2 security is not discussed in this chapter. For information about Layer 2 LAN security measures, refer to the Exploration: Switching and Wireless course.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en1404010000">
<title><content-text>Introduction to Network Security</content-text></title>
<topic type="" id="en1404010100">
<title><content-text>Why is Network Security Important?</content-text></title>
<page type="OneColumn" id="en1404010101">
<content-media type="StaticGraphic" id="cm3390400684">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010100/en1404010101/cm3390400684.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010100/en1404010101/cm3390400684text.xml"/></content-media>
<content-text><p><b>Why is Network Security Important?</b></p> <p>Computer networks have grown in both size and importance in a very short time. If the security of the network is compromised, there could be serious consequences, such as loss of privacy, theft of information, and even legal liability. To make the situation even more challenging, the types of potential threats to network security are always evolving.</p> <p>As e-business and Internet applications continue to grow, finding the balance between being isolated and open is critical. In addition, the rise of mobile commerce and wireless networks demands that security solutions become seamlessly integrated, more transparent, and more flexible.</p> <p>In this chapter you are going to be taken on a whirlwind tour of the world of network security. You will learn about different types of threats, the development of organizational security policies, mitigation techniques, and Cisco IOS software tools to help secure networks. The chapter ends with a look at managing Cisco IOS software images. Although this may not seem like a security issue, Cisco IOS software images and configurations can be deleted. Devices compromised in this way pose security risks. </p></content-text>
</page>
<page type="OneColumn" id="en1404010102">
<content-media type="AnimationPartialScreen" id="cm6190139418">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010100/en1404010102/cm6190139418.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010100/en1404010102/cm6190139418text.xml"/></content-media>
<content-text><p><b>The Increasing Threat to Security</b></p> <p>Over the years, network attack tools and methods have evolved. As shown in the figure, in 1985 an attacker had to have sophisticated computer, programming, and networking knowledge to make use of rudimentary tools and basic attacks. As time went on, and attackers' methods and tools improved, attackers no longer required the same level of sophisticated knowledge. This has effectively lowered the entry-level requirements for attackers. People who previously would not have participated in computer crime are now able to do so.</p> <p>As the types of threats, attacks, and exploits have evolved, various terms have been coined to describe the individuals involved. Some of the most common terms are as follows:</p> <p><ul><li><b>White hat</b>-An individual who looks for vulnerabilities in systems or networks and then reports these vulnerabilities to the owners of the system so that they can be fixed. They are ethically opposed to the abuse of computer systems. A white hat generally focuses on securing IT systems, whereas a black hat (the opposite) would like to break into them.</li><li><b>Hacker</b>-A general term that has historically been used to describe a computer programming expert. More recently, this term is often used in a negative way to describe an individual that attempts to gain unauthorized access to network resources with malicious intent. </li><li><b>Black hat</b>-Another term for individuals who use their knowledge of computer systems to break into systems or networks that they are not authorized to use, usually for personal or financial gain. A cracker is an example of a black hat.</li><li><b>Cracker</b>-A more accurate term to describe someone who tries to gain unauthorized access to network resources with malicious intent. </li><li><b>Phreaker</b>-An individual who manipulates the phone network to cause it to perform a function that is not allowed. A common goal of phreaking is breaking into the phone network, usually through a payphone, to make free long distance calls. </li><li><b>Spammer</b>-An individual who sends large quantities of unsolicited e-mail messages. Spammers often use viruses to take control of home computers and use them to send out their bulk messages. </li><li><b>Phisher</b>-Uses e-mail or other means to trick others into providing sensitive information, such as credit card numbers or passwords. A phisher masquerades as a trusted party that would have a legitimate need for the sensitive information. </li></ul></p> <p><b>Think Like a Attacker</b></p> <p>The attacker's goal is to compromise a network target or an <content-link target="{274C0C4C-530F-4053-B262-7AA8FB6EAB3F}" type="glossary">application</content-link> running within a network. Many attackers use this seven-step process to gain information and state an attack.</p> <p><b>Step 1.</b> Perform footprint analysis (reconnaissance). A company webpage can lead to information, such as the IP addresses of servers. From there, an attacker can build a picture of the security profile or "footprint" of the company.</p> <p><b>Step 2.</b> Enumerate information. An attacker can expand on the footprint by monitoring network traffic with a packet sniffer such as Wireshark, finding information such as version numbers of FTP servers and mail servers. A cross-reference with vulnerability databases exposes the applications of the company to potential exploits.</p> <p><b>Step 3.</b> Manipulate users to gain access. Sometimes employees choose passwords that are easily crackable. In other instances, employees can be duped by talented attackers into giving up sensitive access-related information.</p> <p><b>Step 4.</b> Escalate privileges. After attackers gain basic access, they use their skills to increase their network privileges.</p> <p><b>Step 5.</b> Gather additional passwords and secrets. With improved access privileges, attackers use their talents to gain access to well-guarded, sensitive information.</p> <p><b>Step 6.</b> Install backdoors. Backdoors provide the attacker with a way to enter the system without being detected. The most common backdoor is an open listening TCP or <content-link target="{05BF28E6-1E74-45FE-8916-607BCB06AF12}" type="glossary">UDP</content-link> port.</p> <p><b>Step 7.</b> Leverage the compromised system. After a system is compromised, an attacker uses it to stage attacks on other hosts in the network.</p></content-text>
</page>
<page type="OneColumn" id="en1404010103">
<content-media type="StaticGraphic" id="cm3749710852">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010100/en1404010103/cm3749710852.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010100/en1404010103/cm3749710852text.xml"/></content-media>
<content-text><p><b>Types of Computer Crime</b></p> <p>As security measures have improved over the years, some of the most common types of attacks have diminished in frequency, while new ones have emerged. Conceiving of network security solutions begins with an appreciation of the complete scope of computer crime. These are the most commonly reported acts of computer crime that have network security implications:</p> <p><ul><li>Insider abuse of network access</li><li>Virus</li><li>Mobile device theft</li><li>Phishing where an organization is fraudulently represented as the sender</li><li>Instant messaging misuse</li><li>Denial of service</li><li>Unauthorized access to information</li><li><content-link target="{06A6182B-0D73-49BE-A095-BD8DC56B0101}" type="glossary">Bots</content-link> within the organization</li><li>Theft of customer or employee data</li><li>Abuse of wireless network</li><li>System penetration</li><li>Financial fraud</li><li>Password sniffing</li><li>Key logging</li><li>Website defacement</li><li>Misuse of a public web application</li><li>Theft of proprietary information</li><li>Exploiting the <content-link target="{D04B4192-6987-4644-99F0-C56ACDC19641}" type="glossary">DNS</content-link> server of an organization</li><li>Telecom fraud</li><li>Sabotage</li></ul></p> <p><b>Note:</b> In certain countries, some of these activities may not be a crime, but are still a problem. </p></content-text>
</page>
<page type="OneColumn" id="en1404010104">
<content-media type="AnimationPartialScreen" id="cm4956572386">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010100/en1404010104/cm4956572386.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010100/en1404010104/cm4956572386text.xml"/></content-media>
<content-text><p><b>Open versus Closed Networks</b></p> <p>The overall security challenge facing network administrators is balancing two important needs: keeping networks open to support evolving business requirements and protecting private, personal, and strategic business information.</p> <p>Network security models follow a progressive scale from open-any service is permitted unless it is expressly denied-to restrictive-services are denied by default unless deemed necessary. In the case of the open network, the security risks are self-evident. In the case of the closed network, the rules for what are permitted are defined in the form of a policy by an individual or group in the organization. </p> <p>A change in access policy may be as simple as asking a network administrator to enable a service. Depending on the company, a change could require an amendment to the enterprise security policy before the administrator is allowed to enable the service. For example, a security policy could disallow the use of instant messaging (IM) services, but demand from employees may cause the company to change the policy.</p> <p>An extreme alternative for managing security is to completely close a network from the outside world. A closed network provides connectivity only to trusted known parties and sites. A closed network does not allow a connection to public networks. Because there is no outside connectivity, networks designed in this way are considered safe from outside attacks. However, internal threats still exist. A closed network does little to prevent attacks from within the enterprise.</p></content-text>
</page>
<page type="OneColumn" id="en1404010105">
<content-media type="AnimationPartialScreen" id="cm9060323180">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010100/en1404010105/cm9060323180.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010100/en1404010105/cm9060323180text.xml"/></content-media>
<content-text><p><b>Developing a Security Policy</b></p> <p>The first step any organization should take to protect its data and itself from a liability challenge is to develop a security policy. A policy is a set of principles that guide decision-making processes and enable leaders in an organization to distribute authority confidently. RFC2196 states that a "security policy is a formal statement of the rules by which people who are given access to an organization's technology and information assets must abide." A security policy can be as simple as a brief Acceptable Use Policy for network resources, or it can be several hundred pages long and detail every element of connectivity and associated policies.</p> <p>A security policy meets these goals:</p> <p><ul><li>Informs users, staff, and managers of their obligatory requirements for protecting technology and information assets</li><li>Specifies the mechanisms through which these requirements can be met</li><li>Provides a baseline from which to acquire, configure, and audit computer systems and networks for compliance with the policy </li></ul></p> <p>Assembling a security policy can be daunting if it is undertaken without guidance. For this reason, the International Organization for Standardization (ISO) and the <content-link target="{951E8F43-FD2F-4812-B59B-D43C24D103B7}" type="glossary">International Electrotechnical Commission</content-link> (<content-link target="{A4BB164A-BFD0-49A2-AA02-C4DC06D20E18}" type="glossary">IEC</content-link>) have published a security standard document called ISO/IEC 27002. This document refers specifically to information technology and outlines a code of practice for information security management. </p> <p>ISO/IEC 27002 is intended to be a common basis and practical guideline for developing organizational security standards and effective security management practices. The document consists of 12 sections:</p> <p><ul><li>Risk assessment </li><li>Security policy </li><li>Organization of information security </li><li>Asset management </li><li>Human resources security </li><li>Physical and environmental security </li><li>Communications and operations management </li><li>Access control </li><li>Information systems acquisition, development, and maintenance </li><li>Information security incident management </li><li>Business continuity management </li><li>Compliance</li></ul></p> <p>This chapter focuses on the security policy section. To read about all the sections, visit <content-link target="http://en.wikipedia.org/wiki/ISO/IEC_27002" type="external">http://en.wikipedia.org/wiki/ISO/IEC_27002</content-link>. The development of the network security policy document is discussed in topic 4.1.5 "The Network Security Wheel" and topic 4.1.6 "The Enterprise Security Policy."</p></content-text>
</page>
</topic>
<topic type="" id="en1404010200">
<title><content-text>Common Security Threats</content-text></title>
<page type="OneColumn" id="en1404010201">
<content-media type="StaticGraphic" id="cm6491472568">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010200/en1404010201/cm6491472568.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010200/en1404010201/cm6491472568text.xml"/></content-media>
<content-text><p><b>Vulnerabilities</b></p> <p>When discussing network security, three common factors are vulnerability, threat, and attack. </p> <p>Vulnerability is the degree of weakness which is inherent in every network and device. This includes routers, switches, desktops, servers, and even security devices. </p> <p>Threats are the people interested and qualified in taking advantage of each security weakness. Such individuals can be expected to continually search for new exploits and weaknesses. </p> <p>The threats use a variety of tools, scripts, and programs to launch attacks against networks and network devices. Typically, the network devices under attack are the endpoints, such as servers and desktop computers.</p> <p>There are three primary vulnerabilities or weaknesses: </p> <p><ul><li>Technological weaknesses </li><li>Configuration weaknesses </li><li>Security policy weaknesses</li></ul></p> <p><b>Click the Technology button in the figure. </b></p> <p>Computer and network technologies have intrinsic security weaknesses. These include TCP/IP protocol, operating system, and network equipment weaknesses. </p> <p> </p> <p><b>Click the Configuration button in the figure. </b></p> <p> </p> <p>Network administrators or network engineers need to learn what the configuration weaknesses are and correctly configure their computing and network devices to compensate. </p> <p> </p> <p><b>Click the Policy button in the figure. </b></p> <p> </p> <p>Security risks to the network exist if users do not follow the security policy. Some common security policy weaknesses and how those weaknesses are exploited are listed in the figure. </p></content-text>
</page>
<page type="OneColumn" id="en1404010202">
<content-media type="InteractiveGraphicHotspots" id="cm7616940132">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010200/en1404010202/cm7616940132.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010200/en1404010202/cm7616940132text.xml"/></content-media>
<content-text><p><b>Threats to Physical Infrastructure</b></p> <p>When you think of network security, or even computer security, you may imagine attackers exploiting software vulnerabilities. A less glamorous, but no less important, class of threat is the physical security of devices. An attacker can deny the use of network resources if those resources can be physically compromised.</p> <p>The four classes of physical threats are:</p> <p><ul><li><b>Hardware threats</b>-Physical damage to servers, routers, switches, cabling plant, and workstations</li><li><b>Environmental threats</b>-Temperature extremes (too hot or too cold) or humidity extremes (too wet or too dry)</li><li><b>Electrical threats</b>-Voltage <content-link target="{1D78CB24-6F7B-4B39-BDBD-08BC3C00A2E1}" type="glossary">spikes</content-link>, insufficient supply voltage (brownouts), unconditioned power (<content-link target="{0CA53051-6650-426D-B13D-2ED9CDFB107D}" type="glossary">noise</content-link>), and total power loss</li><li><b>Maintenance threats</b>-Poor handling of key electrical components (<content-link target="{DADDEF15-492D-473A-9AC9-483914680BF2}" type="glossary">electrostatic discharge</content-link>), lack of critical spare parts, poor cabling, and poor labeling</li></ul></p> <p>Some of these issues must be dealt with in an organizational policy. Some of them are subject to good leadership and management in the organization. The consequences of bad luck can wreak havoc in a network if the physical security is not sufficiently prepared. </p> <p>Here are some ways to mitigate physical threats: </p> <p><ul><li>Hardware threat mitigation </li><li>Environmental threat mitigation </li><li>Electrical threat mitigation </li></ul></p> <p><b>Click the Hardware button in the figure. </b></p> <p><b>Hardware threat mitigation</b> </p> <p>Lock the wiring closet and only allow access to authorized personnel. Block access through any dropped ceiling, raised floor, window, ductwork, or point of entry other than the secured access point. Use electronic access control, and log all entry attempts. Monitor facilities with security cameras. </p> <p><b>Click the Environmental button in the figure. </b></p> <p><b>Environmental threat mitigation </b></p> <p>Create a proper operating environment through temperature control, humidity control, positive air flow, remote environmental alarming, and recording and monitoring. </p> <p><b>Click the Electrical button in the figure. </b></p> <p><b>Electrical threat mitigation </b></p> <p>Limit electrical supply problems by installing UPS systems and generator sets, following a preventative maintenance plan, installing redundant power supplies, and performing remote alarming and monitoring. </p> <p><b>Click the Maintenance button in the figure.</b></p> <p><b>Maintenance threat mitigation</b></p> <p>Maintenance-related threat mitigation-Use neat cable runs, label critical cables and components, use electrostatic discharge procedures, stock critical spares, and control access to <content-link target="{6DF71362-6554-48E2-A9C3-399BF3BEE1FF}" type="glossary">console</content-link> ports.</p></content-text>
</page>
<page type="OneColumn" id="en1404010203">
<content-media type="InteractiveGraphicHotspots" id="cm2657534423">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010200/en1404010203/cm2657534423.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010200/en1404010203/cm2657534423text.xml"/></content-media>
<content-text><p><b>Threats to Networks</b></p> <p>Earlier in this chapter the common computer crimes that have implications for network security were listed. These crimes can be grouped into four primary classes of threats to networks:</p> <p><b>Unstructured Threats </b></p> <p>Unstructured threats consist of mostly inexperienced individuals using easily available hacking tools, such as shell scripts and password crackers. Even unstructured threats that are only executed with the intent of testing an attacker's skills can do serious damage to a network. For example, if a company website is hacked, the reputation of the company may be damaged. Even if the website is separated from the private information that sits behind a protective firewall, the public does not know that. What the public perceives is that the site might not be a safe environment to conduct business. </p> <p><b>Structured Threats</b> </p> <p>Structured threats come from individuals or groups that are more highly motivated and technically competent. These people know system vulnerabilities and use sophisticated hacking techniques to penetrate unsuspecting businesses. They break into business and government computers to commit fraud, destroy or alter records, or simply to create havoc. These groups are often involved with the major fraud and theft cases reported to law enforcement agencies. Their hacking is so complex and sophisticated that only specially trained investigators understand what is happening.</p> <p>In 1995, Kevin Mitnick was convicted of accessing interstate computers in the United States for criminal purposes. He broke into the California Department of Motor Vehicles database, routinely took control of New York and California telephone switching hubs, and stole credit card numbers. He inspired the 1983 movie "War Games."</p> <p><b>External Threats </b></p> <p>External threats can arise from individuals or organizations working outside of a company who do not have authorized access to the computer systems or network. They work their way into a network mainly from the Internet or dialup access servers. External threats can vary in severity depending on the expertise of the attacker-either amateurish (unstructured) or expert (structured).</p> <p><b>Internal Threats </b></p> <p>Internal threats occur when someone has authorized access to the network with either an account or physical access. Just as for external threats, the severity of an internal threat depends on the expertise of the attacker.</p></content-text>
</page>
<page type="OneColumn" id="en1404010204">
<content-media type="StaticGraphic" id="cm6645924410">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010200/en1404010204/cm6645924410.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010200/en1404010204/cm6645924410text.xml"/></content-media>
<content-text><p><b>Social Engineering</b></p> <p>The easiest hack involves no computer skill at all. If an intruder can trick a member of an organization into giving over valuable information, such as the location of files or passwords, the process of hacking is made much easier. This type of attack is called social engineering, and it preys on personal vulnerabilities that can be discovered by talented attackers. It can include appeals to the ego of an employee, or it can be a disguised person or faked document that causes someone to provide sensitive information.</p> <p>Phishing is a type of social engineering attack that involves using e-mail or other types of messages in an attempt to trick others into providing sensitive information, such as credit card numbers or passwords. The phisher masquerades as a trusted party that has a seemingly legitimate need for the sensitive information. </p> <p>Frequently, phishing scams involve sending out spam e-mails that appear to be from known online banking or auction sites. The figure shows a replica of such an e-mail. The actual company used as the lure in this example has been changed. These e-mails contain hyperlinks that appear to be legitimate, but actually take users to a fake website set up by the phisher to capture their information. The site appears to belong to the party that was faked in the e-mail. When the user enters the information, it is recorded for the phisher to use.</p> <p>Phishing attacks can be prevented by educating users and implementing reporting guidelines when they receive suspicious e-mail. Administrators can also block access to certain web sites and configure filters that block suspicious e-mail. </p></content-text>
</page>
</topic>
<topic type="" id="en1404010300">
<title><content-text>Types of Network Attacks</content-text></title>
<page type="OneColumn" id="en1404010301">
<content-media type="InteractiveGraphicHotspots" id="cm1101607083">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010300/en1404010301/cm1101607083.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010300/en1404010301/cm1101607083text.xml"/></content-media>
<content-text><p><b>Types of Network Attacks</b></p> <p>There are four primary classes of attacks.</p> <p><b>Reconnaissance</b></p> <p>Reconnaissance is the unauthorized discovery and mapping of systems, services, or vulnerabilities. It is also known as information gathering and, in most cases, it precedes another type of attack. Reconnaissance is similar to a thief casing a neighborhood for vulnerable homes to break into, such as an unoccupied residence, easy-to-open doors, or open windows.</p> <p><b>Access</b></p> <p>System access is the ability for an intruder to gain access to a device for which the intruder does not have an account or a password. Entering or accessing systems usually involves running a hack, script, or tool that exploits a known vulnerability of the system or application being attacked.</p> <p><b>Denial of Service</b></p> <p>Denial of service (DoS) is when an attacker disables or corrupts networks, systems, or services with the intent to deny services to intended users. DoS attacks involve either crashing the system or slowing it down to the point that it is unusable. But DoS can also be as simple as deleting or corrupting information. In most cases, performing the attack involves simply running a hack or script. For these reasons, DoS attacks are the most feared.</p> <p><b>Worms, Viruses, and Trojan Horses</b></p> <p>Malicious software can be inserted onto a host to damage or corrupt a system, replicate itself, or deny access to networks, systems, or services. Common names for this type of software are worms, viruses, and Trojan horses.</p></content-text>
</page>
<page type="OneColumn" id="en1404010302">
<content-media type="StaticGraphic" id="cm2459016624">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010300/en1404010302/cm2459016624.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010300/en1404010302/cm2459016624text.xml"/></content-media>
<content-text><p><b>Reconnaissance Attacks</b></p> <p> </p> <p>Reconnaissance attacks can consist of the following:</p> <p><ul><li>Internet information queries</li><li><content-link target="{0ED3143D-B57D-48E3-B044-B3672F186AC8}" type="glossary">Ping</content-link> sweeps</li><li>Port scans</li><li>Packet sniffers</li></ul></p> <p>External attackers can use Internet tools, such as the nslookup and whois utilities, to easily determine the IP address space assigned to a given corporation or entity. After the IP address space is determined, an attacker can then ping the publicly available IP addresses to identify the addresses that are active. To help automate this step, an attacker may use a ping sweep tool, such as fping or gping, which systematically pings all network addresses in a given range or subnet. This is similar to going through a section of a telephone book and calling each number to see who answers. </p> <p>When the active IP addresses are identified, the intruder uses a port scanner to determine which network services or ports are active on the live IP addresses. A port scanner is software, such as Nmap or Superscan, that is designed to search a network host for open ports. The port scanner queries the ports to determine the application type and version, as well as the type and version of operating system (OS) running on the target host. Based on this information, the intruder can determine if a possible vulnerability that can be exploited exists. As shown in the figure, a network exploration tool such as Nmap can be used to conduct host discovery, port scanning, version detection, and OS detection. Many of these tools are available and easy to use.</p> <p>Internal attackers may attempt to "eavesdrop" on network traffic. </p> <p>Network snooping and packet sniffing are common terms for eavesdropping. The information gathered by eavesdropping can be used to pose other attacks to the network.</p> <p>Two common uses of eavesdropping are as follows:</p> <p><ul><li><b>Information gathering</b>-Network intruders can identify usernames, passwords, or information carried in a packet. </li><li><b>Information theft</b>-The theft can occur as data is transmitted over the internal or external network. The network intruder can also steal data from networked computers by gaining unauthorized access. Examples include breaking into or eavesdropping on financial institutions and obtaining credit card numbers. </li></ul></p> <p>An example of data susceptible to eavesdropping is <content-link target="{EAAB3788-F914-4994-861D-BCE100321A88}" type="glossary">SNMP</content-link> version 1 <content-link target="{D495A583-99B7-4B74-A6E8-3F4BD20500E7}" type="glossary">community strings</content-link>, which are sent in clear text. SNMP is a management protocol that provides a means for network devices to collect information about their status and to send it to an administrator. An intruder could eavesdrop on SNMP queries and gather valuable data on network equipment configuration. Another example is the capture of usernames and passwords as they cross a network.</p> <p>A common method for eavesdropping on communications is to capture TCP/IP or other protocol packets and decode the contents using a <content-link target="{C459DF2F-5999-42BC-B07A-0C536FB7F601}" type="glossary">protocol analyzer</content-link> or similar utility. An example of such a program is Wireshark, which you have been using extensively throughout the Exploration courses. After packets are captured, they can be examined for vulnerable information.</p> <p>Three of the most effective methods for counteracting eavesdropping are as follows:</p> <p><ul><li>Using switched networks instead of hubs so that traffic is not broadcast to all endpoints or network hosts.</li><li>Using encryption that meets the data security needs of the organization without imposing an excessive burden on system resources or users.</li><li>Implementing and enforcing a policy directive that forbids the use of protocols with known susceptibilities to eavesdropping. For example, SNMP version 3 can encrypt community strings, so a company could forbid using SNMP version 1, but permit SNMP version 3.</li></ul></p> <p>Encryption provides protection for data susceptible to eavesdropping attacks, password crackers, or manipulation. Almost every company has transactions that could have negative consequences if viewed by an eavesdropper. Encryption ensures that when sensitive data passes over a medium susceptible to eavesdropping, it cannot be altered or observed. <content-link target="{E4482451-0417-4A56-8BCD-1BF322A320FB}" type="glossary">Decryption</content-link> is necessary when the data reaches the destination host. </p> <p>One method of encryption is called payload-only encryption. This method encrypts the payload section (data section) after a <content-link target="{B78495B3-6CCA-4415-A71C-D5B357921047}" type="glossary">User Datagram Protocol</content-link> (<content-link target="{05BF28E6-1E74-45FE-8916-607BCB06AF12}" type="glossary">UDP</content-link>) or TCP header. This enables Cisco IOS routers and switches to read the Network layer information and forward the traffic as any other IP packet. Payload-only encryption allows flow switching and all access-list features to work with the encrypted traffic just as they would with plain text traffic, thereby preserving desired <content-link target="{88B02D6D-0BBA-4BC4-B919-8E1BAC540673}" type="glossary">quality of service</content-link> (<content-link target="{38449E29-EDA0-4A5D-AB6B-CB5C64124CDB}" type="glossary">QoS</content-link>) for all data.</p></content-text>
</page>
<page type="OneColumn" id="en1404010303">
<content-media type="StaticGraphic" id="cm4384281654">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010300/en1404010303/cm4384281654.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010300/en1404010303/cm4384281654text.xml"/></content-media>
<content-text><p><b>Access Attacks</b></p> <p>Access attacks exploit known vulnerabilities in authentication services, FTP services, and web services to gain entry to web accounts, confidential databases, and other sensitive information. </p> <p><b>Password Attacks </b></p> <p>Password attacks can be implemented using a packet sniffer to yield user accounts and passwords that are transmitted as clear text. Password attacks usually refer to repeated attempts to log in to a shared resource, such as a server or router, to identify a user account, password, or both. These repeated attempts are called dictionary attacks or brute-force attacks.</p> <p>To conduct a dictionary attack, attackers can use tools such as L0phtCrack or Cain. These programs repeatedly attempt to log in as a user using words derived from a dictionary. Dictionary attacks often succeed because users have a tendency to choose simple passwords that are short, single words or are simple variations that are easy to predict, such as adding the number 1 to a word.</p> <p>Another password attack method uses rainbow tables. A rainbow table is precomputed series of passwords which is constructed by building chains of possible plaintext passwords. Each chain is developed by starting with a randomly selected "guess" of the plaintext password and then successively applying variations on it. The attack software will apply the passwords in the rainbow table until it solves the password. To conduct a rainbow table attack, attackers can use a tool such as L0phtCrack.</p> <p>A brute-force attack tool is more sophisticated because it searches exhaustively using combinations of character sets to compute every possible password made up of those characters. The downside is that more time is required for completion of this type of attack. Brute-force attack tools have been known to solve simple passwords in less than a minute. Longer, more complex passwords may take days or weeks to resolve.</p> <p>Password attacks can be mitigated by educating users to use complex passwords and specifying minimum password lengths. Brute-force attacks could be mitigated by restricting the number of failed login attempts. However, a brute-force attack can also be performed offline. For example, if an attacker snoops an encrypted password, either through eavesdropping or by accessing a configuration file, the attacker could then attempt to resolve the password without actually being connected to the host.</p> <p><b>Trust Exploitation</b></p> <p>The goal of a trust exploitation attack is to compromise a trusted host, using it to stage attacks on other hosts in a network. If a host in a network of a company is protected by a firewall (inside host), but is accessible to a trusted host outside the firewall (outside host), the inside host can be attacked through the trusted outside host.</p> <p>The means used by attackers to gain access to the trusted outside host as well as the details of trust exploitation are not discussed in this chapter. For information about trust exploitation, refer to the course Networking Academy Network Security course. </p> <p>Trust exploitation-based attacks can be mitigated through tight constraints on trust levels within a network, for example, private VLANs can be deployed in public-service segments where multiple public servers are available. Systems on the outside of a firewall should never be absolutely trusted by systems on the inside of a firewall. Such trust should be limited to specific protocols and should be authenticated by something other than an IP address, where possible. </p> <p><b>Port Redirection </b></p> <p>A port redirection attack is a type of trust exploitation attack that uses a compromised host to pass traffic through a firewall that would otherwise be blocked. </p> <p>Consider a firewall with three interfaces and a host on each interface. The host on the outside can reach the host on the public services segment, but not the host on the inside. This publicly accessible segment is commonly referred to as a demilitarized zone (DMZ). The host on the public services segment can reach the host on both the outside and the inside. If attackers were able to compromise the public services segment host, they could install software to redirect traffic from the outside host directly to the inside host. Although neither communication violates the rules implemented in the firewall, the outside host has now achieved connectivity to the inside host through the port redirection process on the public services host. An example of a utility that can provide this type of access is netcat.</p> <p>Port redirection can be mitigated primarily through the use of proper trust models, which are network specific (as mentioned earlier). When a system is under attack, a host-based intrusion detection system (IDS) can help detect an attacker and prevent installation of such utilities on a host.</p> <p><b>Man-in-the-Middle Attack </b></p> <p>A man-in-the-middle (MITM) attack is carried out by attackers that manage to position themselves between two legitimate hosts. The attacker may allow the normal transactions between hosts to occur, and only periodically manipulate the conversation between the two.</p> <p>There are many ways that an attacker gets position between two hosts. The details of these methods are beyond the scope of this course, but a brief description of one popular method, the transparent <content-link target="{2DD75695-8E64-48D4-8726-7CEF12AB7F13}" type="glossary">proxy</content-link>, helps illustrate the nature of MITM attacks.</p> <p>In a transparent proxy attack, an attacker may catch a victim with a phishing e-mail or by defacing a website. Then the <content-link target="{189C23EC-BAD7-4B8E-8056-8324AC2DB7DA}" type="glossary">URL</content-link> of a legitimate website has the attackers URL added to the front of it (prepended). For instance http:www.legitimate.com becomes http:www.attacker.com/http://www.legitimate.com. </p>  <p>1. When a victim requests a webpage, the host of the victim makes the request to the host of the attacker's. </p> <p>2. The attacker's host receives the request and fetches the real page from the legitimate website. </p> <p>3. The attacker can alter the legitimate webpage and apply any transformations to the data they want to make. </p> <p>4. The attacker forwards the requested page to the victim. </p> <p>Other sorts of MITM attacks are potentially even more harmful. If attackers manage to get into a strategic position, they can steal information, hijack an ongoing session to gain access to private network resources, conduct DoS attacks, corrupt transmitted data, or introduce new information into network sessions.</p> <p>WAN MITM attack mitigation is achieved by using VPN tunnels, which allow the attacker to see only the encrypted, undecipherable text. LAN MITM attacks use such tools as ettercap and ARP poisoning. Most LAN MITM attack mitigation can usually be mitigated by configuring port security on LAN switches.</p></content-text>
</page>
<page type="OneColumn" id="en1404010304">
<content-media type="StaticGraphic" id="cm3784196061">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010300/en1404010304/cm3784196061.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010300/en1404010304/cm3784196061text.xml"/></content-media>
<content-text><p><b>DoS Attacks</b></p> <p>DoS attacks are the most publicized form of attack and also among the most difficult to eliminate. Even within the attacker community, DoS attacks are regarded as trivial and considered bad form, because they require so little effort to execute. But because of their ease of implementation and potentially significant damage, DoS attacks deserve special attention from security administrators.</p> <p>DoS attacks take many forms. Ultimately, they prevent authorized people from using a service by consuming system resources. The following are some examples of common DoS threats:</p> <p><b>Click the Ping of Death button in the figure.</b></p> <p>A ping of death attack gained popularity back in the late 1990s. It took advantage of vulnerabilities in older operating systems. This attack modified the IP portion of a ping packet header to indicate that there is more data in the packet than there actually was. A ping is normally 64 to 84 bytes, while a ping of death could be up to 65,535 bytes. Sending a ping of this size may crash an older target computer. Most networks are no longer susceptible to this type of attack.</p> <p><b>Click the SYN Flood button in the figure.</b></p> <p>A SYN flood attack exploits the TCP three-way handshake. It involves sending multiple SYN requests (1,000+) to a targeted server. The server replies with the usual SYN-ACK response, but the malicious host never responds with the final ACK to complete the handshake. This ties up the server until it eventually runs out of resources and cannot respond to a valid host request. </p> <p>Other types of DoS attacks include: </p> <p><ul><li><b>E-mail bombs</b> - Programs send bulk e-mails to individuals, lists, or domains, monopolizing e-mail services. </li><li><b>Malicious applets</b> - These attacks are Java, JavaScript, or ActiveX programs that cause destruction or tie up computer resources.</li></ul></p> <p><b>DDos Attacks</b></p> <p>Distributed DoS (DDoS) attacks are designed to saturate network links with illegitimate data. This data can overwhelm an Internet link, causing legitimate traffic to be dropped. DDoS uses attack methods similar to standard DoS attacks, but operates on a much larger scale. Typically, hundreds or thousands of attack points attempt to overwhelm a target. </p> <p><b>Click the DDoS button in the figure.</b></p> <p>Typically, there are three components to a DDoS attack.</p> <p><ul><li>There is a Client who is typically a person who launches the attack.</li><li>A Handler is a compromised host that is running the attacker program and each Handler is capable of controlling multiple Agents</li><li>An Agent is a compromised host that is running the attacker program and is responsible for generating a stream of packets that is directed toward the intended victim</li></ul></p> <p>Examples of DDoS attacks include the following:</p> <p><ul><li>SMURF attack</li><li>Tribe flood network (TFN)</li><li>Stacheldraht</li><li>MyDoom</li></ul></p> <p><b>Click the Smurf Attack button in the figure.</b></p> <p>The Smurf attack uses spoofed broadcast ping messages to flood a target system. It starts with an attacker sending a large number of ICMP echo requests to the network broadcast address from valid spoofed source IP addresses. A router could perform the Layer 3 broadcast-to-Layer 2 broadcast function, most hosts will each respond with an ICMP echo reply, multiplying the traffic by the number of hosts responding. On a multi-access broadcast network, there could potentially be hundreds of machines replying to each echo packet. </p> <p>For example, assume that the network has 100 hosts and that the attacker has a high performance T1 link. The attacker sends a 768 kb/s stream of ICMP echo requests packets with a spoofed <content-link target="{FDD8B313-56F4-4B39-92E9-AEE0D7AEC896}" type="glossary">source address</content-link> of the victim to the broadcast address of a targeted network (referred to as a bounce site). These ping packets hit the bounce site on the broadcast network of 100 hosts, and each of them takes the packet and responds to it, creating 100 outbound ping replies. A total of 76.8 <content-link target="{E0EBA257-BD39-4007-8315-B387F5583116}" type="glossary">megabits per second</content-link> (Mb/s) of bandwidth is used outbound from the bounce site after the traffic is multiplied. This is then sent to the victim or the spoofed source of the originating packets.</p> <p>Turning off directed broadcast capability in the network infrastructure prevents the network from being used as a bounce site. Directed broadcast capability is now turned off by default in Cisco IOS software since version 12.0.</p> <p>DoS and DDoS attacks can be mitigated by implementing special anti-spoof and anti-DoS <content-link target="{4F9FC98B-6567-428C-B6B4-69BD3C324614}" type="glossary">access control lists</content-link>. ISPs can also implement traffic rate, limiting the amount of nonessential traffic that crosses network segments. A common example is to limit the amount of <content-link target="{44396E37-F1F9-4F3D-97AF-EA59F365C8F9}" type="glossary">ICMP</content-link> traffic that is allowed into a network, because this traffic is used only for diagnostic purposes.</p> <p>Details of the operation of these attacks is beyond the scope of this course. For more information, refer to the Networking Academy Network Security course.</p></content-text>
</page>
<page type="OneColumn" id="en1404010305">
<content-media type="StaticGraphic" id="cm9373680670">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010300/en1404010305/cm9373680670.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010300/en1404010305/cm9373680670text.xml"/></content-media>
<content-text><p><b>Malicious Code Attacks</b></p> <p>The primary vulnerabilities for end-user workstations are worm, virus, and Trojan horse attacks. </p> <p>A worm executes code and installs copies of itself in the memory of the infected computer, which can, in turn, infect other hosts. </p> <p>A virus is malicious software that is attached to another program for the purpose of executing a particular unwanted function on a workstation. </p> <p>A Trojan horse is different from a worm or virus only in that the entire application was written to look like something else, when in fact it is an attack tool.</p> <p><b>Worms </b></p> <p>The anatomy of a worm attack is as follows:</p> <p><ul><li><b>The enabling vulnerability</b>-A worm installs itself by exploiting known vulnerabilities in systems, such as naive end users who open unverified executable attachments in e-mails.</li><li><b>Propagation mechanism</b>-After gaining access to a host, a worm copies itself to that host and then selects new targets. </li><li><b>Payload</b>-Once a host is infected with a worm, the attacker has access to the host, often as a privileged user. Attackers could use a local exploit to escalate their privilege level to administrator. </li></ul></p> <p>Typically, worms are self-contained programs that attack a system and try to exploit a specific vulnerability in the target. Upon successful exploitation of the vulnerability, the worm copies its program from the attacking host to the newly exploited system to begin the cycle again. In January 2007, a worm infected the popular MySpace community. Unsuspecting users enabled propagation of the worm, which began to replicate itself on user sites with the defacement "w0rm.EricAndrew".</p> <p>Worm attack mitigation requires diligence on the part of system and network administration staff. Coordination between system administration, network engineering, and security operations personnel is critical in responding effectively to a worm incident. The following are the recommended steps for worm attack mitigation:</p> <p><ul><li><b>Containment</b>-Contain the spread of the worm in and within the network. Compartmentalize uninfected parts of the network.</li><li><b>Inoculation</b>-Start patching all systems and, if possible, scanning for vulnerable systems.</li><li><b>Quarantine</b>-Track down each infected machine inside the network. Disconnect, remove, or block infected machines from the network.</li><li><b>Treatment</b>-Clean and patch each infected system. Some worms may require complete core system reinstallations to clean the system.</li></ul></p> <p><b>Viruses and Trojan Horses </b></p> <p>A virus is malicious software that is attached to another program to execute a particular unwanted function on a workstation. An example is a program that is attached to command.com (the primary interpreter for Windows systems) and deletes certain files and infects any other versions of command.com that it can find.</p> <p>A Trojan horse is different only in that the entire application was written to look like something else, when in fact it is an attack tool. An example of a Trojan horse is a software application that runs a simple game on a workstation. While the user is occupied with the game, the Trojan horse mails a copy of itself to every address in the user's address book. The other users receive the game and play it, thereby spreading the Trojan horse to the addresses in each address book.</p> <p>A virus normally requires a delivery mechanism-a vector-such as a zip file or some other executable file attached to an e-mail, to carry the virus code from one system to another. The key element that distinguishes a computer worm from a computer virus is that human interaction is required to facilitate the spread of a virus.</p> <p>These kinds of applications can be contained through the effective use of antivirus software at the user level, and potentially at the network level. Antivirus software can detect most viruses and many Trojan horse applications and prevent them from spreading in the network. Keeping up to date with the latest developments in these sorts of attacks can also lead to a more effective posture toward these attacks. As new virus or Trojan applications are released, enterprises need to keep current with the latest versions of antivirus software.</p> <p>Sub7, or subseven, is a common Trojan horse that installs a backdoor program on user systems. It is popular for both unstructured and structured attacks. As an unstructured threat, inexperienced attackers can use the program to cause mouse cursers to disappear. As a structured threat, crackers can use it to install keystroke loggers (programs that record all user keystrokes) to capture sensitive information.</p></content-text>
</page>
</topic>
<topic type="" id="en1404010400">
<title><content-text>General Mitigation Techniques</content-text></title>
<page type="OneColumn" id="en1404010401">
<content-media type="StaticGraphic" id="cm6797656359">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010400/en1404010401/cm6797656359.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010400/en1404010401/cm6797656359text.xml"/></content-media>
<content-text><p><b>Host and Server Based Security</b></p> <p><b>Device Hardening</b></p> <p>When a new operating system is installed on a computer, the security settings are set to the default values. In most cases, this level of security is inadequate. There are some simple steps that should be taken that apply to most operating systems:</p> <p><ul><li>Default usernames and passwords should be changed immediately. </li><li>Access to system resources should be restricted to only the individuals that are authorized to use those resources. </li><li>Any unnecessary services and applications should be turned off and uninstalled, when possible.</li></ul></p> <p>Section 4.2 "Securing Cisco Routers" describes device hardening in more detail.</p> <p>It is critical to protect network hosts, such as workstation PCs and servers. These hosts need to be secured as they are added to the network, and should be updated with security patches as these updates become available. Additional steps can be taken to secure these hosts. Antivirus, firewall, and intrusion detection are valuable tools that can be used to secure network hosts. Because many business resources may be contained on a single file server, it is especially important for servers to be accessible and available. </p> <p><b>Antivirus Software </b></p> <p>Install host antivirus software to protect against known viruses. Antivirus software can detect most viruses and many Trojan horse applications, and prevent them from spreading in the network.</p> <p>Antivirus software does this in two ways:</p> <p><ul><li>It scans files, comparing their contents to known viruses in a virus dictionary. Matches are flagged in a manner defined by the end user.</li><li>It monitors suspicious processes running on a host that might indicate infection. This monitoring may include data captures, port monitoring, and other methods.</li></ul></p> <p>Most commercial antivirus software uses both of these approaches. </p> <p><b>Click the Antivirus button in the figure.</b></p> <p>Update antivirus software vigilantly.</p> <p><b>Personal Firewall </b></p> <p>Personal computers connected to the Internet through a dialup connection, DSL, or cable modems are as vulnerable as corporate networks. Personal firewalls reside on the PC of the user and attempt to prevent attacks. Personal firewalls are not designed for LAN implementations, such as appliance-based or server-based firewalls, and they may prevent network access if installed with other networking clients, services, protocols, or adapters. </p> <p><b>Click the Personal Firewalls button in the figure.</b></p> <p>Some personal firewall software vendors include McAfee, Norton, Symantec, and Zone Labs.</p> <p><b>Operating System Patches </b></p> <p>The most effective way to mitigate a worm and its variants is to download security updates from the operating system vendor and patch all vulnerable systems. This is difficult with uncontrolled user systems in the local network, and even more troublesome if these systems are remotely connected to the network via a virtual private network (VPN) or remote access server (RAS). Administering numerous systems involves the creation of a standard software image (operating system and accredited applications that are authorized for use on deployed client systems) that is deployed on new or upgraded systems. These images may not contain the latest patches, and the process of continually remaking the image to integrate the latest patch may quickly become administratively time-consuming. Pushing patches out to all systems requires that those systems be connected in some way to the network, which may not be possible.</p> <p>One solution to the management of critical security patches is to create a central patch server that all systems must communicate with after a set period of time. Any patches that are not applied to a host are automatically downloaded from the patch server and installed without user intervention. </p> <p>In addition to performing security updates from the OS vendor, determining which devices are exploitable can be simplified by the use of security auditing tools that look for vulnerabilities.</p> <p><b>Click the OS Patches button in the figure.</b></p></content-text>
</page>
<page type="OneColumn" id="en1404010402">
<content-media type="StaticGraphic" id="cm9995318402">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010400/en1404010402/cm9995318402.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010400/en1404010402/cm9995318402text.xml"/></content-media>
<content-text><p><b>Intrusion Detection and Prevention</b></p> <p>Intrusion detection systems (IDS) detect attacks against a network and send logs to a management console. Intrusion prevention systems (IPS) prevent attacks against the network and should provide the following active defense mechanisms in addition to detection:</p> <p><ul><li><b>Prevention</b>-Stops the detected attack from executing. </li><li><b>Reaction</b>-Immunizes the system from future attacks from a malicious source. </li></ul></p> <p>Either technology can be implemented at a network level or host level, or both for maximum protection.</p> <p><b>Host-based Intrusion Detection Systems</b> </p> <p>Host-based intrusion is typically implemented as inline or passive technology, depending on the vendor. </p> <p>Passive technology, which was the first generation technology, is called a host-based intrusion detection system (HIDS). HIDS sends logs to a management console after the attack has occurred and the damage is done. </p> <p>Inline technology, called a host-based intrusion prevention system (HIPS), actually stops the attack, prevents damage, and blocks the propagation of worms and viruses.</p> <p>Active detection can be set to shut down the network connection or to stop impacted services automatically. Corrective action can be taken immediately. Cisco provides HIPS using the Cisco Security Agent software.</p> <p>HIPS software must be installed on each host, either the server or desktop, to monitor activity performed on and against the host. This software is referred to as agent software. The agent software performs the intrusion detection analysis and prevention. Agent software also sends logs and alerts to a centralized management/policy server.</p> <p>The advantage of HIPS is that it can monitor operating system processes and protect critical system resources, including files that may exist only on that specific host. This means it can notify network managers when some external process tries to modify a system file in a way that may include a hidden back door program.</p> <p>The figure illustrates a typical HIPS deployment. Agents are installed on publicly accessible servers and corporate mail and application servers. The agent reports events to a central console server located inside the corporate firewall. As an alternative, agents on the host can send logs as e-mail to an administrator.</p></content-text>
</page>
<page type="OneColumn" id="en1404010403">
<content-media type="InteractiveGraphicHotspots" id="cm9925351105">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010400/en1404010403/cm9925351105.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010400/en1404010403/cm9925351105text.xml"/></content-media>
<content-text><p><b>Common Security Appliances and Applications</b></p> <p>Security is a top consideration whenever planning a network. In the past, the one device that would come to mind for network security was the firewall. A firewall by itself is no longer adequate for securing a network. An integrated approach involving firewall, intrusion prevention, and VPN is necessary.</p> <p>An integrated approach to security, and the necessary devices to make it happen, follows these building blocks:</p> <p><b>Threat control</b>-Regulates network access, isolates infected systems, prevents intrusions, and protects assets by counteracting malicious traffic, such as worms and viruses. Devices that provide threat control solutions are:</p> <p><ul><li>Cisco ASA 5500 Series Adaptive Security Appliances </li><li>Integrated Services Routers (ISR) </li><li>Network Admission Control </li><li>Cisco Security Agent for Desktops </li><li>Cisco Intrusion Prevention Systems</li></ul></p> <p><b>Secure communications</b>-Secures network endpoints with VPN. The devices that allow an organization to deploy VPN are Cisco ISR routers with Cisco IOS VPN solution, and the Cisco 5500 ASA and Cisco Catalyst 6500 switches.</p> <p><b>Network admission control (<content-link target="{5CA35F2A-073D-445F-821D-ABBA68DB4D66}" type="glossary">NAC</content-link>)</b>-Provides a roles-based method of preventing unauthorized access to a network. Cisco offers a NAC appliance.</p> <p><b>Cisco IOS Software on Cisco Integrated Services Routers (ISRs)</b></p> <p>Cisco provides many of the required security measures for customers within the Cisco IOS software. Cisco IOS software provides built-in Cisco IOS Firewall, IPsec, SSL VPN, and IPS services.</p> <p><b>Cisco ASA 5500 Series Adaptive Security Appliance</b></p> <p>At one time, the PIX firewall was the one device that a secure network would deploy. The PIX has evolved into a platform that integrates many different security features, called the Cisco Adaptive Security Appliance (ASA). The Cisco ASA integrates firewall, voice security, SSL and IPsec VPN, IPS, and content security services in one device.</p> <p><b>Cisco IPS 4200 Series Sensors</b></p> <p>For larger networks, an inline intrusion prevention system is provided by the Cisco IPS 4200 series sensors. This sensor identifies, classifies, and stops malicious traffic on the network.</p> <p><b>Cisco NAC Appliance</b></p> <p>The Cisco NAC appliance uses the network infrastructure to enforce security policy compliance on all devices seeking to access network computing resources.</p> <p><b>Cisco Security Agent (CSA)</b></p> <p>Cisco Security Agent software provides threat protection capabilities for server, desktop, and point-of-service (POS) computing systems. CSA defends these systems against targeted attacks, spyware, rootkits, and day-zero attacks.</p> <p>In-depth coverage of these appliances is beyond the scope of this course. Refer to the CCNP: Implementing Secure Converged Wide-area Networks and the Network Security 1 and 2 courses for more information.</p></content-text>
</page>
</topic>
<topic type="" id="en1404010500">
<title><content-text>The Network Security Wheel</content-text></title>
<page type="OneColumn" id="en1404010501">
<content-media type="StaticGraphic" id="cm7679837506">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010500/en1404010501/cm7679837506.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010500/en1404010501/cm7679837506text.xml"/></content-media>
<content-text><p>Most security incidents occur because system administrators do not implement available countermeasures, and attackers or disgruntled employees exploit the oversight. Therefore, the issue is not just one of confirming that a technical vulnerability exists and finding a countermeasure that works, it is also critical to verify that the countermeasure is in place and working properly.</p> <p>To assist with the compliance of a security policy, the Security Wheel, a continuous process, has proven to be an effective approach. The Security Wheel promotes retesting and reapplying updated security measures on a continuous basis.</p> <p>To begin the Security Wheel process, first develop a security policy that enables the application of security measures. A security policy includes the following:</p> <p><ul><li>Identifies the security objectives of the organization. </li><li>Documents the resources to be protected. </li><li>Identifies the network infrastructure with current maps and inventories. </li><li>Identifies the critical resources that need to be protected, such as research and development, finance, and human resources. This is called a risk analysis.</li></ul></p> <p>The security policy is the hub upon which the four steps of the Security Wheel are based. The steps are secure, monitor, test, and improve.</p> <p><b>Step 1: Secure </b></p> <p>Secure the network by applying the security policy and implementing the following security solutions:</p> <p><ul><li><b>Threat defense</b></li><li><b>Stateful inspection and packet filtering</b>-Filter network traffic to allow only valid traffic and services.</li></ul></p> <p><b>Note:</b> Stateful inspection refers to a firewall keeping information on the state of a connection in a state table so that it can recognize changes in the connection that could mean an attacker is attempting to hijack a session or otherwise manipulate a connection.</p> <p><ul><li><b>Intrusion prevention systems</b>-Deploy at the network and host level to actively stop malicious traffic. </li><li><b>Vulnerability patching</b>-Apply fixes or measures to stop the exploitation of known vulnerabilities. </li><li><b>Disable unnecessary services</b>-The fewer services that are enabled, the harder it is for attackers to gain access. </li></ul></p> <p><b>Secure connectivity</b> </p> <p><ul><li><b>VPNs</b>-Encrypt network traffic to prevent unwanted disclosure to unauthorized or malicious individuals. </li><li><b>Trust and identity</b>-Implement tight constraints on trust levels within a network. For example, systems on the outside of a firewall should never be absolutely trusted by systems on the inside of a firewall. </li><li><b>Authentication</b>-Give access to authorized users only. One example of this is using one-time passwords. </li><li><b>Policy enforcement</b>-Ensure that users and end devices are in compliance with the corporate policy.</li></ul></p> <p><b>Step 2: Monitor </b></p> <p>Monitoring security involves both active and passive methods of detecting security violations. The most commonly used active method is to audit host-level log files. Most operating systems include auditing functionality. System administrators must enable the audit system for every host on the network and take the time to check and interpret the log file entries.</p> <p>Passive methods include using IDS devices to automatically detect intrusion. This method requires less attention from network security administrators than active methods. These systems can detect security violations in real time and can be configured to automatically respond before an intruder does any damage.</p> <p>An added benefit of network monitoring is the verification that the security measures implemented in step 1 of the Security Wheel have been configured and are working properly.</p> <p><b>Step 3: Test </b></p> <p>In the testing phase of the Security Wheel, the security measures are proactively tested. Specifically, the functionality of the security solutions implemented in step 1 and the system auditing and intrusion detection methods implemented in step 2 are verified. Vulnerability assessment tools such as SATAN, Nessus, or Nmap are useful for periodically testing the network security measures at the network and host level.</p> <p><b>Step 4: Improve </b></p> <p>The improvement phase of the Security Wheel involves analyzing the data collected during the monitoring and testing phases. This analysis contributes to developing and implementing improvement mechanisms that augment the security policy and results in adding items to step 1. To keep a network as secure as possible, the cycle of the Security Wheel must be continually repeated, because new network vulnerabilities and risks are emerging every day.</p> <p>With the information collected from the monitoring and testing phases, IDSs can be used to implement improvements to the security. The security policy should be adjusted as new security vulnerabilities and risks are discovered.</p></content-text>
</page>
</topic>
<topic type="" id="en1404010600">
<title><content-text>The Enterprise Security Policy</content-text></title>
<page type="OneColumn" id="en1404010601">
<content-media type="StaticGraphic" id="cm8624041579">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010600/en1404010601/cm8624041579.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010600/en1404010601/cm8624041579text.xml"/></content-media>
<content-text><p><b>What is a Security Policy?</b></p> <p>A security policy is a set of guidelines established to safeguard the network from attacks, both from inside and outside a company. Forming a policy starts with asking questions. How does the network help the organization achieve its vision, mission, and strategic plan? What implications do business requirements have on network security, and how do those requirements get translated into the purchase of specialized equipment and the configurations loaded onto devices?</p> <p>A security policy benefits an organization in the following ways:</p> <p><ul><li>Provides a means to audit existing network security and compare the requirements to what is in place.</li><li>Plan security improvements, including equipment, software, and procedures.</li><li>Defines the roles and responsibilities of the company executives, administrators, and users.</li><li>Defines which behavior is and is not allowed.</li><li>Defines a process for handling network security incidents.</li><li>Enables global security implementation and enforcement by acting as a standard between sites.</li><li>Creates a basis for legal action if necessary.</li></ul></p> <p>A security policy is a living document, meaning that the document is never finished and is continuously updated as technology and employee requirements change. It act as a bridge between management objectives and specific security requirements.</p></content-text>
</page>
<page type="OneColumn" id="en1404010602">
<content-media type="StaticGraphic" id="cm5150681169">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010600/en1404010602/cm5150681169.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010600/en1404010602/cm5150681169text.xml"/></content-media>
<content-text><p><b>Functions of a Security Policy</b></p> <p>A comprehensive security policy fulfills these essential functions:</p> <p><ul><li>Protects people and information</li><li>Sets the rules for expected behavior by users, system administrators, management, and security personnel</li><li>Authorizes security personnel to monitor, probe, and investigate</li><li>Defines and authorizes the consequences of violations</li></ul></p> <p>The security policy is for everyone, including employees, contractors, suppliers, and customers who have access to the network. However, the security policy should treat each of these groups differently. Each group should only be shown the portion of the policy appropriate to their work and level of access to the network. </p> <p>For example, an explanation for why something is being done is not always necessary. You can assume that the technical staff already know why a particular requirement is included. Managers are not likely to be interested in the technical aspects of a particular requirement; they may want just a high-level overview or the principle supporting the requirement. However, when end users know why a particular security control has been included, they are more likely to comply with the policy. Therefore, one document is not likely to meet the needs of the entire audience in a large organization. </p></content-text>
</page>
<page type="OneColumn" id="en1404010603">
<content-media type="InteractiveGraphicHotspots" id="cm5232379145">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010600/en1404010603/cm5232379145.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010600/en1404010603/cm5232379145text.xml"/></content-media>
<content-text><p><b>Components of a Security Policy</b></p> <p>The SANS Institute (<content-link target="http://www.sans.org" type="external">http://www.sans.org</content-link>) provides guidelines developed in cooperation with a number of industry leaders, including Cisco, for developing comprehensive security policies for organizations large and small. Not all organizations need all of these policies. </p> <p>The following are general security policies that an organization may invoke:</p> <p><ul><li><b>Statement of authority and scope</b>-Defines who in the organization sponsors the security policy, who is responsible for implementing it, and what areas are covered by the policy.</li><li><b>Acceptable use policy (AUP)</b>-Defines the acceptable use of equipment and computing services, and the appropriate employee security measures to protect the organization corporate resources and proprietary information.</li><li><b>Identification and authentication policy</b>-Defines which technologies the company uses to ensure that only authorized personnel have access to its data. </li><li><b>Internet access policy</b>-Defines what the company will and will not tolerate with respect to the use of its Internet connectivity by employees and guests.</li><li><b>Campus access policy</b>-Defines acceptable use of campus technology resources by employees and guests.</li><li><b>Remote access policy</b>-Defines how remote users can use the remote access infrastructure of the company.</li><li><b>Incident handling procedure</b>-Specifies who will respond to security incidents, and how they are to be handled.</li></ul></p> <p>In addition to these key security policy sections, some others that may be necessary in certain organizations include:</p> <p><ul><li><b>Account access request policy</b>-Formalizes the account and access request process within the organization. Users and system administrators who bypass the standard processes for account and access requests can lead to legal action against the organization.</li><li><b>Acquisition assessment policy</b>-Defines the responsibilities regarding corporate acquisitions and defines the minimum requirements of an acquisition assessment that the information security group must complete.</li><li><b>Audit policy</b>-Defines audit policies to ensure the integrity of information and resources. This includes a process to investigate incidents, ensure conformance to security policies, and monitor user and system activity where appropriate</li><li><b>Information sensitivity policy</b>-Defines the requirements for classifying and securing information in a manner appropriate to its sensitivity level.</li><li><b>Password policy</b>-Defines the standards for creating, protecting, and changing strong passwords.</li><li><b>Risk assessment policy</b>-Defines the requirements and provides the authority for the information security team to identify, assess, and remediate risks to the information infrastructure associated with conducting business.</li><li><b>Global web server policy</b>-Defines the standards required by all web hosts.</li></ul></p> <p>With the extensive use of e-mail, an organization may also want to have policies specifically related to e-mail, such as:</p> <p><ul><li><b>Automatically forwarded e-mail policy</b>-Documents the policy restricting automatic e-mail forwarding to an external destination without prior approval from the appropriate manager or director.</li><li><b>E-mail policy</b>-Defines content standards to prevent tarnishing the public image of the organization.</li><li><b>Spam policy</b>-Defines how spam should be reported and treated.</li></ul></p> <p>Remote access policies might include:</p> <p><ul><li><b>Dial-in access policy</b>-Defines the appropriate dial-in access and its use by authorized personnel.</li><li><b>Remote access policy</b>-Defines the standards for connecting to the organization network from any host or network external to the organization.</li><li><b>VPN security policy</b>-Defines the requirements for VPN connections to the network of the organization.</li></ul></p> <p>It should be noted that users who defy or violate the rules in a security policy may be subject to disciplinary action, up to and including termination of employment.</p></content-text>
</page>
<page type="FullScreen" id="en1404010604">
<content-media type="ActivityCustom" id="cm2855826665">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404010000/en1404010600/en1404010604/cm2855826665.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404010000/en1404010600/en1404010604/cm2855826665text.xml"/></content-media>
<content-text><p>Activity Page</p></content-text>
</page>
</topic>
</section>
<section type="" id="en1404020000">
<title><content-text>Securing Cisco Routers</content-text></title>
<topic type="" id="en1404020100">
<title><content-text>Router Security Issues</content-text></title>
<page type="OneColumn" id="en1404020101">
<content-media type="StaticGraphic" id="cm3338631626">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404020000/en1404020100/en1404020101/cm3338631626.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404020000/en1404020100/en1404020101/cm3338631626text.xml"/></content-media>
<content-text><p><b>The Role of Routers in Network Security</b></p> <p>You know that you can build a LAN by connecting devices with basic Layer 2 LAN switches. You can then use a router to route traffic between different networks based on Layer 3 IP addresses. </p> <p>Router security is a critical element in any security deployment. Routers are definite targets for network attackers. If an attacker can compromise and access a router, it can be a potential aid to them. Knowing the roles that routers fulfill in the network helps you understand their vulnerabilities.</p> <p>Routers fulfill the following roles:</p> <p><ul><li>Advertise networks and filter who can use them.</li><li>Provide access to network segments and subnetworks. </li></ul></p></content-text>
</page>
<page type="OneColumn" id="en1404020102">
<content-media type="StaticGraphic" id="cm6375914784">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404020000/en1404020100/en1404020102/cm6375914784.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404020000/en1404020100/en1404020102/cm6375914784text.xml"/></content-media>
<content-text><p><b>Routers are Targets</b></p> <p>Because routers provide gateways to other networks, they are obvious targets, and are subject to a variety of attacks. Here are some examples of various security problems:</p> <p><ul><li>Compromising the access control can expose network configuration details, thereby facilitating attacks against other network components.</li><li>Compromising the route tables can reduce performance, deny network communication services, and expose sensitive data.</li><li>Misconfiguring a router traffic <content-link target="{EA3669E0-11A9-4DBE-94B2-350BB62B299F}" type="glossary">filter</content-link> can expose internal network components to scans and attacks, making it easier for attackers to avoid detection.</li></ul></p> <p>Attackers can compromise routers in different ways, so there is no single approach that network administrators can use to combat them. The ways that routers are compromised are similar to the types of attacks you learned about earlier in this chapter, including trust exploitation attacks, IP <content-link target="{459471E1-347C-4DE5-B94A-1871CC809919}" type="glossary">spoofing</content-link>, session hijacking, and MITM attacks.</p> <p><b>Note:</b> This section focuses on securing routers. Most of the best practices discussed can also be used to secure switches. However, this section does not cover Layer 2 threats, such as <content-link target="{C466E509-8B18-41A4-ABA9-8E5ADD9ADB49}" type="glossary">MAC address</content-link><content-link target="{64998211-9AE3-4C1B-9B1D-1E8EB818B9A8}" type="glossary">flooding</content-link> attacks and STP attacks, because these are covered in CCNA Exploration: LAN Switching and Wireless.</p></content-text>
</page>
<page type="OneColumn" id="en1404020103">
<content-media type="StaticGraphic" id="cm1011888496">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404020000/en1404020100/en1404020103/cm1011888496.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404020000/en1404020100/en1404020103/cm1011888496text.xml"/></content-media>
<content-text><p><b>Securing Your Network</b></p> <p>Securing routers at the network perimeter is an important first step in securing the network.</p> <p>Think about router security in terms in these categories: </p> <p><ul><li>Physical security</li><li>Update the router IOS whenever advisable</li><li>Backup the router configuration and IOS</li><li>Harden the router to eliminate the potential abuse of unused ports and services </li></ul></p> <p>To provide physical security, locate the router in a locked room that is accessible only to authorized personnel. It should also be free of any electrostatic or magnetic interference, and have controls for temperature and humidity. To reduce the possibility of DoS due to a power failure, install an uninterruptible power supply (<content-link target="{CF6D87F7-670F-49F2-887B-FB85D3898C57}" type="glossary">UPS</content-link>) and keep spare components available. </p> <p>Physical devices used to connect to the router should be stored in a locked facility, or they should remain in the possession of a trustworthy individual so that they are not compromised. A device that is left in the open could have Trojans or some other sort of executable file stored on it.</p> <p>Provision the router with the maximum amount of memory possible. Availability of memory can help protect against some DoS attacks, while supporting the widest range of security services.</p> <p>The security features in an operating system evolve over time. However, the latest version of an operating system may not be the most stable version available. To get the best security performance from your operating system, use the latest stable release that meets the feature requirements of your network. </p> <p>Always have a backup copy of a configuration and IOS on hand in case a router fails. Keep a secure copy of the router operating system image and router configuration file on a <content-link target="{7E2130AA-5FC7-4CEE-A0E2-4277EB748ACA}" type="glossary">TFTP</content-link> server for backup purposes.</p> <p>Harden the router to make it as secure as possible. A router has many services enabled by default. Many of these services are unnecessary and may be used by an attacker for information gathering or exploitation. You should harden your router configuration by disabling unnecessary services.</p></content-text>
</page>
</topic>
<topic type="" id="en1404020200">
<title><content-text>Applying Cisco IOS Security Features to Routers</content-text></title>
<page type="OneColumn" id="en1404020201">
<content-media type="StaticGraphic" id="cm8058167910">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404020000/en1404020200/en1404020201/cm8058167910.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404020000/en1404020200/en1404020201/cm8058167910text.xml"/></content-media>
<content-text><p>Before you configure security features on a router, you need a plan for all the Cisco IOS security configuration steps.</p> <p>The figure shows the steps to safeguard a router. The first four steps are discussed in this chapter. Though access control lists (ACLs) are discussed in the next chapter, they are a critical technology and must be configured to control and filter network traffic.</p></content-text>
</page>
</topic>
<topic type="" id="en1404020300">
<title><content-text>Manage Router Security</content-text></title>
<page type="OneColumn" id="en1404020301">
<content-media type="StaticGraphic" id="cm3823214629">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404020000/en1404020300/en1404020301/cm3823214629.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404020000/en1404020300/en1404020301/cm3823214629text.xml"/></content-media>
<content-text><p>Basic router security consists of configuring passwords. A strong password is the most fundamental element in controlling secure access to a router. For this reason, strong passwords should always be configured.</p> <p>Good password practices include the following:</p> <p><ul><li>Do not write passwords down and leave them in obvious places such as your desk or on your monitor.</li><li>Avoid dictionary words, names, phone numbers, and dates. Using dictionary words makes the passwords vulnerable to dictionary attacks. </li><li>Combine letters, numbers, and symbols. Include at least one lowercase letter, uppercase letter, digit, and special character.</li><li>Deliberately misspell a password. For example, <b>Smith</b> can be spelled as <b>Smyth</b> or can also include numbers such as <b>5mYth</b>. Another example could be <b>Security</b> spelled as <b>5ecur1ty</b>.</li><li>Make passwords lengthy. The best practice is to have a minimum of eight characters. You can enforce the minimum length using a feature that is available on Cisco IOS routers, discussed later in this topic. </li><li>Change passwords as often as possible. You should have a policy defining when and how often the passwords must be changed. Changing passwords frequently provides two advantages. This practice limits the window of opportunity in which a hacker can crack a password and limits the window of exposure after a password has been compromised.</li></ul></p>  <p><b>Note:</b> Password-leading spaces are ignored, but all spaces after the first character are not ignored. </p> <p><b>Passphrases</b></p> <p>A recommended method for creating strong complex passwords is to use passphrases. A passphrase is basically a sentence or phrase that serves as a more secure password. Make sure that the phrase is long enough to be hard to guess but easy to remember and type accurately.</p> <p>Use a sentence, quote from a book, or song lyric that you can easily remember as the basis of your strong password or passphrase. The figure provides examples of passphrases. </p></content-text>
</page>
<page type="OneColumn" id="en1404020302">
<content-media type="StaticGraphic" id="cm7222243846">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404020000/en1404020300/en1404020302/cm7222243846.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404020000/en1404020300/en1404020302/cm7222243846text.xml"/></content-media>
<content-text><p>By default, Cisco IOS software leaves passwords in plain text when they are entered on a router. This is not secure since anyone walking behind you when you are looking at a router configuration could snoop over your shoulder and see the password. </p> <p>Using the <span class="cmd"><b>enable password</b></span> command or the <span class="cmd"><b>username</b> <i>username </i><b>password</b><i> password</i></span> command would result in these passwords being displayed when looking at the running configuration. </p> <p>For example:</p> <span class="cmd"><p>R1(config)# <b>username Student password cisco123</b></p></span> <span class="cmd"><p>R1(config)# <b>do show run | include username</b></p></span> <span class="cmd"><p>username Student password 0 cisco123</p></span> <span class="cmd"><p>R1(config)#</p></span> <p>The <span class="cmd"><b>0</b></span> displayed in the running configuration, indicates that password is not hidden. </p> <p>For this reason, all passwords should be encrypted in a configuration file. Cisco IOS provides two password protection schemes:</p> <p><ul><li>Simple encryption called a type 7 scheme. It uses the Cisco-defined encryption algorithm and will hide the password using a simple encryption algorithm. </li><li>Complex encryption called a type 5 scheme. It uses a more secure MD5 hash. </li></ul></p> <p>The type 7 encryption can be used by the <span class="cmd"><b>enable password</b></span>, <span class="cmd"><b>username</b></span>, and <span class="cmd"><b>line password</b></span> commands including vty, line console, and aux port. It does not offer very much protection as it only hides the password using a simple encryption algorithm. Although not as secure as the type 5 encryption, it is still better than no encryption. </p> <p>To encrypt passwords using type 7 encryption, use the <span class="cmd"><b>service password-encryption</b></span> global configuration command as displayed in the figure. This command prevents passwords that are displayed on the screen from being readable. </p> <p>For example:</p> <span class="cmd"><p>R1(config)#<b> service password-encryption</b></p></span> <span class="cmd"><p>R1(config)# <b>do show run | include username</b></p></span> <span class="cmd"><p>username Student password 7 03075218050061</p></span> <span class="cmd"><p>R1(config)#</p></span>  <p>The <span class="cmd"><b>7</b></span> displayed in the running configuration indicates that password is hidden. In the figure, you can see the line console password is now hidden.</p> <p><b>Click the Configure Password button in the figure.</b></p> <p>Cisco recommends that Type 5 encryption be used instead of Type 7 whenever possible. MD5 encryption is a strong encryption method. It should be used whenever possible. It is configured by replacing the keyword <span class="cmd"><b>password</b></span> with <span class="cmd"><b>secret</b></span>.</p> <p>Therefore, to protect the privileged EXEC level as much as possible, always configure the <span class="cmd"><b>enable secret</b></span> command as shown in the figure. Also make sure that the secret password is unique and does not match any other user password. </p> <p> </p> <p>A router will always use the secret password over the enable password. For this reason, the <span class="cmd"><b>enable password</b></span> command should never be configured as it may give away a system password. </p> <p> </p> <p><b>Note:</b> If you forget the privileged EXEC password, then you will have to perform the password recovery procedure. This procedure is covered later in this chapter. </p> <p>The local database usernames should be also configured using the <span class="cmd"><b>username</b> <i>username</i> <b>secret</b> <i>password</i></span> global configuration command. For example:</p> <span class="cmd"><p>R1(config)# <b>username Student secret cisco</b></p></span> <span class="cmd"><p>R1(config)# <b>do show run | include username</b></p></span> <span class="cmd"><p>username Student secret 5 $1$z245$lVSTJzuYgdQDJiacwP2Tv/</p></span> <span class="cmd"><p>R1(config)#</p></span> <p><b>Note:</b> Some processes may not be able to use type 5 encrypted passwords. For example, PAP and CHAP require clear text passwords and cannot use MD5 encrypted passwords. </p> <p><b>Click the Password Length button in the figure.</b></p> <p>Cisco IOS Software Release 12.3(1) and later allow administrators to set the minimum character length for all router passwords using the <span class="cmd"><b>security passwords min-length</b></span> global configuration command, as shown in the figure. This command provides enhanced security access to the router by allowing you to specify a minimum password length, eliminating common passwords that are prevalent on most networks, such as "lab" and "cisco." </p> <p>This command affects any new user passwords, enable passwords and secrets, and line passwords created after the command was executed. The command does not affect existing router passwords.</p></content-text>
</page>
</topic>
<topic type="" id="en1404020400">
<title><content-text>Securing Remote Administrative Access to Routers</content-text></title>
<page type="OneColumn" id="en1404020401">
<content-media type="StaticGraphic" id="cm1450863788">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404020000/en1404020400/en1404020401/cm1450863788.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404020000/en1404020400/en1404020401/cm1450863788text.xml"/></content-media>
<content-text><p><b>Securing Administrative Access to Routers</b></p> <p>Network administrators can connect to a router or switch locally or remotely. Local access through the console port is the preferred way for an administrator to connect to a device to manage it because it is secure. As companies get bigger and the number of routers and switches in the network grows, the administrator workload to connect to all the devices locally can become overwhelming. </p>  <p>Remote administrative access is more convenient than local access for administrators that have many devices to manage. However, if it is not implemented securely, an attacker could collect valuable confidential information. For example, implementing remote administrative access using <content-link target="{7D425FA9-6AB1-4533-BDDE-C464A5411AB4}" type="glossary">Telnet</content-link> can be very insecure because Telnet forwards all network traffic in clear text. An attacker could capture network traffic while an administrator is logged in remotely to a router and sniff the administrator passwords or router configuration information. Therefore, remote administrative access must be configured with additional security precautions. </p>  <p>To secure administrative access to routers and switches, first you will secure the administrative lines (VTY, AUX), then you will configure the network device to encrypt traffic in an SSH tunnel.</p></content-text>
</page>
<page type="OneColumn" id="en1404020402">
<content-media type="StaticGraphic" id="cm1943272066">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404020000/en1404020400/en1404020402/cm1943272066.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404020000/en1404020400/en1404020402/cm1943272066text.xml"/></content-media>
<content-text><p><b>Remote Administrative Access with Telnet and SSH</b></p> <p>Having remote access to network devices is critical for effectively managing a network. Remote access typically involves allowing Telnet, Secure Shell (SSH), HTTP, HTTP Secure (HTTPS), or SNMP connections to the router from a computer on the same internetwork as the router. </p> <p>If remote access is required, your options are as follows:</p> <p><ul><li>Establish a dedicated management network. The management network should include only identified administration hosts and connections to infrastructure devices. This could be accomplished using a management VLAN or by using an additional physical network to connect the devices to.</li><li>Encrypt all traffic between the administrator computer and the router. In either case, a packet filter can be configured to only allow the identified administration hosts and protocol to access the router. For example, only permit the administration host IP address to initiate an SSH connection to the routers in the network. </li></ul></p> <p>Remote access not only applies to the VTY line of the router, it also applies to the TTY lines and the auxiliary (AUX) port. TTY lines provide asynchronous access to a router using a modem. Although less common than they once were, they still exist in some installations. Securing these ports is even more important than securing local terminal ports.</p> <p>The best way to protect a system is to ensure that appropriate controls are applied on all lines, including VTY, TTY, and AUX lines. </p> <p>Administrators should make sure that logins on all lines are controlled using an authentication mechanism, even on machines that are supposed to be inaccessible from untrusted networks. This is especially important for VTY lines and for lines connected to modems or other remote access devices.</p> <p>Logins may be completely prevented on any line by configuring the router with the <span class="cmd"><b>login</b></span> and <span class="cmd"><b>no password</b></span> commands. This is the default configuration for VTYs, but not for TTYs and the AUX port. Therefore, if these lines are not required, ensure that they are configured with the <span class="cmd"><b>login</b></span> and <span class="cmd"><b>no password</b></span> command combination.</p> <p><b>Click Config in the Prevent Logins button to view an example.</b></p> <p><b>Controlling VTYs</b> </p> <p>By default, all VTY lines are configured to accept any type of remote connection. For security reasons, VTY lines should be configured to accept connections only with the protocols actually needed. This is done with the <span class="cmd"><b>transport input</b></span> command. For example, a VTY that was expected to receive only Telnet sessions would be configured with <span class="cmd"><b>transport input telnet</b></span>, and a VTY permitting both Telnet and SSH sessions would have <span class="cmd"><b>transport input telnet ssh</b></span> configured. </p> <p><b>Click the VTY Access button in the figure.</b></p> <p>The first configuration example displays how to configure the VTY to only accept Telnet and SSH connections, while the second example displays how to configure the VTY to only accept SSH connections. If the Cisco IOS image on a router supports SSH, it is strongly advisable to enable only that protocol. </p> <p>A Cisco IOS device has a limited number of VTY lines, usually five. When all of the VTYs are in use, no more additional remote connections can be established. This creates the opportunity for a DoS attack. If an attacker can open remote sessions to all the VTYs on the system, the legitimate administrator may not be able to log in. The attacker does not have to log in to do this. The sessions can simply be left at the login prompt.</p> <p>One way of reducing this exposure is to configure the last VTY line to accept connections only from a single, specific administrative workstation, whereas the other VTYs can accept connections from any address in a corporate network. This ensures that at least one VTY line is available to the administrator. To implement this, ACLs, along with the <span class="cmd"><b>ip access-class</b></span> command on the last VTY line, must be configured. This implementation is discussed in Chapter 5.</p> <p>Another useful tactic is to configure VTY timeouts using the <span class="cmd"><b>exec-timeout</b></span> command. This prevents an idle session from consuming the VTY indefinitely. Although its effectiveness against deliberate attacks is relatively limited, it provides some protection against sessions accidentally left idle. Similarly, enabling TCP keepalives on incoming connections by using the <span class="cmd"><b>service tcp-keepalives-in</b></span> command can help guard against both malicious attacks and orphaned sessions caused by remote system crashes.</p> <p><b>Click the Secure VTY button in the figure.</b></p> <p>The configuration displays how to set the executive timeout to 3 minutes and enable TCP keepalives.</p></content-text>
</page>
<page type="OneColumn" id="en1404020403">
<content-media type="StaticGraphic" id="cm2351205750">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404020000/en1404020400/en1404020403/cm2351205750.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404020000/en1404020400/en1404020403/cm2351205750text.xml"/></content-media>
<content-text><p><b>Implementing SSH to Secure Remote Administrative Access</b></p> <p>Traditionally, remote administrative access on routers was configured using Telnet on TCP port 23. However, Telnet was developed in the days when security was not an issue. For this reason, all Telnet traffic is forwarded in plain text. </p> <p>SSH has replaced Telnet as the best practice for providing remote router administration with connections that support strong privacy and session integrity. SSH uses port TCP 22. It provides functionality that is similar to that of an outbound Telnet connection, except that the connection is encrypted. With authentication and encryption, SSH allows for secure communications over an insecure network. </p> <p>Not all Cisco IOS images support SSH. Only cryptographic images can. Typically, these images have image IDs of k8 or k9 in their image names. Image names are discussed in Section 5.</p> <p>The SSH terminal-line access feature enables administrators to configure routers with secure access and perform the following tasks:</p> <p><ul><li>Connect to a router that has multiple terminal lines connected to consoles or serial ports of other routers, switches, and devices.</li><li>Simplify connectivity to a router from anywhere by securely connecting to the <content-link target="{1CE24246-9835-493E-B836-4DC2AE8AC830}" type="glossary">terminal server</content-link> on a specific line.</li><li>Allow modems attached to routers to be used for dial-out securely.</li><li>Require authentication to each of the lines through a locally defined username and password, or a security server such as a TACACS+ or RADIUS server.</li></ul></p> <p>Cisco routers are capable of acting as the SSH client and server. By default, both of these functions are enabled on the router when SSH is enabled. As a client, a router can SSH to another router. As a server, a router can accept SSH client connections.</p></content-text>
</page>
<page type="OneColumn" id="en1404020404">
<content-media type="StaticGraphic" id="cm1466697678">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404020000/en1404020400/en1404020404/cm1466697678.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404020000/en1404020400/en1404020404/cm1466697678text.xml"/></content-media>
<content-text><p><b>Configuring SSH Security</b></p> <p>To enable SSH on the router, the following parameters must be configured:</p> <p><ul><li>Hostname</li><li><content-link target="{758DDF42-9791-44C9-8551-D0F22503124E}" type="glossary">Domain</content-link> name</li><li>Asymmetrical keys</li><li>Local authentication</li></ul></p> <p>Optional configuration parameters include:</p> <p><ul><li>Timeouts</li><li>Retries</li></ul></p> <p>The following steps configure SSH on a router. </p> <p><b>Step 1: Set router parameters</b></p> <p>Configure the router hostname with the <span class="cmd"><b>hostname</b> <i>hostname</i></span> command from configuration mode. </p> <p><b>Step 2: Set the domain name</b></p> <p>A domain name must exist to enable SSH. In this example, enter the <span class="cmd"><b>ip domain-name cisco.com</b></span> command from global configuration mode.</p> <p><b>Step 3: Generate asymmetric keys</b></p> <p>You need to create a key that the router uses to encrypt its SSH management traffic with the <span class="cmd"><b>crypto key</b> <i>generate rsa</i></span> command from configuration mode. The router responds with a message showing the naming convention for the keys. Choose the size of the key modulus in the range of 360 to 2048 for your General Purpose Keys. Choosing a key modulus greater than 512 may take a few minutes. As a best practice, Cisco recommends using a minimum modulus length of 1024. You should be aware that a longer modulus takes longer to generate and to use, but it offers stronger security. </p>  <p>You can learn more about the <span class="cmd"><b>crypto key</b></span> command in the Network Security course. </p> <p><b>Step 4: Configure local authentication and vty</b></p> <p>You must define a local user and assign SSH communication to the vty lines as shown in the figure.</p> <p><b>Step 5: Configure SSH timeouts (optional)</b></p> <p>Timeouts provide additional security for the connection by terminating lingering, inactive connections. Use the command <span class="cmd"><b>ip ssh time-out</b> <i>seconds</i> <b>authentication-retries</b> <i>integer</i></span> to enable timeouts and authentication retries. Set the SSH timeout to 15 seconds and the amount of retries to 2: </p>  <p>To connect to a router configured with SSH, you have to use an SSH client application such as PuTTY or TeraTerm. You must be sure to choose the SSH option and that it uses TCP port 22. </p> <p><b>Click the Use SSH button in the figure.</b> </p> <p>Using TeraTerm to connect securely to the R2 router with SSH, once the connection is initiated, the R2 displays a username prompt, followed by a password prompt. Assuming that the correct credentials are provided, TeraTerm displays the router R2 user EXEC prompt. </p></content-text>
</page>
<page type="FullScreen" id="en1404020405">
<content-media type="ActivityCustom" id="cm2570468368">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404020000/en1404020400/en1404020405/cm2570468368.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404020000/en1404020400/en1404020405/cm2570468368text.xml"/></content-media>
<content-text><p>Complex Flash Activity</p></content-text>
</page>
</topic>
<topic type="" id="en1404020500">
<title><content-text>Logging Router Activity</content-text></title>
<page type="OneColumn" id="en1404020501">
<content-media type="StaticGraphic" id="cm4161074173">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404020000/en1404020500/en1404020501/cm4161074173.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404020000/en1404020500/en1404020501/cm4161074173text.xml"/></content-media>
<content-text><p>Logs allow you to verify that a router is working properly or to determine whether the router has been compromised. In some cases, a log can show what types of probes or attacks are being attempted against the router or the protected network.</p> <p>Configuring logging (syslog) on the router should be done carefully. Send the router logs to a designated log host. The log host should be connected to a trusted or protected network or an isolated and dedicated router interface. Harden the log host by removing all unnecessary services and accounts. Routers support different levels of logging. The eight levels range from 0, emergencies indicating that the system is unstable, to 7 for debugging messages that include all router information. </p> <p>Logs can be forwarded to a variety of locations, including router memory or a dedicated syslog server. A syslog server provides a better solution because all network devices can forward their logs to one central station where an administrator can review them. An example of a syslog server application is Kiwi Syslog Daemon.</p> <p>Also consider sending the logs to a second storage device, for example, to write-once media or a dedicated printer, to deal with worst-case scenarios (for example, a compromise of the log host).</p> <p>The most important thing to remember about logging is that logs must be reviewed regularly. By checking over the logs regularly, you can gain a feeling for the normal behavior of your network. A sound understanding of normal operation and its reflection in the logs helps you identify abnormal or attack conditions.</p> <p>Accurate time stamps are important to logging. Time stamps allow you to trace network attacks more credibly. All routers are capable of maintaining their own time of day, but this is usually not sufficient. Instead, direct the router to at least two different reliable time servers to ensure the accuracy and availability of time information. A Network Time Protocol (NTP) server may have to be configured to provide a synchronized time source for all devices. Configuring this option is beyond the scope of this course.</p> <p>For example:</p> <span class="cmd"><p>R2(config)#<b>service timestamps ?</b></p></span> <span class="cmd"><p> debug Timestamp debug messages</p></span> <span class="cmd"><p> log Timestamp log messages</p></span> <span class="cmd"><p> &lt;cr></p></span> <span class="cmd"><p>R2(config)#<b>service timestamps</b></p></span> <p>Later in this chapter you will learn about the <span class="cmd"><b>debug</b></span> command. Output from the <span class="cmd"><b>debug</b></span> command can also be sent to logs.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en1404030000">
<title><content-text>Secure Router Network Services</content-text></title>
<topic type="" id="en1404030100">
<title><content-text>Vulnerable Router Services and Interfaces</content-text></title>
<page type="OneColumn" id="en1404030101">
<content-media type="StaticGraphic" id="cm4349037586">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404030000/en1404030100/en1404030101/cm4349037586.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404030000/en1404030100/en1404030101/cm4349037586text.xml"/></content-media>
<content-text><p><b>Vulnerable Router Services and Interfaces</b></p> <p>Cisco routers support a large number of network services at layers 2, 3, 4, and 7, as described in the figure. Some of these services are <content-link target="{4A139CBC-C35A-4DF4-870A-2D8247C8B763}" type="glossary">Application layer</content-link> protocols that allow users and host processes to connect to the router. Others are automatic processes and settings intended to support legacy or specialized configurations that pose security risks. Some of these services can be restricted or disabled to improve security without degrading the operational use of the router. General security practice for routers should be used to support only the traffic and protocols a network needs. </p> <p>Most of the services listed in this section are usually not required. The table in the figure describes general vulnerable router services and lists best practices associated to those services. </p> <p> </p> <p>Turning off a network service on the router itself does not prevent it from supporting a network where that protocol is employed. For example, a network may require TFTP services to backup configuration files and IOS images. This service is typically provided by a dedicated TFTP server. In certain instances, a router could also be configured as a TFTP server. However, this is very unusual. Therefore, in most cases the TFTP service on the router should be disabled.</p> <p>In many cases, Cisco IOS software supports turning a service off entirely, or restricting access to particular network segments or sets of hosts. If a particular portion of a network needs a service but the rest does not, the restriction features should be employed to limit the scope of the service.</p> <p>Turning off an automatic network feature usually prevents a certain kind of network traffic from being processed by the router, or prevents it from traversing the router. For example, IP source routing is a little-used feature of IP that can be utilized in network attacks. Unless it is required for the network to operate, IP source routing should be disabled.</p> <p><b>Note:</b> CDP is leveraged in some IP Phone implementations. This needs to be considered before broadly disabling the service.</p></content-text>
</page>
<page type="OneColumn" id="en1404030102">
<content-media type="StaticGraphic" id="cm6392680869">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404030000/en1404030100/en1404030102/cm6392680869.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404030000/en1404030100/en1404030102/cm6392680869text.xml"/></content-media>
<content-text><p>There are a variety of commands that are required to disable services. The <span class="cmd"><b>show running-config</b></span> output in the figure provides a sample configuration of various services which has been disabled. </p> <p> </p> <p>Services which should typically be disabled are listed below. These include: </p> <p><ul><li>Small services such as echo, discard, and chargen - Use the <span class="cmd"><b>no service tcp-small-servers</b></span> or <span class="cmd"><b>no service udp-small-servers</b></span> command.</li><li><content-link target="{7B7069EE-B0A5-4E91-8A8E-6172DF15C3BD}" type="glossary">BOOTP</content-link> - Use the <span class="cmd"><b>no ip bootp server</b></span> command.</li><li>Finger - Use the <span class="cmd"><b>no service finger</b></span> command.</li><li>HTTP - Use the <span class="cmd"><b>no ip http server</b></span> command.</li><li>SNMP - Use the <span class="cmd"><b>no snmp-server</b></span> command. </li></ul></p> <p>It is also important to disable services that allow certain packets to pass through the router, send special packets, or are used for remote router configuration. The corresponding commands to disable these services are:</p> <p><ul><li><content-link target="{9D47B72C-E6F2-496C-84FC-DCAC95365567}" type="glossary">Cisco Discovery Protocol</content-link> (<content-link target="{3CD61258-D6EA-4D00-B1D5-B772ED959841}" type="glossary">CDP</content-link>) - Use the <span class="cmd"><b>no cdp run</b></span> command. </li><li>Remote configuration - Use the <span class="cmd"><b>no service config</b></span> command. </li><li>Source routing - Use the <span class="cmd"><b>no ip source-route</b></span> command. </li><li>Classless routing - Use the <span class="cmd"><b>no ip classless</b></span> command. </li></ul></p> <p>The interfaces on the router can be made more secure by using certain commands in interface configuration mode:</p> <p><ul><li>Unused interfaces - Use the <span class="cmd"><b>shutdown</b></span> command. </li><li>No SMURF attacks - Use the <span class="cmd"><b>no ip directed-broadcast</b></span> command. </li><li><content-link target="{CF8021B6-9CDA-48C3-B5D3-11514CC967F8}" type="glossary">Ad hoc</content-link> routing - Use the <span class="cmd"><b>no ip proxy-arp</b></span> command.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en1404030103">
<content-media type="StaticGraphic" id="cm1546030766">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404030000/en1404030100/en1404030103/cm1546030766.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404030000/en1404030100/en1404030103/cm1546030766text.xml"/></content-media>
<content-text><p><b>SNMP, NTP, and DNS Vulnerabilities</b></p> <p> </p> <p>The figure describes three management services which should also be secured. The methods for disabling or tuning the configurations for these services are beyond the scope of this course. These services are covered in the CCNP: Implementing Secure Converged Wide-area Network course. </p> <p> </p> <p>The descriptions and guidelines to secure these services are listed below.</p> <p><b>SNMP</b></p> <p>SNMP is the standard Internet protocol for automated remote monitoring and administration. There are several different versions of SNMP with different security properties. Versions of SNMP prior to version 3 shuttle information in clear text. Normally, SNMP version 3 should be used.</p> <p><b><content-link target="{5E79EE83-C763-47BB-BC1C-8C97D156F5E6}" type="glossary">NTP</content-link></b></p> <p>Cisco routers and other hosts use NTP to keep their time-of-day clocks accurate. If possible, network administrators should configure all routers as part of an NTP hierarchy, which makes one router the master timer and provides its time to other routers on the network. If an NTP hierarchy is not available on the network, you should disable NTP.</p> <p>Disabling NTP on an interface does not prevent NTP messages from traversing the router. To reject all NTP messages at a particular interface, use an access list.</p> <p><b>DNS</b></p> <p>Cisco IOS software supports looking up hostnames with the Domain Name System (DNS). DNS provides the mapping between names, such as central.mydomain.com to IP addresses, such as 14.2.9.250. </p> <p>Unfortunately, the basic DNS protocol offers no authentication or integrity assurance. By default, name queries are sent to the broadcast address 255.255.255.255.</p> <p>If one or more <content-link target="{92C2FFDF-A74E-42B5-963D-937071CC87ED}" type="glossary">name servers</content-link> are available on the network, and it is desirable to use names in Cisco IOS commands, explicitly set the name server addresses using the global configuration command <span class="cmd"><b>ip name-server</b> <i>addresses</i></span>. Otherwise, turn off DNS name resolution with the command <span class="cmd"><b>no ip domain-lookup</b></span>. It is also a good idea to give the router a name, using the command <span class="cmd"><b>hostname</b></span>. The name given to the router appears in the prompt. </p></content-text>
</page>
</topic>
<topic type="" id="en1404030200">
<title><content-text>Securing Routing Protocols</content-text></title>
<page type="OneColumn" id="en1404030201">
<content-media type="StaticGraphic" id="cm9465087473">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404030000/en1404030200/en1404030201/cm9465087473.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404030000/en1404030200/en1404030201/cm9465087473text.xml"/></content-media>
<content-text><p><b>Routing Protocol Authentication Overview</b></p> <p>As a network administrator, you have to be aware that your routers are at risk from attack just as much as your end-user systems. Anyone with a packet sniffer such as Wireshark can read information propagating between routers. In general, routing systems can be attacked in two ways:</p> <p><ul><li>Disruption of peers</li><li>Falsification of routing information</li></ul></p> <p>Disruption of peers is the less critical of the two attacks because routing protocols heal themselves, making the disruption last only slightly longer than the attack itself.</p> <p>A more subtle class of attack targets the information carried within the routing protocol. Falsified routing information may generally be used to cause systems to misinform (lie to) each other, cause a DoS, or cause traffic to follow a path it would not normally follow. The consequences of falsifying routing information are as follows:</p> <p>1. Redirect traffic to create routing loops as shown in the figure</p> <p>2. Redirect traffic so it can be monitored on an insecure link</p> <p>3. Redirect traffic to discard it</p> <p>A straightforward way to attack the routing system is to attack the routers running the routing protocols, gain access to the routers and inject false information. Be aware that anyone "listening" can capture routing updates.</p> <p><b>Click the Play button in the figure </b>to view an animation of a routing loop attack.</p> <p>The animation shows an example of an attack that creates a routing loop. An attacker has been able to connect directly to the link between routers R2 and R3. The attacker injects false routing information destined to router R1 only, indicating that R3 is the preferred destination to the 192.168.10.10/32 host route. Although R1 has a <content-link target="{A5B54AF5-42F2-4206-A727-B3A046A12DB5}" type="glossary">routing table</content-link> entry to the directly connected 192.168.10.0/24 network, it will add the injected route to its routing table because of the longer <content-link target="{0E05A28B-B532-42D1-9841-778E4C029AA7}" type="glossary">subnet mask</content-link>. A route with a longer matching subnet mask is considered to be superior to a route with a shorter subnet mask. Consequently when a router receives a packet it will select the longer subnet mask because it is a more precise route to the destination.</p> <p>When PC3 sends a packet to PC1 (192.168.10.10/24), R1 will not forward the packet to the PC1 host. Instead it will route the packet to router R3, because, as far as it is concerned, the best path to 192.168.10.10/32 is through R3. When R3 gets the packet, it will look in its routing table and forward the packet back to R1, which creates the loop.</p> <p>The best way to protect routing information on the network is to authenticate routing protocol packets using message digest algorithm 5 (MD5). An algorithm like MD5 allows the routers to compare signatures that should all be the same. </p> <p><b>Click the Protect Update button in the figure.</b></p> <p>The figure shows how each router in the update chain creates a signature. The three components of such a system include:</p> <p>1. Encryption algorithm, which is generally public knowledge</p> <p>2. Key used in the encryption algorithm, which is a secret shared by the routers authenticating their packets</p> <p>3. Contents of the packet itself</p> <p><b>Click the Operation button in the figure.</b></p> <p><b>Click Play to view an animation.</b></p> <p>In the animation we see how each router authenticates the routing information. Generally, the originator of the routing information produces a signature using the key and routing data it is about to send as inputs to the encryption algorithm. The routers receiving this routing data can then repeat the process using the same key, the data it has received, and the same routing data. If the signature the receiver computes is the same as the signature the sender computes, the data and key must be the same as the sender transmitted, and the update is authenticated.</p> <p><content-link target="{066A02C7-F57D-422C-BB01-6AE1B170D524}" type="glossary">RIPv2</content-link>, EIGRP, OSPF, <content-link target="{CDC5A5EE-3274-4538-89DF-E29F1E03F9B8}" type="glossary">IS-IS</content-link>, and <content-link target="{8161961D-E947-4D60-85BE-74C847AD308E}" type="glossary">BGP</content-link> all support various forms of MD5 authentication.</p></content-text>
</page>
<page type="OneColumn" id="en1404030202">
<content-media type="StaticGraphic" id="cm4553984862">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404030000/en1404030200/en1404030202/cm4553984862.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404030000/en1404030200/en1404030202/cm4553984862text.xml"/></content-media>
<content-text><p><b>Configuring RIPv2 with Routing Protocol Authentication</b></p> <p>The topology in the figure is displaying a network configured with RIPv2 routing protocol. RIPv2 supports routing protocol authentication. To secure routing updates each router must be configured to support authentication. The steps to secure RIPv2 updates are as follows:</p> <p>Step 1. Prevent RIP routing update propagation</p> <p>Step 2. Prevent unauthorized reception of RIP updates</p> <p>Step 3. Verify the operation of RIP routing</p> <p><b>Prevent RIP Routing Update Propagation</b></p> <p>You need to prevent an intruder listening on the network from receiving updates to which they are not entitled. You do this by forcing all interfaces on the router into passive mode, and then bringing up only those interfaces that are required for sending and receiving RIP updates. An interface in passive mode receives updates but does not send updates. You must configure passive mode interfaces on all the routers in the network. </p> <p><b>Click the Config button for Step 1.</b></p> <p>The figure shows the configuration commands to control which interfaces will participate in the routing updates. Routing updates should never be advertised on interfaces which are not connected to other routers. For example, the LAN interfaces on router R1 do not connect to other routers and therefore should not advertise routing updates. Only the S0/0/0 interface on router R1 should advertise routing updates.</p> <p>In the screen output, the <span class="cmd"><b>passive-interface default</b></span> command disables routing advertisements on all interfaces. This also includes the S0/0/0 interface. The <span class="cmd"><b>no passive-interface s0/0/0</b></span> command enables the S0/0/0 interface to send and receive RIP updates.</p> <p><b>Click the Step 2 button in the figure.</b></p> <p><b>Prevent Unauthorized Reception of RIP Updates</b></p> <p>In the figure the intruder is prevented from intercepting RIP updates because MD5 authentication has been enabled on routers, R1, R2 and R3; the routers that are participating in the RIP updates.</p> <p><b>Click the Config button for Step 2.</b></p> <p>The output shows the commands to configure routing protocol authentication on router R1. Routers R2 and R3 also need to be configured with these commands on the appropriate interfaces. </p> <p>The example shows commands to create a key chain named RIP_KEY. Although multiple key can be considered our example only shows one key. Key 1 is configured to contain a key string called cisco. The key string is similar to a password and routers exchanging authentication keys must configured with the same key string. Interface S0/0/0 is configured to support MD5 authentication. The RIP_KEY chain and the routing update, are processed using the MD5 algorithm to produce a unique signature. </p> <p>Once R1 is configured, the other routers will receive encrypted routing updates and consequently will no longer be able to decipher the updates from R1. This condition will remain until each router in the network is configured with routing protocol authentication.</p> <p><b>Click the Step 3 button in the figure.</b></p> <p><b>Verify the Operation of RIP Routing</b></p> <p>After you have configured all the routers in the network you need to verify the operation of RIP routing in the network.</p> <p><b>Click the Config button in Step 3.</b></p> <p>Using the <span class="cmd"><b>show ip route</b></span> command the output confirms that router R1 has authenticated with the other routers and has been able to acquire the routes from the routers R2 and R3. </p></content-text>
</page>
<page type="OneColumn" id="en1404030203">
<content-media type="StaticGraphic" id="cm1018741868">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404030000/en1404030200/en1404030203/cm1018741868.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404030000/en1404030200/en1404030203/cm1018741868text.xml"/></content-media>
<content-text><p><b>Overview of Routing Protocol Authentication for EIGRP and OSPF</b></p> <p>Routing protocol authentication should also be configured for other routing protocols such as EIGRP and OSPF. For details on routing protocol authentication for EIGRP and OSPF, refer to CCNP2: Implementing Secure Converged Wide-area Networks.</p> <p><b>Click the EIGRP button in the figure.</b></p> <p><b>EIGRP</b></p> <p>The figure shows the commands used to configure routing protocol authentication for EIGRP on router R1. These commands are very similar to the ones you used for RIPv2 MD5 authentication. The steps to configure EIGRP routing protocol authentication on router R1 are as follows:</p> <p>Step 1. The top highlighted area shows how to create a key chain to be used by all routers in your network. These commands create a key chain named EIGRP_KEY and places your terminal in keychain configuration mode, a key number of 1 and a key string value of cisco. </p> <p>Step 2. The bottom highlighted area shows how to enable MD5 authentication in EIGRP packets traversing an interface. </p> <p><b>Click the OSPF button in the figure.</b></p> <p><b>OSPF</b></p> <p>The figure shows the commands used to configure routing protocol authentication for OSPF on router R1 on interface S0/0/0. The first command specifies the key that will be used for MD5 authentication. The next command enables MD5 authentication.</p></content-text>
</page>
<page type="OneColumn" id="en1404030204">
<content-media type="ActivityPKA" id="cm7044011628">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404030000/en1404030200/en1404030204/cm7044011628/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en1404000000/en1404030000/en1404030200/en1404030204/cm7044011628/icontext.xml"/></content-media>
<content-text><p>This activity covers both OSPF simple authentication and OSPF MD5 (message digest 5) authentication. You can enable authentication in OSPF to exchange routing update information in a secure manner. With simple authentication, the password is sent in clear-text over the network. Simple authentication is used when devices within an <content-link target="{406914EE-0E7C-4473-A161-26A24E1A5CBA}" type="glossary">area</content-link> cannot support the more secure MD5 authentication. With MD5 authentication, the password does not sent over the network. MD5 is considered the most secure OSPF authentication mode. When you configure authentication, you must configure an entire area with the same type of authentication. In this activity, you will configure simple authentication between R1 and R2, and MD5 authentication between R2 and R3.</p> <p>Detailed instructions are provided within the activity as well as in the PDF link below.</p> <p><content-link target="E4_PTAct_4_3_2.pdf" type="internalfile">Activity Instructions (PDF)</content-link></p> <p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en1404030300">
<title><content-text>Locking Down Your Router with Cisco Auto Secure</content-text></title>
<page type="OneColumn" id="en1404030301">
<content-media type="InteractiveGraphicHotspots" id="cm6420187655">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404030000/en1404030300/en1404030301/cm6420187655.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404030000/en1404030300/en1404030301/cm6420187655text.xml"/></content-media>
<content-text><p>Cisco AutoSecure uses a single command to disable non-essential system processes and services, eliminating potential security threats. You can configure AutoSecure in privileged EXEC mode using the <span class="cmd"><b>auto secure</b></span> command in one of these two modes:</p> <p><ul><li><b>Interactive mode</b> - This mode prompts you with options to enable and disable services and other security features. This is the default mode.</li><li><b>Non-interactive mode</b> - This mode automatically executes the auto secure command with the recommended Cisco default settings. This mode is enabled with the no-interact command option.</li></ul></p> <p><b>Click the Router Output button in the figure.</b></p> <p><b>Perform AutoSecure on a Cisco Router</b></p> <p>The screen output shows a partial output from a Cisco AutoSecure configuration. To start the process of securing a router issue the <span class="cmd"><b>auto secure</b></span> command. Cisco AutoSecure will ask you for a number of items including :</p> <p><ul><li>Interface specifics</li><li>Banners</li><li>Passwords</li><li>SSH</li><li>IOS firewall features</li></ul></p> <p><b>Note:</b> The Cisco Router and Security Device Manager (SDM) provides a similar feature as the Cisco AutoSecure command. This feature is described in the "Using Cisco SDM" section.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en1404040000">
<title><content-text>Using Cisco SDM</content-text></title>
<topic type="" id="en1404040100">
<title><content-text>Cisco SDM Overview</content-text></title>
<page type="OneColumn" id="en1404040101">
<content-media type="StaticGraphic" id="cm7038737297">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404040000/en1404040100/en1404040101/cm7038737297.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404040000/en1404040100/en1404040101/cm7038737297text.xml"/></content-media>
<content-text><p><b>What is Cisco SDM?</b></p> <p>The Cisco Router and Security Device Manager (SDM) is an easy-to-use, web-based device-management tool designed for configuring LAN, WAN, and security features on Cisco IOS software-based routers. </p> <p>The figure shows the main screen of SDM. The interface helps network administrators of small- to medium-sized businesses perform day-to-day operations. It provides easy-to-use smart wizards, automates router security management, and assists through comprehensive online help and tutorials. </p> <p>Cisco SDM supports a wide range of Cisco IOS software releases. It ships preinstalled by default on all new Cisco integrated services routers. If it is not preinstalled, you will have to install it. The SDM files can be installed on the router, a PC, or on both. An advantage of installing SDM on the PC is that it saves router memory, and allows you to use SDM to manage other routers on the network. If Cisco SDM is pre-installed on the router, Cisco recommends using Cisco SDM to perform the initial configuration.</p></content-text>
</page>
<page type="OneColumn" id="en1404040102">
<content-media type="StaticGraphic" id="cm7688568233">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404040000/en1404040100/en1404040102/cm7688568233.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404040000/en1404040100/en1404040102/cm7688568233text.xml"/></content-media>
<content-text><p><b>Cisco SDM Features</b></p> <p>Cisco SDM simplifies router and security configuration through the use of several intelligent wizards to enable efficient configuration of key router virtual private network (VPN) and Cisco IOS firewall parameters. This capability permits administrators to quickly and easily deploy, configure, and monitor Cisco access routers.</p> <p>Cisco SDM smart wizards guide users step-by-step through router and security configuration workflow by systematically configuring LAN and WAN interfaces, firewall, IPS, and VPNs.</p> <p>Cisco SDM smart wizards can intelligently detect incorrect configurations and propose fixes, such as allowing DHCP traffic through a firewall if the WAN interface is DHCP-addressed. Online help embedded within Cisco SDM contains appropriate background information, in addition to step-by-step procedures to help users enter correct data in Cisco SDM.</p></content-text>
</page>
</topic>
<topic type="" id="en1404040200">
<title><content-text>Configuring Your Router to Support Cisco SDM</content-text></title>
<page type="OneColumn" id="en1404040201">
<content-media type="StaticGraphic" id="cm5399299654">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404040000/en1404040200/en1404040201/cm5399299654.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404040000/en1404040200/en1404040201/cm5399299654text.xml"/></content-media>
<content-text><p>Cisco SDM should be installed on all new Cisco routers. If you have a router that is already in use but that does not have Cisco SDM, you can install and run it without disrupting network traffic. Before you can install it on an operational router, you must ensure that a few configuration settings are present in the router configuration file. The figure shows a topology in which the system administrator will install Cisco SDM on router R1. </p>  <p>To configure Cisco SDM on a router already in use, without disrupting network traffic, follow these steps: </p>  <p>Step 1. Access the router's Cisco CLI interface using Telnet or the console connection </p>  <p>Step 2. Enable the HTTP and HTTPS servers on the router </p>  <p>Step 3 Create a user account defined with privilege level 15 (enable privileges). </p>  <p>Step 4 Configure SSH and Telnet for local login and privilege level 15. </p>  <p><b>Click the Router Output button in the figure</b>.</p>  <p>The screen output shows an example of the configuration needed to ensure you can install and run Cisco SDM on a production router without disrupting network traffic.</p></content-text>
</page>
</topic>
<topic type="" id="en1404040300">
<title><content-text>Starting Cisco SDM</content-text></title>
<page type="OneColumn" id="en1404040301">
<content-media type="StaticGraphic" id="cm6597936226">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404040000/en1404040300/en1404040301/cm6597936226.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404040000/en1404040300/en1404040301/cm6597936226text.xml"/></content-media>
<content-text><p>Cisco SDM is stored in the router <content-link target="{54277BBD-F779-42A2-8778-65F7AACBFBA0}" type="glossary">flash memory</content-link>. It can also be stored on a local PC. To launch the Cisco SDM use the HTTPS protocol and put the IP address of the router into the <content-link target="{C454A437-B916-41F2-9530-DFE82203CD3C}" type="glossary">browser</content-link>. The figure shows the browser with an address of https://198.162.20.1 and the launch page for Cisco SDM. The http:// prefix can be used if SSL is not available. When the username and password dialog box appears (not shown), enter a username and password for the privileged (privilege level 15) account on the router. After the launch page appears a signed Cisco SDM Java applet appears which must remain open while Cisco SDM is running. Because it is a signed Cisco SDM Java applet you may be prompted to accept a certificate. The certificate security alert appears in the bottom right of the figure. </p>  <p><b>Note:</b> The sequence of login steps may vary depending on if you run Cisco SDM from a personal computer, or directly from a Cisco ISR router. </p></content-text>
</page>
</topic>
<topic type="" id="en1404040400">
<title><content-text>The Cisco SDM Interface</content-text></title>
<page type="OneColumn" id="en1404040401">
<content-media type="StaticGraphic" id="cm3487353126">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404040000/en1404040400/en1404040401/cm3487353126.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404040000/en1404040400/en1404040401/cm3487353126text.xml"/></content-media>
<content-text><p><b>Cisco SDM Home Page Overview</b></p> <p>After Cisco SDM has started and you have logged in, the first page displayed is the Overview page. </p> <p>This page displays the router model, total amount of memory, the versions of flash, IOS, and SDM, the hardware installed, and a summary of some security features, such as firewall status and the number of active VPN connections.</p> <p>Specifically, it provides basic information about the router hardware, software, and configuration:</p> <p><ul><li>Menu bar - The top of the screen has a typical menu bar with File, Edit, View, Tools, and Help menu items.</li><li>Tool bar - Below the menu bar, it has the SDM wizards and modes you can select.</li><li>Router information - The current mode is displayed on the left side under the tool bar.</li></ul></p> <p><b>Note:</b> The menu bar, tool bar, and current mode are always displayed at the top of each screen. The other areas of the screen change based upon the mode and function you are performing.</p> <p><ul><li>Configuration overview - Summarizes the configuration settings. To view the running configuration, click the <b>View Running Config</b> button.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en1404040402">
<content-media type="InteractiveGraphicHotspots" id="cm5495421109">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404040000/en1404040400/en1404040402/cm5495421109.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404040000/en1404040400/en1404040402/cm5495421109text.xml"/></content-media>
<content-text><p><b>About Your Router Area</b></p> <p>When you click the buttons in the figure, you will be able to see the details associated with each of the following <content-link target="{29A75FAE-A910-4511-BA53-5B9BD02A3A79}" type="glossary">GUI</content-link> elements: </p>  <p>About Your Router - The area of the Cisco SDM home page that shows you basic information about the router hardware and software, and includes the following elements: </p> <p><ul><li>Host Name - This area shows the configured hostname for the router, which is RouterX </li><li>Hardware - This area shows the the router model number, the available and total amounts of <content-link target="{C3E0242B-9EDE-4EE0-A3EF-BB71BDE1438A}" type="glossary">RAM</content-link> available, and the amount of Flash memory available. </li><li>Software - This area describes the Cisco IOS software and Cisco SDM versions running on the router. </li><li>The Feature Availability bar, found across the bottom of the About Your Router tab, shows the features available in the Cisco IOS image that the router is using. If the indicator beside each feature is green, the feature is available. If it is red it is not available. Check marks show that the feature is configured on the router. In the figure, Cisco SDM shows that IP, firewall, VPN, IPS, and NAC are available, but only IP is configured. </li></ul></p></content-text>
</page>
<page type="OneColumn" id="en1404040403">
<content-media type="InteractiveGraphicHotspots" id="cm8480386732">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404040000/en1404040400/en1404040403/cm8480386732.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404040000/en1404040400/en1404040403/cm8480386732text.xml"/></content-media>
<content-text><p><b>Configuration Overview Area</b></p> <p>The figure shows the configuration overview area of the Cisco SDM home page. When you click the buttons in the figure, you will be able to see the details associated with each of the following GUI elements: </p>  <p>Interfaces and Connections - This area displays interface- and connection-related information, including the number of connections that are up and down, the total number of LAN and WAN interfaces that are present in the router, and the number of LAN and WAN interfaces currently configured on the router. It also displays DHCP information. </p> <p><ul><li><b>Firewall Policies</b> - This area displays firewall-related information, including if a firewall is in place, the number of trusted (inside) interfaces, untrusted (outside) interfaces, and DMZ interfaces. It also displays the name of the interface to which a firewall has been applied, whether the interface is designated as an inside or an outside interface, and if the <content-link target="{063F61F2-BA6D-4607-8648-492954C38E1E}" type="glossary">NAT</content-link> rule has been applied to this interface. </li><li><b>VPN</b> - This area displays VPN-related information, including the number of active VPN connections, the number of configured site-to-site VPN connections, and the number of active VPN clients. </li><li><b>Routing</b> - This area displays the number of static routes and which routing protocols are configured. </li></ul></p></content-text>
</page>
</topic>
<topic type="" id="en1404040500">
<title><content-text>Cisco SDM Wizards</content-text></title>
<page type="OneColumn" id="en1404040501">
<content-media type="StaticGraphic" id="cm9527182699">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404040000/en1404040500/en1404040501/cm9527182699.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404040000/en1404040500/en1404040501/cm9527182699text.xml"/></content-media>
<content-text><p>Cisco SDM provides a number of wizards to help you configure a Cisco ISR router. Once a task is selected from the task area in the Cisco SDM GUI, the task pane allows you to select a wizard. The figure shows various Cisco SDM GUI screens for the Basic NAT wizard. NAT is discussed later in the IP Addressing Services sections course. </p>  <p>Check <content-link target="http://www.cisco.com/go/sdm" type="external">http://www.cisco.com/go/sdm</content-link> for the latest information about the Cisco SDM wizards and the interfaces they support.</p></content-text>
</page>
</topic>
<topic type="" id="en1404040600">
<title><content-text>Locking Down a Router with Cisco SDM</content-text></title>
<page type="OneColumn" id="en1404040601">
<content-media type="AnimationPartialScreen" id="cm5692948409">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404040000/en1404040600/en1404040601/cm5692948409.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404040000/en1404040600/en1404040601/cm5692948409text.xml"/></content-media>
<content-text><p>The Cisco SDM one-step lockdown wizard implements almost all of the security configurations that Cisco AutoSecure offers. The one-step lockdown wizard is accessed from the Configure GUI interface by clicking the Security Audit task. The one-step lockdown wizard tests your router configuration for potential security problems and automatically makes any necessary configuration changes to correct any problems found. </p>  <p>Do not assume that the network is secure simply because you executed a one-step lockdown. In addition, not all the features of Cisco AutoSecure are implemented in Cisco SDM. AutoSecure features that are implemented differently in Cisco SDM include the following: </p>  <p><ul><li>Disables SNMP, and does not configure SNMP version 3. </li><li>Enables and configures SSH on crypto Cisco IOS images</li><li>Does not enable Service Control Point or disable other access and <content-link target="{ED284ACF-B1D2-428D-9C28-FC372C0F060A}" type="glossary">file transfer</content-link> services, such as FTP. </li></ul></p>  <p><b>Click the buttons in the figure </b>to explore the steps of the Cisco one-step lockdown wizard.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en1404050000">
<title><content-text>Secure Router Management</content-text></title>
<topic type="" id="en1404050100">
<title><content-text>Maintaining Cisco IOS Software Images</content-text></title>
<page type="OneColumn" id="en1404050101">
<content-media type="StaticGraphic" id="cm7024489147">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050100/en1404050101/cm7024489147.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050100/en1404050101/cm7024489147text.xml"/></content-media>
<content-text><p>Periodically, the router requires updates to be loaded to either the operating system or the configuration file. These updates are necessary to fix known security vulnerabilities, support new features that allow more advanced security policies, or improve performance. </p> <p><b>Note:</b> It is not always a good idea to upgrade to the very latest version of Cisco IOS software. Many times that release is not stable. </p> <p>There are certain guidelines that you must follow when changing the Cisco IOS software on a router. Changes are classified as either updates or upgrades. An update replaces one release with another without upgrading the feature set. The software might be updated to fix a bug or to replace a release that is no longer supported. Updates are free. </p> <p>An upgrade replaces a release with one that has an upgraded feature set. The software might be upgraded to add new features or technologies, or replace a release that is no longer supported. Upgrades are not free. Cisco.com offers guidelines to assist in determining which method applies.</p> <p>Cisco recommends following a four-phase migration process to simplify network operations and management. When you follow a repeatable process, you can also benefit from reduced costs in operations, management, and training. The four phases are:</p> <p><ul><li><b>Plan</b>-Set goals, identify resources, profile network hardware and software, and create a preliminary schedule for migrating to new releases. </li><li><b>Design</b>-Choose new Cisco IOS releases and create a strategy for migrating to the releases. </li><li><b>Implement</b>-Schedule and execute the migration. </li><li><b>Operate</b>-Monitor the migration progress and make backup copies of images that are running on your network. </li></ul></p> <p>There are a number of tools available on Cisco.com to aid in migrating Cisco IOS software. You can use the tools to get information about releases, feature sets, platforms, and images. The following tools do not require a Cisco.com login: </p> <p><ul><li><b>Cisco IOS Reference Guide</b>-Covers the basics of the Cisco IOS software family</li><li><b>Cisco IOS software technical documents</b>-Documentation for each release of Cisco IOS software </li><li><b>Software Center</b>-Cisco IOS software downloads </li></ul></p> <p>Cisco IOS Software Selector-Finds required features for a given technology </p> <p>The following tools require valid Cisco.com login accounts: </p> <p><ul><li><b>Bug Toolkit</b>-Searches for known software fixes based on software version, feature set, and keywords </li><li><b>Cisco Feature Navigator</b>-Finds releases that support a set of software features and hardware, and compares releases </li><li><b>Software Advisor</b>-Compares releases, matches Cisco IOS software and Cisco Catalyst OS features to releases, and finds out which software release supports a given hardware device </li><li><b>Cisco IOS Upgrade Planner</b>-Finds releases by hardware, release, and feature set, and downloads images of Cisco IOS software</li></ul></p></content-text>
</page>
</topic>
<topic type="" id="en1404050200">
<title><content-text>Managing Cisco IOS Images</content-text></title>
<page type="OneColumn" id="en1404050201">
<content-media type="StaticGraphic" id="cm5695386109">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050200/en1404050201/cm5695386109.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050200/en1404050201/cm5695386109text.xml"/></content-media>
<content-text><p><b>Cisco IOS File Systems and Devices</b></p> <p>The availability of the network can be at risk if a router configuration or operating system is compromised. Attackers who gain access to infrastructure devices can alter or delete configuration files. They can also upload incompatible IOS images or delete the IOS image. The changes are invoked automatically or invoked once the device is rebooted.</p> <p>To mitigate against these problems, you have to be able to save, back up, and restore configuration and IOS images. To do so, you learn how to carry out a few file management operations in Cisco IOS software.</p> <p>Cisco IOS devices provide a feature called the Cisco IOS Integrated File System (IFS). This system allows you to create, navigate, and manipulate directories on a Cisco device. The directories available depend on the platform.</p> <p>For instance, the figure displays the output of the <span class="cmd"><b>show file systems</b></span> command which lists all of the available file systems on a Cisco 1841 router. This command provides insightful information such as the amount of available and free memory, the type of file system and its permissions. Permissions include read only (ro), write only (wo), and read and write (rw).</p> <p>Although there are several file systems listed, of interest to us will be the tftp, flash and <content-link target="{F23DBF8E-A495-47F7-9797-F2AD6ACA32A5}" type="glossary">nvram</content-link> file systems. The remainder of the file systems listed are beyond the scope of this course.</p> <p><content-link target="{8856B136-9E77-4955-81B2-C8D5684F373C}" type="glossary">Network file systems</content-link> include using FTP, trivial FTP (TFTP), or <content-link target="{F72163BE-630C-41DC-ACB6-CC7F7E320E5F}" type="glossary">Remote Copy Protocol</content-link> (<content-link target="{4CFF7D26-33D1-46DF-BD0D-4B59E200CA5C}" type="glossary">RCP</content-link>). This course focuses on TFTP.</p> <p>Notice that the flash file system also has an asterisks preceding it which indicates that this is the current default file system. Recall that the bootable IOS is located in flash, therefore the pound symbol (#) appended to the flash listing indicates that this is a bootable disk.</p> <p><b>Click the Flash button in the figure.</b></p> <p>This figure lists the content of the current default file system, which in this case is flash as was indicated by the asterisks preceding the listing in the previous figure. There are several files located in flash, but of specific interest is the last listing. that is the file image name of the current IOS running in RAM.</p> <p><b>Click the NVRAM button in the figure.</b></p> <p>To view the contents of NVRAM, you must change the current default file system using the <span class="cmd"><b>cd</b></span> change directory command. The <span class="cmd"><b>pwd</b></span> present working directory command verifies that we are located in the NVRAM directory. Finally, the <span class="cmd"><b>dir</b></span> command lists the contents of NVRAM. Although there are several configuration files listed, of specific interest to us is the startup-configuration file. </p></content-text>
</page>
<page type="OneColumn" id="en1404050202">
<content-media type="StaticGraphic" id="cm6741381036">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050200/en1404050202/cm6741381036.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050200/en1404050202/cm6741381036text.xml"/></content-media>
<content-text><p><b>URL Prefixes for Cisco Devices</b></p> <p>When a network administrator wants to move files around on a computer, the operating system offers a visible file structure to specify sources and destinations. Administrators do not have visual cues when working at a router CLI. The show file systems command in the previous topic displayed the various file systems available on the Cisco 1841 platform. </p> <p> </p> <p>File locations are specified in Cisco IFS using the URL convention. The URLs used by Cisco IOS platforms look similar to the format you know from the web. </p> <p>For instance, the TFTP example in the figure is: tftp://192.168.20.254/configs/backup-configs. </p> <p><ul><li>The expression "tftp:" is called the prefix. </li><li>Everything after the double-slash (//) defines the location. </li><li>192.168.20.254 is the location of the TFTP server. </li><li> "configs" is the master directory. </li><li> "backup-configs" is the filename. </li></ul></p> <p> </p> <p>The URL prefix specifies the file system. Scroll over the various buttons in the figure to view common prefixes and syntax associated to each. </p></content-text>
</page>
<page type="OneColumn" id="en1404050203">
<content-media type="StaticGraphic" id="cm4234901437">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050200/en1404050203/cm4234901437.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050200/en1404050203/cm4234901437text.xml"/></content-media>
<content-text><p><b>Commands for Managing Configuration Files</b></p> <p>Good practice for maintaining system availability is to ensure you always have backup copies of the startup configuration files and IOS image files. The Cisco IOS software <span class="cmd"><b>copy</b></span> command is used to move configuration files from one component or device to another, such as RAM, NVRAM, or a TFTP server. The figure highlights the command syntax.</p> <p>The following provides examples of common <span class="cmd"><b>copy</b></span> command use. The examples list two methods to accomplish the same tasks. The first example is a simple syntax and the second example provides a more explicit example.</p> <p>Copy the running configuration from RAM to the startup configuration in NVRAM:</p> <p><span class="cmd">R2# <b>copy running-config startup-config</b></span></p> <p><span class="cmd"><b>copy system:running-config nvram:startup-config</b></span></p> <p>Copy the running configuration from RAM to a remote location:</p> <p><span class="cmd">R2# <b>copy running-config tftp:</b></span></p> <p><span class="cmd">R2# <b>copy system:running-config tftp:</b></span></p> <p>Copy a configuration from a remote source to the running configuration:</p> <p><span class="cmd">R2# <b>copy tftp: running-config</b></span></p> <p><span class="cmd">R2# <b>copy tftp: system:running-config</b></span></p> <p>Copy a configuration from a remote source to the startup configuration:</p> <p><span class="cmd">R2# <b>copy tftp: startup-config</b></span></p> <p><span class="cmd">R2# <b>copy tftp: nvram:startup-config</b></span></p></content-text>
</page>
<page type="OneColumn" id="en1404050204">
<content-media type="StaticGraphic" id="cm8771181290">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050200/en1404050204/cm8771181290.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050200/en1404050204/cm8771181290text.xml"/></content-media>
<content-text><p><b>Cisco IOS File Naming Conventions</b></p> <p>The Cisco IOS image file is based on a special naming convention. The name for the Cisco IOS image file contains multiple parts, each with a specific meaning. It is important that you understand this naming convention when upgrading and selecting an IOS.</p> <p>For example, the filename in the figure is explained as follows:</p> <p>The first part,<b> c1841</b>, identifies the platform on which the image runs. In this example, the platform is a Cisco 1841.</p> <p> </p> <p>The second part,<b> ipbase</b>, specifies the feature set. In this case, "ipbase" refers to the basic IP internetworking image. Other feature set possibilities include:</p> <p><b>i</b> - Designates the IP feature set</p> <p><b>j </b>- Designates the enterprise feature set (all protocols)<b>s</b> - Designates a PLUS feature set (extra queuing, manipulation, or translations)</p> <p><b>56i</b> - Designates 56-bit IPsec <content-link target="{D6D25928-2873-443A-8F81-F28770B2C6A1}" type="glossary">DES</content-link> encryption</p> <p><b>3</b> - Designates the firewall/IDS</p> <p><b>k2</b> - Designates the 3DES IPsec encryption (168 bit)</p> <p>The third part, <b>mz</b>, indicates where the image runs and if the file is compressed. In this example, "mz" indicates that the file runs from RAM and is compressed.</p> <p>The fourth part, <b>12.3-14.T7</b>, is the version number. </p> <p>The final part, <b>bin</b>, is the file extension. The .bin extension indicates that this is a binary executable file.</p></content-text>
</page>
</topic>
<topic type="" id="en1404050300">
<title><content-text>Managing Cisco IOS Images</content-text></title>
<page type="OneColumn" id="en1404050301">
<content-media type="StaticGraphic" id="cm2418633892">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050300/en1404050301/cm2418633892.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050300/en1404050301/cm2418633892text.xml"/></content-media>
<content-text><p><b>Using TFTP Servers to Manage IOS Images</b></p> <p>Production internetworks usually span wide areas and contain multiple routers. It is an important task of an administrator to routinely upgrade Cisco IOS images whenever exploits and vulnerabilities are discovered. It is also a sound practice to ensure that all of your platforms are running the same version of Cisco IOS software whenever possible. Finally, for any network, it is always prudent to retain a backup copy of the Cisco IOS software image in case the system image in the router becomes corrupted or accidentally erased.</p>  <p>Widely distributed routers need a source or backup location for Cisco IOS software images. Using a network TFTP server allows image and configuration uploads and downloads over the network. The network TFTP server can be another router, a workstation, or a host system.</p> <p>As any network grows, storage of Cisco IOS software images and configuration files on the central TFTP server enables control of the number and revision level of Cisco IOS images and configuration files that must be maintained.</p> <p>Before changing a Cisco IOS image on the router, you need to complete these tasks:</p> <p><ul><li>Determine the memory required for the update and, if necessary, install additional memory.</li><li>Set up and test the file transfer capability between the administrator host and the router.</li><li>Schedule the required downtime, normally outside of business hours, for the router to perform the update.</li></ul></p> <p>When you are ready to do the update, carry out these steps:</p> <p><ul><li>Shut down all interfaces on the router not needed to perform the update.</li><li>Back up the current operating system and the current configuration file to a TFTP server.</li><li>Load the update for either the operating system or the configuration file.</li><li>Test to confirm that the update works properly. If the tests are successful, you can then re-enable the interfaces you disabled. If the tests are not successful, back out the update, determine what went wrong, and start again.</li></ul></p> <p>A great challenge for <content-link target="{9A49EBE1-9ED3-496B-91BF-D52AAA8C8DC8}" type="glossary">network operators</content-link> is to minimize the downtime after a router has been compromised and the operating software and configuration data have been erased from persistent storage. The operator must retrieve an archived copy (if one exists) of the configuration and restore a working image to the router. Recovery must then be performed for each affected router, which adds to the total network downtime. </p> <p>Bear in mind that the Cisco IOS software resilient configuration feature enables a router to secure and maintain a working copy of the running operating system image and configuration so that those files can withstand malicious attempts to erase the contents of persistent storage (NVRAM and flash).</p></content-text>
</page>
</topic>
<topic type="" id="en1404050400">
<title><content-text>Backing up and Upgrading Software Image</content-text></title>
<page type="OneColumn" id="en1404050401">
<content-media type="StaticGraphic" id="cm1641285484">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050400/en1404050401/cm1641285484.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050400/en1404050401/cm1641285484text.xml"/></content-media>
<content-text><p><b>Backing Up IOS Software Image</b></p> <p>Basic management tasks include saving backups of your configuration files as well as downloading and installing upgraded configuration files when directed. A software backup image file is created by copying the image file from a router to a network TFTP server. </p> <p>To copy a Cisco IOS image software from flash memory to the network TFTP server, you should follow these suggested steps. </p> <p><b>Click the Topology and Config buttons in the figure as you progress through each step.</b></p> <p><b>Step 1.</b> Ping the TFTP server to make sure you have access to it.</p> <p><b>Step 2.</b> Verify that the TFTP server has sufficient disk space to accommodate the Cisco IOS software image. Use the <span class="cmd"><b>show flash:</b></span> command on the router to determine the size of the Cisco IOS image file.</p> <p>The <span class="cmd"><b>show flash:</b></span> command is an important tool to gather information about the router memory and image file. It can determine the following:</p> <p><ul><li>Total amount of flash memory on the router</li><li>Amount of flash memory available</li><li>Name of all the files stored in the flash memory</li></ul></p> <p>With steps 1 and 2 completed, now back up the software image. </p> <p><b>Step 3.</b> Copy the current system image file from the router to the network TFTP server, using the <span class="cmd"><b>copy flash: tftp:</b></span> command in privileged EXEC mode. The command requires that you to enter the IP address of the remote host and the name of the source and destination system image files. </p> <p>During the copy process, exclamation points (!) indicate the progress. Each exclamation point signifies that one UDP segment has successfully transferred.</p></content-text>
</page>
<page type="OneColumn" id="en1404050402">
<content-media type="StaticGraphic" id="cm4365993703">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050400/en1404050402/cm4365993703.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050400/en1404050402/cm4365993703text.xml"/></content-media>
<content-text><p><b>Upgrading IOS Software Images</b></p> <p>Upgrading a system to a newer software version requires a different system image file to be loaded on the router. Use the <span class="cmd"><b>copy tftp: flash:</b></span> command to download the new image from the network TFTP server.</p> <p><b>Click the Config button in the figure.</b></p> <p>The command prompts you for the IP address of the remote host and the name of the source and destination system image file. Enter the appropriate filename of the update image just as it appears on the server.</p> <p>After these entries are confirmed, the <span class="cmd">Erase flash:</span> prompt appears. Erasing flash memory makes room for the new image. Erase flash memory if there is not sufficient flash memory for more than one Cisco IOS image. If no free flash memory is available, the erase routine is required before new files can be copied. The system informs you of these conditions and prompts for a response.</p> <p>Each exclamation point (!) means that one UDP segment has successfully transferred.</p> <p><b>Note:</b> Make sure that the Cisco IOS image loaded is appropriate for the router platform. If the wrong Cisco IOS image is loaded, the router could be made unbootable, requiring ROM monitor (ROMmon) intervention.</p></content-text>
</page>
<page type="OneColumn" id="en1404050403">
<content-media type="ActivityPKA" id="cm2998421470">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050400/en1404050403/cm2998421470/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en1404000000/en1404050000/en1404050400/en1404050403/cm2998421470/icontext.xml"/></content-media>
<content-text><p>In this activity, you will configure access to a TFTP server and upload a newer, more advanced Cisco IOS image. Although Packet Tracer simulates upgrading the Cisco IOS image on a router, it does not simulate backing up a Cisco IOS image to the TFTP server. In addition, although the image you are upgrading to is more advanced, this Packet Tracer simulation will not reflect the upgrade by enabling more advanced commands. The same Packet Tracer command set will still be in effect.</p> <p>Detailed instructions are provided within the activity as well as in the PDF link below.</p> <p><content-link target="E4_PTAct_4_5_4.pdf" type="internalfile">Activity Instructions (PDF)</content-link></p> <p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en1404050500">
<title><content-text>Recovering Software Images</content-text></title>
<page type="OneColumn" id="en1404050501">
<content-media type="StaticGraphic" id="cm4966139518">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050500/en1404050501/cm4966139518.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050500/en1404050501/cm4966139518text.xml"/></content-media>
<content-text><p><b>Restoring IOS Software Images</b></p> <p>A router cannot function without its Cisco IOS software. Should the IOS be deleted or become corrupt, an administrator must then copy an image to the router for it to become operational again </p> <p> </p> <p>One method to accomplish this would be to use the Cisco IOS image that was previously saved to the TFTP server. In the example in the figure, the IOS image on R1 was backed up to a TFTP server connected to R2. R1 is not able to reach that TFTP server in its current state. </p> <p>When an IOS on a router is accidentally deleted from flash, the router is still operational because the IOS is running in RAM. However, it is crucial that the router is not rebooted at this time since it would not be able to find a valid IOS in flash. </p> <p> </p> <p>In the figure, the IOS on router R1 has accidentally been deleted from flash. Unfortunately, the router has been rebooted and can no longer load an IOS. It is now loading the ROMmon prompt by default. While in this state, router R1 needs to retrieve the IOS which was previously copied to the TFTP server connected to R2. In this scenario, the TFTP will be directly connected to router R1. Having made preparations with the TFTP server, carry out the following procedure.</p> <p><b>Step 1.</b> Connect the devices.</p> <p><ul><li>Connect the PC of the system administrator to the console port on the affected router.</li><li>Connect the TFTP server to the first Ethernet port on the router. In the figure, R1 is a Cisco 1841, therefore the port is Fa0/0. Enable the TFTP server and configure it with a static IP address 192.168.1.1/24. </li></ul></p> <p><b>Step 2.</b> Boot the router and set the ROMmon variables.</p> <p>Because the router does not have a valid Cisco IOS image, the router boots automatically into ROMmon mode. There are very few commands available in ROMmon mode. You can view these commands by typing <span class="cmd"><b>?</b></span> at the <span class="cmd">rommon></span> command prompt. </p> <p>You must enter all of the variables listed in the figure. When you enter the ROMmon variables, be aware of the following:</p> <p><ul><li>Variable names are case sensitive.</li><li>Do not include any spaces before or after the = symbol.</li><li>Where possible, use a text editor to cut and paste the variables into the terminal window. The full line must be typed accurately.</li><li>Navigational keys are not operational.</li></ul></p> <p>Router R1 must now be configured with the appropriate values to connect to the TFTP server. The syntax of the ROMmon commands is very crucial. Although the IP addresses, subnet mask, and image name in the figure are only examples, it is vital that the syntax displayed be followed when configuring the router. Keep in mind that the actual variables will vary depending on your configuration.</p> <p>When you have entered the variables, proceed to the next step.</p> <p><b>Step 3.</b> Enter the <span class="cmd"><b>tftpdnld</b></span> command at the ROMmon prompt.</p> <p>The command displays the required environment variables and warns that all existing data in flash will be erased. Type <b>y</b> to proceed, and press <b>Enter</b>. The router attempts to connect to the TFTP server to initiate the download. When connected, the download begins as indicated by the exclamation mark (!) marks. Each ! indicates that one UDP segment has been received by the router.</p> <p>You can use the <span class="cmd"><b>reset</b></span> command to reload the router with the new Cisco IOS image.</p></content-text>
</page>
<page type="OneColumn" id="en1404050502">
<content-media type="StaticGraphic" id="cm8718598525">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050500/en1404050502/cm8718598525.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050500/en1404050502/cm8718598525text.xml"/></content-media>
<content-text><p><b>Using xmodem to Restore an IOS Image</b></p> <p>Using the <span class="cmd"><b>tftpdnld</b></span> command is a very quick way of copying the image file. Another method for restoring a Cisco IOS image to a router is by using Xmodem. However, the file transfer is accomplished using the console cable and is therefore very slow when compared to the <span class="cmd"><b>tftpdnld</b></span> command.</p> <p>If the Cisco IOS image is lost, the router goes into ROMmon mode when it boots up. ROMmon supports Xmodem. With that capability, the router can communicate with a <content-link target="{13693F75-EE57-423C-BDEA-A77DB3F89290}" type="glossary">terminal emulation</content-link> application, such as HyperTerminal, on the PC of a system administrator. A system administrator who has a copy of the Cisco IOS image on a PC can restore it to the router by making a console connection between the PC and the router and running Xmodem from HyperTerminal.</p> <p>The steps the administrator follows are shown in the figure. </p> <p><b>Step 1.</b> Connect the PC of the system administrator to the console port on the affected router. Open a terminal emulation session between the router R1 and the PC of the system administrator.</p> <p><b>Step 2.</b> Boot the router and issue the <span class="cmd"><b>xmodem</b></span> command at the ROMmon command prompt. </p> <p>The command syntax is <span class="cmd"><b>xmodem</b> [<b>-cyr</b>] [<i>filename</i>]</span>. The cyr option varies depending on the configuration. For instance, <span class="cmd"><b>-c</b></span> specifies CRC-16, <span class="cmd"><b>y</b></span> specifies the Ymodem protocol, and <span class="cmd"><b>r</b></span> copies the image to RAM. The filename is the name of the file to be transferred. </p> <p>Accept all prompts when asked, as shown in the figure.</p> <p><b>Step 3.</b> The figure shows the process for sending a file using HyperTerminal. In this case, Select <b>Transfer > Send File</b>. </p> <p><b>Step 4.</b> Browse to the location of the Cisco IOS image you want to transfer and choose the Xmodem protocol. Click <b>Send</b>. A dialog box appears displaying the status of the download. It takes several seconds before the host and the router begin transferring the information.</p> <p>As the download begins, the Packet and Elapsed fields increment. Take note of the estimated time remaining indicator. The download time could be dramatically improved if you change the connection speed of HyperTerminal and the router from 9600 b/s to 115000 b/s.</p> <p>When the transfer is complete, the router automatically reloads with the new Cisco IOS.</p></content-text>
</page>
</topic>
<topic type="" id="en1404050600">
<title><content-text>Troubleshooting Cisco IOS Configurations</content-text></title>
<page type="OneColumn" id="en1404050601">
<content-media type="StaticGraphic" id="cm5715946195">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050600/en1404050601/cm5715946195.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050600/en1404050601/cm5715946195text.xml"/></content-media>
<content-text><p><b>Cisco IOS Troubleshooting Commands</b></p> <p>When you have a valid Cisco IOS image running on all the routers in the network, and all the configurations are backed up, you can manually tune configurations for individual devices to improve their performance in the network.</p> <p>Two commands that are extensively used in day-to-day network administration are <span class="cmd"><b>show</b></span> and <span class="cmd"><b>debug</b></span>. The difference between the two is significant. A <span class="cmd"><b>show</b></span> command lists the configured parameters and their values. The <span class="cmd"><b>debug</b></span> command allows you to trace the execution of a process. Use the <span class="cmd"><b>show</b></span> command to verify configurations. Use the <span class="cmd"><b>debug</b></span> command to identify traffic flows through interfaces and router processes.</p> <p>The figure summarizes the characteristics of the <span class="cmd"><b>show</b></span> and <span class="cmd"><b>debug</b></span> commands. The best time to learn about the output generated by these commands is when a network is fully operational. This way you will be able to recognize what is missing or incorrect when using the commands to troubleshoot a problem network. </p></content-text>
</page>
<page type="OneColumn" id="en1404050602">
<content-media type="StaticGraphic" id="cm7970608026">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050600/en1404050602/cm7970608026.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050600/en1404050602/cm7970608026text.xml"/></content-media>
<content-text><p><b>Using the </b><span class="cmd"><b>show</b></span><b> Command</b></p> <p>The <span class="cmd"><b>show</b></span> command displays static information. Use <span class="cmd"><b>show</b></span> commands when gathering facts for isolating problems in an internetwork, including problems with interfaces, nodes, media, servers, clients, or applications. You may also use it frequently to confirm that configuration changes have been implemented.</p> <p>The example in the figure provides a sample output of the <span class="cmd"><b>show protocols</b></span> command. The Cisco IOS command guide lists 1,463 <span class="cmd"><b>show</b></span> commands. When you are at the command prompt, type <span class="cmd"><b>show ?</b></span> for a list of available <span class="cmd"><b>show</b></span> commands for the level and mode you are operating.</p></content-text>
</page>
<page type="OneColumn" id="en1404050603">
<content-media type="StaticGraphic" id="cm3023473605">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050600/en1404050603/cm3023473605.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050600/en1404050603/cm3023473605text.xml"/></content-media>
<content-text><p><b>Using the </b><span class="cmd"><b>debug</b></span><b> Command</b></p> <p>When you configure a router, the commands you enter initiate many more processes than you see in the simple line of code. Therefore, tracing your written configurations line-by-line does not reveal all the possibilities for error. Instead, you need some way of capturing data from the device as each step in a running process is initiated.</p> <p>By default, the network server sends the output from <span class="cmd"><b>debug</b></span> commands and system error messages to the console. Remember that you can redirect debug output to a syslog server.</p> <p><b>Note:</b> Debugging output is assigned high priority in the <content-link target="{553626E2-B675-44AE-9FBA-B8F65077C560}" type="glossary">CPU</content-link> process queue and can therefore interfere with normal production processes on a network. For this reason, use <span class="cmd"><b>debug</b></span> commands during quiet hours and only to troubleshoot specific problems.</p> <p>The <span class="cmd"><b>debug</b></span> command displays dynamic data and events. Use <span class="cmd"><b>debug</b></span> to check the flow of protocol traffic for problems, protocol bugs, or misconfigurations. The <span class="cmd"><b>debug</b></span> command provides a flow of information about the traffic being seen (or not seen) on an interface, error messages generated by nodes on the network, protocol-specific diagnostic packets, and other useful troubleshooting data. Use <span class="cmd"><b>debug</b></span> commands when operations on the router or network must be viewed to determine if events or packets are working properly.</p> <p>All <span class="cmd"><b>debug</b></span> commands are entered in privileged EXEC mode, and most <span class="cmd"><b>debug</b></span> commands take no arguments. To list and see a brief description of all the debugging command options, enter the <span class="cmd"><b>debug ?</b></span> command in privileged EXEC mode.</p> <p><b>Caution:</b> It is important to turn off debugging when you have finished your troubleshooting. The best way to ensure there are no lingering debugging operations running is to use the <span class="cmd"><b>no debug all</b></span> command.</p></content-text>
</page>
<page type="OneColumn" id="en1404050604">
<content-media type="StaticGraphic" id="cm6055469736">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050600/en1404050604/cm6055469736.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050600/en1404050604/cm6055469736text.xml"/></content-media>
<content-text><p><b>Considerations when using the </b><span class="cmd"><b>debug</b></span><b> Command</b></p> <p> </p> <p>It is one thing to use <span class="cmd"><b>debug</b></span> commands to troubleshoot a lab network that lacks end-user application traffic. It is another thing to use <span class="cmd"><b>debug</b></span> commands on a production network that users depend on for data flow. Without proper precautions, the impact of a broadly focused <span class="cmd"><b>debug</b></span> command could make matters worse.</p> <p>With proper, selective, and temporary use of <span class="cmd"><b>debug</b></span> commands, you can obtain potentially useful information without needing a protocol analyzer or other third-party tool.</p> <p>Other considerations for using <span class="cmd"><b>debug</b></span> commands are as follows:</p> <p><ul><li>When the information you need from the <span class="cmd"><b>debug</b></span> command is interpreted and the debug (and any other related configuration setting, if any) is finished, the router can resume its faster switching. Problem-solving can be resumed, a better-targeted action plan created, and the network problem resolved.</li><li>Be aware that the <span class="cmd"><b>debug</b></span> commands may generate too much data that is of little use for a specific problem. Normally, knowledge of the protocol or protocols being debugged is required to properly interpret the <span class="cmd"><b>debug</b></span> outputs.</li><li>When using <span class="cmd"><b>debug</b></span> troubleshooting tools, be aware that output formats vary with each protocol. Some generate a single line of output per packet, others generate multiple lines of output per packet. Some <span class="cmd"><b>debug</b></span> commands generate large amounts of output; others generate only occasional output. Some generate lines of text, and others generate information in field format.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en1404050605">
<content-media type="StaticGraphic" id="cm4945776973">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050600/en1404050605/cm4945776973.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050600/en1404050605/cm4945776973text.xml"/></content-media>
<content-text><p><b>Commands Related to the </b><span class="cmd"><b>debug</b></span><b> Command</b></p> <p>To effectively use debugging tools, you must consider the following:</p> <p><ul><li>Impact that a troubleshooting tool has on router performance</li><li>Most selective and focused use of the diagnostic tool</li><li>How to minimize the impact of troubleshooting on other processes that compete for resources on the network device</li><li>How to stop the troubleshooting tool when diagnosing is complete so that the router can resume its most efficient switching</li></ul></p> <p>To optimize your efficient use of the <span class="cmd"><b>debug</b></span> command, these commands can help you:</p> <p><ul><li>The <span class="cmd"><b>service timestamps</b></span> command is used to add a time stamp to a debug or log message. This feature can provide valuable information about when debug elements occurred and the duration of time between events.</li><li>The <span class="cmd"><b>show processes</b></span> command displays the CPU use for each process. This data can influence decisions about using a debug command if it indicates that the production system is already too heavily used for adding a debug command.</li><li>The <span class="cmd"><b>no debug all</b></span> command disables all debug commands. This command can free up system resources after you finish debugging.</li><li>The <span class="cmd"><b>terminal monitor</b></span> command displays debug output and system error messages for the current terminal and session. When you Telnet to a device and issue a <span class="cmd"><b>debug</b></span> command, you will not see output unless this commands is entered.</li></ul></p></content-text>
</page>
</topic>
<topic type="" id="en1404050700">
<title><content-text>Recovering a Lost Router Password</content-text></title>
<page type="OneColumn" id="en1404050701">
<content-media type="StaticGraphic" id="cm4098248353">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050700/en1404050701/cm4098248353.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050700/en1404050701/cm4098248353text.xml"/></content-media>
<content-text><p><b>About Password Recovery</b></p> <p>Have you ever forgotten the password to a router? Maybe not, but sometime in your career, you can expect someone to forget, and you will need to recover it.</p> <p>The first thing that you have to know about password recovery is that for security reasons, you need physical access to the router. You connect your PC to the router through a console cable.</p> <p>The enable password and the enable secret password protect access to privileged EXEC and configuration modes. The enable password can be recovered, but the enable secret password is encrypted and must be replaced with a new password.</p> <p>The <content-link target="{5EB9EDBA-363A-4348-B008-CEBE651612E7}" type="glossary">configuration register</content-link> is a concept that you will learn more about later in your studies. The configuration register is similar to your PC BIOS settings, which control the bootup process. Among other things, the BIOS tells the PC from which hard disk to boot. In a router, a configuration register, represented by a single hexadecimal value, tells the router what specific steps to take when powered on. Configuration registers have many uses, and password recovery is probably the most used.</p></content-text>
</page>
<page type="OneColumn" id="en1404050702">
<content-media type="StaticGraphic" id="cm7745591695">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404050000/en1404050700/en1404050702/cm7745591695.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404050000/en1404050700/en1404050702/cm7745591695text.xml"/></content-media>
<content-text><p><b>Router Password Recovery Procedure</b></p> <p>To recover a router password, do the following:</p> <p><b>Prepare the Device</b></p> <p><b>Step 1.</b> Connect to the console port.</p> <p><b>Step 2.</b> If you have lost the enable password, you would still have access to user EXEC mode. Type <span class="cmd"><b>show version</b></span> at the prompt, and record the configuration register setting. </p> <span class="cmd"><p>R>#<b>show version</b></p></span> <span class="cmd"><p><i>&lt;show command output omitted></i></p></span> <span class="cmd"><p>Configuration register is 0x2102</p></span> <span class="cmd"><p>R1></p></span> <p>The configuration register is usually set to 0x2102 or 0x102. If you can no longer access the router (because of a lost login or TACACS password), you can safely assume that your configuration register is set to 0x2102.</p> <p><b>Step 3.</b> Use the power switch to turn off the router, and then turn the router back on.</p> <p><b>Step 4.</b> Press Break on the terminal keyboard within 60 seconds of power up to put the router into ROMmon.</p> <p><b>Click Bypass Startup in the figure.</b></p> <p><b>Step 5.</b> Type <span class="cmd"><b>confreg 0x2142</b></span> at the <span class="cmd">rommon 1></span> prompt. This causes the router to bypass the startup configuration where the forgotten enable password is stored.</p> <p><b>Step 6.</b> Type <span class="cmd"><b>reset</b></span> at the <span class="cmd">rommon 2></span> prompt. The router reboots, but ignores the saved configuration.</p> <p><b>Step 7.</b> Type <span class="cmd"><b>no</b></span> after each setup question, or press <b>Ctrl-C</b> to skip the initial setup procedure.</p> <p><b>Step 8.</b> Type <span class="cmd"><b>enable</b></span> at the <span class="cmd">Router></span> prompt. This puts you into enable mode, and you should be able to see the <span class="cmd">Router#</span> prompt.</p> <p><b>Click Access NVRAM in the figure.</b></p> <p><b>Step 9.</b> Type <span class="cmd"><b>copy startup-config running-config</b></span> to copy the NVRAM into memory. Be careful! Do not type <span class="cmd"><b>copy running-config startup-config</b></span> or you will erase your startup configuration.</p> <p><b>Step 10.</b> Type <span class="cmd"><b>show running-config</b></span>. In this configuration, the <span class="cmd"><b>shutdown</b></span> command appears under all interfaces because all the interfaces are currently shut down. Most importantly though, you can now see the passwords (enable password, enable secret, vty, console passwords) either in encrypted or unencrypted format. You can reuse unencrypted passwords. You must change encrypted passwords to a new password.</p> <p><b>Click Reset Passwords in the figure.</b></p> <p><b>Step 11.</b> Type <span class="cmd"><b>configure terminal</b></span>. The <span class="cmd">hostname(config)#</span> prompt appears.</p> <p><b>Step 12.</b> Type <span class="cmd"><b>enable secret</b> <i>password</i></span> to change the enable secret password. For example: </p> <p><span class="cmd">R1(config)# <b>enable secret cisco</b></span></p> <p><b>Step 13.</b> Issue the <span class="cmd"><b>no shutdown</b></span> command on every interface that you want to use. You can issue a <span class="cmd"><b>show ip interface brief</b></span> command to confirm that your interface configuration is correct. Every interface that you want to use should display up up.</p> <p><b>Step 14.</b> Type <span class="cmd"><b>config-register</b> <i>configuration_register_setting</i></span>. The <span class="cmd"><i>configuration_register_setting</i></span> is either the value you recorded in Step 2 or 0x2102 . For example: </p> <p><span class="cmd">R1(config)#<b>config-register 0x2102</b></span></p> <p><b>Step 15.</b> Press <b>Ctrl-Z</b> or type <span class="cmd"><b>end</b></span> to leave configuration mode. The <span class="cmd">hostname#</span> prompt appears.</p> <p><b>Step 16.</b> Type <span class="cmd"><b>copy running-config startup-config</b></span> to commit the changes.</p> <p>You have now completed password recovery. Entering the <span class="cmd"><b>show version</b></span> command will confirm that the router will use the configured config register setting on the next reboot.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en1404060000">
<title><content-text>Chapter Labs</content-text></title>
<topic type="" id="en1404060100">
<title><content-text>Basic Security Configuration</content-text></title>
<page type="OneColumn" id="en1404060101">
<content-media type="ActivityLab" id="cm9304799322">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404060000/en1404060100/en1404060101/cm9304799322/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1404000000/en1404060000/en1404060100/en1404060101/cm9304799322/icontext.xml"/></content-media>
<content-text><p>In this lab, you will learn how to configure basic network security using the network shown in the topology diagram. You will learn how to configure router security three different ways: using the CLI, the auto-secure feature, and Cisco SDM. You will also learn how to manage Cisco IOS software. </p></content-text>
</page>
</topic>
<topic type="" id="en1404060200">
<title><content-text>Challenge Security Configuration</content-text></title>
<page type="OneColumn" id="en1404060201">
<content-media type="ActivityLab" id="cm6268979545">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404060000/en1404060200/en1404060201/cm6268979545/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1404000000/en1404060000/en1404060200/en1404060201/cm6268979545/icontext.xml"/></content-media>
<content-text><p>In this lab, you will configure security using the network shown in the topology diagram. If you need assistance, refer to the Basic Security lab. However, try to do as much on your own as possible. For this lab, do not use password protection or login on any console lines because they might cause accidental logout. However, you should still secure the console line using other means. Use <b>ciscoccna</b> for all passwords in this lab. </p></content-text>
</page>
</topic>
<topic type="" id="en1404060300">
<title><content-text>Troubleshooting Security Configuration</content-text></title>
<page type="OneColumn" id="en1404060301">
<content-media type="ActivityLab" id="cm7541640364">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404060000/en1404060300/en1404060301/cm7541640364/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1404000000/en1404060000/en1404060300/en1404060301/cm7541640364/icontext.xml"/></content-media>
<content-text><p>Your company just hired a new network engineer who has created some security issues in the network with misconfigurations and oversights. Your boss has asked you to correct the errors the new engineer has made configuring the routers. While correcting the problems, make sure that all the devices are secure but are still accessible by administrators, and that all networks are reachable. All routers must be accessible with SDM from PC1. Verify that a device is secure by using tools such as Telnet and ping. Unauthorized use of these tools should be blocked, but also ensure that authorized use is permitted. For this lab, do not use login or password protection on any console lines to prevent accidental lockout. Use <b>ciscoccna</b> for all passwords in this scenario.</p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="en1404070000">
<title><content-text>Chapter Summary</content-text></title>
<topic type="" id="en1404070100">
<title><content-text>Chapter Summary</content-text></title>
<page type="OneColumn" id="en1404070101">
<content-media type="StaticGraphic" id="cm1850904879">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404070000/en1404070100/en1404070101/cm1850904879.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404070000/en1404070100/en1404070101/cm1850904879text.xml"/></content-media>
<content-text><p>The importance of network security cannot be under estimated. This chapter stressed the importance of developing an effective security policy and then adhering to what it requires you to do. You know the threats to your network, both from within and from without, and you know the basic steps you need to take to protect yourself from these threats. Moreover, you now understand the requirements to balance security against access. </p> <p>Network attacks come from all directions and in many forms. Password attacks are easy to launch, but easily defended against. The tactics of social engineering require users to develop a degree of suspiciousness and care. Once an attacker gains network access, they can literally open all the locks. But attackers need not always gain access to wreak havoc. Denial of service attacks can be launched that can overload network resources to the point they can no longer function. Worms, viruses and Trojan horses can penetrate networks and continue spreading and infecting devices.</p> <p>A key task in securing a network is to secure the routers. Routers are the gateway into the network and are obvious targets. Basic administrative talks including good physical security, maintaining updated IOS and backing up configuration files are a start. Cisco IOS software provides a wealth of security features to harden routers and close doors opened by used ports and services, most of which can be completed using the one-step lockdown feature of Cisco SDM.</p></content-text>
</page>
<page type="FullScreen" id="en1404070102">
<content-media type="ChapterSummary" id="cm9180026423">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404070000/en1404070100/en1404070102/cm9180026423.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1404000000/en1404070000/en1404070100/en1404070102/cm9180026423text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="en1404070103">
<content-media type="ActivityPKA" id="cm2898938218">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404070000/en1404070100/en1404070103/cm2898938218/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en1404000000/en1404070000/en1404070100/en1404070103/cm2898938218/icontext.xml"/></content-media>
<content-text><p>This activity is a cumulative review of the chapter covering OSPF routing, authentication, and upgrading the Cisco IOS image.</p> <p>Detailed instructions are provided within the activity as well as in the PDF link below.</p> <p><content-link target="E4_PTAct_4_7_1.pdf" type="internalfile">Activity Instructions (PDF)</content-link></p> <p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="en1404080000">
<title><content-text>Chapter Quiz</content-text></title>
<topic type="" id="en1404080100">
<title><content-text>Chapter Quiz</content-text></title>
<page type="FullScreen" id="en1404080101">
<content-media type="ChapterQuiz" id="cm9162402892">	<title><content-text></content-text></title>	<media ref="en1404000000/en1404080000/en1404080100/en1404080101/cm9162402892/" mime="" scale="true" type="directory" width="100%" height="100%" external="en1404000000/en1404080000/en1404080100/en1404080101/cm9162402892/icontext.xml"/></content-media>
<content-text><p>Chapter Quiz</p></content-text>
</page>
</topic>
</section>
</chapter>
