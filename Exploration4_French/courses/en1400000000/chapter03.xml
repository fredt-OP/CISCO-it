<chapter type="" id="en1403000000">
<title><content-text>Frame Relay</content-text></title>
<section type="ChapterIntroduction" id="en1403000000">
<title><content-text>Introduction</content-text></title>
<topic type="" id="en1403000100">
<title><content-text>Introduction</content-text></title>
<page type="OneColumn" id="en1403000101">
<content-media type="ChapterIntroduction" id="cm4533538109">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403000000/en1403000100/en1403000101/cm4533538109.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403000000/en1403000100/en1403000101/cm4533538109text.xml"/></content-media>
<content-text><p>Frame Relay is a high-performance WAN protocol that operates at the physical and Data Link layers of the OSI reference model. </p> <p>Eric Scace, an engineer at Sprint International, invented Frame Relay as a simpler version of the X.25 protocol to use across Integrated Services Digital Network (ISDN) interfaces. Today, it is used over a variety of other network interfaces as well. When Sprint first implemented Frame Relay in its public network, they used StrataCom switches. Cisco's acquisition of StrataCom in 1996 marked their entry into the carrier market. </p> <p>Network providers commonly implement Frame Relay for voice and data as an encapsulation technique, used between LANs over a WAN. Each end user gets a private line (or leased line) to a Frame Relay node. The Frame Relay network handles the transmission over a frequently changing path transparent to all end users.</p> <p>Frame Relay has become one of the most extensively used WAN protocols, primarily because it is inexpensive compared to dedicated lines. In addition, configuring user equipment in a Frame Relay network is very simple. Frame Relay connections are created by configuring CPE routers or other devices to communicate with a service provider Frame Relay switch. The service provider configures the Frame Relay switch, which helps keep end-user configuration tasks to a minimum. </p> <p>This chapter describes Frame Relay and explains how to configure Frame Relay on a Cisco router. </p></content-text>
</page>
</topic>
</section>
<section type="" id="en1403010000">
<title><content-text>Basic Frame Relay Concepts</content-text></title>
<topic type="" id="en1403010100">
<title><content-text>Introducing Frame Relay</content-text></title>
<page type="OneColumn" id="en1403010101">
<content-media type="StaticGraphic" id="cm1766755585">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403010000/en1403010100/en1403010101/cm1766755585.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403010000/en1403010100/en1403010101/cm1766755585text.xml"/></content-media>
<content-text><p><b>Frame Relay: An Efficient and Flexible WAN Technology</b></p> <p>Frame Relay has become the most widely used WAN technology in the world. Large enterprises, governments, ISPs, and small businesses use Frame Relay, primarily because of its price and flexibility. As organizations grow and depend more and more on reliable data transport, traditional leased-line solutions are prohibitively expensive. The pace of technological change, and mergers and acquisitions in the networking industry, demand and require more flexibility. </p> <p>Frame Relay reduces network costs by using less equipment, less complexity, and an easier implementation. Moreover, Frame Relay provides greater bandwidth, reliability, and resiliency than private or leased lines. With increasing globalization and the growth of one-to-many branch office topologies, Frame Relay offers simpler network architecture and lower cost of ownership. </p> <p>Using an example of a large enterprise network helps illustrate the benefits of using a Frame Relay WAN. In the example shown in the figure, Span Engineering has five campuses across North America. Like most organizations, Span's bandwidth requirements do not fit "a one size fits all" solution. </p> <p>The first thing to consider is the bandwidth requirement of each site. Working out from the headquarters, the Chicago to New York connection requires a maximum speed of 256 kb/s. Three other sites need a maximum speed of 48 kb/s connecting to the headquarters, while the connection between the New York and Dallas branch offices requires only 12 kb/s.</p> <p>Before Frame Relay became available, Span leased <content-link target="{1E4E9BB9-4DB4-46FE-B4B1-B72C94594829}" type="glossary">dedicated lines</content-link>. </p> <p><b>Click the Dedicated Lines button in the figure.</b></p> <p>Using leased lines, each Span site is connected through a switch at the local telephone company's central office (CO) through the local loop, and then across the entire network. The Chicago and New York sites each use a dedicated T1 line (equivalent to 24 DS0 channels) to connect to the switch, while other sites use ISDN connections (56 kb/s). Because the Dallas site connects with both New York and Chicago, it has two locally leased lines. The network providers have provided Span with one DS0 between the respective COs, except for the larger pipe connecting Chicago to New York, which has four DS0s. DS0s are priced differently from region to region, and usually are offered at a fixed price. These lines are truly dedicated in that the network provider reserves that line for Span's own use. There is no sharing, and Span is paying for the end-to-end circuit regardless of how much bandwidth it uses.</p> <p>A dedicated line provides little practical opportunity for a one-to-many connection without getting more lines from the network provider. In the example, almost all communication must flow through the corporate headquarters, simply to reduce the cost of additional lines.</p> <p>If you examine what each site requires in terms of bandwidth, you notice a lack of efficiency: </p> <p><ul><li>Of the 24 DSO channels available in the T1 connection, the Chicago site only uses seven. Some carriers offer fractional T1 connections in increments of 64 kb/s, but this requires a specialized multiplexer at the customer end to channelize the signals. In this case, Span has opted for the full T1 service.</li><li>Similarly, the New York site only uses five of its available 24 DSOs.</li><li>Because Dallas needs to connect to Chicago and New York, there are two lines connecting through the CO to each site.</li></ul></p> <p>The leased-line design also limits flexibility. Unless circuits are already installed, connecting new sites typically requires new circuit installations and takes considerable time to implement. From a network <content-link target="{3DFD09F8-20AF-4BBB-A7B4-194013D26255}" type="glossary">reliability</content-link> point of view, imagine the additional costs in money and complexity of adding spare and redundant circuits.</p> <p><b>Click the Frame Relay button in the figure.</b></p> <p> </p> <p>Span's Frame Relay network uses permanent virtual circuits (PVCs). A PVC is the logical path along an originating Frame Relay link, through the network, and along a terminating Frame Relay link to its ultimate destination. Compare this to the physical path used by a dedicated connection. In a network with Frame Relay access, a PVC uniquely defines the path between two endpoints. The concept of virtual circuits is discussed in more detail later in this section.</p> <p>Span's Frame Relay solution provides both cost effectiveness and flexibility.</p> <p><b>Cost Effectiveness of Frame Relay</b></p> <p>Frame Relay is a more cost-effective option for two reasons. First, with dedicated lines, customers pay for an end-to-end connection. That includes the local loop and the network link. With Frame Relay, customers only pay for the local loop, and for the bandwidth they purchase from the network provider. Distance between nodes is not important. While in a dedicated-line model, customers use dedicated lines provided in increments of 64 kb/s, Frame Relay customers can define their virtual circuit needs in far greater granularity, often in increments as small as 4 kb/s.</p> <p>The second reason for Frame Relay's cost effectiveness is that it shares bandwidth across a larger base of customers. Typically, a network provider can service 40 or more 56 kb/s customers over one T1 circuit. Using dedicated lines would require more DSU/CSUs (one for each line) and more complicated routing and switching. Network providers save because there is less equipment to purchase and maintain. </p> <p><b>The Flexibility of Frame Relay</b></p> <p>A virtual circuit provides considerable flexibility in network design. Looking at the figure, you can see that Span's offices all connect to the Frame Relay cloud over their respective local loops. What happens in the cloud is really of no concern at this time. All that matters is that when any Span office wants to communicate with any other Span office, all it needs to do is connect to a virtual circuit leading to the other office. In Frame Relay, the end of each connection has a number to identify it called a Data Link Connection Identifier (DLCI). Any station can connect with any other simply by stating the address of that station and DLCI number of the line it needs to use. In a later section, you will learn that when Frame Relay is configured, all the data from all the configured DLCIs flows through the same port of the router. Try to picture the same flexibility using dedicated lines. Not only is it complicated, but it also requires considerably more equipment. </p>  <p><b>Click the Cost button in the figure.</b></p> <p>The table shows a representative cost comparison for comparable ISDN and Frame Relay connections. While initial costs for Frame Relay are higher than for ISDN, the monthly cost is considerably lower. Frame Relay is easier to manage and configure than ISDN. In addition, customers can increase their bandwidth as their needs grow in the future. Frame Relay customers pay only for the bandwidth they need. With Frame Relay, there are no hourly charges, while ISDN calls are metered and can result in unexpectedly high monthly charges from the telephone company if a full-time connection is maintained.</p> <p>The next few topics will expand your understanding of Frame Relay by defining the key concepts introduced in the example.</p></content-text>
</page>
<page type="OneColumn" id="en1403010102">
<content-media type="StaticGraphic" id="cm7366260113">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403010000/en1403010100/en1403010102/cm7366260113.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403010000/en1403010100/en1403010102/cm7366260113text.xml"/></content-media>
<content-text><p><b>The Frame Relay WAN</b></p> <p>In the late 1970s and into the early 1990s, the WAN technology joining the end sites was typically using the X.25 protocol. Now considered a legacy protocol, X.25 was a very popular packet switching technology because it provided a very reliable connection over unreliable cabling infrastructures. It did so by including additional error control and flow control. However, these additional features added overhead to the protocol. Its major application was for processing credit card authorization and for automatic teller machines. This course mentions X.25 only for historical purposes. </p> <p>When you build a WAN, regardless of the transport you choose, there is always a minimum of three basic components, or groups of components, connecting any two sites. Each site needs its own equipment (DTE) to access the telephone company's CO serving the area (DCE). The third component sits in the middle, joining the two access points. In the figure, this is the portion supplied by the Frame Relay backbone. </p> <p>Frame Relay has lower overhead than X.25 because it has fewer capabilities. For example, Frame Relay does not provide error correction, modern WAN facilities offer more reliable connection services and a higher degree of reliability than older facilities. The Frame Relay node simply drops packets without notification when it detects errors. Any necessary error correction, such as retransmission of data, is left to the endpoints. This makes propagation from customer end to customer end through the network very fast.</p> <p>Frame Relay handles volume and speed efficiently by combining the necessary functions of the data link and Network layers into one simple protocol. As a data link protocol, Frame Relay provides access to a network, delimits and delivers frames in proper order, and recognizes transmission errors through a standard Cyclic Redundancy Check. As a network protocol, Frame Relay provides multiple logical connections over a single physical circuit and allows the network to route data over those connections to its intended destinations. </p> <p>Frame Relay operates between an end-user device, such as a LAN <content-link target="{40D3F4AB-6773-406B-9E7F-1A5FAE8BF2AE}" type="glossary">bridge</content-link> or router, and a network. The network itself can use any transmission method that is compatible with the speed and efficiency that Frame Relay applications require. Some networks use Frame Relay itself, but others use digital circuit switching or ATM cell relay systems. The figure shows a circuit-switching backbone as indicated by the Class 4/5 switches. The remaining graphics in this section show more contemporary packet-switching Frame Relay backbones.</p></content-text>
</page>
<page type="OneColumn" id="en1403010103">
<content-media type="AnimationPartialScreen" id="cm8820484515">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403010000/en1403010100/en1403010103/cm8820484515.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403010000/en1403010100/en1403010103/cm8820484515text.xml"/></content-media>
<content-text><p><b>Frame Relay Operation</b></p> <p>The connection between a DTE device and a DCE device consists of both a Physical layer component and a link layer component:</p> <p><ul><li>The physical component defines the mechanical, electrical, functional, and procedural specifications for the connection between the devices. One of the most commonly used Physical layer interface specifications is the RS-232 specification. </li><li>The link layer component defines the protocol that establishes the connection between the DTE device, such as a router, and the DCE device, such as a switch. </li></ul></p> <p>When carriers use Frame Relay to interconnect LANs, a router on each LAN is the DTE. A serial connection, such as a T1/E1 leased line, connects the router to the Frame Relay switch of the carrier at the nearest point-of-presence (POP) for the carrier. The Frame Relay switch is a DCE device. Network switches move frames from one DTE across the network and deliver frames to other DTEs by way of DCEs. Computing equipment that is not on a LAN may also send data across a Frame Relay network. The computing equipment uses a Frame Relay access device (<content-link target="{8A2E118C-CD55-4B90-BE10-7F7D85E878C2}" type="glossary">FRAD</content-link>) as the DTE. The FRAD is sometimes referred to as a Frame Relay assembler/dissembler and is a dedicated appliance or a router configured to support Frame Relay. It is located on the customer's premises and connects to a switch port on the service provider's network. In turn, the service provider interconnects the Frame Relay switches. </p></content-text>
</page>
</topic>
<topic type="" id="en1403010200">
<title><content-text>Virtual Circuits</content-text></title>
<page type="OneColumn" id="en1403010201">
<content-media type="InteractiveGraphicHotspots" id="cm6078967261">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403010000/en1403010200/en1403010201/cm6078967261.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403010000/en1403010200/en1403010201/cm6078967261text.xml"/></content-media>
<content-text><p><b>Virtual Circuits</b></p> <p>The connection through a Frame Relay network between two DTEs is called a virtual circuit (VC). The circuits are virtual because there is no direct electrical connection from end to end. The connection is logical, and data moves from end to end, without a direct electrical circuit. With VCs, Frame Relay shares the bandwidth among multiple users and any single site can communicate with any other single site without using multiple dedicated physical lines.</p> <p>There are two ways to establish VCs:</p> <p><ul><li>SVCs, switched virtual circuits, are established dynamically by sending signaling messages to the network (CALL SETUP, DATA TRANSFER, IDLE, CALL TERMINATION).</li><li>PVCs, permanent virtual circuits, are preconfigured by the carrier, and after they are set up, only operate in DATA TRANSFER and IDLE modes. Note that some publications refer to PVCs as private VCs.</li></ul></p> <p><b>Click the Play button in the figure.</b></p> <p>In the figure, there is a VC between the sending and receiving nodes. The VC follows the path A, B, C, and D. Frame Relay creates a VC by storing input-port to output-port mapping in the memory of each switch and thus links one switch to another until a continuous path from one end of the circuit to the other is identified. A VC can pass through any number of intermediate devices (switches) located within the Frame Relay network.</p> <p>The question you may ask at this point is, "How are the various nodes and switches identified?"</p> <p><b>Click the Local Significance button in the figure.</b></p> <p>VCs provide a bidirectional communication path from one device to another. VCs are identified by DLCIs. DLCI values typically are assigned by the Frame Relay service provider (for example, the telephone company). Frame Relay DLCIs have local significance, which means that the values themselves are not unique in the Frame Relay WAN. A DLCI identifies a VC to the equipment at an endpoint. A DLCI has no significance beyond the single link. Two devices connected by a VC may use a different DLCI value to refer to the same connection.</p> <p>Locally significant DLCIs have become the primary method of addressing, because the same address can be used in several different locations while still referring to different connections. Local addressing prevents a customer from running out of DLCIs as the network grows.</p> <p><b>Click the Idenfiying VCs button and click the Play button in the figure.</b></p> <p> </p> <p>This is the same network as presented in the previous figure, but this time, as the frame moves across the network, Frame Relay labels each VC with a DLCI. The DLCI is stored in the address field of every frame transmitted to tell the network how the frame should be routed. The Frame Relay service provider assigns DLCI numbers. Usually, DLCIs 0 to 15 and 1008 to 1023 are reserved for special purposes. Therefore, service providers typically assign DLCIs in the range of 16 to 1007. </p> <p>In this example, the frame uses DLCI 102. It leaves the router (R1) using Port 0 and VC 102. At switch A, the frame exits Port 1 using VC 432. This process of VC-port mapping continues through the WAN until the frame reaches its destination at DLCI 201, as shown in the figure. The DLCI is stored in the address field of every frame transmitted.</p></content-text>
</page>
<page type="OneColumn" id="en1403010202">
<content-media type="InteractiveGraphicHotspots" id="cm9093034752">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403010000/en1403010200/en1403010202/cm9093034752.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403010000/en1403010200/en1403010202/cm9093034752text.xml"/></content-media>
<content-text><p><b>Multiple VCs</b></p> <p>Frame Relay is statistically multiplexed, meaning that it transmits only one frame at a time, but that many logical connections can co-exist on a single physical line. The Frame Relay Access Device (FRAD) or router connected to the Frame Relay network may have multiple VCs connecting it to various endpoints. Multiple VCs on a single physical line are distinguished because each VC has its own DLCI. Remember that the DLCI has only local significance and may be different at each end of a VC.</p> <p>The figure shows an example of two VCs on a single access line, each with its own DLCI, attaching to a router (R1). </p> <p>This capability often reduces the equipment and network complexity required to connect multiple devices, making it a very cost-effective replacement for a <content-link target="{CA3ECD9F-630A-4E83-A2E8-5A8310B9420C}" type="glossary">mesh</content-link> of access lines. With this configuration, each endpoint needs only a single access line and interface. More savings arise as the capacity of the access line is based on the average bandwidth requirement of the VCs, rather than on the maximum bandwidth requirement. </p> <p><b>Click the Span's DLCIs button in the figure.</b></p> <p> </p> <p>For example, Span Engineering has five locations, with its headquarters in Chicago. Chicago is connected to the network using five VCs and each VC is given a DLCI. To see Chicago's respective DLCI mappings, click on the location in the table. </p> <p><b>Cost Benefits of Multiple VCs</b></p> <p>Recall the earlier example of how Span Engineering evolved from a dedicated-line network to a Frame Relay network. Specifically, look at the table comparing the cost of a single Frame Relay connection compared to a similar sized ISDN connection. Note that with Frame Relay, customers pay for the bandwidth they use. In effect, they pay for a Frame Relay port. When they increase the number of ports, as has been described above, they pay for more bandwidth. But will they pay for more equipment? The short answer is "no" because the ports are virtual. There is no change to the physical infrastructure. Compare this to purchasing more bandwidth using dedicated lines. </p></content-text>
</page>
</topic>
<topic type="" id="en1403010300">
<title><content-text>Frame Relay Encapsulation</content-text></title>
<page type="OneColumn" id="en1403010301">
<content-media type="InteractiveGraphicHotspots" id="cm1051744551">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403010000/en1403010300/en1403010301/cm1051744551.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403010000/en1403010300/en1403010301/cm1051744551text.xml"/></content-media>
<content-text><p><b>The Frame Relay Encapsulation Process</b></p> <p>Frame Relay takes data packets from a Network layer protocol, such as IP or IPX, encapsulates them as the data portion of a Frame Relay frame, and then passes the frame to the Physical layer for delivery on the wire. To understand how this works, it is helpful to understand how it relates to the lower levels of the OSI model. </p> <p>The figure shows how Frame Relay encapsulates data for transport and moves it down to the Physical layer for delivery.</p> <p>First, Frame Relay accepts a packet from a Network layer protocol such as IP. It then wraps it with an address field that contains the DLCI and a <content-link target="{C0F3B456-15A1-47E6-A214-29536DCB4C7F}" type="glossary">checksum</content-link>. Flag fields are added to indicate the beginning and end of the frame. The flag fields mark the start and end of the frame and are always the same. The flags are represented either as the hexadecimal number 7E or as the binary number 01111110. After the packet is encapsulated, Frame Relay passes the frame to the Physical layer for transport.</p> <p><b>Click the Frame Format button in the figure.</b></p> <p>The CPE router encapsulates each Layer 3 packet inside a Frame Relay header and <content-link target="{834B9EB6-4485-47BB-B899-C346CA11DF41}" type="glossary">trailer</content-link> before sending it across the VC. The header and trailer are defined by the <content-link target="{703AF600-E6DB-4B73-9827-BEF263EDDA0D}" type="glossary">Link Access Procedure for Frame Relay</content-link> (LAPF) Bearer Services specification, ITU Q.922-A. Specifically, the Frame Relay header (address field) contains the following:</p> <p><ul><li>DLCI - The 10-bit DLCI is the essence of the Frame Relay header. This value represents the virtual connection between the DTE device and the switch. Each virtual connection that is multiplexed onto the physical channel is represented by a unique DLCI. The DLCI values have local significance only, which means that they are unique only to the physical channel on which they reside. Therefore, devices at opposite ends of a connection can use different DLCI values to refer to the same virtual connection. </li><li>Extended Address (EA) - If the value of the EA field is 1, the current byte is determined to be the last DLCI octet. Although current Frame Relay implementations all use a two-octet DLCI, this capability does allow longer DLCIs in the future. The eighth bit of each byte of the Address field indicates the EA. </li><li>C/R - The bit that follows the most significant DLCI byte in the Address field. The C/R bit is not currently defined. </li><li><content-link target="{787578BC-C491-4CE8-A277-B211C26B4438}" type="glossary">Congestion</content-link> Control - Contains 3 bits that control the Frame Relay congestion-notification mechanisms. The <content-link target="{D9F5D62F-1611-4F02-8E7C-174AA5D9FACB}" type="glossary">FECN</content-link>, <content-link target="{877DB8F9-7F46-4181-BC01-515009B75B57}" type="glossary">BECN</content-link>, and DE bits are the last three bits in the Address field. Congestion control is discussed in a later topic.</li></ul></p> <p>The Physical layer is typically EIA/TIA-232, 449 or 530, V.35, or X.21. The Frame Relay frame is a subset of the HDLC frame type. Therefore, it is delimited with flag fields. The 1-byte flag uses the bit pattern 01111110. The FCS determines whether any errors in the Layer 2 address field occurred during transmission. The FCS is calculated prior to transmission by the sending node, and the result is inserted in the FCS field. At the distant end, a second FCS value is calculated and compared to the FCS in the frame. If the results are the same, the frame is processed. If there is a difference, the frame is discarded. Frame Relay does not notify the source when a frame is discarded. Error control is left to the upper layers of the OSI model.</p></content-text>
</page>
</topic>
<topic type="" id="en1403010400">
<title><content-text>Frame Relay Topologies</content-text></title>
<page type="OneColumn" id="en1403010401">
<content-media type="StaticGraphic" id="cm5487614246">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403010000/en1403010400/en1403010401/cm5487614246.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403010000/en1403010400/en1403010401/cm5487614246text.xml"/></content-media>
<content-text><p>When more than two sites are to be connected, you must consider the topology of the connections between them. A topology is the map or visual layout of the Frame Relay network. You need to consider the topology from several perspectives to understand the network and the equipment used to build the network. Complete topologies for design, implementation, operation, and maintenance include overview maps, logical connection maps, functional maps, and address maps showing the detailed equipment and channel links.</p> <p>Cost-effective Frame Relay networks link dozens and even hundreds of sites. Considering that a corporate network might span any number of service providers and include networks from acquired businesses differing in basic design, documenting topologies can be a very complicated process. However, every network or network segment can be viewed as being one of three topology types: star, <content-link target="{271B7055-9646-48E0-B2FE-85EC28945C07}" type="glossary">full mesh</content-link>, or <content-link target="{6E024616-6E45-4AAA-8C56-BBA15C402328}" type="glossary">partial mesh</content-link>.</p> <p><b><content-link target="{862858B0-4A24-4D9D-9653-53D2884F7034}" type="glossary">Star Topology</content-link> (Hub and Spoke)</b></p> <p>The simplest WAN topology is a star, as shown in the figure. In this topology, Span Engineering has a central site in Chicago that acts as a <content-link target="{7671AC0D-EC0D-4CDF-8E5F-21CAD5FFF066}" type="glossary">hub</content-link> and hosts the primary services. Notice that Span has grown and recently opened an office in San Jose. Using Frame Relay made this expansion relatively easy. </p> <p>Connections to each of the five remote sites act as spokes. In a star topology, the location of the hub is usually chosen by the lowest leased-line cost. When implementing a star topology with Frame Relay, each remote site has an access link to the Frame Relay cloud with a single VC. </p> <p><b>Click the FR Star button in the figure.</b></p> <p>This shows the star topology in the context of a Frame Relay cloud. The hub at Chicago has an access link with multiple VCs, one for each remote site. The lines going out from the cloud represent the connections from the Frame Relay service provider and terminate at the customer premises. These are typically lines ranging in speed from 56,000 bps to E-1 (2.048 Mb/s) and faster. One or more DLCI numbers are assigned to each line endpoint. Because Frame Relay costs are not distance related, the hub does not need to be in the geographical center of the network.</p></content-text>
</page>
<page type="OneColumn" id="en1403010402">
<content-media type="StaticGraphic" id="cm3964985158">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403010000/en1403010400/en1403010402/cm3964985158.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403010000/en1403010400/en1403010402/cm3964985158text.xml"/></content-media>
<content-text><p><b>Full Mesh Topology</b></p> <p>This figure represents a full mesh topology using dedicated lines. A full mesh topology suits a situation in which the services to be accessed are geographically dispersed and highly reliable access to them is required. A full mesh topology connects every site to every other site. Using leased-line interconnections, additional serial interfaces and lines add costs. In this example, 10 dedicated lines are required to interconnect each site in a full mesh topology.</p> <p><b>Click FR Full Mesh on the figure.</b></p> <p>Using Frame Relay, a network designer can build multiple connections simply by configuring additional VCs on each existing link. This software upgrade grows the star topology to a full mesh topology without the expense of additional hardware or dedicated lines. Since VCs use <content-link target="{8578B300-F6BE-467D-8D5D-EA2CA39ED123}" type="glossary">statistical multiplexing</content-link>, multiple VCs on an access link generally make better use of Frame Relay than single VCs. The figure shows how Span has used four VCs on each link to scale its network without adding new hardware. Service providers will charge for the additional bandwidth, but this solution is usually more cost effective than using dedicated lines.</p> <p><b>Partial Mesh Topology</b></p> <p>For large networks, a full mesh topology is seldom affordable because the number of links required increases dramatically. The issue is not with the cost of the hardware, but because there is a theoretical limit of less than 1,000 VCs per link. In practice, the limit is less than that.</p> <p>For this reason, larger networks are generally configured in a partial mesh topology. With partial mesh, there are more interconnections than required for a star arrangement, but not as many as for a full mesh. The actual pattern is dependant on the data flow requirements.</p></content-text>
</page>
</topic>
<topic type="" id="en1403010500">
<title><content-text>Frame Relay Address Mapping</content-text></title>
<page type="OneColumn" id="en1403010501">
<content-media type="AnimationPartialScreen" id="cm7397709732">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403010000/en1403010500/en1403010501/cm7397709732.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403010000/en1403010500/en1403010501/cm7397709732text.xml"/></content-media>
<content-text><p>Before a Cisco router is able to transmit data over Frame Relay, it needs to know which local DLCI maps to the Layer 3 address of the remote destination. Cisco routers support all Network layer protocols over Frame Relay, such as IP, IPX, and AppleTalk. This address-to-DLCI mapping can be accomplished either by static or dynamic mapping. </p> <p><b><content-link target="{E929D930-549C-4B58-AEA2-219C83A00AAF}" type="glossary">Inverse ARP</content-link></b></p> <p>The <content-link target="{F7079C99-BE20-4700-9BC0-B86545E71968}" type="glossary">Inverse Address Resolution Protocol</content-link> (<content-link target="{F76C8C60-1FFB-4488-96C0-8D598F58CF2D}" type="glossary">ARP</content-link>) obtains Layer 3 addresses of other stations from Layer 2 addresses, such as the DLCI in Frame Relay networks. It is primarily used in Frame Relay and ATM networks, where Layer 2 addresses of VCs are sometimes obtained from Layer 2 signaling, and the corresponding Layer 3 addresses must be available before these VCs can be used. Whereas ARP translates Layer 3 addresses to Layer 2 addresses, Inverse ARP does the opposite.</p> <p><b>Dynamic Mapping</b></p> <p>Dynamic <content-link target="{F0FD8021-5C28-4EA3-8475-8B73B6AD5EE9}" type="glossary">address mapping</content-link> relies on Inverse ARP to resolve a next <content-link target="{F6C44F67-4253-4668-B1CB-79DDD64C8C16}" type="glossary">hop</content-link> network <content-link target="{C3277CFE-37D3-4FC9-BBC6-34699BEEFF60}" type="glossary">protocol address</content-link> to a local DLCI value. The Frame Relay router sends out Inverse ARP requests on its PVC to discover the protocol address of the remote device connected to the Frame Relay network. The router uses the responses to populate an address-to-DLCI mapping table on the Frame Relay router or access server. The router builds and maintains this mapping table, which contains all resolved Inverse ARP requests, including both dynamic and static mapping entries. </p> <p>The figure shows the output of the <span class="cmd"><b>show frame-relay map</b></span> command. You can see that the interface is up and that the destination IP address is 10.1.1.2. The DLCI identifies the logical connection being used to reach this interface. This value is displayed in three ways: its decimal value (102), its hexadecimal value (0x66), and its value as it would appear on the wire (0x1860). This is a static entry, not a dynamic entry. The link is using Cisco encapsulation as opposed to <content-link target="{464DCD4D-F164-49B2-A26C-CDCB982C86EE}" type="glossary">IETF</content-link> encapsulation. </p> <p>On Cisco routers, Inverse ARP is enabled by default for all protocols enabled on the physical interface. Inverse ARP packets are not sent out for protocols that are not enabled on the interface. </p> <p><b>Click the Static Mapping button in the figure.</b></p> <p>The user can choose to override dynamic Inverse ARP mapping by supplying a manual static mapping for the next hop protocol address to a local DLCI. A static map works similarly to dynamic Inverse ARP by associating a specified next hop protocol address to a local Frame Relay DLCI. You cannot use Inverse ARP and a map statement for the same DLCI and protocol.</p> <p>An example of using static address mapping is a situation in which the router at the other side of the Frame Relay network does not support dynamic Inverse ARP for a specific network protocol. To provide accessibility, a static mapping is required to complete the remote Network layer address to local DLCI resolution.</p> <p>Another example is on a hub-and-spoke Frame Relay network. Use static address mapping on the spoke routers to provide spoke-to-spoke reachability. Because the spoke routers do not have direct connectivity with each other, dynamic Inverse ARP would not work between them. Dynamic Inverse ARP relies on the presence of a direct point-to-point connection between two ends. In this case, dynamic Inverse ARP only works between hub and spoke, and the spokes require static mapping to provide reachability to each other.</p> <p><b>Configuring Static Mapping</b></p> <p>Establishing static mapping depends on your network needs. Here are the various commands to use:</p> <p>To map between a next hop protocol address and DLCI <content-link target="{7E5BE7E0-497A-40A8-85E5-9FA3BA28D996}" type="glossary">destination address</content-link>, use this command: <span class="cmd"><b>frame-relay map protocol </b><i>protocol-address dlci</i> [broadcast] [<b>ietf</b>] [<b>cisco</b>]</span>.</p> <p>Use the keyword <span class="cmd"><b>ietf</b></span> when connecting to a non-Cisco router.</p> <p>You can greatly simplify the configuration for the <content-link target="{9F91BEA6-2461-4B6D-AE0A-92A314E60917}" type="glossary">Open Shortest Path First</content-link> (OSPF) protocol by adding the optional <span class="cmd"><b>broadcast</b></span> keyword when doing this task.</p> <p>The figure provides an example of static mapping on a Cisco router. In this example, static address mapping is performed on interface serial 0/0/0, and the Frame Relay encapsulation used on DLCI 102 is CISCO. As seen in the configuration steps, static mapping of the address using the <span class="cmd"><b>frame-relay map</b></span> command allows users to select the type of Frame Relay encapsulation used on a per-VC basis. Static mapping configuration is discussed in more detail in the next section. </p></content-text>
</page>
<page type="OneColumn" id="en1403010502">
<content-media type="StaticGraphic" id="cm2132619332">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403010000/en1403010500/en1403010502/cm2132619332.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403010000/en1403010500/en1403010502/cm2132619332text.xml"/></content-media>
<content-text><p><b>Local Management Interface (<content-link target="{BB618621-4FE1-4FB2-963C-7A6030E63462}" type="glossary">LMI</content-link>)</b></p> <p>A review of networking history will help you to understand the role played by the Local Management Interface (LMI). The Frame Relay design provides packet-switched data transfer with minimum end-to-end delays. The original design omits anything that might contribute to delay. </p> <p>When vendors implemented Frame Relay as a separate technology rather than as one component of ISDN, they decided that there was a need for DTEs to dynamically acquire information about the status of the network. However, the original design did not include this feature. A consortium of Cisco, Digital Equipment Corporation (DEC), Northern Telecom, and StrataCom extended the Frame Relay protocol to provide additional capabilities for complex internetworking environments. These extensions are referred to collectively as the LMI. </p> <p>Basically, the LMI is a keepalive mechanism that provides status information about Frame Relay connections between the router (DTE) and the Frame Relay switch (DCE). Every 10 seconds or so, the end device polls the network, either requesting a dumb sequenced response or channel status information. If the network does not respond with the requested information, the user device may consider the connection to be down. When the network responds with a FULL STATUS response, it includes status information about DLCIs that are allocated to that line. The end device can use this information to determine whether the logical connections are able to pass data.</p> <p>The figure shows the output of the <span class="cmd"><b>show frame-relay lmi</b></span> command. The output shows the LMI type used by the Frame Relay interface and the counters for the LMI status exchange sequence, including errors such as LMI timeouts. </p> <p>It is easy to confuse the LMI and encapsulation. The LMI is a definition of the messages used between the DTE (R1) and the DCE (the Frame Relay switch owned by the service provider). Encapsulation defines the headers used by a DTE to communicate information to the DTE at the other end of a VC. The switch and its connected router care about using the same LMI. The switch does not care about the encapsulation. The endpoint routers (DTEs) do care about the encapsulation.</p> <p><b>LMI Extensions</b></p> <p>In addition to the Frame Relay protocol functions for transferring data, the Frame Relay specification includes optional LMI extensions that are extremely useful in an internetworking environment. Some of the extensions include: </p> <p><ul><li><b>VC status messages</b> - Provide information about PVC integrity by communicating and synchronizing between devices, periodically reporting the existence of new PVCs and the deletion of already existing PVCs. VC status messages prevent data from being sent into <content-link target="{BDF2993F-E8CE-45F7-8C0D-517A4BEE7C39}" type="glossary">black holes</content-link> (PVCs that no longer exist). </li><li><b>Multicasting</b> - Allows a sender to transmit a single frame that is delivered to multiple recipients. Multicasting supports the efficient delivery of routing protocol messages and <content-link target="{720FB956-705E-48F0-A392-7C77F7337F78}" type="glossary">address resolution</content-link> procedures that are typically sent to many destinations simultaneously. </li><li><b>Global addressing</b> - Gives connection identifiers global rather than local significance, allowing them to be used to identify a specific interface to the Frame Relay network. Global addressing makes the Frame Relay network resemble a LAN in terms of addressing, and ARPs perform exactly as they do over a LAN. </li><li><b>Simple flow control</b> - Provides for an XON/XOFF flow control mechanism that applies to the entire Frame Relay interface. It is intended for those devices whose higher layers cannot use the congestion notification bits and need some level of flow control.</li></ul></p> <p><b>Click the LMI Identifiers button in the figure.</b></p> <p>The 10-bit DLCI field supports 1,024 VC identifiers: 0 through 1023. The LMI extensions reserve some of these identifiers, thereby reducing the number of permitted VCs. LMI messages are exchanged between the DTE and DCE using these reserved DLCIs.</p> <p>There are several LMI types, each of which is incompatible with the others. The LMI type configured on the router must match the type used by the service provider. Three types of LMIs are supported by Cisco routers: </p> <p><ul><li> Cisco - Original LMI extension </li><li> Ansi - Corresponding to the <content-link target="{77662412-0E71-4F25-821F-BB463C17627D}" type="glossary">ANSI</content-link> standard T1.617 Annex D </li><li> q933a - Corresponding to the ITU standard Q933 Annex A</li></ul></p> <p>Starting with <content-link target="{D6B6D994-6D7F-48CF-8B32-4F45277B15FD}" type="glossary">Cisco IOS software</content-link> release 11.2, the default LMI autosense feature detects the LMI type supported by the directly connected Frame Relay switch. Based on the LMI status messages it receives from the Frame Relay switch, the router automatically configures its interface with the supported LMI type acknowledged by the Frame Relay switch. </p> <p>If it is necessary to set the LMI type, use the <span class="cmd"><b>frame-relay lmi-type</b> [<b>cisco</b> | <b>ansi</b> | <b>q933a</b>]</span> interface configuration command. Configuring the LMI type, disables the autosense feature.</p> <p>When manually setting up the LMI type, you must configure the <content-link target="{6E887B0C-B43C-4F86-AFBA-887702E7E15F}" type="glossary">keepalive interval</content-link> on the Frame Relay interface to prevent status exchanges between the router and the switch from timing out. The LMI status exchange messages determine the status of the PVC connection. For example, a large mismatch in the keepalive interval on the router and the switch can cause the switch to declare the router dead.</p> <p>By default, the keepalive time interval is 10 seconds on Cisco serial interfaces. You can change the keepalive interval with the <span class="cmd"><b>keepalive</b></span> interface configuration command. </p> <p>Setting the LMI type and configuring the keepalive are practiced in a following activity.</p></content-text>
</page>
<page type="OneColumn" id="en1403010503">
<content-media type="StaticGraphic" id="cm4020609697">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403010000/en1403010500/en1403010503/cm4020609697.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403010000/en1403010500/en1403010503/cm4020609697text.xml"/></content-media>
<content-text><p><b>LMI Frame Format</b></p> <p>LMI messages are carried in a variant of LAPF frames. The address field carries one of the reserved DLCIs. Following the DLCI field are the control, protocol discriminator, and call reference fields that do not change. The fourth field indicates the LMI message type. </p> <p>Status messages help verify the integrity of logical and physical links. This information is critical in a routing environment because routing protocols make decisions based on link integrity.</p></content-text>
</page>
<page type="OneColumn" id="en1403010504">
<content-media type="InteractiveGraphicHotspots" id="cm4386416663">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403010000/en1403010500/en1403010504/cm4386416663.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403010000/en1403010500/en1403010504/cm4386416663text.xml"/></content-media>
<content-text><p><b>Using LMI and Inverse ARP to Map Addresses</b></p> <p>LMI status messages combined with Inverse ARP messages allow a router to associate Network layer and Data Link layer addresses. </p> <p><b>Click the LMI 1 button and play </b>to watch how the LMI process begins. </p> <p>In this example, when R1 connects to the Frame Relay network, it sends an LMI status inquiry message to the network. The network replies with an LMI status message containing details of every VC configured on the access link. </p> <p>Periodically, the router repeats the status inquiry, but subsequent responses include only status changes. After a set number of these abbreviated responses, the network sends a full status message.</p> <p><b>Click the LMI 2 button and play</b> to see the next stage. </p> <p>If the router needs to map the VCs to Network layer addresses, it sends an Inverse ARP message on each VC. The Inverse ARP message includes the Network layer address of the router, so the remote DTE, or router, can also perform the mapping. The Inverse ARP reply allows the router to make the necessary mapping entries in its address-to-DLCI map table. If several Network layer protocols are supported on the link, Inverse ARP messages are sent for each one.</p></content-text>
</page>
<page type="FullScreen" id="en1403010505">
<content-media type="ActivityCustom" id="cm2569383922">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403010000/en1403010500/en1403010505/cm2569383922.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403010000/en1403010500/en1403010505/cm2569383922text.xml"/></content-media>
<content-text><p>Activity: Basic Frame Relay Concepts</p></content-text>
</page>
</topic>
</section>
<section type="" id="en1403020000">
<title><content-text>Configuring Frame Relay</content-text></title>
<topic type="" id="en1403020100">
<title><content-text>Configuring Basic Frame Relay</content-text></title>
<page type="OneColumn" id="en1403020101">
<content-media type="StaticGraphic" id="cm2785159447">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403020000/en1403020100/en1403020101/cm2785159447.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403020000/en1403020100/en1403020101/cm2785159447text.xml"/></content-media>
<content-text><p><b>Frame Relay Configuration Tasks</b></p> <p>Frame Relay is configured on a Cisco router from the Cisco IOS <content-link target="{5281C233-1AD0-4180-BD50-D82CF6ED688A}" type="glossary">command-line interface</content-link> (<content-link target="{F05D9C81-B737-4B28-BAC0-0B648043D086}" type="glossary">CLI</content-link>). This section outlines the required steps to enable Frame Relay on your network, as well as some of the optional steps that you can use to enhance or customize your configuration.</p> <p>The figure shows the basic setup model used for this discussion. Later in this section, additional hardware will be added to the diagram to help explain more complex configuration tasks. In this section, you will configure the Cisco routers as Frame Relay access devices, or DTE, connected directly to a dedicated Frame Relay switch, or DCE. </p> <p>The figure shows a typical Frame Relay configuration and lists the steps to follow. These are explained and practiced in this chapter.</p></content-text>
</page>
<page type="OneColumn" id="en1403020102">
<content-media type="StaticGraphic" id="cm7486392971">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403020000/en1403020100/en1403020102/cm7486392971.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403020000/en1403020100/en1403020102/cm7486392971text.xml"/></content-media>
<content-text><p><b>Enable Frame Relay Encapsulation</b></p> <p>This first figure, displays how Frame Relay has been configured on the serial interfaces. This involves assigning an IP address, setting the encapsulation type, and allocating bandwidth. The figure shows routers at each end of the Frame Relay link with the configuration scripts for routers R1 and R2. </p> <p><b>Step 1. Setting the IP Address on the Interface</b></p> <p>On a Cisco router, Frame Relay is most commonly supported on synchronous serial interfaces. Use the <span class="cmd"><b>ip address</b></span> command to set the IP address of the interface. You can see that R1 has been assigned 10.1.1.1/24, and R2 has been assigned IP address 10.1.1.2/24.</p> <p><b>Step 2. Configuring Encapsulation</b></p> <p>The <span class="cmd"><b>encapsulation frame-relay</b></span> interface configuration command enables Frame Relay encapsulation and allows Frame Relay processing on the supported interface. There are two encapsulation options to choose from, and these are described below.</p> <p><b>Step 3. Setting the Bandwidth</b></p> <p>Use the <span class="cmd"><b>bandwidth</b></span> command to set the bandwidth of the serial interface. Specify bandwidth in kb/s. This command notifies the routing protocol that bandwidth is statically configured on the link. The EIGRP and OSPF routing protocols use the bandwidth value to calculate and determine the <content-link target="{7DC7A987-4216-4F86-853A-969E2B969513}" type="glossary">metric</content-link> of the link. </p> <p><b>Step 4. Setting the LMI Type (optional)</b></p> <p>This is an optional step as Cisco routers autosense the LMI type. Recall that Cisco supports three LMI types: Cisco, ANSI Annex D, and Q933-A Annex A and that the default LMI type for Cisco routers is cisco. </p> <p><b>Encapsulation Options</b></p> <p>Recall that the default encapsulation type on a serial interface on a Cisco router is the Cisco proprietary version of HDLC. To change the encapsulation from HDLC to Frame Relay, use the <span class="cmd"><b>encapsulation frame-relay</b> [<b>cisco</b> | <b>ietf</b>]</span> command. The <span class="cmd"><b>no</b></span> form of the <span class="cmd"><b>encapsulation frame-relay</b></span> command removes the Frame Relay encapsulation on the interface and returns the interface to the default HDLC encapsulation. </p> <p>The default Frame Relay encapsulation enabled on supported interfaces is the Cisco encapsulation. Use this option if connecting to another Cisco router. Many non-Cisco devices also support this encapsulation type. It uses a 4-byte header, with 2 bytes to identify the DLCI and 2 bytes to identify the packet type.</p> <p>The IETF encapsulation type complies with RFC 1490 and RFC 2427. Use this option if connecting to a non-Cisco router.</p> <p><b>Click the Verify button in the figure.</b></p> <p>This output of the <span class="cmd"><b>show interfaces serial</b></span> command verifies the configuration.</p></content-text>
</page>
</topic>
<topic type="" id="en1403020200">
<title><content-text>Configuring Static Frame Relay Maps</content-text></title>
<page type="OneColumn" id="en1403020201">
<content-media type="StaticGraphic" id="cm3862626163">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403020000/en1403020200/en1403020201/cm3862626163.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403020000/en1403020200/en1403020201/cm3862626163text.xml"/></content-media>
<content-text><p><b>Configuring a Static Frame Relay Map</b></p> <p>Cisco routers support all Network layer protocols over Frame Relay, such as IP, IPX, and AppleTalk, and the address-to-DLCI mapping can be accomplished either by dynamic or static address mapping. </p> <p>Dynamic mapping is performed by the Inverse ARP feature. Because Inverse ARP is enabled by default, no additional command is required to configure dynamic mapping on an interface. </p> <p>Static mapping is manually configured on a router. Establishing static mapping depends on your network needs. To map between a next hop protocol address and a DLCI destination address, use the <span class="cmd"><b>frame-relay map </b><i>protocol protocol-address dlci </i>[<b>broadcast</b>]</span> command.</p> <p><b>Using the Broadcast Keyword</b></p> <p>Frame Relay, ATM, and X.25 are non-broadcast multiple access (<content-link target="{6EF68589-8408-42CC-A79F-193DA28A7A1F}" type="glossary">NBMA</content-link>) networks. NBMA networks allow only data transfer from one computer to another over a VC or across a switching device. NBMA networks do not support multicast or broadcast traffic, so a single packet cannot reach all destinations. This requires you to broadcast to replicate the packets manually to all destinations. </p> <p>Some routing protocols may require additional additional configuration options. For example, RIP, EIGRP and OSPF require additional configurations to be supported on NBMA networks.</p> <p>Because NBMA does not support broadcast traffic, using the <span class="cmd"><b>broadcast</b></span> keyword is a simplified way to forward <content-link target="{6F093416-7965-4730-94FB-C60F0F92D8E7}" type="glossary">routing updates</content-link>. The <span class="cmd"><b>broadcast</b></span> keyword allows broadcasts and multicasts over the PVC and, in effect, turns the broadcast into a <content-link target="{E58DFCA8-F518-4924-80E4-F117A1079B68}" type="glossary">unicast</content-link> so that the other node gets the routing updates.</p> <p>In the example configuration, R1 uses the <span class="cmd"><b>frame-relay map</b></span> command to map the VC to R2. </p> <p><b>Click the Parameters button in the figure.</b></p> <p>The figure shows how to use the keywords when configuring static address maps. </p> <p><b>Click the Verify button in the figure.</b></p> <p>To verify the Frame Relay mapping, use the <span class="cmd"><b>show frame-relay map</b></span> command.</p></content-text>
</page>
<page type="OneColumn" id="en1403020202">
<content-media type="ActivityPKA" id="cm8242207652">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403020000/en1403020200/en1403020202/cm8242207652/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en1403000000/en1403020000/en1403020200/en1403020202/cm8242207652/icontext.xml"/></content-media>
<content-text><p>In this activity, you will configure two static Frame Relay maps on each router to reach two other routers. Although the LMI type is autosensed on the routers, you will statically assign the type by manually configuring the LMI. Detailed instructions are provided within the activity as well as in the PDF link below. </p> <p><content-link target="E4_PTAct_3_2_2.pdf" type="internalfile">Activity Instructions (PDF)</content-link></p> <p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="en1403030000">
<title><content-text>Advanced Frame Relay Concepts</content-text></title>
<topic type="" id="en1403030100">
<title><content-text>Solving Reachability Issues</content-text></title>
<page type="OneColumn" id="en1403030101">
<content-media type="StaticGraphic" id="cm8573573359">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403030000/en1403030100/en1403030101/cm8573573359.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403030000/en1403030100/en1403030101/cm8573573359text.xml"/></content-media>
<content-text><p><b>Split Horizon</b></p> <p>By default, a Frame Relay network provides NBMA connectivity between remote sites. NBMA clouds usually use a hub-and-spoke topology. Unfortunately, a basic routing operation based on the split horizon principle can cause reachability issues on a Frame Relay NBMA network.</p> <p>Recall that split horizon is a technique used to prevent a routing loop in networks using distance vector routing protocols. Split horizon updates reduce routing loops by preventing a routing update received on one interface to be forwarded out the same interface. </p> <p>The figure shows R2, a spoke router, sending a broadcast routing update to R1, the hub router.</p> <p>Routers that support multiple connections over a single physical interface have many PVCs terminating on a single interface. R1 must replicate broadcast packets, such as routing update broadcasts, on each PVC to the remote routers. The replicated broadcast packets can consume bandwidth and cause significant latency to user traffic. The amount of broadcast traffic and the number of VCs terminating at each router should be evaluated during the design phase of a Frame Relay network. Overhead traffic, such as routing updates, can affect the delivery of critical user data, especially when the delivery path contains low-bandwidth (56 kb/s) links.</p> <p><b>Click the Split Horizon Problem button in the figure.</b></p> <p>R1 has multiple PVCs on a single physical interface, so the split horizon rule prevents R1 from <content-link target="{91C066F9-E98E-4009-A3E4-B87B09CA1D33}" type="glossary">forwarding</content-link> that routing update through the same physical interface to other remote spoke routers (R3). </p> <p>Disabling split horizon may seem to be a simple solution because it allows routing updates to be forwarded out the same physical interface from which they came. However, only IP allows you to disable split horizon; IPX and AppleTalk do not. Also, disabling split horizon increases the chance of routing loops in any network. Split horizon could be disabled for physical interfaces with a single PVC. </p> <p>The next obvious solution to solve the split horizon problem is to use a fully meshed topology. However, this is expensive because more PVCs are required. The preferred solution is to use subinterfaces, which is explained in the next topic.</p></content-text>
</page>
<page type="OneColumn" id="en1403030102">
<content-media type="InteractiveGraphicHotspots" id="cm4056270594">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403030000/en1403030100/en1403030102/cm4056270594.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403030000/en1403030100/en1403030102/cm4056270594text.xml"/></content-media>
<content-text><p><b>Frame Relay Subinterfaces</b></p> <p>Frame Relay can partition a physical interface into multiple virtual interfaces called subinterfaces. A subinterface is simply a logical interface that is directly associated with a physical interface. Therefore, a Frame Relay subinterface can be configured for each of the PVCs coming into a physical serial interface.</p> <p>To enable the forwarding of broadcast routing updates in a Frame Relay network, you can configure the router with logically assigned subinterfaces. A partially meshed network can be divided into a number of smaller, fully meshed, point-to-point networks. Each point-to-point <content-link target="{2DB10BCA-02AA-4A8E-847A-77D70E0CE2E9}" type="glossary">subnetwork</content-link> can be assigned a unique network address, which allows packets received on a physical interface to be sent out the same physical interface because the packets are forwarded on VCs in different subinterfaces.</p> <p>Frame Relay subinterfaces can be configured in either point-to-point or multipoint mode: </p> <p><ul><li>Point-to-point - A single point-to-point subinterface establishes one PVC connection to another physical interface or subinterface on a remote router. In this case, each pair of the point-to-point routers is on its own <content-link target="{E0E9F54A-2CF7-496A-84FF-8BFBBEA39FB6}" type="glossary">subnet</content-link>, and each point-to-point subinterface has a single DLCI. In a point-to-point environment, each subinterface is acting like a point-to-point interface. Typically, there is a separate subnet for each point-to-point VC. Therefore, routing update traffic is not subject to the split horizon rule. </li><li>Multipoint - A single multipoint subinterface establishes multiple PVC connections to multiple physical interfaces or subinterfaces on remote routers. All the participating interfaces are in the same subnet. The subinterface acts like an NBMA Frame Relay interface, so routing update traffic is subject to the split horizon rule. Typically, all multipoint VCs belong to the same subnet.</li></ul></p> <p>The figure illustrates two types of subinterfaces supported by Cisco routers. </p> <p>In split horizon routing environments, routing updates received on one subinterface can be sent out another subinterface. In a subinterface configuration, each VC can be configured as a point-to-point connection. This allows each subinterface to act similarly to a leased line. Using a Frame Relay point-to-point subinterface, each pair of the point-to-point routers is on its own subnet. </p> <p>The <span class="cmd"><b>encapsulation frame-relay</b></span> command is assigned to the physical interface. All other configuration items, such as the Network layer address and DLCIs, are assigned to the subinterface. </p> <p>You can use multipoint configurations to conserve addresses. This can be especially helpful if <content-link target="{AF4B7D83-0958-426F-93E0-64879D0A1A91}" type="glossary">Variable Length Subnet Masking</content-link> is not being used. However, multipoint configurations may not work properly given the broadcast traffic and split horizon considerations. The point-to-point subinterface option was created to avoid these issues.</p> <p><b>Roll-over Point-to-Point subinterface and Multipoint subinterface</b> in the figure for summary descriptions.</p> <p>Configuring subinterfaces is explained and practiced in the next section.</p></content-text>
</page>
</topic>
<topic type="" id="en1403030200">
<title><content-text>Paying for Frame Relay</content-text></title>
<page type="OneColumn" id="en1403030201">
<content-media type="StaticGraphic" id="cm6904970424">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403030000/en1403030200/en1403030201/cm6904970424.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403030000/en1403030200/en1403030201/cm6904970424text.xml"/></content-media>
<content-text><p><b>Key Terminology</b></p> <p>Service providers build Frame Relay networks using very large and very powerful switches, but as a customer, your devices only see the switch interface of the service provider. Customers are usually not exposed to the inner workings of the network, which may be built on very high-speed technologies, such as T1, T3, SONET, or ATM. </p> <p>From a customer's point of view then, Frame Relay is an interface and one or more PVCs. Customers simply buy Frame Relay services from a service provider. However, before considering how to pay for Frame Relay services, there are some key terms and concepts to learn, as illustrated in the figure:</p> <p><ul><li><b>Access rate or port speed</b> - From a customer's point of view, the service provider provides a serial connection or access link to the Frame Relay network over a leased line. The speed of the line is the access speed or port speed. Access rate is the rate at which your access circuits join the Frame Relay network. These are typically at 56 kb/s, T1 (1.536 Mb/s), or Fractional T1 (a multiple of 56 kb/s or 64 kb/s). Port speeds are clocked on the Frame Relay switch. It is not possible to send data at higher than port speed.</li><li><b><content-link target="{F55D099C-96B8-4C90-A22F-9389C451100F}" type="glossary">Committed Information Rate</content-link> (<content-link target="{C266357E-1E6F-4E28-8AB9-3DAFB2750B0D}" type="glossary">CIR</content-link>)</b> - Customers negotiate CIRs with service providers for each PVC. The CIR is the amount of data that the network receives from the access circuit. The service provider guarantees that the customer can send data at the CIR. All frames received at or below the CIR are accepted. </li></ul></p> <p>A great advantage of Frame Relay is that any network capacity that is being unused is made available or shared with all customers, usually at no extra charge. This allows customers to "burst" over their CIR as a bonus. Bursting is explained in the next topic.</p> <p><b>Click the Example button in the figure.</b></p> <p>In this example, aside from any CPE costs, the customer pays for three Frame Relay cost components as follows:</p> <p><ul><li>Access or port speed: The cost of the access line from the DTE to the DCE (customer to service provider). This line is charged based on the port speed that has been negotiated and installed. </li><li>PVC: This cost component is based on the PVCs. Once a PVC is established, the additional cost to increase CIR is typically small and can be done in small (4 kb/s) increments.</li><li>CIR: Customers normally choose a CIR lower than the port speed or access rate. This allows them to take advantage of bursts.</li></ul></p> <p>In the example, the customer is paying for the following:</p> <p><ul><li>An access line with a rate of 64 kb/s connecting their DCE to the DCE of the service provider through serial port S0/0/0. </li><li>Two virtual ports, one at 32 kb/s and the other at 16 kb/s. </li><li>A CIR of 48 kb/s across the entire Frame Relay network. This is usually a flat charge and not connected to the distance.</li></ul></p> <p><b>Oversubscription</b></p> <p>Service providers sometimes sell more capacity than they have on the assumption that not everyone will demand their entitled capacity all of the time. This oversubscription is analogous to airlines selling more seats than they have in the expectation that some of the booked customers will not show up. Because of oversubscription, there will be instances when the sum of CIRs from multiple PVCs to a given location is higher than the port or access channel rate. This can cause traffic issues, such as congestion and dropped traffic.</p></content-text>
</page>
<page type="OneColumn" id="en1403030202">
<content-media type="StaticGraphic" id="cm3981101436">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403030000/en1403030200/en1403030202/cm3981101436.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403030000/en1403030200/en1403030202/cm3981101436text.xml"/></content-media>
<content-text><p><b>Bursting</b></p> <p>A great advantage of Frame Relay is that any network capacity that is being unused is made available or shared with all customers, usually at no extra charge. </p> <p>Using the previous example, the figure shows an access rate on serial port S0/0/0 of router R1 to be 64 kb/s. This is higher than the combined CIRs of the two PVCs. Under normal circumstances, the two PVCs should not transmit more than 32 kb/s and 16 kb/s, respectively. As long as the amount of data the two PVCs are sending does not exceed its CIR, it should get through the network. </p> <p>Because the physical circuits of the Frame Relay network are shared between subscribers, there will often be time where there is excess bandwidth available. Frame Relay can allow customers to dynamically access this extra bandwidth and "burst" over their CIR for free. </p> <p>Bursting allows devices that temporarily need additional bandwidth to borrow it at no extra cost from other devices not using it. For example, if PVC 102 is transferring a large file, it could use any of the 16 kb/s not being used by PVC 103. A device can burst up to the access rate and still expect the data to get through. The duration of a burst transmission should be short, less than three or four seconds. </p> <p>Various terms are used to describe burst rates including the Committed Burst Information Rate (CBIR) and <content-link target="{DA1FD5B0-203E-425D-B049-FD0FA871EC68}" type="glossary">Excess Burst</content-link> Size (<content-link target="{202EBB51-045E-4F3D-BDF4-80F9238A3549}" type="glossary">BE</content-link>). </p> <p>The CBIR is a negotiated rate above the CIR which the customer can use to transmit for short burst. It allows traffic to burst to higher speeds, as available network bandwidth permits. However, it cannot exceed the port speed of the link. A device can burst up to the CBIR and still expect the data to get through. The duration of a burst transmission should be short, less than three or four seconds. If long bursts persist, then a higher CIR should be purchased.</p> <p>For example, DLCI 102 has a CIR of 32 kb/s with an additional CBIR of 16 kb/s for a total of up to 48 kb/s. Frames submitted at this level are marked as <content-link target="{AD7166BB-58A5-45C5-BB72-F4F594FB6506}" type="glossary">Discard Eligible</content-link> (<content-link target="{04289656-F035-4BC0-9E01-4D125F80E3D7}" type="glossary">DE</content-link>) in the frame header, indicating that they may be dropped if there is congestion or there is not enough capacity in the network. Frames within the negotiated CIR are not eligible for discard (DE = 0). Frames above the CIR have the DE bit set to 1, marking it as eligible to be discarded, should the network be congested. </p> <p>The BE is the term used to describe the bandwidth available above the CBIR up to the access rate of the link. Unlike the CBIR, it is not negotiated. Frames may be transmitted at this level but will most likely be dropped. </p> <p><b>Click the Bursting button in the figure.</b></p> <p>The figure illustrates the relationship between the various bursting terms. </p></content-text>
</page>
</topic>
<topic type="" id="en1403030300">
<title><content-text>Frame Relay Flow Control</content-text></title>
<page type="OneColumn" id="en1403030301">
<content-media type="AnimationPartialScreen" id="cm9584925919">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403030000/en1403030300/en1403030301/cm9584925919.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403030000/en1403030300/en1403030301/cm9584925919text.xml"/></content-media>
<content-text><p>Frame Relay reduces network overhead by implementing simple congestion-notification mechanisms rather than explicit, per-VC flow control. These congestion-notification mechanisms are the <content-link target="{2A5AEB18-705F-43F3-AD07-9D0111B39F19}" type="glossary">Forward Explicit Congestion Notification</content-link> (FECN) and the <content-link target="{B42A5223-8CC4-4524-BC40-2493D4DF0772}" type="glossary">Backward Explicit Congestion Notification</content-link> (BECN). </p> <p>To help understand the mechanisms, the graphic showing the structure of the Frame Relay frame is presented for review. FECN and BECN are each controlled by a single bit contained in the frame header. They let the router know that there is congestion and that the router should stop transmission until the condition is reversed. BECN is a direct notification. FECN is an indirect one.</p> <p>The frame header also contains a Discard Eligibility (DE) bit, which identifies less important traffic that can be dropped during periods of congestion. DTE devices can set the value of the DE bit to 1 to indicate that the frame has lower importance than other frames. When the network becomes congested, DCE devices discard the frames with the DE bit set to 1 before discarding those that do not. This reduces the likelihood of critical data being dropped during periods of congestion.</p> <p>In periods of congestion, the provider's Frame Relay switch applies the following logic rules to each incoming frame based on whether the CIR is exceeded:</p> <p><ul><li>If the incoming frame does not exceed the CIBR, the frame is passed.</li><li>If an incoming frame exceeds the CIBR, it is marked DE. </li><li>If an incoming frame exceeds the CIBR plus the BE, it is discarded. </li></ul></p> <p><b>Click the Queuing button in the figure and click play in the animation.</b></p> <p>Frames arriving at a switch are queued or buffered prior to forwarding. As in any queuing system, it is possible that there will be an excessive buildup of frames at a switch. This causes delays. Delays lead to unnecessary retransmissions that occur when higher level protocols receive no acknowledgment within a set time. In severe cases, this can cause a serious drop in network throughput. To avoid this problem, Frame Relay incorporates a flow control feature. </p> <p>The figure shows a switch with a filling queue. To reduce the flow of frames to the queue, the switch notifies DTEs of the problem using the Explicit Congestion Notification bits in the frame address field. </p> <p><ul><li>The FECN bit, indicated by the "F" in the figure, is set on every frame that the switch <i>receives</i> on the congested link. </li><li>The BECN bit, indicated by the "B" in the figure, is set on every frame that the switch <i>places</i> onto the congested link. </li></ul></p> <p>DTEs receiving frames with the ECN bits set are expected to try to reduce the flow of frames until the congestion clears. </p> <p>If the congestion occurs on an internal trunk, DTEs may receive notification even though they are not the cause of the congestion.</p></content-text>
</page>
<page type="FullScreen" id="en1403030302">
<content-media type="ActivityCustom" id="cm6352656465">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403030000/en1403030300/en1403030302/cm6352656465.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403030000/en1403030300/en1403030302/cm6352656465text.xml"/></content-media>
<content-text><p>Activity: Advance Frame Relay Concepts</p></content-text>
</page>
</topic>
</section>
<section type="" id="en1403040000">
<title><content-text>Configuring Advanced Frame Relay</content-text></title>
<topic type="" id="en1403040100">
<title><content-text>Configuring Frame Relay Subinterfaces</content-text></title>
<page type="OneColumn" id="en1403040101">
<content-media type="InteractiveGraphicHotspots" id="cm2756299242">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403040000/en1403040100/en1403040101/cm2756299242.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403040000/en1403040100/en1403040101/cm2756299242text.xml"/></content-media>
<content-text><p>Recall that using Frame Relay subinterfaces ensures that a single physical interface is treated as multiple virtual interfaces to overcome split horizon rules. Packets received on one virtual interface can be forwarded to another virtual interface, even if they are configured on the same physical interface. </p> <p>Subinterfaces address the limitations of Frame Relay networks by providing a way to subdivide a partially meshed Frame Relay network into a number of smaller, fully meshed (or point-to-point) subnetworks. Each subnetwork is assigned its own <content-link target="{790B5618-40CB-4528-80EE-A98D826D8089}" type="glossary">network number</content-link> and appears to the protocols as if it were reachable through a separate interface. Point-to-point subinterfaces can be unnumbered for use with IP, reducing the addressing burden that might otherwise result.</p> <p>To create a subinterface, use the <span class="cmd"><b>interface serial</b></span> command. Specify the port number, followed by a period (.) and the subinterface number. To make troubleshooting easier, use the DLCI as the subinterface number. You must also specify whether the interface is point-to-point or point-to-multipoint using either the <span class="cmd"><b>multipoint</b></span> or <span class="cmd"><b>point-to-point</b></span> keyword because there is no default. These keywords are defined in the figure.</p> <p>The following command creates a point-to-point subinterface for PVC 103 to R3: <span class="cmd">R1(config-if)#<b>interface serial 0/0/0.103 point-to-point</b></span>.</p> <p><b>Click the DLCI button in the figure.</b></p> <p>If the subinterface is configured as point-to-point, the local DLCI for the subinterface must also be configured to distinguish it from the physical interface. The DLCI is also required for multipoint subinterfaces for which Inverse ARP is enabled. It is not required for multipoint subinterfaces configured with <content-link target="{F14AFF17-350C-4730-99AE-2BDD677D99B4}" type="glossary">static route</content-link> maps. </p> <p>The Frame Relay service provider assigns the DLCI numbers. These numbers range from 16 to 992, and usually have only local significance. The range varies depending on the LMI used. </p> <p>The <span class="cmd"><b>frame-relay interface-dlci</b></span> command configures the local DLCI on the subinterface. For example: <span class="cmd">R1(config-subif)#<b>frame-relay interface-dlci 103</b></span>.</p> <p><b>Note:</b> Unfortunately, altering an exiting Frame Relay subinterface configuration may fail to provide the expected result. In these situations, it may be necessary to save the configuration and reload the router.</p></content-text>
</page>
<page type="OneColumn" id="en1403040102">
<content-media type="InteractiveGraphicHotspots" id="cm4917522122">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403040000/en1403040100/en1403040102/cm4917522122.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403040000/en1403040100/en1403040102/cm4917522122text.xml"/></content-media>
<content-text><p><b>Configuring Subinterfaces Example</b></p> <p>In the figure, R1 has two point-to-point subinterfaces. The s0/0.0.102 subinterface connects to R2, and the s0/0/0.103 subinterface connects to R3. Each subinterface is on a different subnet. </p> <p>To configure subinterfaces on a physical interface, the following steps are required:</p> <p><b>Step 1.</b> Remove any Network layer address assigned to the physical interface. If the physical interface has an address, frames are not received by the local subinterfaces.</p> <p><b>Step 2.</b> Configure Frame Relay encapsulation on the physical interface using the <span class="cmd"><b>encapsulation frame-relay</b></span> command.</p> <p><b>Step 3.</b> For each of the defined PVCs, create a logical subinterface. Specify the port number, followed by a period (.) and the subinterface number. To make troubleshooting easier, it is suggested that the subinterface number matches the DLCI number. </p> <p><b>Step 4.</b> Configure an IP address for the interface and set the bandwidth.</p> <p>At this point, we will configure the DLCI. Recall that the Frame Relay service provider assigns the DLCI numbers.</p> <p><b>Step 5.</b> Configure the local DLCI on the subinterface using the <span class="cmd"><b>frame-relay interface-dlci</b></span> command.</p></content-text>
</page>
</topic>
<topic type="" id="en1403040200">
<title><content-text>Verifying Frame Relay Operation</content-text></title>
<page type="OneColumn" id="en1403040201">
<content-media type="InteractiveGraphicHotspots" id="cm1040158114">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403040000/en1403040200/en1403040201/cm1040158114.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403040000/en1403040200/en1403040201/cm1040158114text.xml"/></content-media>
<content-text><p>Frame Relay is generally a very reliable service. Nonetheless, there are times when the network performs at less than expected levels and troubleshooting is necessary. For example, users may report slow and intermittent connections across the circuit. Circuits may go down. Regardless of the reason, network outages are very expensive in terms of lost productivity. A recommended best practice is to verify your configuration before problems appear. </p> <p>In this topic, you will step though a verification procedure to ensure everything is working correctly before you launch your configuration on a live network. </p> <p><b>Verify Frame Relay Interfaces</b></p> <p>After configuring a Frame Relay PVC and when troubleshooting an issue, verify that Frame Relay is operating correctly on that interface using the <span class="cmd"><b>show interfaces</b></span> command. </p> <p>Recall that with Frame Relay, the router is normally considered a DTE device. However, a Cisco router can be configured as a Frame Relay switch. In such cases, the router becomes a DCE device when it is configured as a Frame Relay switch.</p> <p>The <span class="cmd"><b>show interfaces</b></span> command displays how the encapsulation is set up, along with useful Layer 1 and Layer 2 status information, including:</p> <p><ul><li>LMI type </li><li>LMI DLCI </li><li>Frame Relay DTE/DCE type </li></ul></p> <p>The first step is always to confirm that the interfaces are properly configured. The figure shows a sample output for the <span class="cmd"><b>show interfaces</b></span> command. Among other things, you can see details about the encapsulation, the DLCI on the Frame Relay-configured serial interface, and the DLCI used for the LMI. You should confirm that these values are the expected values. If not, you may need to make changes.</p> <p><b>Click on the LMI button in the figure</b> to verify LMI performance.</p> <p>The next step is to look at some LMI statistics using the <span class="cmd"><b>show frame-relay lmi</b></span> command. In the output, look for any non-zero "Invalid" items. This helps isolate the problem to a Frame Relay communications issue between the carrier's switch and your router. </p> <p>The figure displays a sample output that shows the number of status messages exchanged between the local router and the local Frame Relay switch.</p> <p>Now look at the statistics for the interface. </p> <p><b>Click the PVC Status button in the figure </b>to verify PVC status.</p> <p>Use the <span class="cmd"><b>show frame-relay pvc</b> [<b>interface</b> <i>interface</i>] [<b>dlci</b>]</span> command to view PVC and traffic statistics. This command is also useful for viewing the number of BECN and FECN packets received by the router. The PVC status can be active, inactive, or deleted. </p> <p>The <span class="cmd"><b>show frame-relay pvc</b></span> command displays the status of all the PVCs configured on the router. You can also specify a particular PVC. Click PVC Status in th figure to see a sample output of the <span class="cmd"><b>show frame-relay pvc 102</b></span> command. </p> <p>Once you have gathered all the statistics, use the <span class="cmd"><b>clear counters</b></span> command to reset the statistics counters. Wait 5 or 10 minutes after clearing the counters before issuing the <span class="cmd"><b>show</b></span> commands again. Note any additional errors. If you need to contact the carrier, these statistics help in resolving the issues.</p> <p>A final task is to confirm whether the <span class="cmd"><b>frame-relay inverse-arp</b></span> command resolved a remote IP address to a local DLCI. Use the <span class="cmd"><b>show frame-relay map</b></span> command to display the current map entries and information about the connections. </p> <p><b>Click the Inverse ARP button in the figure.</b></p> <p>The output shows the following information:</p> <p><ul><li>10.140.1.1 is the IP address of the remote router, dynamically learned via the Inverse ARP process. </li><li>100 is the decimal value of the local DLCI number. </li><li>0x64 is the hex conversion of the DLCI number, 0x64 = 100 decimal. </li><li>0x1840 is the value as it would appear on the wire because of the way the DLCI bits are spread out in the address field of the Frame Relay frame. </li><li>Broadcast/multicast is enabled on the PVC. </li><li>PVC status is active. </li></ul></p> <p>To clear dynamically created Frame Relay maps that are created using Inverse ARP, use the <span class="cmd"><b>clear frame-relay-inarp</b></span> command. <b>Click the Clear Maps button</b> to see an example of this step.</p></content-text>
</page>
</topic>
<topic type="" id="en1403040300">
<title><content-text>Troubleshooting Frame Relay Configuration</content-text></title>
<page type="OneColumn" id="en1403040301">
<content-media type="InteractiveGraphicHotspots" id="cm7392428386">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403040000/en1403040300/en1403040301/cm7392428386.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403040000/en1403040300/en1403040301/cm7392428386text.xml"/></content-media>
<content-text><p>If the verification procedure indicates that your Frame Relay configuration is not working properly, you need to troubleshoot the configuration.</p> <p>Use the <span class="cmd"><b>debug frame-relay lmi</b></span> command to determine whether the router and the Frame Relay switch are sending and receiving LMI packets properly. </p> <p>Look at the figure and examine the output of an LMI exchnage. </p> <p><ul><li>"out" is an LMI status message sent by the router. </li><li>"in" is a message received from the Frame Relay switch. </li><li>A full LMI status message is a "type 0" (not shown in the figure). </li><li>An LMI exchange is a "type 1". </li><li>"dlci 100, status 0x2" means that the status of DLCI 100 is active. </li></ul></p> <p>When an Inverse ARP request is made, the router updates its map table with three possible LMI connection states. These states are active state, inactive state, and deleted state </p> <p><ul><li>ACTIVE States indicates a successful end-to-end (DTE to DTE) circuit. </li><li>INACTIVE State indicates a successful connection to the switch (DTE to DCE) without a DTE detected on the other end of the PVC. This can occur due to residual or incorrect configuration on the switch. </li><li>DELETED State indicates that the DTE is configured for a DLCI the switch does not recognize as valid for that interface.</li></ul></p> <p>The possible values of the status field are as follows: </p> <p><ul><li>0x0 - The switch has this DLCI programmed, but for some reason it is not usable. The reason could possibly be the other end of the PVC is down. </li><li>0x2 - The Frame Relay switch has the DLCI and everything is operational. </li><li>0x4 - The Frame Relay switch does not have this DLCI programmed for the router, but that it was programmed at some point in the past. This could also be caused by the DLCIs being reversed on the router, or by the PVC being deleted by the service provider in the Frame Relay cloud. </li></ul></p></content-text>
</page>
<page type="FullScreen" id="en1403040302">
<content-media type="ActivityPopup" id="cm7590960183">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403040000/en1403040300/en1403040302/cm7590960183/" mime="ActivityPopup" scale="true" type="directory" width="400" height="200" external="en1403000000/en1403040000/en1403040300/en1403040302/cm7590960183/icontext.xml"/></content-media>
<content-text><p>Simulation: Configuring Frame Relay Point-to-Point Subinterfaces</p></content-text>
</page>
</topic>
</section>
<section type="" id="en1403050000">
<title><content-text>Chapter Labs</content-text></title>
<topic type="" id="en1403050100">
<title><content-text>Basic Frame Relay</content-text></title>
<page type="OneColumn" id="en1403050101">
<content-media type="ActivityLab" id="cm9510965144">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403050000/en1403050100/en1403050101/cm9510965144/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1403000000/en1403050000/en1403050100/en1403050101/cm9510965144/icontext.xml"/></content-media>
<content-text><p>In this lab, you will learn how to configure Frame Relay encapsulation on serial links using the network shown in the topology diagram. You will also learn how to configure a router as a Frame Relay switch. There are both Cisco standards and Open standards that apply to Frame Relay. You will learn both. Pay special attention in the lab section in which you intentionally break the Frame Relay configurations. This will help you in the Troubleshooting lab associated with this chapter. </p></content-text>
</page>
</topic>
<topic type="" id="en1403050200">
<title><content-text>Challenge Frame Relay Configuration</content-text></title>
<page type="OneColumn" id="en1403050201">
<content-media type="ActivityLab" id="cm1225687136">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403050000/en1403050200/en1403050201/cm1225687136/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1403000000/en1403050000/en1403050200/en1403050201/cm1225687136/icontext.xml"/></content-media>
<content-text><p>In this lab, you will configure Frame Relay using the network shown in the topology diagram. If you need assistance, refer to the Basic Frame Relay lab. However, try to do as much on your own as possible. </p></content-text>
</page>
</topic>
<topic type="" id="en1403050300">
<title><content-text>Troubleshooting Frame Relay</content-text></title>
<page type="OneColumn" id="en1403050301">
<content-media type="ActivityLab" id="cm2022477088">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403050000/en1403050300/en1403050301/cm2022477088/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1403000000/en1403050000/en1403050300/en1403050301/cm2022477088/icontext.xml"/></content-media>
<content-text><p>In this lab, you will practice troubleshooting a misconfigured Frame Relay environment. Load or have your instructor load the configurations below into your routers. Locate and repair all errors in the configurations and establish end-to-end connectivity. Your final configuration should match the topology diagram and addressing table. </p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="en1403060000">
<title><content-text>Summary</content-text></title>
<topic type="" id="en1403060100">
<title><content-text>Chapter Summary</content-text></title>
<page type="OneColumn" id="en1403060101">
<content-media type="ChapterSummary" id="cm2585708637">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403060000/en1403060100/en1403060101/cm2585708637.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403060000/en1403060100/en1403060101/cm2585708637text.xml"/></content-media>
<content-text><p>Frame Relay provides greater bandwidth, reliability, and resiliency than private or leased lines. Frame Relay has reduced network costs by using less equipment, less complexity, and by providing easier implementation. For these reasons, Frame Relay has become the most widely used WAN technology in the world.</p> <p>A Frame Relay connection between a DTE device at the LAN edge and a DCE device at the carrier edge has a link layer component and a physical layer component. Frame Relay takes data packets and encapsulates them in a Frame Relay frame, and then passes the frame to the Physical layer for delivery on the wire. The connection across the carrier network is a VC identified by a DLCI. Multiple VCs can be multiplexed using a FRAD. Frame Relay networks usually use a partial mesh topology optimized to the data flow requirements of the carrier's customer base.</p> <p>Frame Relay uses Inverse ARP to map DCLIs to the IP addresses of remote locations. Dynamic address mapping relies on Inverse ARP to resolve a next hop network protocol address to a local DLCI value. The Frame Relay router sends out Inverse ARP requests on its PVC to discover the protocol address of the remote device connected to the Frame Relay network. DTE Frame Relay routers use the LMI to provide status information about their connection with the DCE Frame Relay switch. LMI extensions provide additional internetworking information.</p> <p>The first two tasks in configuring Frame Relay on a Cisco router are to enable Frame Relay encapsulation on the interface and then configure either static of dynamic mapping. After this, there are a number of optional tasks that can be completed as required including configuring the LMI, VCs, <content-link target="{6A0FE6DC-50B8-4CE5-A073-056427F57170}" type="glossary">traffic shaping</content-link> and customizing Frame Relay on your network. Monitoring maintaining Frame Relay connections is the final task.</p> <p>Frame Relay configuration must consider the split horizon problem which arises when multiple VCs converge on a single physical interface. Frame Relay can partition a physical interface into multiple virtual interfaces called subinterfaces. Subinterface configuration was also explained and practiced.</p> <p>The configuration of Frame Relay is affected by the way in which service providers charge for connections using units of access rates and committed information rates (CIR). An advantage of these charging schemes is that unused network capacity is available or shared with all customers, usually at no extra charge. This allows users to burst traffic for short periods.</p> <p>Configuring flow control in a Frame Relay network is also affected by service provider charging schemes. You can configure queuing and shape traffic according to the CIR. DTEs can be configured to control congestion in the network by adding BECN and FECN bits to frame addresses. DTEs can also be configured to set a discard eligible bit indicting that the frame may be discarded in preference to other frames if congestion occurs. Frames that are sent in excess of the CIR are marked as "discard eligible" (DE) which means they can be dropped should congestion occur within the frame relay network.</p> <p>Finally, once having configured Frame Relay, you learned how to verify and troubleshoot the connections. </p></content-text>
</page>
<page type="FullScreen" id="en1403060102">
<content-media type="StaticGraphic" id="cm3448758545">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403060000/en1403060100/en1403060102/cm3448758545.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1403000000/en1403060000/en1403060100/en1403060102/cm3448758545text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="en1403060103">
<content-media type="ActivityPKA" id="cm5658486444">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403060000/en1403060100/en1403060103/cm5658486444/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en1403000000/en1403060000/en1403060100/en1403060103/cm5658486444/icontext.xml"/></content-media>
<content-text><p>This activity allows you to practice a variety of skills, including configuring Frame Relay, PPP with CHAP, static and default routing, VTP, and VLAN. Because there are close to 150 graded components in this activity, you may not see the completion percentage increase every time you configure a graded command. You can always click <b>Check Results</b> and <b>Assessment Items</b> to see if you correctly entered a graded command. Detailed instructions are provided within the activity as well as in the PDF link below.</p> <p><content-link target="E4_PTAct_3_6_1.pdf" type="internalfile">Activity Instructions (PDF)</content-link></p> <p><b>Click the Packet Tracer icon for more details.</b> </p></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="en1403070000">
<title><content-text>Chapter Quiz</content-text></title>
<topic type="" id="en1403070100">
<title><content-text>Chapter Quiz</content-text></title>
<page type="FullScreen" id="en1403070101">
<content-media type="ChapterQuiz" id="cm8963829616">	<title><content-text></content-text></title>	<media ref="en1403000000/en1403070000/en1403070100/en1403070101/cm8963829616/" mime="" scale="true" type="directory" width="100%" height="100%" external="en1403000000/en1403070000/en1403070100/en1403070101/cm8963829616/icontext.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
</chapter>
