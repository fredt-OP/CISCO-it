<chapter type="" id="en1408000000">
<title><content-text>Network Troubleshooting</content-text></title>
<section type="ChapterIntroduction" id="en1408000000">
<title><content-text>Chapter Introduction</content-text></title>
<topic type="" id="en1408000100">
<title><content-text>Chapter Introduction</content-text></title>
<page type="OneColumn" id="en1408000101">
<content-media type="ChapterIntroduction" id="cm4154768893">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408000000/en1408000100/en1408000101/cm4154768893.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408000000/en1408000100/en1408000101/cm4154768893text.xml"/></content-media>
<content-text><p>Once a network is operational, administrators have to monitor its performance for the sake of the organization's productivity. From time-to-time network outages can occur. Sometimes they are planned and their impact on the organization easily managed. Sometimes they are not planned and their impact on the organization can be severe. In the event of an unexpected network outage administrators must be able to troubleshoot and bring the network back into full production. In this chapter you will learn a systematic process for troubleshooting network outages.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en1408010000">
<title><content-text>Establishing the Network Performance Baseline</content-text></title>
<topic type="" id="en1408010100">
<title><content-text>Documenting Your Network</content-text></title>
<page type="OneColumn" id="en1408010101">
<content-media type="InteractiveGraphicHotspots" id="cm6777146393">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408010000/en1408010100/en1408010101/cm6777146393.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408010000/en1408010100/en1408010101/cm6777146393text.xml"/></content-media>
<content-text><p><b>Documenting Your Network </b></p> <p>To efficiently diagnose and correct network problems, a network engineer needs to know how a network has been designed and what the expected performance for this network should be under normal operating conditions. This information is called the network baseline and is captured in documentation such as configuration tables and topology diagrams. </p> <p>Network configuration documentation provides a logical diagram of the network and detailed information about each component. This information should be kept in a single location, either as hard copy or on the network on a protected website. Network documentation should include these components: </p> <p><ul><li>Network configuration table</li><li>End-system configuration table</li><li>Network topology diagram</li></ul></p> <p><b>Network Configuration Table</b></p> <p>Contains accurate, up-to-date records of the hardware and software used in a network. The network configuration table should provide the network engineer with all the information necessary to identify and correct the network fault. </p> <p><b>Click the Router and Switch Documentation button in the figure.</b></p> <p>The table in the figure illustrates the data set that should be included for all components: </p> <p><ul><li>Type of device, model designation</li><li> IOS image name </li><li>Device network hostname </li><li>Location of the device (building, floor, room, rack, panel) </li><li>If it is a modular device, include all module types and in which module slot they are located</li><li>Data link layer addresses </li><li>Network layer addresses </li><li>Any additional important information about physical aspects of the device</li></ul></p> <p><b>Click the End-System Documentation button in the figure.</b></p> <p><b>End-system Configuration Table</b></p> <p>Contains baseline records of the hardware and software used in end-system devices such as servers, network management consoles, and desktop workstations. An incorrectly configured end system can have a negative impact on the overall performance of a network.</p> <p>For troubleshooting purposes, the following information should be documented: </p> <p><ul><li>Device name (purpose) </li><li>Operating system and version </li><li>IP address </li><li>Subnet mask</li><li>Default gateway, DNS server, and WINS server addresses </li><li>Any high-bandwidth network applications that the end-system runs</li></ul></p> <p><b>Click the Network Topology Diagram button in the figure.</b></p> <p><b>Network Topology Diagram</b></p> <p>Graphical representation of a network, which illustrates how each device in a network is connected and its logical architecture. A topology diagram shares many of the same components as the network configuration table. Each network device should be represented on the diagram with consistent notation or a graphical symbol. Also, each logical and physical connection should be represented using a simple line or other appropriate symbol. Routing protocols can also be shown. </p> <p>At a minimum, the topology diagram should include:</p> <p><ul><li>Symbols for all devices and how they are connected</li></ul></p> <p>Interface types and numbers</p> <p><ul><li>IP addresses</li><li>Subnet masks</li></ul></p></content-text>
</page>
</topic>
<topic type="" id="en1408010200">
<title><content-text>Documenting Your Network</content-text></title>
<page type="OneColumn" id="en1408010201">
<content-media type="InteractiveGraphicHotspots" id="cm4412605866">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408010000/en1408010200/en1408010201/cm4412605866.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408010000/en1408010200/en1408010201/cm4412605866text.xml"/></content-media>
<content-text><p><b>Network Documentation Process</b></p> <p>The figure shows the network documentation process. </p>  <p><b>Rollover each stage in the figure </b>to learn more about the process. </p>  <p>When you document your network, you may have to gather information directly from routers and switches. Commands that are useful to the network documentation process include: </p> <p><ul><li>The <span class="cmd"><b>ping</b></span> command is used to test connectivity with neighboring devices before logging in to them. Pinging to other PCs in the network also initiates the MAC address auto-discovery process. </li><li>The <span class="cmd"><b>telnet</b></span> command is used to log in remotely to a device for accessing configuration information. </li><li>The <span class="cmd"><b>show ip interface brief</b></span> command is used to display the up or down status and IP address of all interfaces on a device. </li><li>The <span class="cmd"><b>show ip route</b></span> command is used to display the routing table in a router to learn the directly connected neighbors, more remote devices (through learned routes), and the routing protocols that have been configured. </li><li>The <span class="cmd"><b>show cdp neighbor detail</b></span> command is used to obtain detailed information about directly connected Cisco neighbor devices.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en1408010202">
<content-media type="ActivityPKA" id="cm2589624841">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408010000/en1408010200/en1408010202/cm2589624841/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en1408000000/en1408010000/en1408010200/en1408010202/cm2589624841/icontext.xml"/></content-media>
<content-text><p>This activity covers the steps to take to discover a network using primarily the <span class="cmd"><b>telnet</b></span>, <span class="cmd"><b>show cdp neighbors detail</b></span>, and <span class="cmd"><b>show ip route</b></span> commands. This is Part I of a two-part activity.</p> <p>The topology you see when you open the Packet Tracer activity does not reveal all of the details of the network. The details have been hidden using the cluster function of Packet Tracer. The network infrastructure has been collapsed, and the topology in the file shows only the end devices. Your task is to use your knowledge of networking and discovery commands to learn about the full network topology and document it.</p>  <p>Detailed instructions are provided within the activity as well as in the PDF link below.</p> <p><content-link target="E4_PTAct_8_1_2.pdf" type="internalfile">Activity Instructions (PDF)</content-link></p> <p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en1408010300">
<title><content-text>Why is Establishing a Network Baseline Important?</content-text></title>
<page type="OneColumn" id="en1408010301">
<content-media type="StaticGraphic" id="cm8302798592">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408010000/en1408010300/en1408010301/cm8302798592.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408010000/en1408010300/en1408010301/cm8302798592text.xml"/></content-media>
<content-text><p>Establishing a network performance baseline requires collecting key performance data from the ports and devices that are essential to network operation. This information helps to determine the "personality" of the network and provides answers to the following questions: </p> <p><ul><li>How does the network perform during a normal or average day? </li><li>Where are the underutilized and over-utilized areas?</li><li>Where are the most errors occurring?</li><li>What thresholds should be set for the devices that need to be monitored?</li><li>Can the network deliver the identified policies?</li></ul></p> <p>Measuring the initial performance and availability of critical network devices and links allows a network administrator to determine the difference between abnormal behavior and proper network performance as the network grows or traffic patterns change. The baseline also provides insight into whether the current network design can deliver the required policies. Without a baseline, no standard exists to measure the optimum nature of network traffic and congestion levels.</p> <p>In addition, analysis after an initial baseline tends to reveal hidden problems. The collected data reveals the true nature of congestion or potential congestion in a network. It may also reveal areas in the network that are underutilized and quite often can lead to network redesign efforts based on quality and capacity observations. </p></content-text>
</page>
</topic>
<topic type="" id="en1408010400">
<title><content-text>Steps for Establishing a Network Baseline</content-text></title>
<page type="OneColumn" id="en1408010401">
<content-media type="InteractiveGraphicHotspots" id="cm5753855781">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408010000/en1408010400/en1408010401/cm5753855781.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408010000/en1408010400/en1408010401/cm5753855781text.xml"/></content-media>
<content-text><p><b>Planning for the First Basline</b></p> <p>Because the initial network performance baseline sets the stage for measuring the effects of network changes and subsequent troubleshooting efforts, it is important to plan for it carefully. Here are the recommended steps for planning the first baseline:</p> <p><b>Step 1.</b> Determine what types of data to collect</p> <p>When conducting the initial baseline, start by selecting a few variables that represent the defined policies. If too many data points are selected, the amount of data can be overwhelming, making analysis of the collected data difficult. Start out simply and fine-tune along the way. Generally, some good starting measures are interface utilization and CPU utilization. The figure shows some screenshots of interface and CPU utilization data, as displayed by a Fluke Networks <content-link target="{D768DA73-4254-45C3-A2C3-4438C4BBA4A6}" type="glossary">network management system</content-link>.</p> <p><b>Click the Devices and Ports of Interest button in the figure. </b></p> <p><b>Step 2.</b> Identify devices and ports of interest</p> <p>The next step is to identify those key devices and ports for which performance data should be measured. Devices and ports of interest include:</p> <p><ul><li>Network device ports that connect to other network devices</li><li>Servers</li><li>Key users</li><li>Anything else considered critical to operations.</li></ul></p> <p>In topology shown in the figure, the network administrator has highlighted the devices and ports of interest to monitor during the baseline test. The devices of interest include routers R1, R2, and R3, PC1 (the Admin terminal), and SRV1 (the Web/TFTP server). The ports of interest include those ports on R1, R2, and R3 that connect to the other routers or to switches, and on router R2, the port that connects to SRV1 (Fa0/0). </p> <p>By narrowing the ports polled, the results are concise, and network management load is minimized. Remember that an interface on a router or switch can be a virtual interface, such as a switch virtual interface (SVI).</p> <p>This step is easier if you have configured the device port description fields to indicate what connects to the port. For example, for a router port that connects to the distribution switch in the Engineering workgroup, you might configure the description, "Engineering LAN distribution switch." </p> <p><b>Click the Determine Baseline Duration button in the figure.</b></p> <p><b>Step 3.</b> Determine the baseline duration</p> <p>It is important that the length of time and the baseline information being gathered are sufficient to establish a typical picture of the network. This period should be at least seven days to capture any daily or weekly trends. Weekly trends are just as important as daily or hourly trends.</p> <p>The figure shows examples of several screenshots of CPU utilization trends captured over a daily, weekly, monthly, and yearly period. The work week trends are too short to accurately reveal the recurring nature of the utilization surge that occurs every weekend on Saturday evening when a major database backup operation consumes network bandwidth. This recurring pattern is revealed in the monthly trend. The yearly trend shown in the example is too long a duration to provide meaningful baseline performance details. A baseline needs to last no more than six weeks, unless specific long-term trends need to be measured. Generally, a two-to-four-week baseline is adequate.</p> <p>You should not perform a baseline measurement during times of unique traffic patterns because the data would provide an inaccurate picture of normal network operations. You would get an inaccurate measure of network performance if you performed a baseline measurement on a holiday or during a month when most of the company is on vacation.</p> <p>Baseline analysis of the network should be conducted on a regular basis. Perform an annual analysis of the entire network or baseline different sections of the network on a rotating basis. Analysis must be conducted regularly to understand how the network is affected by growth and other changes.</p></content-text>
</page>
<page type="OneColumn" id="en1408010402">
<content-media type="InteractiveGraphicHotspots" id="cm3114489333">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408010000/en1408010400/en1408010402/cm3114489333.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408010000/en1408010400/en1408010402/cm3114489333text.xml"/></content-media>
<content-text><p><b>Measuring Network Performance Data</b></p> <p>Sophisticated network management software is often used to baseline large and complex networks. For example, the Fluke Network SuperAgent module enables administrators to automatically create and review reports using its Intelligent Baselines feature. This feature compares current performance levels with historical observations and can automatically identify performance problems and applications that do not provide expected levels of service. </p> <p><b>Click the Manual Commands button in the figure.</b></p> <p>In simpler networks, the baseline tasks may require a combination of manual data collection and simple network protocol inspectors. Establishing an initial baseline or conducting a performance-monitoring analysis may require many hours or days to accurately reflect network performance. Network management software or protocol inspectors and sniffers may run continuously over the course of the data collection process. Hand collection using <span class="cmd"><b>show</b></span> commands on individual network devices is extremely time consuming and should be limited to mission-critical network devices.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en1408020000">
<title><content-text>Troubleshooting Methodologies and Tools</content-text></title>
<topic type="" id="en1408020100">
<title><content-text>A General Approach to Troubleshooting</content-text></title>
<page type="OneColumn" id="en1408020101">
<content-media type="StaticGraphic" id="cm4020481330">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408020000/en1408020100/en1408020101/cm4020481330.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408020000/en1408020100/en1408020101/cm4020481330text.xml"/></content-media>
<content-text><p>Network engineers, administrators, and support personnel realize that troubleshooting is a process that takes the greatest percentage their time. Using efficient troubleshooting techniques shortens overall troubleshooting time when working in a production environment.</p> <p>Two extreme approaches to troubleshooting almost always result in disappointment, delay, or failure. At one extreme is the theorist, or rocket scientist, approach. At the other extreme is the impractical, or caveman, approach.</p> <p>The rocket scientist analyzes and reanalyzes the situation until the exact cause at the root of the problem has been identified and corrected with surgical precision. While this process is fairly reliable, few companies can afford to have their networks down for the hours or days that it can take for this exhaustive analysis.</p> <p>The caveman's first instinct is to start swapping cards, cables, hardware, and software until miraculously the network begins operating again. This does not mean that the network is working properly, just that it is operating. While this approach may achieve a change in symptoms faster, it is not very reliable, and the root cause of the problem may still be present.</p> <p>Since both of these approaches are extremes, the better approach is somewhere in the middle using elements of both. It is important to analyze the network as a whole rather than in a piecemeal fashion. A systematic approach minimizes confusion and cuts down on time otherwise wasted with trial and error.</p></content-text>
</page>
</topic>
<topic type="" id="en1408020200">
<title><content-text>Using Layered Models for Troubleshooting</content-text></title>
<page type="OneColumn" id="en1408020201">
<content-media type="InteractiveGraphicHotspots" id="cm3915667986">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408020000/en1408020200/en1408020201/cm3915667986.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408020000/en1408020200/en1408020201/cm3915667986text.xml"/></content-media>
<content-text><p><b>OSI Versus TCP/IP Layered Models</b></p> <p>Logical networking models, such as the OSI and TCP/IP models, separate network functionality into modular layers. When troubleshooting, these layered models can be applied to the physical network to isolate network problems. For example, if the symptoms suggest a physical connection problem, the network technician can focus on troubleshooting the circuit that operates at the Physical layer. If that circuit functions properly, the technician looks at areas in another layer that could be causing the problem.</p> <p><b><content-link target="{D6C607CF-55E7-4073-8E64-34831DCB4BCE}" type="glossary">OSI Reference Model</content-link></b></p> <p>The OSI model provides a common language for network engineers and is commonly used in troubleshooting networks. Problems are typically described in terms of a given OSI model layer.</p> <p>The OSI reference model describes how information from a software application in one computer moves through a network medium to a software application in another computer.</p> <p>The upper layers (5-7) of the OSI model deal with application issues and generally are implemented only in software. The Application layer is closest to the end user. Both users and Application layer processes interact with software applications that contain a communications component.</p> <p>The lower layers (1-4) of the OSI model handle data-transport issues. Layers 3 and 4 are generally implemented only in software. The Physical layer (Layer 1) and Data Link layer (Layer 2) are implemented in hardware and software. The Physical layer is closest to the physical network medium, such as the network cabling, and is responsible for actually placing information on the medium.</p> <p><b>TCP/IP Model</b></p> <p>Similar to the OSI networking model, the TCP/IP networking model also divides networking architecture into modular layers. The figure shows how the TCP/IP networking model maps to the layers of the OSI networking model. It is this close mapping that allows the TCP/IP suite of protocols to successfully communicate with so many networking technologies.</p> <p>The Application layer in the TCP/IP suite actually combines the functions of the three OSI model layers: session, presentation, and application. The Application layer provides communication between applications such as FTP, HTTP, and SMTP on separate hosts.</p> <p>The Transport layers of TCP/IP and OSI directly correspond in function. The Transport layer is responsible for exchanging segments between devices on a TCP/IP network.</p> <p>The TCP/IP Internet layer relates to the OSI Network layer. The Internet layer is responsible for placing messages in a fixed format that allows devices to handle them.</p> <p>The TCP/IP network access layer corresponds to the OSI physical and Data Link layers. The network access layer communicates directly with the network media and provides an interface between the architecture of the network and the Internet layer.</p> <p><b>Click the Devices at the OSI layers button in the figure. </b></p> <p>Roll over each device to show which OSI Layers you commonly need to troubleshoot for that type of device. </p></content-text>
</page>
</topic>
<topic type="" id="en1408020300">
<title><content-text>General Troubleshooting Procedures</content-text></title>
<page type="OneColumn" id="en1408020301">
<content-media type="StaticGraphic" id="cm5945032867">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408020000/en1408020300/en1408020301/cm5945032867.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408020000/en1408020300/en1408020301/cm5945032867text.xml"/></content-media>
<content-text><p>The stages of the general troubleshooting process are: </p> <p><ul><li><b>Stage 1 Gather symptoms</b> - Troubleshooting begins with the process of gathering and documenting symptoms from the network, end systems, and users. In addition, the network administrator determines which network components have been affected and how the functionality of the network has changed compared to the baseline. Symptoms may appear in many different forms, including alerts from the network management system, console messages, and user complaints.</li></ul></p> <p>While gathering symptoms, questions should be used as a method of localizing the problem to a smaller range of possibilities.</p> <p><ul><li><b>Stage 2 Isolate the problem </b>- The problem is not truly isolated until a single problem, or a set of related problems, is identified. To do this, the network administrator examines the characteristics of the problems at the logical layers of the network so that the most likely cause can be selected. At this stage, the network administrator may gather and document more symptoms depending on the problem characteristics that are identified.</li><li><b>Stage 3 Correct the problem</b> - Having isolated and identified the cause of the problem, the network administrator works to correct the problem by implementing, testing, and documenting a solution. If the network administrator determines that the corrective action has created another problem, the attempted solution is documented, the changes are removed, and the network administrator returns to gathering symptoms and isolating the problem.</li></ul></p> <p>These stages are not mutually exclusive. At any point in the process, it may be necessary to return to previous stages. For instance, it may be required to gather more symptoms while isolating a problem. Additionally, when attempting to correct a problem, another unidentified problem could be created. As a result, it would be necessary to gather the symptoms, isolate, and correct the new problem.</p> <p>A troubleshooting policy should be established for each stage. A policy provides a consistent manner in which to perform each stage. Part of the policy should include documenting every important piece of information.</p></content-text>
</page>
</topic>
<topic type="" id="en1408020400">
<title><content-text>Troubleshooting Methods</content-text></title>
<page type="OneColumn" id="en1408020401">
<content-media type="InteractiveGraphicHotspots" id="cm5715540706">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408020000/en1408020400/en1408020401/cm5715540706.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408020000/en1408020400/en1408020401/cm5715540706text.xml"/></content-media>
<content-text><p><b>Troubleshooting Methods</b></p> <p>There are three main methods for troubleshooting networks:</p> <p><ul><li>Bottom up </li><li>Top down</li><li>Divide and conquer</li></ul></p> <p>Each approach has its advantages and disadvantages. This topic describes the three methods and provides guidelines for choosing the best method for a specific situation.</p> <p><b>Bottom-Up Troubleshooting Method</b></p> <p>In bottom-up troubleshooting you start with the physical components of the network and move up through the layers of the OSI model until the cause of the problem is identified. Bottom-up troubleshooting is a good approach to use when the problem is suspected to be a physical one. Most networking problems reside at the lower levels, so implementing the bottom-up approach often results in effective results. The figure shows the bottom-up approach to troubleshooting.</p> <p>The disadvantage with the bottom-up troubleshooting approach is it requires that you check every device and interface on the network until the possible cause of the problem is found. Remember that each conclusion and possibility must be documented so there can be a lot of paper work associated with this approach. A further challenge is to determine which devices to start examining first.</p> <p><b>Click the Top-Down Method button in the figure.</b></p> <p> </p> <p><b>Top-Down Troubleshooting Method</b></p> <p>In top-down troubleshooting your start with the end-user applications and move down through the layers of the OSI model until the cause of the problem has been identified. End-user applications of an end system are tested before tackling the more specific networking pieces. Use this approach for simpler problems or when you think the problem is with a piece of software.</p> <p>The disadvantage with the top-down approach is it requires checking every network application until the possible cause of the problem is found. Each conclusion and possibility must be documented. and the challenge is to determine which application to start examining first.</p> <p><b>Click the Divide-and-Conquer Method button in the figure.</b></p> <p><b>Divide-and-Conquer Troubleshooting Method</b></p> <p>When you apply the divide-and-conquer approach toward troubleshooting a networking problem, you select a layer and test in both directions from the starting layer. </p> <p>In divide-and-conquer troubleshooting you start by collecting user experience of the problem, document the symptoms and then, using that information, make an informed guess as to which OSI layer to start your investigation. Once you verify that a layer is functioning properly, assume that the layers below it are functioning and work up the OSI layers. If an OSI layer is not functioning properly, work your way down the OSI layer model.</p> <p>For example, if users can't access the web server and you can ping the server, then you know that the problem is above Layer 3. If you can't ping the server, then you know the problem is likely at a lower OSI layer.</p></content-text>
</page>
<page type="OneColumn" id="en1408020402">
<content-media type="StaticGraphic" id="cm6323776086">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408020000/en1408020400/en1408020402/cm6323776086.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408020000/en1408020400/en1408020402/cm6323776086text.xml"/></content-media>
<content-text><p><b>Guidelines for Selecting a Troubleshooting Method</b></p> <p>To quickly resolve network problems, take the time to select the most effective network troubleshooting method. Examine the figure. Use the process shown in the figure to help you select the most efficient troubleshooting method.</p> <p>Here is an example of how you would choose a troubleshooting method for a specific problem. Two IP routers are not exchanging routing information. The last time this type of problem occurred it was a protocol issue. So you choose the divide-and-conquer troubleshooting method. Your analysis reveals that there is connectivity between the routers so you start your troubleshooting efforts at the physical or Data Link layer, confirm connectivity and begin testing the TCP/IP-related functions at next layer up in the OSI model, the Network layer.</p></content-text>
</page>
</topic>
<topic type="" id="en1408020500">
<title><content-text>Gathering Symptoms</content-text></title>
<page type="OneColumn" id="en1408020501">
<content-media type="InteractiveGraphicHotspots" id="cm3006157908">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408020000/en1408020500/en1408020501/cm3006157908.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408020000/en1408020500/en1408020501/cm3006157908text.xml"/></content-media>
<content-text><p><b>Gathering Symptoms</b></p> <p>To determine the scope of the problem gather (document) the symptoms. The figure shows the a flow chart of this process. Each step in this process is briefly described here:</p> <p><b>Step 1.</b> Analyze existing symptoms - Analyze symptoms gathered from the trouble ticket, users, or end systems affected by the problem to form a definition of the problem.</p> <p><b>Step 2.</b> Determine ownership - If the problem is within your system, you can move onto the next stage. If the problem is outside the boundary of your control, for example, lost Internet connectivity outside of the <content-link target="{BA8EF699-8592-4A4C-B876-F695208FF45E}" type="glossary">autonomous system</content-link>, you need to contact an administrator for the external system before gathering additional network symptoms.</p> <p><b>Step 3.</b> Narrow the scope - Determine if the problem is at the core, distribution, or access layer of the network. At the identified layer, analyze the existing symptoms and use your knowledge of the network topology to determine which pieces of equipment are the most likely cause.</p> <p><b>Step 4.</b> Gather symptoms from suspect devices - Using a layered troubleshooting approach, gather hardware and software symptoms from the suspect devices. Start with the most likely possibility, and use knowledge and experience to determine if the problem is more likely a hardware or software configuration problem.</p> <p><b>Step 5.</b> Document symptoms - Sometimes the problem can be solved using the documented symptoms. If not, begin the isolating phase of the general troubleshooting process. </p> <p><b>Click the Commands button in the figure. </b></p> <p>Use the Cisco IOS commands to gather symptoms about the network. The table in the figure describes the common Cisco IOS commands you can use to help you gather the systems of a network problem.</p> <p>Although the <span class="cmd"><b>debug</b></span> command is an important tool for gathering symptoms it generates a large amount of console message traffic and the performance of a network device can be noticeably affected. Make sure you warn network users that a troubleshooting effort is underway and that network performance may be affected. Remember to disable debugging when you are done.</p></content-text>
</page>
<page type="OneColumn" id="en1408020502">
<content-media type="StaticGraphic" id="cm9394040454">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408020000/en1408020500/en1408020502/cm9394040454.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408020000/en1408020500/en1408020502/cm9394040454text.xml"/></content-media>
<content-text><p><b>Questioning End Users</b></p> <p>When you question end users about a network problem they may be experiencing, use effective questioning techniques. This way you will get the information you need to effectively document the symptoms of a problem. The table in the figure provides some guidelines and end-user example questions.</p></content-text>
</page>
</topic>
<topic type="" id="en1408020600">
<title><content-text>Troubleshooting Tools</content-text></title>
<page type="OneColumn" id="en1408020601">
<content-media type="InteractiveGraphicHotspots" id="cm2244697065">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408020000/en1408020600/en1408020601/cm2244697065.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408020000/en1408020600/en1408020601/cm2244697065text.xml"/></content-media>
<content-text><p><b>Software Troubleshooting Tools</b></p> <p>A wide variety of software and hardware tools are available to make troubleshooting easier. These tools may be used to gather and analyze symptoms of network problems and often provide monitoring and reporting functions that can be used to establish the network baseline.</p> <p><b>NMS Tools</b></p> <p>Network management system (<content-link target="{AB49F2FD-E20C-4572-8F4A-D991A1D5D3DC}" type="glossary">NMS</content-link>) tools include device-level monitoring, configuration, and fault management tools. The figure shows an example display from the What's Up Gold NMS software. These tools can be used to investigate and correct network problems. Network monitoring software graphically displays a physical view of network devices, allowing network managers to monitor remote devices without actually physically checking them. Device management software provides dynamic status, statistics, and configuration information for switched products. Examples of commonly used network management tools are <content-link target="{C23A6A1F-2DAF-4DED-876D-F1359938E327}" type="glossary">CiscoView</content-link>, HP Openview, Solar Winds, and What's Up Gold. </p> <p><b>Click the Knowledge Base button in the figure</b> to see an example of a knowledge base website. </p> <p><b>Knowledge Bases </b></p> <p>On-line network device vendor knowledge bases have become indispensable sources of information. When vendor-based knowledge bases are combined with Internet search engines like Google, a network administrator has access to a vast pool of experience-based information. </p> <p>The figure shows the Cisco <b>Tools &amp; Resources</b> page found at http://www.cisco.com. This is a free tool providing information on Cisco-related hardware and software. It contains troubleshooting procedures, implementation guides, and original white papers on most aspects of networking technology.</p> <p><b>Click the Baselining Tools button in the figure</b> to see some examples of baselining tools.</p> <p><b>Baselining Tools</b></p> <p>Many tools for automating the network documentation and baselining process are available. These tools are available for Windows, Linux, AUX operating systems. The figure shows a screen chapter of the SolarWinds LAN surveyor and CyberGauge software. Baselining tools help you with common baseling documentation tasks. For example they can help you draw network diagrams, help you to keep network software and hardware documentation up-to-date and help you to cost-effectively measure baseline network bandwidth use.</p> <p><b>Click the Protocol Analyzer button in the figure</b> to see an example of a typical protocol analyzer application.</p> <p><b>Protocol Analyzers</b></p> <p>A protocol analyzer decodes the various protocol layers in a recorded frame and presents this information in a relatively easy to use format. The figure shows a screen capture of the Wireshark protocol analyzer. The information displayed by a protocol analyzer includes, the physical, data link, protocol and descriptions for each frame. Most protocol analyzers can filter traffic that meets certain criteria so that, for example, all traffic to and from a particular device can be captured. </p></content-text>
</page>
<page type="OneColumn" id="en1408020602">
<content-media type="StaticGraphic" id="cm7000250980">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408020000/en1408020600/en1408020602/cm7000250980.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408020000/en1408020600/en1408020602/cm7000250980text.xml"/></content-media>
<content-text><p><b>Hardware Troubleshooting Tools</b></p> <p><b>Click the buttons in the figure to</b> see examples of various hardware troubleshooting tools.</p> <p><b>Network Analysis Module</b></p> <p>A network analysis module (NAM) can be installed in Cisco Catalyst 6500 series switches and Cisco 7600 series routers to provide a graphical representation of traffic from local and remote switches and routers. The NAM is a embedded browser-based interface that generates reports on the traffic that consumes critical network resources. In addition, the NAM can capture and decode packets and track response times to pinpoint an application problem to the network or the server. </p> <p><b>Digital Multimeters</b></p> <p>Digital multimeters (DMMs) are test instruments that are used to directly measure electrical values of voltage, current, and resistance. In network troubleshooting, most of the multimedia tests involve checking power-supply voltage levels and verifying that network devices are receiving power. </p> <p><b>Cable Testers</b></p> <p>Cable testers are specialized, handheld devices designed for testing the various types of data communication cabling. Cabling testers can be used to detect broken wires, crossed-over wiring, shorted connections, and improperly paired connections. These devices can be inexpensive continuity testers, moderately priced data cabling testers, or expensive time-domain reflectometers (<content-link target="{FF1FE7D3-6742-40F6-9AE1-C3987EBF6654}" type="glossary">TDRs</content-link>). </p> <p>TDRs are used to pinpoint the distance to a break in a cable. These devices send signals along the cable and wait for them to be reflected. The time between sending the signal and receiving it back is converted into a distance measurement. The TDR function is normally packaged with data cabling testers. TDRs used to test fiber optic cables are known as optical time-domain reflectometers (OTDRs).</p> <p><b>Cable Analyzers</b></p> <p>Cable analyzers are multifunctional handheld devices that are used to test and certify copper and fiber cables for different services and standards. The more sophisticated tools include advanced troubleshooting diagnostics that measure distance to performance defect (NEXT, RL), identify corrective actions, and graphically display crosstalk and impedance behavior. Cable analyzers also typically include PC-based software. Once field data is collected the handheld device can upload its data and up-to-date and accurate reports can be created.</p> <p><b>Portable <content-link target="{996E08B4-55E9-4D3C-A545-B96EB5505A5B}" type="glossary">Network Analyzers</content-link></b></p> <p>Portable devices that are used for troubleshooting switched networks and VLANs. By plugging the network analyzer in anywhere on the network, a network engineer can see the switch port to which the device is connected and the average and peak utilization. The analyzer can also be used to discover VLAN configuration, identify top network talkers, analyze network traffic, and view interface details. The device can typically output to a PC that has network monitoring software installed for further analysis and troubleshooting.</p> <p> </p></content-text>
</page>
<page type="OneColumn" id="en1408020603">
<content-media type="ActivityCustom" id="cm3438093230">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408020000/en1408020600/en1408020603/cm3438093230.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408020000/en1408020600/en1408020603/cm3438093230text.xml"/></content-media>
<content-text><p><b>Research Activity</b></p> <p>The following are links to various troubleshooting tools.</p> <p><b>Software Tools</b></p> <p>Network Management Systems:</p> <p><content-link target="http://www.ipswitch.com/products/whatsup/index.asp?t=demo" type="external">http://www.ipswitch.com/products/whatsup/index.asp?t=demo</content-link> </p> <p><content-link target="http://www.solarwinds.com/products/network_tools.aspx" type="external">http://www.solarwinds.com/products/network_tools.aspx</content-link></p> <p><content-link target="http://h20229.www2.hp.com/products/cvnnm/ds/cvnnm_ds.pdf" type="external">http://h20229.www2.hp.com/products/cvnnm/ds/cvnnm_ds.pdf</content-link></p> <p>Baselining Tools: </p> <p><content-link target="http://www.networkuptime.com/tools/enterprise/" type="external">http://www.networkuptime.com/tools/enterprise/ </content-link></p> <p><content-link target="http://www.neon.com/Tutorials/index.html?drawyournetworkmap.htm" type="external">http://www.neon.com/Tutorials/index.html?drawyournetworkmap.htm</content-link> </p> <p>Knowledge Bases: </p> <p><content-link target="http://www.cisco.com" type="external">http://www.cisco.com</content-link> </p> <p>Protocol Analyzers: </p> <p><content-link target="http://www.flukenetworks.com/fnet/en-us/products/OptiView+Protocol+Expert/" type="external">http://www.flukenetworks.com/fnet/en-us/products/OptiView+Protocol+Expert/</content-link></p> <p><b>Hardware Tools</b></p> <p>Cisco Network Analyzer Module (NAM):</p> <p><content-link target="http://www.cisco.com/en/US/docs/net_mgmt/network_analysis_module_software/3.5/user/guide/user.html" type="external">http://www.cisco.com/en/US/docs/net_mgmt/network_analysis_module_software/3.5/user/guide/user.html </content-link></p> <p>Cable Testers:</p> <p><content-link target="http://www.flukenetworks.com/fnet/en-us/products/CableIQ+Qualification+Tester/Demo.htm" type="external">http://www.flukenetworks.com/fnet/en-us/products/CableIQ+Qualification+Tester/Demo.htm </content-link></p> <p>Cable Analyzers:</p> <p><content-link target="http://www.flukenetworks.com/fnet/en-us/products/DTX+CableAnalyzer+Series/Demo.htm" type="external">http://www.flukenetworks.com/fnet/en-us/products/DTX+CableAnalyzer+Series/Demo.htm </content-link></p> <p>Network Analyzers:</p> <p><content-link target="http://www.flukenetworks.com/fnet/en-us/products/OptiView+Series+III+Integrated+Network+Analyzer/Demos.htm" type="external">http://www.flukenetworks.com/fnet/en-us/products/OptiView+Series+III+Integrated+Network+Analyzer/Demos.htm</content-link></p></content-text>
</page>
</topic>
</section>
<section type="" id="en1408030000">
<title><content-text>Common WAN Implementation Issues</content-text></title>
<topic type="" id="en1408030100">
<title><content-text>WAN Communications</content-text></title>
<page type="OneColumn" id="en1408030101">
<content-media type="StaticGraphic" id="cm2654957141">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408030000/en1408030100/en1408030101/cm2654957141.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408030000/en1408030100/en1408030101/cm2654957141text.xml"/></content-media>
<content-text><p>A communications provider or a <content-link target="{A9C4ED90-3D05-4E04-9A86-230D039DC5E8}" type="glossary">common carrier</content-link> normally owns the data links that make up a WAN. The links are made available to subscribers for a fee and are used to interconnect LANs or connect to remote networks. WAN data transfer speed (bandwidth) is considerably slower than the common LAN bandwidth. The charges for link provision are the major cost element, therefore the WAN implementation must aim to provide maximum bandwidth at acceptable cost. With user pressure to provide more service access at higher speeds and management pressure to contain cost, determining the optimal WAN configuration is not an easy task.</p> <p>WANs carry a variety of traffic types, such as data, voice, and video. The design selected must provide adequate capacity and transit times to meet the requirements of the enterprise. Among other specifications, the design must consider the topology of the connections between the various sites, the nature of those connections, and bandwidth capacity.</p> <p>Older WANs often consisted of data links directly connecting remote mainframe computers. Today's WANs connect geographically separated LANs. WAN technologies function at the lower three layers of the OSI reference model end-user stations, servers, and routers communicate across LANs, and the WAN data links terminate at local routers. </p> <p>Routers determine the most appropriate path to the destination of the data from the Network layer headers and transfer the packets to the appropriate data link connection for delivery on the physical connection. Routers can also provide quality of service (QoS) management, which allots priorities to the different traffic streams.</p></content-text>
</page>
</topic>
<topic type="" id="en1408030200">
<title><content-text>Steps in WAN Design</content-text></title>
<page type="OneColumn" id="en1408030201">
<content-media type="StaticGraphic" id="cm8253365700">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408030000/en1408030200/en1408030201/cm8253365700.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408030000/en1408030200/en1408030201/cm8253365700text.xml"/></content-media>
<content-text><p>Businesses install WAN connectivity to meet the strategic business requirement of moving data between external branches. Because WAN connectivity is important to the business and expensive, you need to design the WAN in a systematic manner. This figure shows the WAN design steps. </p> <p>Each time a modification to an existing WAN is considered, these steps should be followed. However, because many WANs have evolved over time, some of the guidelines discussed here may not have been considered. WAN modifications may arise from expanding the enterprise WAN servers or accommodating new work practices and business methods.</p> <p>These are the steps for designing or modifying a WAN:</p> <p><b>Step 1.</b> Locate LANs - Establish the source and destination endpoints that will connect through the WAN.</p> <p><b>Step 2.</b> Analyze traffic - Know what data traffic must be carried, its origin, and its destination. WANs carry a variety of traffic types with varying requirements for bandwidth, latency, and jitter. For each pair of endpoints and for each traffic type, information is needed on the various traffic characteristics.</p> <p><b>Step 3.</b> Plan the topology - The topology is influenced by geographic considerations but also by requirements such as availability. A high requirement for availability requires extra links that provide alternative data paths for redundancy and load balancing.</p> <p><b>Step 4.</b> Estimate the required bandwidth - Traffic on the links may have varying requirements for latency and jitter.</p> <p><b>Step 5.</b> Choose the WAN technology - Suitable link technologies must be selected.</p> <p><b>Step 6.</b> Evaluate costs - When all the requirements are established, installation and operational costs for the WAN can be determined and compared with the business need driving the WAN implementation.</p> <p>As shown in the figure, the design steps describe here are not a linear process. Several iterations of these steps may be necessary before a design is finalized. To maintain optimal performance of the WAN, continued monitoring and re-evaluation is required.</p></content-text>
</page>
</topic>
<topic type="" id="en1408030300">
<title><content-text>WAN Traffic Considerations</content-text></title>
<page type="OneColumn" id="en1408030301">
<content-media type="StaticGraphic" id="cm4842974813">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408030000/en1408030300/en1408030301/cm4842974813.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408030000/en1408030300/en1408030301/cm4842974813text.xml"/></content-media>
<content-text><p>The table in the figure shows the wide variety of traffic types and their varying requirements of bandwidth, latency, and jitter that WAN links are required to carry.</p> <p>To determine traffic flow conditions and timing of a WAN link, you need to analyze the traffic characteristics specific to each LAN that is connected to the WAN. Determining traffic characteristics may involve consulting the network users and evaluating their needs. </p></content-text>
</page>
</topic>
<topic type="" id="en1408030400">
<title><content-text>WAN Topology Considerations</content-text></title>
<page type="OneColumn" id="en1408030401">
<content-media type="InteractiveGraphicHotspots" id="cm3607711740">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408030000/en1408030400/en1408030401/cm3607711740.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408030000/en1408030400/en1408030401/cm3607711740text.xml"/></content-media>
<content-text><p>After establishing LAN endpoints and traffic characteristics, the next step in implementing a WAN is to design a suitable topology. Designing a WAN topology essentially consists of the following: </p> <p>Selecting an interconnection pattern or layout for the links between the various locations</p> <p>Selecting the technologies for those links to meet the enterprise requirements at an acceptable cost</p> <p><b>Click the buttons in the figure</b> to view an example of each type of WAN topology.</p> <p>Many WANs use a star topology. As the enterprise grows and new branches are added, the branches are connected back to the head office, producing a traditional star topology. Star endpoints are sometimes cross-connected, creating a mesh or partial mesh topology. This provides for many possible combinations for interconnections. When designing, re-evaluating, or modifying a WAN, a topology that meets the design requirements must be selected.</p> <p>In selecting a layout, there are several factors to consider. More links increase the cost of the network services, but having multiple paths between destinations increases reliability. Adding more network devices to the data path increase latency and decreases reliability. Generally, each packet must be completely received at one node before it can be passed to the next.</p> <p><b>Click the Hierarchical button in the figure.</b></p> <p>When many locations must be joined, a hierarchical solution is recommended. For example, imagine an enterprise that is operational in every country of the European Union and has a branch in every town with a population over 10,000. Each branch has a LAN, and it has been decided to interconnect the branches. A mesh network is clearly not feasible because there would be hundreds of thousands of links.</p> <p>The answer is to implement a hierarchical topology. Group the LANs in each area and interconnected them to form a region, interconnect the regions to form the core of the WAN. The area could be based on the number of locations to be connected with an upper limit of between 30 and 50. The area would have a star topology, with the hubs of the stars linked to form the region. Regions could be geographic, connecting between three and 10 areas, and the hub of each region could be linked point-to-point.</p> <p>A three-layer hierarchy is often useful when the network traffic mirrors the enterprise branch structure and is divided into regions, areas, and branches. It is also useful when there is a central service to which all branches must have access but traffic levels are insufficient to justify direct connection of a branch to the service.</p> <p>The LAN at the center of the area may have servers providing area-based as well as local service. Depending on the traffic volumes and types, the access connections may be dialup, leased, or frame relay. Frame Relay facilitates some meshing for redundancy without requiring additional physical connections. Distribution links could be Frame Relay or ATM, and the network core could be ATM or leased line.</p> <p>When planning simpler networks, a hierarchical topology should still be considered because it may provide for better network scalability. The hub at the center of a two-layer model is also a core, but with no other core routers connected to it. Likewise, in a single-layer solution, the area hub serves as the regional hub and the core hub. This allows easy and rapid future growth because the basic design can be replicated to add new service areas.</p></content-text>
</page>
<page type="OneColumn" id="en1408030402">
<content-media type="StaticGraphic" id="cm6918451018">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408030000/en1408030400/en1408030402/cm6918451018.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408030000/en1408030400/en1408030402/cm6918451018text.xml"/></content-media>
<content-text><p><b>WAN Connection Technologies</b></p> <p>A typical private WAN uses a combination of technologies that are usually chosen based on traffic type and volume. ISDN, DSL, Frame Relay, or leased lines are used to connect individual branches into an area. Frame Relay, ATM, or leased lines are used to connect external areas back to the backbone. ATM or leased lines form the WAN backbone. Technologies that require the establishment of a connection before data can be transmitted, such as basic telephone, ISDN, or X.25, are not suitable for WANs that require rapid response time or low latency. </p> <p>Different parts of an enterprise may be directly connected with leased lines, or they may be connected with an access link to the nearest point-of-presence (POP) of a shared network. Frame Relay and ATM are examples of shared networks. Leased lines are typically more expensive than access links but are available at virtually any bandwidth and provide very low latency and jitter.</p> <p>ATM and Frame Relay networks carry traffic from several customers over the same internal links. The enterprise has no control over the number of links or hops that data must traverse in the shared network. It cannot control the time data must wait at each node before moving to the next link. This uncertainty in latency and jitter makes these technologies unsuitable for some types of network traffic. However, the disadvantages of a shared network may often be outweighed by the reduced cost. Because several customers are sharing the link, the cost to each is generally less than the cost of a direct link of the same capacity.</p> <p>Although ATM is a shared network, it has been designed to produce minimal latency and jitter through high-speed internal links sending easily manageable units of data, called cells. ATM cells have a fixed length of 53 bytes, 48 bytes for data and 5 bytes for the header. ATM is widely used for carrying delay-sensitive traffic. </p> <p>Frame Relay may also be used for delay-sensitive traffic, often using QoS mechanisms to give priority to the more sensitive data.</p></content-text>
</page>
<page type="OneColumn" id="en1408030403">
<content-media type="StaticGraphic" id="cm7036528677">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408030000/en1408030400/en1408030403/cm7036528677.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408030000/en1408030400/en1408030403/cm7036528677text.xml"/></content-media>
<content-text><p>Many enterprise WANs have connections to the Internet. Although the Internet may pose a security problem it does provides an alternative for inter-branch traffic. Part of the traffic that must be considered during design is going to or coming from the Internet. Common implementations are to have each network in the company connect to a different ISP, or to have all company networks connect to a single ISP from a core layer connection. </p></content-text>
</page>
</topic>
<topic type="" id="en1408030500">
<title><content-text>WAN Bandwidth Considerations</content-text></title>
<page type="OneColumn" id="en1408030501">
<content-media type="StaticGraphic" id="cm5052865095">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408030000/en1408030500/en1408030501/cm5052865095.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408030000/en1408030500/en1408030501/cm5052865095text.xml"/></content-media>
<content-text><p>Recall that a network supports the business needs of a company. Many companies rely on the high-speed transfer of data between remote locations. Consequently, higher bandwidth is crucial because it allows more data to be transmitted in a given time. When bandwidth is inadequate, competition between various types of traffic causes response times to increase, which reduces employee productivity and slows down critical web-based business processes.</p> <p>The figure shows how WAN links are typically classified either high or low speed.</p></content-text>
</page>
</topic>
<topic type="" id="en1408030600">
<title><content-text>Common WAN Implementation Issues</content-text></title>
<page type="OneColumn" id="en1408030601">
<content-media type="StaticGraphic" id="cm8857237049">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408030000/en1408030600/en1408030601/cm8857237049.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408030000/en1408030600/en1408030601/cm8857237049text.xml"/></content-media>
<content-text><p>The figure summarizes the common WAN implement issues and the questions you need to answer before you can effectively implement a WAN.</p></content-text>
</page>
</topic>
<topic type="" id="en1408030700">
<title><content-text>Case Study: WAN Troubleshooting from an ISP's Perspective</content-text></title>
<page type="OneColumn" id="en1408030701">
<content-media type="StaticGraphic" id="cm1398813280">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408030000/en1408030700/en1408030701/cm1398813280.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408030000/en1408030700/en1408030701/cm1398813280text.xml"/></content-media>
<content-text><p>The graphic illustrates the typical questions that the technical support desk of an ISP should ask a customer that is calling for support</p> <p>A significant proportion of the support calls received by an ISP refer to slowness of the Network. To troubleshoot this effectively, you have to isolate the individual components and test each one as follows:</p> <p><b>Individual PC host</b> - A large number of user applications open on the PC at the same time may be responsible for the slowness that is being attributed to the Network. Tools like the Task Manager in a Windows PC can help determine CPU utilization </p> <p><b>LAN </b>- If the customer has network monitoring software on their LAN, the network manager should be able to tell them whether the bandwidth on the LAN is frequently reaching 100 percent utilization. This is a problem that the customer company would need to solve internally. This is why a network baseline and an ongoing monitoring is so important.</p> <p><b>Link from the edge of the user network to the edge of the ISP</b> - Test the link from the customer edge router to the edge router of the ISP by asking the customer to log in to their router and send a hundred 1500 byte pings (stress pings) to the IP address of the ISP edge router. This problem is not something the customer can fix it is the ISP's responsibility to engage the link provider to fix this.</p> <p><b>Backbone of the ISP</b> - The ISP customer service representative can run stress pings from the ISP edge router to the edge router of the customer. They can also run stress pings across each link that customer traffic traverses. By isolating and testing each link, the ISP can determine which link is causing the problem.</p> <p><b>Server being accessed</b> - In some cases the slowness, being attributed to the network, may be caused by server congestion. This problem is the hardest to diagnose and it should be the last option pursued after all other options have been eliminated.</p></content-text>
</page>
<page type="OneColumn" id="en1408030702">
<content-media type="ActivityLab" id="cm5557228645">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408030000/en1408030700/en1408030702/cm5557228645/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1408000000/en1408030000/en1408030700/en1408030702/cm5557228645/icontext.xml"/></content-media>
<content-text><p>In this activity, you and another student will build the network displayed in the topology diagram. You will configure NAT, DHCP, and OSPF, and then verify connectivity. When the network is fully operational, one student will introduce several errors. Then the other student will use troubleshooting skills to isolate and solve the problem. Then the students will reverse roles and repeat the process. This activity can be done on real equipment or with Packet Tracer.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en1408040000">
<title><content-text>Network Troubleshooting</content-text></title>
<topic type="" id="en1408040100">
<title><content-text>Interpreting Network Diagrams to Identify Problems</content-text></title>
<page type="OneColumn" id="en1408040101">
<content-media type="InteractiveGraphicHotspots" id="cm2439124646">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040100/en1408040101/cm2439124646.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040100/en1408040101/cm2439124646text.xml"/></content-media>
<content-text><p>It is nearly impossible to troubleshoot any type of network connectivity issue without a network diagram that depicts IP addresses, IP routes, devices such as firewalls and switches, and so on. Generally, both logical and physical topologies aid in troubleshooting. </p> <p><b>Physical Network Diagram</b></p> <p>A physical network diagram shows the physical layout of the devices connected to the network. Knowing how devices are physically connected is necessary for troubleshooting problems at the Physical layer, such as cabling or hardware problems. Information recorded on the diagram typically includes:</p> <p><ul><li>Device type</li><li>Model and manufacturer</li><li>Operating system version</li><li>Cable type and identifier</li><li>Cable specification </li><li>Connector type</li><li>Cabling endpoints </li></ul></p> <p>The figure shows an example of a physical network diagram that provides information about the physical location of the network devices, the types of cabling between them, and the cable identification numbers. This information would be primarily used for troubleshooting physical problems with devices or cabling. In addition to the physical network diagram, some administrators also include actual photographs of their wiring closets as part of their network documentation.</p> <p><b>Logical Network Diagram</b></p> <p>A logical network diagram shows how data is transferred on the network. Symbols are used to represent network elements such as routers, servers, hubs, hosts, VPN concentrators, and security devices. Information recorded on a logical network diagram may include: </p> <p><ul><li>Device identifiers </li><li>IP address and subnet</li><li>Interface identifiers</li><li>Connection type</li><li>DLCI for virtual circuits</li><li>Site-to-site VPNs</li><li>Routing protocols</li><li>Static routes</li><li>Data-link protocols</li><li>WAN technologies used</li></ul></p> <p><b>Click the Logical button in the figure </b>to see an example of a logical network diagram.</p> <p>The figure shows the same network but this time provides logical information such as specific device IP addresses, network numbers, port numbers, signal types, and DCE assignments for serial links. This information could be used for troubleshooting problems at all OSI layers.</p></content-text>
</page>
</topic>
<topic type="" id="en1408040200">
<title><content-text>Physical Layer Troubleshooting</content-text></title>
<page type="OneColumn" id="en1408040201">
<content-media type="StaticGraphic" id="cm7127893217">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040200/en1408040201/cm7127893217.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040200/en1408040201/cm7127893217text.xml"/></content-media>
<content-text><p><b>Symptoms of Physical Layer Problems</b></p> <p>The Physical layer transmits bits from one computer to another and regulates the transmission of a stream of bits over the physical medium. The Physical layer is the only layer with physically tangible properties, such as wires, cards, and antennas.</p> <p>Failures and suboptimal conditions at the Physical layer not only inconvenience users but could impact the productivity of the entire company. Networks that experience these kinds of conditions usually come to a grinding halt. Because the upper layers of the OSI model depend on the Physical layer to function, a network technician must have the ability to effectively isolate and correct problems at this layer. </p> <p>A Physical layer problem occurs when the physical properties of the connection are substandard, causing data to be transferred at a rate that is consistently less than the rate of data flow established in the baseline. If there is a problem with suboptimal operation at the Physical layer, the network may be operational, but performance is consistently or intermittently lower than the level specified in the baseline. </p> <p>Common symptoms of network problems at the Physical layer include:</p> <p><ul><li><b>Performance lower than baseline</b> - If performance is unsatisfactory all the time, the problem is probably related to a poor configuration, inadequate capacity somewhere, or some other systemic problem. If performance varies and is not always unsatisfactory, the problem is probably related to an error condition or is being affected by traffic from other sources. The most common reasons for slow or poor performance include overloaded or underpowered servers, unsuitable switch or router configurations, traffic congestion on a low-capacity link, and chronic frame loss.</li><li><b>Loss of connectivity</b> - If a cable or device fails, the most obvious symptom is a loss of connectivity between the devices that communicate over that link or with the failed device or interface, as indicated by a simple ping test. Intermittent loss of connectivity could indicate a loose or oxidized connection.</li><li><b>High <content-link target="{F5466B4B-AE68-4A1C-A958-20226B006365}" type="glossary">collision</content-link> counts </b>- <content-link target="{ECA59FA7-8A15-452C-94AA-61143905D420}" type="glossary">Collision domain</content-link> problems affect the local medium and disrupt communications to Layer 2 or Layer 3 infrastructure devices, local servers, or services. Collisions are normally a more significant problem on shared media than on switch ports. Average collision counts on shared media should generally be below 5 percent, although that number is conservative. Be sure that judgments are based on the average and not a peak or spike in collisions. Collision-based problems may often be traced back to a single source. It may be a bad cable to a single station, a bad uplink cable on a hub or port on a hub, or a link that is exposed to external electrical noise. A noise source near a cable or hub can cause collisions even when there is no apparent traffic to cause them. If collisions get worse in direct proportion to the level of traffic, if the amount of collisions approaches 100 percent, or if there is no good traffic at all, the cable system may have failed.</li><li><b>Network bottlenecks or congestion</b> - If a router, interface, or cable fails, routing protocols may redirect traffic to other routes that are not designed to carry the extra capacity. This can result in congestion or bottlenecks in those parts of the network. </li><li><b>High CPU utilization rates</b> - High CPU utilization rates are a symptom that a device, such as a router, switch, or server, is operating at or exceeding its design limits. If not addressed quickly, CPU overloading can cause a device to shut down or fail. </li><li><b>Console error messages</b> - Error messages reported on the device console indicate a Physical layer problem.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en1408040202">
<content-media type="StaticGraphic" id="cm6862732890">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040200/en1408040202/cm6862732890.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040200/en1408040202/cm6862732890text.xml"/></content-media>
<content-text><p><b>Causes of Physical Layer Problems</b></p> <p>Issues that commonly cause network problems at the Physical layer include:</p> <p><b>Power-related</b></p> <p>Power-related issues are the most fundamental reason for network failure. The main AC power flows into either an external or internal AC to DC transformer module within a device. The transformer provides correctly modulated DC current, which acts to power device circuits, connectors, ports, and the fans used for device cooling. If a power-related issue is suspected, a physical inspection of the power module is often carried out. Check the operation of the fans, and ensure that the chassis intake and exhaust vents are clear. If other nearby units have also powered down, suspect a power failure at the main power supply.</p> <p><b>Hardware faults</b></p> <p>Faulty <content-link target="{9AB79491-096F-4FF5-9B18-3535B2A31227}" type="glossary">network interface card</content-link>s (NICs) can be the cause of network transmission errors due to late collisions, short frames, and <content-link target="{8FEA92F4-081A-4CD6-9737-54262B8A559F}" type="glossary">jabber</content-link>. Jabber is often defined as the condition in which a network device continually transmits random, meaningless data onto the network. Other likely causes of jabber are faulty or corrupt NIC driver files, bad cabling, or grounding problems.</p> <p><b>Cabling faults</b></p> <p>Many problems can be corrected by simply reseating cables that have become partially disconnected. When performing a physical inspection, look for damaged cables, improper cable types, and poorly crimped RJ-45s. Suspect cables should be tested or exchanged with a known functioning cable. </p> <p>Check for incorrectly used crossover cables or hub and switch ports that are incorrectly configured as a crossover. Split-pair cables either operate poorly or not at all, depending on the Ethernet speed used, the length of the split segment, and how far it is located from either end. </p> <p>Problems with fiber-optic cables may be caused by dirty connectors, excessively tight bends, and swapped RX/TX connections when polarized. </p> <p>Problems with coaxial cable often occur at the connectors. When the center conductor on the coaxial cable end is not straight and of the correct length, a good connection is not achieved.</p> <p><b><content-link target="{EFE33324-FA04-445C-BD90-2E872E7BD7AA}" type="glossary">Attenuation</content-link></b></p> <p>An attenuated data bitstream is when the <content-link target="{FEC68528-1A02-4F3F-8B23-DA717000C367}" type="glossary">amplitude</content-link> of the bits is reduced while traveling across a cable. If attenuation is severe, the receiving device cannot always successfully distinguish the component bits of the stream from each other. This ends in a garbled transmission and results in a request from the receiving device for retransmission of the missed traffic by the sender. Attenuation can be caused if a cable length exceeds the design limit for the media (for example, an Ethernet cable is limited to 100 meters (328 feet) for good performance), or when there is a poor connection resulting from a loose cable or dirty or oxidized contacts.</p> <p><b>Noise</b></p> <p>Local <content-link target="{8330281D-5752-4539-B2E6-582E9C4E33AD}" type="glossary">electromagnetic interference</content-link> (<content-link target="{62ED983F-0F11-45E8-8A3D-569B4741918C}" type="glossary">EMI</content-link>) is commonly known as noise. There are four types of noise that are most significant to data networks: </p> <p><ul><li>Impulse noise that is caused by voltage fluctuations or current spikes induced on the cabling.</li><li>Random (white) noise that is generated by many sources, such as <content-link target="{01C5D77C-0EC5-40C2-9049-31EDEDCC0AF4}" type="glossary">FM</content-link> radio stations, police radio, building security, and avionics for automated landing.</li><li>Alien crosstalk, which is noise induced by other cables in the same pathway.</li><li>Near end crosstalk (NEXT), which is noise originating from crosstalk from other adjacent cables or noise from nearby electric cables, devices with large electric motors, or anything that includes a transmitter more powerful than a cell phone.</li></ul></p> <p><b>Interface configuration errors</b></p> <p>Many things can be misconfigured on an interface to cause it to go down, causing a loss of connectivity with attached network segments. Examples of configuration errors that affect the Physical layer include: </p> <p><ul><li>Serial links reconfigured as asynchronous instead of synchronous</li><li>Incorrect clock rate</li><li>Incorrect clock source</li><li>Interface not turned on</li></ul></p> <p><b>Exceeding design limits</b></p> <p>A component may be operating suboptimally at the Physical layer because it is being utilized at a higher <content-link target="{ED7581CE-3916-4F07-BC90-3210806C4587}" type="glossary">average rate</content-link> than it is configured to operate. When troubleshooting this type of problem, it becomes evident that resources for the device are operating at or near the maximum capacity and there is an increase in the number of interface errors. </p> <p><b>CPU overload</b></p> <p>Symptoms include processes with high CPU utilization percentages, input queue drops, slow performance, router services such as Telnet and ping are slow or fail to respond, or there are no routing updates. One of the causes of CPU overload in a router is high traffic. If some interfaces are regularly overloaded with traffic, consider redesigning the traffic flow in the network or upgrading the hardware.</p></content-text>
</page>
<page type="OneColumn" id="en1408040203">
<content-media type="StaticGraphic" id="cm9986686686">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040200/en1408040203/cm9986686686.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040200/en1408040203/cm9986686686text.xml"/></content-media>
<content-text><p>To isolate problems at the Physical layers do the following: </p> <p><b>Check for bad cables or connections</b></p> <p>Verify that the cable from the source interface is properly connected and is in good condition. Your cable tester might reveal an open wire. For example, in the figure, the Fluke CableIQ tester has revealed that wires 7 and 8 are displaying a fault. When doubting the integrity of a cable, swap suspect cables with a known working cable. If in doubt that the connection is good, remove the cable, do a physical inspection of both the cable and the interface, and then reseat the cable. Use a cable tester with suspect wall jacks to ensure that the jack is properly wired. </p> <p><b>Check that the correct cabling standard is adhered to throughout the network</b></p> <p>Verify that the proper cable is being used. A crossover cable may be required for direct connections between some devices. Ensure that the cable is correctly wired. For example, in the figure, the Fluke CableIQ meter has detected that although a cable was good for Fast Ethernet, it is not qualified to support 1000BASE-T because wires 7 and 8 were not correctly connected. These wires are not required for Fast Ethernet, but are required in <content-link target="{CB087702-1704-46A7-BD9C-2E35A5AC88DE}" type="glossary">Gigabit</content-link> Ethernet. </p> <p><b>Check that devices are cabled correctly</b></p> <p>Check to make sure that all cables are connected to their correct ports or interfaces. Make sure that any cross-connects are properly patched to the correct location. This is where having a neat and organized wiring closet saves you a great deal of time.</p> <p><b>Verify proper interface configurations</b></p> <p>Check that all switch ports are set in the correct VLAN and that spanning-tree, speed, and duplex settings are correctly configured. Confirm that any active ports or interfaces are not shut down. </p> <p><b>Check operational statistics and data error rates</b></p> <p>Use Cisco <span class="cmd"><b>show</b></span> commands to check for statistics such as collisions and input and output errors. The characteristics of these statistics vary depending on the protocols used on the network. </p></content-text>
</page>
</topic>
<topic type="" id="en1408040300">
<title><content-text>Data Link Layer Troubleshooting</content-text></title>
<page type="OneColumn" id="en1408040301">
<content-media type="StaticGraphic" id="cm5953332497">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040300/en1408040301/cm5953332497.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040300/en1408040301/cm5953332497text.xml"/></content-media>
<content-text><p><b>Symptoms of Data Link Layer Problems</b></p> <p>Troubleshooting Layer 2 problems can be a challenging process. The configuration and operation of these protocols are critical to creating a functional, well-tuned network.</p> <p>Data link layer problems cause common symptoms that assist in identifying Layer 2 issues. Recognizing these symptoms helps narrow down the number of possible causes. Common symptoms of network problems at the Data Link layer include:</p> <p><b>No functionality or connectivity at the Network layer or above </b></p> <p>Some Layer 2 problems can stop the exchange of frames across a link, while others only cause network performance to degrade.</p> <p><b>Network is operating below baseline performance levels</b></p> <p>There are two distinct types of suboptimal Layer 2 operation that can occur in a network: </p> <p><ul><li>Frames take an illogical path to their destination but do arrive. An example of a problem which could cause frames to take a suboptimal path is a poorly designed Layer 2 spanning-tree topology. In this case, the network might experience high-bandwidth usage on links that should not have that level of traffic. </li><li>Some frames are dropped. These problems can be identified through error counter statistics and console error messages that appear on the switch or router. In an Ethernet environment, an extended or continuous ping also reveals if frames are being dropped.</li></ul></p> <p><b>Excessive broadcasts</b></p> <p>Modern operating systems use broadcasts extensively to discover network services and other hosts. Where excessive broadcasts are observed, it is important to identify the source of the broadcasts. Generally, excessive broadcasts result from one of the following situations: </p> <p><ul><li>Poorly programmed or configured applications</li><li>Large Layer 2 <content-link target="{CE74FA14-2E84-4916-8DAE-71C155AA8D29}" type="glossary">broadcast domains</content-link> </li><li>Underlying network problems, such as STP loops or route <content-link target="{C341D31C-C82A-4B89-9095-67E4CA85366B}" type="glossary">flapping</content-link>.</li></ul></p> <p><b>Console messages</b></p> <p>In some instances, a router recognizes that a Layer 2 problem has occurred and sends alert messages to the console. Typically, a router does this when it detects a problem with interpreting incoming frames (encapsulation or framing problems) or when keepalives are expected but do not arrive. The most common console message that indicates a Layer 2 problem is a line protocol down message.</p></content-text>
</page>
<page type="OneColumn" id="en1408040302">
<content-media type="StaticGraphic" id="cm3933104149">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040300/en1408040302/cm3933104149.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040300/en1408040302/cm3933104149text.xml"/></content-media>
<content-text><p><b>Causes of Data Link Layer Problems</b></p> <p>Issues at the Data Link layer that commonly result in network connectivity or performance problems include:</p> <p><b>Encapsulation errors</b></p> <p>An encapsulation error occurs because the bits placed in a particular field by the sender are not what the receiver expects to see. This condition occurs when the encapsulation at one end of a WAN link is configured differently from the encapsulation used at the other end.</p> <p><b>Address mapping errors</b></p> <p>In topologies such as point-to-multipoint, Frame Relay, or broadcast Ethernet, it is essential that an appropriate Layer 2 destination address be given to the frame. This ensures its arrival at the correct destination. To achieve this, the network device must match a destination Layer 3 address with the correct Layer 2 address using either static or dynamic maps. </p> <p>When using static maps in Frame Relay, an incorrect map is a common mistake. Simple configuration errors can result in a mismatch of Layer 2 and Layer 3 addressing information. </p> <p>In a dynamic environment, the mapping of Layer 2 and Layer 3 information can fail for the following reasons:</p> <p><ul><li>Devices may have been specifically configured not to respond to ARP or Inverse-ARP requests.</li><li>The Layer 2 or Layer 3 information that is cached may have physically changed.</li><li>Invalid ARP replies are received because of a misconfiguration or a security attack.</li></ul></p> <p><b>Framing errors</b></p> <p>Frames usually work in groups of 8 bit bytes. A framing error occurs when a frame does not end on an 8-bit byte boundary. When this happens, the receiver may have problems determining where one frame ends and another frame starts. Depending on the severity of the framing problem, the interface may be able to interpret some of the frames. Too many invalid frames may prevent valid keepalives from being exchanged. </p> <p>Framing errors can be caused by a noisy serial line, an improperly designed cable (too long or not properly shielded), or an incorrectly configured channel service unit (CSU) line clock.</p> <p><b>STP failures or loops</b></p> <p>The purpose of Spanning Tree Protocol (STP) is to resolve a redundant physical topology into a tree-like topology by blocking redundant ports. Most STP problems revolve around these issues: </p> <p><ul><li>Forwarding loops that occur when no port in a redundant topology is blocked and traffic is forwarded in circles indefinitely. When the forwarding loop starts, it usually congests the lowest bandwidth links along its path. If all the links are of the same bandwidth, all links are congested. This congestion causes packet loss and leads to a downed network in the affected L2 domain.</li><li>Excessive flooding because of a high rate of STP topology changes. The role of the topology change mechanism is to correct Layer 2 forwarding tables after the forwarding topology has changed. This is necessary to avoid a connectivity outage because, after a topology change, some MAC addresses previously accessible through particular ports might become accessible through different ports. A topology change should be a rare event in a well-configured network. When a link on a switch port goes up or down, there is eventually a topology change when the STP state of the port is changing to or from forwarding. However, when a port is flapping (oscillating between up and down states), this causes repetitive topology changes and flooding.</li><li>Slow STP convergence or reconvergence, which can be caused by a mismatch between the real and documented topology, a configuration error, such as an inconsistent configuration of STP timers, an overloaded switch CPU during convergence, or a software defect.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en1408040303">
<content-media type="InteractiveGraphicHotspots" id="cm6690529095">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040300/en1408040303/cm6690529095.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040300/en1408040303/cm6690529095text.xml"/></content-media>
<content-text><p><b>Troubleshooting Layer 2 - PPP</b></p> <p>The difficulty in troubleshooting Layer 2 technologies, such as PPP and Frame Relay, is the unavailability of common Layer 3 troubleshooting tools, such as ping, to assist with anything but the identification that the network is down. It is only through a thorough understanding of the protocols and their operation that a network technician is able to choose the appropriate troubleshooting methodology and Cisco IOS commands to solve the problem in an efficient manner. </p> <p>Most of the problems that occur with PPP involve link negotiation. The steps for troubleshooting PPP are as follows: </p> <p><b>Step 1.</b> Check that the appropriate encapsulation is in use at both ends, using the <span class="cmd"><b>show interfaces serial</b></span> command. In the figure for Step 1, the command output reveals that R2 has been incorrectly configured to use HDLC encapsulation.</p> <p><b>Step 2.</b> Confirm that the Link Control Protocol (LCP) negotiations have succeeded by checking the output for the LCP Open message. </p> <p><b>Click the Step 2 button in the figure.</b></p> <p>In the figure, the encapsulation on R2 has been changed to PPP. The output of the <span class="cmd"><b>show interfaces serial</b></span> command shows the LCP Open message, which indicates that the LCP negotiations have succeeded.</p> <p><b>Step 3.</b> Verify authentication on both sides of the link using the <span class="cmd"><b>debug ppp authentication</b></span> command.</p> <p><b>Click the Step 3 button in the figure.</b></p> <p>In the figure, the output of the <span class="cmd"><b>debug ppp authentication</b></span> command shows that R1 is unable to authenticate R2 using CHAP, because the username and password for R2 have not been configured on R1.</p> <p>Refer to Chapter 2, "PPP" for further details on troubleshooting PPP implementations.</p></content-text>
</page>
<page type="OneColumn" id="en1408040304">
<content-media type="InteractiveGraphicHotspots" id="cm6668787247">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040300/en1408040304/cm6668787247.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040300/en1408040304/cm6668787247text.xml"/></content-media>
<content-text><p><b>Troubleshooting Layer 2 - Frame Relay</b></p> <p>Troubleshooting Frame Relay network issues can be broken down into four steps: </p> <p><b>Step 1.</b> Verify the physical connection between the CSU/data service unit (DSU) and the router. In the figure, the physical connections between the routers R1 and R2 and their corresponding CSU/DSU can be verified using a cable tester and by verifying that all status LEDs on the CSU/DSU unit are green. In the figure, some of the status lights for the CSU/DSU at R3 are red, indicating a potential connectivity problem between the CSU/DSU and router R3.</p> <p><b>Step 2.</b> Verify that the router and Frame Relay provider are properly exchanging LMI information by using the <span class="cmd"><b>show frame-relay lmi</b></span> command.</p> <p><b>Click the Step 2 button in the figure.</b></p> <p>In the figure, the output of the <span class="cmd"><b>show frame-relay lmi</b></span> command at R2 shows no errors or lost messages. This indicates that R2 and the Frame Relay provider switch are properly exchanging LMI information. </p> <p><b>Step 3.</b> Verify that the PVC status is active by using the <span class="cmd"><b>show frame-relay pvc</b></span> command.</p> <p><b>Click the Step 3 button in the figure.</b></p> <p>In the figure, the output of the <span class="cmd"><b>show frame-relay pvc</b></span> command at R2 verifies that the PVC status is active. </p> <p><b>Step 4.</b> Verify that the Frame Relay encapsulation matches on both routers with the <span class="cmd"><b>show interfaces serial</b></span> command.</p> <p><b>Click the Step 4 button in the figure.</b></p> <p>In the figure, the output of the <span class="cmd"><b>show interfaces serial</b></span> command at routers R2 and R3 shows that there is an encapsulation mismatch between them. R3 has been incorrectly configured to use HDLC encapsulation instead of Frame Relay.</p> <p>For further details on troubleshooting Frame Relay implementations, see Chapter 3, "Frame Relay".</p></content-text>
</page>
<page type="OneColumn" id="en1408040305">
<content-media type="StaticGraphic" id="cm8317437509">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040300/en1408040305/cm8317437509.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040300/en1408040305/cm8317437509text.xml"/></content-media>
<content-text><p><b>Troubleshooting Layer 2 - STP Loops</b></p> <p>If you suspect that an STP loop is causing a Layer 2 problem, verify if the Spanning Tree Protocol is running on each of the switches. A switch should only have STP disabled if it is not part of a physically looped topology. To verify STP operation, use the <span class="cmd"><b>show spanning-tree</b></span> command on each switch. If you discover that STP is not operating, you can enable it using the <span class="cmd"><b>spanning-tree</b> <i>vlan ID</i></span> command. </p>  <p>Use these steps to troubleshoot forwarding loops:</p> <p><b>Step 1.</b> Identify that an STP loop is occurring. </p> <p>When a forwarding loop has developed in the network, these are the usual symptoms:</p> <p><ul><li>Loss of connectivity to, from, and through the affected network regions</li><li>High CPU utilization on routers connected to affected segments or VLANs </li><li>High link utilization (often 100 percent)</li><li>High switch <content-link target="{4D3AD169-FECA-4D25-8ACC-E5E6D4A06000}" type="glossary">backplane</content-link> utilization (compared to the baseline utilization)</li><li>Syslog messages that indicate packet looping in the network (for example, <content-link target="{5528EDBD-D18C-4B1A-9BD8-39E070641395}" type="glossary">Hot Standby Router Protocol</content-link> duplicate IP address messages)</li><li>Syslog messages that indicate constant address relearning or MAC address flapping messages</li><li>Increasing number of output drops on many interfaces</li></ul></p> <p><b>Step 2.</b> Discover the topology (scope) of the loop. </p> <p>The highest priority is to stop the loop and restore network operation. To stop the loop, you must know which ports are involved. Look at the ports with the highest link utilization (packets per second). The <span class="cmd"><b>show interface</b></span> command displays the utilization for each interface. Make sure that you record this information before proceeding to the next step. Otherwise, it could be difficult later on to determine the cause of the loop.</p> <p><b>Step 3.</b> Break the loop. </p> <p>Shut down or disconnect the involved ports one at a time. After you disable or disconnect each port, check whether the switch backplane utilization is back to a normal level. Document your findings. Keep in mind that some ports may not be sustaining the loop but rather are flooding the traffic arriving with the loop. When you shut down such flooding ports, you only reduce backplane utilization a small amount, but you do not stop the loop.</p> <p><b>Step 4.</b> Find and fix the cause of the loop. </p> <p>Determining why the loop began is often the most difficult part of the process, because the reasons can vary. It is also difficult to formalize an exact procedure that works in every case. First, investigate the topology diagram to find a redundant path.</p> <p>For every switch on the redundant path, check for these issues:</p> <p><ul><li>Does the switch know the correct STP root?</li><li>Is the root port identified correctly?</li><li>Are <content-link target="{662D1E12-2122-4085-A83A-5939B670BBD0}" type="glossary">Bridge Protocol Data Units</content-link> (<content-link target="{7325E922-35C1-4E53-BD8F-EE5B1AD2B92B}" type="glossary">BPDUs</content-link>) received regularly on the root port and on ports that are supposed to be blocking?</li><li>Are BPDUs sent regularly on non-root, designated ports?</li></ul></p> <p><b>Step 5.</b> Restore the redundancy. </p> <p>After the device or link that is causing the loop has been found and the problem has been resolved, restore the redundant links that were disconnected.</p> <p>We have only touched lightly on the subject of troubleshooting STP loops. Troubleshooting loops and other STP problems is complex, and a detailed discussion is beyond the scope of this course. However, if you want to learn more about troubleshooting STP problems, an excellent techinical note is available at: <content-link target="http://cisco.com/en/US/tech/tk389/tk621/technologies_tech_note09186a0080136673.shtml#troubleshoot" type="external">http://cisco.com/en/US/tech/tk389/tk621/technologies_tech_note09186a0080136673.shtml#troubleshoot</content-link>.</p></content-text>
</page>
</topic>
<topic type="" id="en1408040400">
<title><content-text>Network Layer Troubleshooting</content-text></title>
<page type="OneColumn" id="en1408040401">
<content-media type="StaticGraphic" id="cm2133579872">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040400/en1408040401/cm2133579872.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040400/en1408040401/cm2133579872text.xml"/></content-media>
<content-text><p><b>Symptoms of Network Layer Problems</b></p> <p>Network layer problems include any problem that involves a Layer 3 protocol, both routed protocols and routing protocols. This topic focuses primarily on IP routing protocols. </p> <p>Problems at the Network layer can cause network failure or suboptimal performance. Network failure is when the network is nearly or completely nonfunctional, affecting all users and applications using the network. These failures are usually noticed quickly by users and network administrators, and are obviously critical to the productivity of a company. Network optimization problems usually involve a subset of users, applications, destinations, or a particular type of traffic. Optimization issues in general can be more difficult to detect and even harder to isolate and diagnose because they usually involve multiple layers or even the host computer itself. Determining that the problem is a Network layer problem can take time.</p></content-text>
</page>
<page type="OneColumn" id="en1408040402">
<content-media type="StaticGraphic" id="cm1031888057">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040400/en1408040402/cm1031888057.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040400/en1408040402/cm1031888057text.xml"/></content-media>
<content-text><p><b>Troubleshooting Layer 3 Problems</b></p> <p>In most networks, static routes are used in combination with dynamic routing protocols. Improper configuration of static routes can lead to less than optimal routing and, in some cases, create routing loops or parts of the network to become unreachable.</p> <p>Troubleshooting dynamic routing protocols requires a thorough understanding of how the specific routing protocol functions. Some problems are common to all routing protocols, while other problems are particular to the individual routing protocol.</p> <p>There is no single template for solving Layer 3 problems. Routing problems are solved with a methodical process, using a series of commands to isolate and diagnose the problem. </p> <p>Here are some areas to explore when diagnosing a possible problem involving routing protocols:</p> <p><b>General network issues</b></p> <p>Often a change in the topology, such as a down link, may have other affects on other areas of the network that might not be obvious at the time. This may include the installation of new routes, static or dynamic, removal of other routes, and so on.</p> <p>Some of the things to consider include: </p> <p><ul><li>Has anything in the network changed recently? </li><li>Is there anyone currently working on the network infrastructure? </li></ul></p> <p><b>Connectivity issues</b></p> <p>Check for any equipment and connectivity problems, including power problems such as outages and environmental problems such as overheating. Also check for Layer 1 problems, such as cabling problems, bad ports, and ISP problems. </p> <p><b>Neighbor issues</b></p> <p>If the routing protocol establishes an adjacency with a neighbor, check to see if there are any problems with the routers forming neighbor relationships.</p> <p><b>Topology database</b></p> <p>If the routing protocol uses a topology table or database, check the table for anything unexpected, such as missing entries or unexpected entries.</p> <p><b>Routing table</b></p> <p>Check the routing table for anything unexpected, such as missing routes or unexpected routes. Use <span class="cmd"><b>debug</b></span> commands to view routing updates and routing table maintenance.</p></content-text>
</page>
</topic>
<topic type="" id="en1408040500">
<title><content-text>Transport Layer Troubleshooting</content-text></title>
<page type="OneColumn" id="en1408040501">
<content-media type="StaticGraphic" id="cm9864261951">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040500/en1408040501/cm9864261951.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040500/en1408040501/cm9864261951text.xml"/></content-media>
<content-text><p><b>Common Access List Issues</b></p> <p>Network problems can arise from Transport layer problems on the router, particularly at the edge of the network where security technologies are examining and modifying the traffic. This topic discusses two of the most commonly implemented Transport layer security technologies. They are access control lists (ACLs) and Network Address Translation (NAT). </p> <p><b>Click the Access List Issues button in the figure.</b></p> <p>The most common issues with ACLs are caused by improper configuration. There are eight areas where misconfigurations commonly occur: </p> <p><b>Selection of traffic flow</b></p> <p>The most common router misconfiguration is applying the ACL to incorrect traffic. Traffic is defined by both the router interface through which the traffic is traveling and the direction in which this traffic is traveling. An ACL must be applied to the correct interface, and the correct traffic direction must be selected to function properly.</p> <p><b>Order of access control elements</b></p> <p>The elements in an ACL should be from specific to general. Although, an ACL may have an element to specifically permit a particular traffic flow, packets will never match that element if they are being denied by another element earlier in the list. </p> <p><b>Implicit deny all</b></p> <p>In a situation where high security is not required on the ACL, forgetting about this implicit access control element may be the cause of an ACL misconfiguration.</p> <p><b>Addresses and wildcard masks</b></p> <p>If the router is running both ACLs and NAT, the order in which each of these technologies is applied to a traffic flow is important:</p> <p><ul><li>Inbound traffic is processed by the inbound ACL before being processed by outside-to-inside NAT. </li><li>Outbound traffic is processed by the outbound ACL after being processed by inside-to-outside NAT.</li></ul></p> <p>Complex wildcard masks provide significant improvements in efficiency, but are more subject to configuration errors. An example of a complex wildcard mask is using the address 10.0.32.0 and wildcard mask 0.0.32.15 to select the first 15 <content-link target="{238B421E-01B9-4EF5-990A-E0F3D37FA7D6}" type="glossary">host addresses</content-link> in either the 10.0.0.0 network or the 10.0.32.0 network.</p> <p><b>Selection of Transport layer protocol</b></p> <p>When configuring ACLs, it is important that only the correct Transport layer protocols be specified. Many network engineers, when unsure if a particular traffic flow uses a TCP port or a UDP port, configure both. Specifying both opens a hole through the firewall, possibly giving intruders an avenue into the network. It also introduces an extra element into the ACL, so the ACL takes longer to process, introducing more latency into network communications.</p> <p><b>Source and destination ports</b></p> <p>Properly controlling the traffic between two hosts requires symmetric access control elements for inbound and outbound ACLs. Address and port information for traffic generated by a replying host is the mirror image of address and port information for traffic generated by the initiating host.</p> <p><b>Use of the </b><span class="cmd"><b>established</b></span><b> keyword</b></p> <p>The <span class="cmd"><b>established</b></span> keyword increases the security provided by an ACL. However, if the keyword is applied to an outbound ACL, unexpected results may occur.</p> <p><b>Uncommon protocols</b></p> <p>Misconfigured ACLs often cause problems for less common protocols than TCP and UDP. Uncommon protocols that are gaining popularity are VPN and encryption protocols.</p> <p><b>Troubleshooting Access Control Lists</b></p> <p>A useful command for viewing ACL operation is the <span class="cmd"><b>log</b></span> keyword on ACL entries. This keyword instructs the router to place an entry in the system log whenever that entry condition is matched. The logged event includes details of the packet that matched the ACL element.</p> <p>The <span class="cmd"><b>log</b></span> keyword is especially useful for troubleshooting and also provides information on intrusion attempts being blocked by the ACL.</p></content-text>
</page>
<page type="OneColumn" id="en1408040502">
<content-media type="StaticGraphic" id="cm6099016091">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040500/en1408040502/cm6099016091.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040500/en1408040502/cm6099016091text.xml"/></content-media>
<content-text><p><b>Common NAT Issues</b></p> <p>The biggest problem with all NAT technologies is interoperability with other network technologies, especially those that contain or derive information from host network addressing in the packet. Some of these technologies include: </p> <p><ul><li><b>BOOTP and DHCP</b> - Both protocols manage the automatic assignment of IP addresses to clients. Recall that the first packet that a new client sends is a DHCP-Request broadcast IP packet. The DHCP-Request packet has a source IP address of 0.0.0.0. Because NAT requires both a valid destination and source IP address, BOOTP and DHCP can have difficulty operating over a router running either static or dynamic NAT. Configuring the IP helper feature can help solve this problem.</li><li><b>DNS and WINS</b> - Because a router running dynamic NAT is changing the relationship between inside and outside addresses regularly as table entries expire and are recreated, a DNS or WINS server outside the NAT router does not have an accurate representation of the network inside the router. Configuring the IP helper feature can help solve this problem.</li><li><b>SNMP</b> - Similar to DNS packets, NAT is not able to alter the addressing information stored in the data payload of the packet. Because of this, an SNMP management station on one side of a NAT router may not be able to contact SNMP agents on the other side of the NAT router. Configuring the IP helper feature can help solve this problem.</li><li><b>Tunneling and encryption protocols</b> - Encryption and tunneling protocols often require that traffic be sourced from a specific UDP or TCP port, or use a protocol at the Transport layer that cannot be processed by NAT. For example, IPsec tunneling protocols and generic routing encapsulation protocols used by VPN implementations cannot be processed by NAT.</li></ul></p> <p>If encryption or tunneling protocols must be run through a NAT router, the network administrator can create a static NAT entry for the required port for a single IP address on the inside of the NAT router.</p> <p>One of the more common NAT configuration errors is forgetting that NAT affects both inbound and outbound traffic. An inexperienced network administrator might configure a static NAT entry to redirect inbound traffic to a specific inside backup host. This static NAT statement also changes the source address of traffic from that host, possibly resulting in undesirable and unexpected behaviors or in suboptimal operation.</p> <p>Improperly configured timers can also result in unexpected network behavior and suboptimal operation of dynamic NAT. If NAT timers are too short, entries in the NAT table may expire before replies are received, so packets are discarded. The loss of packets generates retransmissions, consuming more bandwidth. If timers are too long, entries may stay in the NAT table longer than necessary, consuming the available connection pool. In busy networks, this may lead to memory problems on the router, and hosts may be unable to establish connections if the dynamic NAT table is full.</p> <p>Refer to Chapter 7, "IP Addressing Services" for further details on troubleshooting NAT configuration.</p></content-text>
</page>
</topic>
<topic type="" id="en1408040600">
<title><content-text>Application Layer Troubleshooting</content-text></title>
<page type="OneColumn" id="en1408040601">
<content-media type="InteractiveGraphicHotspots" id="cm5135537209">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040600/en1408040601/cm5135537209.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040600/en1408040601/cm5135537209text.xml"/></content-media>
<content-text><p><b>Application Layer Overview</b></p> <p>Most of the Application layer protocols provide user services. Application layer protocols are typically used for network management, file transfer, distributed file services, terminal emulation, and e-mail. However, new user services are often added, such as VPNs, VoIP, and so on. </p> <p>The most widely known and implemented TCP/IP Application layer protocols include: </p> <p><ul><li><b>Telnet</b> - Enables users to establish terminal session connections with remote hosts.</li><li><b>HTTP</b> - Supports the exchanging of text, graphic images, sound, video, and other multimedia files on the web.</li><li><b>FTP</b> - Performs interactive file transfers between hosts.</li><li><b>TFTP</b> - Performs basic interactive file transfers typically between hosts and networking devices.</li><li><b>SMTP</b> - Supports basic message delivery services.</li><li><b>POP</b> - Connects to mail servers and downloads e-mail.</li><li><b><content-link target="{4864CD46-660E-485E-B9D9-70CC4B7BC6BF}" type="glossary">Simple Network Management Protocol</content-link> (SNMP)</b> - Collects management information from network devices.</li><li><b>DNS</b> - Maps IP addresses to the names assigned to network devices. </li><li><b>Network File System (NFS)</b> - Enables computers to mount drives on remote hosts and operate them as if they were local drives. Originally developed by Sun Microsystems, it combines with two other Application layer protocols, external data representation (XDR) and <content-link target="{B9687659-68BF-41C5-A356-BB19CEE9127E}" type="glossary">remote-procedure call</content-link> (<content-link target="{3B3C8E92-334E-4A8D-931A-71C948E99F6F}" type="glossary">RPC</content-link>), to allow transparent access to remote network resources.</li></ul></p> <p><b>Click the Application Protocols and Ports button in the figure</b> to view a list of application protocols and their associated ports.</p></content-text>
</page>
<page type="OneColumn" id="en1408040602">
<content-media type="StaticGraphic" id="cm3264149826">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040600/en1408040602/cm3264149826.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040600/en1408040602/cm3264149826text.xml"/></content-media>
<content-text><p><b>Symptoms of Application Layer Problems</b></p> <p>Application layer problems prevent services from being provided to application programs. A problem at the Application layer can result in unreachable or unusable resources when the physical, data link, network, and Transport layers are functional. It is possible to have full network connectivity, but the application simply cannot provide data.</p> <p>Another type of problem at the Application layer occurs when the physical, data link, network, and Transport layers are functional, but the data transfer and requests for network services from a single network service or application do not meet the normal expectations of a user.</p> <p>A problem at the Application layer may cause users to complain that the network or the particular application that they are working with is sluggish or slower than usual when transferring data or requesting network services.</p> <p>The figure shows some of the possible symptoms of Application layer problems.</p></content-text>
</page>
<page type="OneColumn" id="en1408040603">
<content-media type="StaticGraphic" id="cm2279975921">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040600/en1408040603/cm2279975921.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040600/en1408040603/cm2279975921text.xml"/></content-media>
<content-text><p><b>Troubleshooting Application Layer Problems</b></p> <p>The same general troubleshooting process that is used to isolate problems at the lower layers can also be used to isolate problems at the Application layer. The concepts are the same, but the technological focus has shifted to involve things such as refused or timed out connections, access lists, and DNS issues.</p> <p>The steps for troubleshooting Application layer problems are as follows:</p> <p><b>Step 1.</b> Ping the default gateway. </p> <p>If successful, Layer 1 and Layer 2 services are functioning properly.</p> <p><b>Step 2.</b> Verify end-to-end connectivity. </p> <p>Use an extended ping if attempting the ping from a Cisco router. If successful, Layer 3 is operating correctly. If Layers 1-3 are functioning properly, the issue must exist at a higher layer.</p> <p><b>Step 3.</b> Verify access list and NAT operation. </p> <p>To troubleshoot access control lists, use the following steps: </p> <p><ul><li>Use the <span class="cmd"><b>show access-list</b></span> command. Are there any ACLs that could be stopping traffic? Notice which access lists have matches. </li><li>Clear the access-list counters with the <span class="cmd"><b>clear access-list counters</b></span> command and try to establish a connection again.</li><li>Verify the access-list counters. Have any increased? Should they increase?</li></ul></p> <p>To troubleshoot NAT, use the following steps: </p> <p><ul><li>Use the <span class="cmd"><b>show ip nat translations</b></span> command. Are there any translations? Are the translations as expected?</li><li>Clear the NAT translations with the <span class="cmd"><b>clear ip nat translation *</b></span> command and try to access the external resource again.</li><li>Use the <span class="cmd"><b>debug ip nat</b></span> command and examine the output.</li><li>Look at the running configuration file. Are the <span class="cmd"><b>ip nat inside</b></span> and <span class="cmd"><b>ip nat outside</b></span> commands located on the right interfaces? Is the NAT pool correctly configured? Is the ACL correctly identifying the hosts?</li></ul></p> <p>If the ACLs and NAT are functioning as expected, the problem must lie in a higher layer.</p> <p><b>Step 4.</b> Troubleshoot upper layer protocol connectivity. </p> <p>Even though there may be IP connectivity between a source and a destination, problems may still exist for a specific upper layer protocol, such as FTP, HTTP, or Telnet. These protocols ride on top of the basic IP transport but are subject to protocol-specific problems relating to packet filters and firewalls. It is possible that everything except mail works between a given source and destination.</p> <p>Troubleshooting an upper layer protocol connectivity problem requires understanding the process of the protocol. This information is usually found in the latest RFC for the protocol or on the developer web page.</p></content-text>
</page>
<page type="OneColumn" id="en1408040604">
<content-media type="StaticGraphic" id="cm6176911373">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040600/en1408040604/cm6176911373.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408040000/en1408040600/en1408040604/cm6176911373text.xml"/></content-media>
<content-text><p><b>Correcting Application Layer Problems</b></p> <p>The steps for correcting Application layer problems are as follows: </p> <p><b>Step 1: Make a backup.</b> Before proceeding, ensure that a valid configuration has been saved for any device on which the configuration may be modified. This provides for recovery to a known initial state. </p> <p><b>Step 2: Make an initial hardware or software configuration change.</b> If the correction requires more than one change, make only one change at a time. </p> <p><b>Step 3: Evaluate and document each change and its results.</b> If the results of any problem-solving steps are unsuccessful, immediately undo the changes. If the problem is intermittent, wait to see if the problem occurs again before evaluating the effect of any change. </p> <p><b>Step 4: Determine if the change solves the problem.</b> Verify that the change actually resolves the problem without introducing any new problems. The network should be returned to the baseline operation, and no new or old symptoms should be present. If the problem is not solved, undo all the changes. If new or additional problems are discovered, modify the correction plan. </p> <p><b>Step 5: Stop when the problem is solved.</b> Stop making changes when the original problem appears to be solved. </p> <p><b>Step 6: If necessary, get assistance from outside resources.</b> This may be a co-worker, a consultant, or Cisco <content-link target="{643A3B41-60FC-4BF3-88F7-A4D30D6DB01E}" type="glossary">Technical Assistance Center</content-link> (<content-link target="{48A4C2ED-997E-48AE-B51D-46C3BBAC986A}" type="glossary">TAC</content-link>). On rare occasions, a core dump may be necessary, which creates output that a specialist at Cisco Systems can analyze. </p> <p><b>Step 7: Document.</b> Once the problem is resolved, document the solution.</p></content-text>
</page>
<page type="OneColumn" id="en1408040605">
<content-media type="ActivityPKA" id="cm3250692067">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408040000/en1408040600/en1408040605/cm3250692067/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en1408000000/en1408040000/en1408040600/en1408040605/cm3250692067/icontext.xml"/></content-media>
<content-text><p>To successfully complete this activity, you need your final documentation for the PT Activity 8.1.2: Network Discovery and Documentation you completed previously in this chapter. This documentation should have an accurate topology diagram and addressing table. If you do not have this documentation, then ask your Instructor for accurate versions. </p> <p>Detailed instructions are provided within the activity as well as in the PDF link below.</p> <p><content-link target="E4_PTAct_8_4_6.pdf" type="internalfile">Activity Instructions (PDF)</content-link></p> <p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="en1408050000">
<title><content-text>Chapter Labs</content-text></title>
<topic type="" id="en1408050100">
<title><content-text>Troubleshooting Enterprise Networks 1</content-text></title>
<page type="OneColumn" id="en1408050101">
<content-media type="ActivityLab" id="cm1660963731">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408050000/en1408050100/en1408050101/cm1660963731/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1408000000/en1408050000/en1408050100/en1408050101/cm1660963731/icontext.xml"/></content-media>
<content-text><p>You have been asked to correct configuration errors in the company network. For this lab, do not use login or password protection on any console lines to prevent accidental lockout. Use <b>ciscoccna</b> for all passwords in this scenario.</p> <p><b>Note:</b> Because this lab is cumulative, you will be using all the knowledge and troubleshooting techniques that you have acquired from the previous material to successfully complete this lab.</p></content-text>
</page>
<page type="OneColumn" id="en1408050102">
<content-media type="ActivityPKA" id="cm7223036686">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408050000/en1408050100/en1408050102/cm7223036686/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en1408000000/en1408050000/en1408050100/en1408050102/cm7223036686/icontext.xml"/></content-media>
<content-text><p>This activity is a variation of Lab 8.5.1. Packet Tracer may not support all the tasks specified in the hands-on lab. This activity should not be considered equivalent to completing the hands-on lab. Packet Tracer is not a substitute for a hands-on lab experience with real equipment.</p> <p>Detailed instructions are provided within the activity as well as in the PDF link below.</p> <p><content-link target="E4_PTAct_8_5_1.pdf" type="internalfile">Activity Instructions (PDF)</content-link></p> <p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
<topic type="" id="en1408050200">
<title><content-text>Troubleshooting Enterprise Networks 2</content-text></title>
<page type="OneColumn" id="en1408050201">
<content-media type="ActivityLab" id="cm7432434391">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408050000/en1408050200/en1408050201/cm7432434391/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1408000000/en1408050000/en1408050200/en1408050201/cm7432434391/icontext.xml"/></content-media>
<content-text><p>For this lab, do not use login or password protection on any console lines to prevent accidental lockout. Use <b>ciscoccna</b> for all passwords in this lab.</p> <p><b>Note:</b> Because this lab is cumulative, you will be using all the knowledge and troubleshooting techniques that you have acquired from the previous material to successfully complete this lab.</p></content-text>
</page>
<page type="OneColumn" id="en1408050202">
<content-media type="ActivityPKA" id="cm3869277265">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408050000/en1408050200/en1408050202/cm3869277265/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en1408000000/en1408050000/en1408050200/en1408050202/cm3869277265/icontext.xml"/></content-media>
<content-text><p>This activity is a variation of Lab 8.5.2. Packet Tracer may not support all the tasks specified in the hands-on lab. This activity should not be considered equivalent to completing the hands-on lab. Packet Tracer is not a substitute for a hands-on lab experience with real equipment.</p> <p>Detailed instructions are provided within the activity as well as in the PDF link below.</p> <p><content-link target="E4_PTAct_8_5_2.pdf" type="internalfile">Activity Instructions (PDF)</content-link></p> <p><b>Click the Packet Tracer icon for more details.</b> </p></content-text>
</page>
</topic>
<topic type="" id="en1408050300">
<title><content-text>Troubleshooting Enterprise Networks 3</content-text></title>
<page type="OneColumn" id="en1408050301">
<content-media type="ActivityLab" id="cm7527400654">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408050000/en1408050300/en1408050301/cm7527400654/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1408000000/en1408050000/en1408050300/en1408050301/cm7527400654/icontext.xml"/></content-media>
<content-text><p>For this lab do not use login or password protection on any console lines to prevent accidental lockout. Use ciscoccna for all passwords in this scenario.</p> <p><b>Note:</b> Because this lab is cumulative, you will be using all the knowledge and troubleshooting techniques that you have acquired from the previous material to successfully complete this lab.</p></content-text>
</page>
<page type="OneColumn" id="en1408050302">
<content-media type="ActivityPKA" id="cm1847619510">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408050000/en1408050300/en1408050302/cm1847619510/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en1408000000/en1408050000/en1408050300/en1408050302/cm1847619510/icontext.xml"/></content-media>
<content-text><p>This activity is a variation of Lab 8.5.3. Packet Tracer may not support all the tasks specified in the hands-on lab. This activity should not be considered equivalent to completing the hands-on lab. Packet Tracer is not a substitute for a hands-on lab experience with real equipment.</p> <p>Detailed instructions are provided within the activity as well as in the PDF link below.</p> <p><content-link target="E4_PTAct_8_5_3.pdf" type="internalfile">Activity Instructions (PDF)</content-link></p> <p><b>Click the Packet Tracer icon for more details.</b> </p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="en1408060000">
<title><content-text>Chapter Summary</content-text></title>
<topic type="" id="en1408060100">
<title><content-text>Chapter Summary</content-text></title>
<page type="OneColumn" id="en1408060101">
<content-media type="StaticGraphic" id="cm9641967094">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408060000/en1408060100/en1408060101/cm9641967094.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408060000/en1408060100/en1408060101/cm9641967094text.xml"/></content-media>
<content-text><p>In this chapter, you learned that a network baseline is required for effective troubleshooting. Creating a baseline begins with ensuring that network documentation is up to date and accurate. Proper network documentation includes a network configuration table for all devices and a topology diagram that reflects the current state of the network. When the network has been fully documented, a baseline measurement of network performance should be carried out over a period of several weeks to a month to establish the personality of the network. The first baseline is created during a time of stable and normal operation. </p> <p>The most effective way to troubleshoot is with a systematic approach using a layered model, such as the OSI model or the TCP/IP model. Three methods commonly used to troubleshoot include bottom up, top down, and divide and conquer. Each method has its advantages and disadvantages, and you learned the guidelines for choosing which method to apply. You also learned about the various software and hardware tools that are used by network professionals to gather symptoms and troubleshoot network problems.</p> <p>Although they operate primarily at the first three OSI layers, WANs have implementation issues that can affect the operation of the rest of the network. You learned about some of the considerations for implementing WANs and common problems that WANs introduce into networks, such as security threats, bandwidth problems, latency, and QoS issues. </p> <p>Finally, you explored the symptoms and causes of common problems at each of the OSI layers and the steps for troubleshooting them. </p></content-text>
</page>
<page type="FullScreen" id="en1408060102">
<content-media type="ActivityCustom" id="cm3450691455">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408060000/en1408060100/en1408060102/cm3450691455.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1408000000/en1408060000/en1408060100/en1408060102/cm3450691455text.xml"/></content-media>
<content-text><p>CYU</p></content-text>
</page>
<page type="OneColumn" id="en1408060103">
<content-media type="ActivityPKA" id="cm1914731243">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408060000/en1408060100/en1408060103/cm1914731243/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="en1408000000/en1408060000/en1408060100/en1408060103/cm1914731243/icontext.xml"/></content-media>
<content-text><p>In this comprehensive CCNA skills activity, the XYZ Corporation uses a combination of Frame Relay and PPP for WAN connections. The HQ router provides access to the server farm and the Internet through NAT. HQ also uses a basic firewall ACL to filter inbound traffic. Each Branch router is configured for inter-VLAN routing and DHCP. Routing is achieved through EIGRP as well as static and default routes. The VLANs, VTP, and STP are configured on each of the switched networks. Port security is enabled and wireless access is provided. Your job is to successfully implement all of these technologies, leveraging what you have learned over the four Exploration courses leading up to this culminating activity.</p> <p>Detailed instructions are provided within the activity as well as in the PDF link below.</p> <p><content-link target="E4_PTAct_8_6_1.pdf" type="internalfile">Activity Instructions (PDF)</content-link></p> <p><b>Click the Packet Tracer icon for more details.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="en1408070000">
<title><content-text>Chapter Quiz</content-text></title>
<topic type="" id="en1408070100">
<title><content-text>Chapter Quiz</content-text></title>
<page type="FullScreen" id="en1408070101">
<content-media type="ChapterQuiz" id="cm5772976656">	<title><content-text></content-text></title>	<media ref="en1408000000/en1408070000/en1408070100/en1408070101/cm5772976656/" mime="" scale="true" type="directory" width="100%" height="100%" external="en1408000000/en1408070000/en1408070100/en1408070101/cm5772976656/icontext.xml"/></content-media>
<content-text><p>Chapter Quiz</p></content-text>
</page>
</topic>
</section>
</chapter>
