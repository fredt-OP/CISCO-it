<chapter type="" id="tl1403000000">
<title><content-text>Protocole Frame Relay</content-text></title>
<section type="ChapterIntroduction" id="tl1403000000">
<title><content-text>Présentation</content-text></title>
<topic type="" id="tl1403000100">
<title><content-text>Présentation</content-text></title>
<page type="OneColumn" id="tl1403000101">
<content-media type="ChapterIntroduction" id="cm4533538109"><title><content-text></content-text></title> <media ref="tl1403000000/tl1403000000/tl1403000100/tl1403000101/cm4533538109.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403000000/tl1403000100/tl1403000101/cm4533538109text.xml"/></content-media> <content-text><p>Frame Relay est un protocole de réseau étendu qui intervient dans les couches physique et liaison de données du modèle de référence OSI. </p> <p>Inventé par Eric Scace, ingénieur chez Sprint International, ce protocole était destiné aux interfaces RNIS (Réseaux Numériques à Intégration de Services), en tant que version simplifiée du protocole X.25. De nos jours, bien d’autres interfaces réseau l’utilisent également. Dans la première mise en œuvre du protocole Frame Relay dans son réseau public, Sprint utilisa des commutateurs StrataCom. La reprise de StrataCom par Cisco en 1996 marqua leur entrée sur le marché des opérateurs. </p> <p>Actuellement, les fournisseurs d’accès aux réseaux utilisent généralement le protocole Frame Relay comme technique d’encapsulation de signaux vocaux et numériques, dans les transmissions entre réseaux locaux par le biais d’un réseau étendu. Chaque utilisateur final obtient une ligne privée (ou louée) connectée à un nœud du réseau Frame Relay. Dans ce réseau, le chemin par lequel s’effectue la transmission change fréquemment, et ce de manière transparente pour tous les utilisateurs finaux.</p> <p>Frame Relay est devenu l’un des protocoles de réseau étendu les plus répandus, principalement grâce à son faible coût par rapport aux lignes dédiées. De plus, la configuration de l’équipement des utilisateurs dans un réseau Frame Relay est très simple. Les connexions Frame Relay sont établies en configurant les routeurs de l’équipement d’abonné ou d’autres équipements pour qu’ils communiquent avec le commutateur Frame Relay d’un fournisseur de services. Le fournisseur de services configure le commutateur Frame Relay de manière à limiter au maximum les tâches de configuration au niveau de l’utilisateur final. </p> <p>Le présent chapitre décrit le protocole Frame Relay et explique la configuration de ce protocole sur un routeur Cisco. </p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1403010000">
<title><content-text>Concepts fondamentaux du protocole Frame Relay</content-text></title>
<topic type="" id="tl1403010100">
<title><content-text>Présentation de Frame Relay</content-text></title>
<page type="OneColumn" id="tl1403010101">
<content-media type="StaticGraphic" id="cm1766755585">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403010000/tl1403010100/tl1403010101/cm1766755585.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403010000/tl1403010100/tl1403010101/cm1766755585text.xml"/></content-media> <content-text><p><b>Frame Relay : une technologie de réseau étendu efficace et flexible</b></p> <p>Frame Relay est devenu le protocole de réseau étendu le plus utilisé au monde. Son succès dans les grandes entreprises, les gouvernements, les FAI et les petites entreprises est essentiellement dû à son prix abordable et à sa flexibilité. Au fur et à mesure de leur croissance, les organisations sont de plus en plus tributaires d’un transport de données fiable, tandis que les solutions reposant sur des lignes louées deviennent inabordables. Une plus grande flexibilité est requise pour faire face aux changements technologiques, ainsi qu’aux fusions et reprises de sociétés dans le secteur des réseaux. </p> <p>Frame Relay permet de réduire le coût des réseaux par un niveau de complexité moins élevé, par des exigences en équipement plus faibles et par une mise en œuvre plus simple. En outre, sa bande passante, sa fiabilité et sa résilience sont bien meilleures que celles des lignes privées ou louées. Dans la mondialisation actuelle qui entraîne une évolution vers des topologies à plusieurs filiales, le protocole Frame Relay permet de réaliser des architectures réseau plus simples avec un coût total de possession minimal. </p> <p>L’exemple suivant d’un réseau de grande entreprise illustre bien les avantages d’un réseau étendu Frame Relay. Dans l’exemple représenté dans la figure, la société Span Engineering possède cinq sites en Amérique du Nord. Comme pour la plupart des sociétés, les besoins en bande passante de Span ne s’accordent pas à une solution générale non personnalisée. </p> <p>La première caractéristique à prendre en compte est le besoin en bande passante de chaque site. Partant du siège central, la liaison de New York à Chicago requiert une vitesse de 256 Kbits/s. Trois autres sites ont besoin d’une vitesse maximale de 48 Kbits/s pour leur connexion au siège central, alors que les filiales de New York et Dallas ne requièrent que 12 Kbits/s.</p> <p>Avant que Frame Relay ne soit disponible, Span louait des <content-link target="{1E4E9BB9-4DB4-46FE-B4B1-B72C94594829}" type="glossary">lignes dédiées</content-link>. </p> <p><b>Cliquez sur le bouton Lignes dédiées dans la figure.</b></p> <p>À l’aide de liaisons spécialisées, chaque site de la société Span est relié par un commutateur au central de la compagnie de téléphone locale, en transitant par la boucle locale avant de rejoindre l’ensemble du réseau. Pour leur liaison au commutateur, les sites de Chicago et New York utilisent une ligne dédiée T1 (équivalente à 24 canaux DS0), tandis que d’autres sites utilisent des liaisons RNIS (56 Kbits/s). Étant donné qu’il est relié à la fois à New York et Chicago, le site de Dallas utilise deux lignes louées locales. Les fournisseurs de réseau ont fourni à Span un canal DS0 entre les centraux téléphoniques, sauf pour la grande liaison entre Chicago et New York qui en comporte quatre. Les canaux DS0 sont facturés selon un tarif différent d’une région à l’autre et sont généralement proposés à un prix fixe. Ces lignes sont véritablement dédiées étant donné que le fournisseur les réserve exclusivement à Span. Il n’y a donc aucun partage et Span paie pour l’ensemble du circuit de bout en bout quelle que soit la bande passante utilisée.</p> <p>Sans obtenir d’autres lignes du fournisseur de réseau, les lignes dédiées présentent peu de possibilités pour une liaison de type un à plusieurs. Dans notre exemple, la plupart des communications doivent transiter par le siège central, et ce afin d’éviter des frais de lignes supplémentaires.</p> <p>Si vous examinez les besoins de chaque site en termes de bande passante, vous remarquerez un manque d’efficacité. </p> <p><ul><li>Sur les 24 canaux DS0 disponibles de la liaison T1, le site de Chicago n’en utilise que sept. Certains opérateurs proposent des liaisons T1 fractionnées par incréments de 64 Kbits/s. Toutefois, un multiplexeur spécial est alors requis à l’extrémité client pour canaliser les signaux. Dans ce cas, Span a préféré choisir le service T1 complet.</li><li>De la même manière, le site de New York n’utilise que cinq de ses 24 canaux DS0.</li><li>Comme Dallas doit se connecter à Chicago et à New York, deux lignes lui sont nécessaires pour la liaison entre les centraux téléphoniques.</li></ul></p> <p>Une conception de réseau basée sur des liaisons spécialisées limite également la flexibilité. Dans le cas où les circuits nécessaires n’existent pas, le raccordement de nouveaux sites requiert de nouvelles installations, ce qui demande un long délai. Du point de vue de la <content-link target="{3DFD09F8-20AF-4BBB-A7B4-194013D26255}" type="glossary">fiabilité</content-link> du réseau, pensez au coût et à la complexité qui résultent de l’ajout de circuits supplémentaire redondants.</p> <p><b>Cliquez sur le bouton Frame Relay dans la figure.</b></p> <p> </p> <p>Le réseau Frame Relay de la société Span utilise à présent des circuits virtuels permanents (PVC). Un circuit virtuel permanent correspond à un chemin logique dans un réseau, depuis une liaison Frame Relay initiale jusqu’à sa liaison Frame Relay de destination. Ce chemin est comparable au chemin physique d’une connexion dédiée. Dans un réseau basé sur le protocole Frame Relay, un circuit virtuel permanent définit un chemin unique entre deux points d’extrémité. Le concept des circuits virtuels est expliqué plus en détail dans la suite de ce chapitre.</p> <p>La solution Frame Relay choisie par la société Span est à la fois économique et flexible.</p> <p><b>Économique</b></p> <p>Frame Relay est plus économique pour deux raisons. Tout d’abord, avec des lignes dédiées, les clients doivent payer une liaison de bout en bout. Cette liaison comprend la boucle locale et la liaison réseau. Avec Frame Relay, les clients ne paient que l’utilisation de la boucle locale et la bande passante achetée au fournisseur de réseau. La distance entre les nœuds n’a pas d’importance. Dans le modèle à lignes dédiées, les utilisateurs utilisent les lignes fournies par incréments de 64 Kbits/s. Avec Frame Relay, au contraire, ils peuvent définir leurs besoins en circuits virtuels avec une plus grande finesse, le plus souvent par incréments de 4 Kbits/s.</p> <p>Le deuxième avantage économique de Frame Relay vient du fait qu’il partage la bande passante entre un plus grand nombre de clients. Sur un circuit T1, un fournisseur de réseau peut généralement servir plus de 40 clients à 56 Kbits/s. Des lignes dédiées nécessiteraient davantage d’unités DSU / CSU (une par ligne) et une plus grande complication dans le routage et la commutation. Le protocole Frame Relay requérant moins d’équipements et moins de maintenance, les fournisseurs de réseau font donc des économies. </p> <p><b>Flexible</b></p> <p>Dans la conception d’un réseau, les circuits virtuels offrent une flexibilité considérable. Dans la figure, vous pouvez constater que les filiales de Span se connectent toutes au nuage Frame Relay par l’intermédiaire de leur boucle locale. Ne vous souciez pas pour le moment de ce qui se passe réellement dans le réseau représenté par le nuage. Pour une filiale Span souhaitant communiquer avec une autre, il importe seulement de se connecter à un circuit virtuel aboutissant à cette filiale. Dans le protocole Frame Relay, l’extrémité de chaque liaison est identifiée par un numéro appelé DLCI (identificateur de connexion de liaison de données). N’importe quelle station peut se connecter à une autre en indiquant son adresse et le numéro DLCI de la ligne à utiliser. Vous apprendrez dans un autre chapitre que, pour tous les DLCI configurés, toutes les données sont transmises par le même port du routeur configuré selon le protocole Frame Relay. Essayez d’imaginer la même flexibilité avec des lignes dédiées. Ce serait non seulement plus compliqué, mais cela demanderait aussi un équipement beaucoup plus important. </p>  <p><b>Cliquez sur le bouton Coût dans la figure.</b></p> <p>Le tableau présente une comparaison représentative des coûts de connexions RNIS et Frame Relay comparables. Bien qu’un réseau Frame Relay soit d’un coût initial plus élevé que celui d’un réseau RNIS, ses frais mensuels sont considérablement plus faibles. Un réseau Frame Relay est plus facile à gérer et à configurer qu’un réseau RNIS. De plus, les clients peuvent augmenter leur bande passante en fonction de la croissance de leurs besoins. Ils ne paient que la bande passante dont ils ont besoin. Dans un réseau Frame Relay, les frais ne sont pas liés à la durée de la connexion, contrairement au RNIS où les appels sont comptés. Dans ce cas l’opérateur téléphonique peut facturer un montant inattendu si une connexion a été maintenue en permanence.</p> <p>Les quelques sujets qui suivent vont élargir votre compréhension du protocole Frame Relay en définissant les concepts fondamentaux présentés dans l’exemple précédent.</p></content-text>
</page>
<page type="OneColumn" id="tl1403010102">
<content-media type="StaticGraphic" id="cm7366260113">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403010000/tl1403010100/tl1403010102/cm7366260113.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403010000/tl1403010100/tl1403010102/cm7366260113text.xml"/></content-media> <content-text><p><b>Réseau étendu Frame Relay</b></p> <p>À la fin des années 1970 et au début des années 1990, la technologie des réseaux étendus reliant deux sites utilisait généralement le protocole X.25. Bien que considéré actuellement comme un protocole d’ancienne génération, le X.25 a été une technologie de commutation de paquets très répandue car elle permettait d’obtenir une connexion très fiable sur des infrastructures câblées non fiables. Ce résultat était obtenu grâce à des contrôles de flux et d’erreur supplémentaires. Ces contrôles alourdissaient cependant le protocole. Celui-ci trouvait son application principale dans le traitement des autorisations de carte de crédit et dans les guichets automatiques. Dans ce cours, nous ne citons le protocole X.25 qu’à des fins historiques. </p> <p>Lorsque vous construisez un réseau étendu, quel que soit le mode de transport choisi, deux sites sont toujours reliés par un minimum de trois composants ou groupes de composants de base. Chaque site doit avoir son propre équipement (ETTD) pour accéder au central téléphonique local (DCE). Le troisième composant se trouve entre les deux, reliant les deux points d’accès. Dans la figure, il s’agit de la partie fournie par le réseau fédérateur Frame Relay. </p> <p>Le protocole Frame Relay demande moins de temps de traitement que le X.25, du fait qu’il comporte moins de fonctionnalités. Par exemple, il ne fournit pas de correction d’erreur, car les réseaux étendus actuels permettent d’obtenir des connexions plus fiables que les anciens. Lorsqu’il détecte des erreurs, le nœud Frame Relay abandonne tout simplement les paquets sans notification. Toute correction d’erreur, telle que la retransmission des données, est à la charge des composants d’extrémité. La propagation des données d’une extrémité client à une autre est donc très rapide sur le réseau.</p> <p>Frame Relay permet un traitement efficace en volume et en vitesse, en réunissant les fonctions des couches liaison de données et réseau en un seul protocole simple. En tant que protocole de liaison de données, Frame Relay permet d’accéder à un réseau, il délimite et fournit les trames dans l’ordre approprié et détecte les erreurs de transmission par un contrôle de redondance cyclique standard. En tant que protocole de réseau, il fournit plusieurs liaisons logiques sur un même circuit physique et permet au réseau d’acheminer les données sur ces liaisons jusqu’à leurs destinations respectives. </p> <p>Le protocole Frame Relay intervient entre un périphérique d’utilisateur final, tel qu’un <content-link target="{40D3F4AB-6773-406B-9E7F-1A5FAE8BF2AE}" type="glossary">pont</content-link> ou un routeur de réseau local, et un réseau. Le réseau proprement dit peut utiliser n’importe quelle méthode de transmission compatible avec la vitesse et l’efficacité requises par les applications Frame Relay. Certains réseaux fonctionnent avec le protocole Frame Relay lui-même, d’autres utilisent la commutation de circuits numériques ou des systèmes à commutation de cellules ATM. La figure représente un réseau fédérateur à commutation de circuits, comme le montrent les commutateurs de classe 4/5. Les autres illustrations de ce chapitre présentent des réseaux fédérateurs Frame Relay à commutation de paquets plus contemporains.</p></content-text>
</page>
<page type="OneColumn" id="tl1403010103">
<content-media type="AnimationPartialScreen" id="cm8820484515">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403010000/tl1403010100/tl1403010103/cm8820484515.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403010000/tl1403010100/tl1403010103/cm8820484515text.xml"/></content-media> <content-text><p><b>Fonctionnement du protocole Frame Relay</b></p> <p>La connexion entre un équipement terminal de traitement de données (ETTD) et un équipement de communication de données (DCE) comprend un composant de couche physique et un composant de couche liaison de données.</p> <p><ul><li>Le composant physique définit les caractéristiques mécaniques, électriques, fonctionnelles et méthodologiques de la connexion entre les équipements en question. L’une des spécifications d’interface de couche physique les plus répandues est la norme RS-232. </li><li>Le composant de couche liaison définit le protocole qui établit la connexion entre l’ETTD, tel qu’un routeur, et le DCE, tel qu’un commutateur. </li></ul></p> <p>Lorsque des opérateurs se servent de Frame Relay pour interconnecter des réseaux locaux, l’ETTD sur chacun de ces réseaux est un routeur. Une connexion série, telle qu’une ligne louée T1/E1, connecte le routeur à un commutateur Frame Relay au niveau du point de présence (POP) le plus proche de l’opérateur. Le commutateur Frame Relay est un équipement DCE. Les commutateurs font passer les trames d’un ETTD dans le réseau et les fournissent aux autres ETTD par le biais d’équipements DCE. L’équipement informatique qui n’est pas connecté à un réseau local peut également envoyer des données dans un réseau Frame Relay. Cet équipement utilise alors un équipement d’accès Frame Relay (<content-link target="{8A2E118C-CD55-4B90-BE10-7F7D85E878C2}" type="glossary">FRAD</content-link>) en tant qu’ETTD. Le FRAD est parfois appelé assembleur / désassembleur Frame Relay. Il s’agit d’un équipement dédié ou d’un routeur configuré pour la prise en charge du protocole Frame Relay. Il se trouve dans les locaux du client et se connecte au port d’un commutateur sur le réseau du fournisseur de services. De son côté, le fournisseur de services interconnecte les commutateurs Frame Relay. </p></content-text>
</page>
</topic>
<topic type="" id="tl1403010200">
<title><content-text>Circuits virtuels</content-text></title>
<page type="OneColumn" id="tl1403010201">
<content-media type="InteractiveGraphicHotspots" id="cm6078967261">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403010000/tl1403010200/tl1403010201/cm6078967261.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403010000/tl1403010200/tl1403010201/cm6078967261text.xml"/></content-media> <content-text><p><b>Circuits virtuels</b></p> <p>Le terme circuit virtuel désigne la connexion entre deux ETTD par un réseau Frame Relay. De tels circuits sont virtuels du fait qu’il n’existe aucune liaison électrique directe entre leurs extrémités. La connexion est dite logique et les données circulent d’une extrémité à l’autre sans circuit électrique les reliant directement. Grâce aux circuits virtuels, Frame Relay partage la bande passante entre plusieurs utilisateurs. Un site quelconque peut donc communiquer avec n’importe quel autre site sans utiliser plusieurs lignes physiques dédiées.</p> <p>Les circuits virtuels peuvent s’établir de deux manières :</p> <p><ul><li>les circuits virtuels commutés (SVC) sont établis de façon dynamique par l’envoi de messages de signalisation au réseau (CALL SETUP, DATA TRANSFER, IDLE, CALL TERMINATION) ;</li><li>les circuits virtuels permanents (PVC) sont préconfigurés par l’opérateur et, une fois configurés, fonctionnent uniquement dans les modes DATA TRANSFER et IDLE. Notez que dans certaines publications, les circuits virtuels permanents sont appelés circuits virtuels privés.</li></ul></p> <p><b>Cliquez sur le bouton Lire dans la figure.</b></p> <p>La figure représente un circuit virtuel entre un nœud émetteur et un nœud récepteur. Ce circuit suit le chemin A, B, C et D.  Frame Relay crée un circuit virtuel en établissant la correspondance entre ports d’entrée et ports de sortie dans la mémoire de chaque commutateur. Les commutateurs sont ainsi reliés les uns aux autres jusqu’à ce qu’ils forment un chemin continu d’une extrémité à l’autre du circuit. Un circuit virtuel peut passer par un nombre quelconque d’équipements (commutateurs) situés dans le réseau Frame Relay.</p>  <p>La question qui vient alors à l’esprit est : « comment sont identifiés les différents nœuds et commutateurs ? »</p> <p><b>Cliquez sur le bouton Signification locale dans la figure.</b></p> <p>Les circuits virtuels permettent une communication bidirectionnelle entre les équipements. Les circuits virtuels sont identifiés par des indicateurs de connexion de liaison de données (DLCI). Ces indicateurs DLCI sont généralement attribués par le fournisseur de services Frame Relay (par exemple, la compagnie de téléphone). Les DLCI Frame Relay ont une signification locale. En d’autres termes, ces valeurs ne sont pas uniques dans le réseau étendu Frame Relay. Un indicateur DLCI identifie un circuit virtuel sur un équipement situé à une extrémité. Au-delà de la liaison, ce DLCI n’a aucune signification. Deux équipements reliés par un circuit virtuel peuvent utiliser une valeur DLCI différente pour désigner la même connexion.</p> <p>Les DLCI à signification locale sont devenus la principale méthode d’adressage, étant donné que la même adresse peut être utilisée à différents endroits tout en se rapportant à différentes connexions. L’adressage local permet d’éviter qu’un client soit à court de DLCI en cas de croissance du réseau.</p> <p><b>Cliquez sur le bouton Identification des circuits virtuels, puis cliquez sur le bouton Lire dans la figure.</b></p> <p> </p> <p>Il s’agit du même réseau que celui de la figure précédente, mais à présent, comme les trames se déplacent dans le réseau, Frame Relay identifie chaque circuit virtuel par un DLCI. Le DLCI est stocké dans le champ d’adresse de chaque trame transmise pour indiquer comment elle doit être acheminée. C’est le fournisseur de services Frame Relay qui attribue les identificateurs DLCI. Les adresses DLCI 0 à 15 et 1008 à 1023 sont réservées à des fins particulières. Les fournisseurs de services attribuent donc les DLCI dans la plage 16 à 1007.</p> <p>Dans cet exemple, la trame utilise l’adresse DLCI 102. Elle quitte le routeur (R1) par le port 0 et le circuit virtuel 102. Au commutateur A, elle quitte le port 1 par le circuit virtuel 432. Ce processus de mappage des ports se poursuit dans le réseau jusqu’à ce que la trame arrive à destination à l’adresse DLCI 201, comme indiqué dans la figure. Le DLCI est stocké dans le champ d’adresse de chaque trame transmise.</p></content-text>
</page>
<page type="OneColumn" id="tl1403010202">
<content-media type="InteractiveGraphicHotspots" id="cm9093034752">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403010000/tl1403010200/tl1403010202/cm9093034752.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403010000/tl1403010200/tl1403010202/cm9093034752text.xml"/></content-media> <content-text><p><b>Circuits virtuels multiples</b></p> <p>Le réseau Frame Relay est statistiquement multiplexé. En d’autres termes, il ne transmet qu’une trame à la fois, mais un grand nombre de connexions logiques peuvent co-exister sur une même ligne physique. L’équipement d’accès Frame Relay (FRAD) ou le routeur connecté au réseau Frame Relay peut être connecté à plusieurs périphériques finaux par différents circuits virtuels. Les différents circuits virtuels d’une même ligne physique sont distincts du fait qu’ils sont identifiés par leur propre DLCI. Souvenez-vous que le DLCI n’a qu’une signification locale et peut différer à chaque extrémité d’un circuit virtuel.</p> <p>La figure montre l’exemple de deux circuits virtuels sur une même ligne physique. Ils ont chacun leur propre DLCI et se connectent au routeur R1. </p> <p>Cette possibilité réduit généralement la complexité des équipements et du réseau en permettant d’interconnecter plusieurs périphériques. Il s’agit d’une solution de remplacement économique du <content-link target="{CA3ECD9F-630A-4E83-A2E8-5A8310B9420C}" type="glossary">réseau à maillage</content-link> des lignes d’accès. Avec cette configuration, chaque point d’extrémité ne nécessite qu’une ligne d’accès et une interface. D’autres économies peuvent être réalisées, car la capacité de la ligne d’accès est fondée sur la bande passante moyenne requise par les circuits virtuels et non sur la bande passante maximale requise. </p> <p><b>Cliquez sur le bouton DLCI de Span dans la figure.</b></p> <p> </p> <p>Par exemple, Span Engineering possède cinq sièges, y compris son siège principal de Chicago. Chicago est connecté au réseau par cinq circuits virtuels identifiés par un identificateur DLCI. Pour afficher le mappage des DLCI, cliquez sur le siège correspondant dans le tableau. </p> <p><b>Avantages économiques de plusieurs circuits virtuels</b></p> <p>Souvenez-vous de l’exemple précédent où Span Engineering a évolué d’un réseau de lignes dédiées à un réseau Frame Relay. En particulier, examinez le tableau de comparaison d’une simple connexion Frame Relay à une connexion RNIS de caractéristiques similaires. Remarquez qu’avec Frame Relay, les clients ne paient que la bande passante qu’ils utilisent. Ils ne paient effectivement qu’un port Frame Relay. Lorsqu’ils augmentent leur nombre de ports, ils paient pour une plus grande bande passante, comme expliqué précédemment. Mais doivent-ils payer pour plus d’équipements ? La réponse est « non », car les ports sont virtuels. Il n’y a donc pas de changement de l’infrastructure physique. Comparez cela à l’acquisition d’une plus grande bande passante dans le cas de lignes dédiées. </p></content-text>
</page>
</topic>
<topic type="" id="tl1403010300">
<title><content-text>Encapsulation Frame Relay</content-text></title>
<page type="OneColumn" id="tl1403010301">
<content-media type="InteractiveGraphicHotspots" id="cm1051744551">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403010000/tl1403010300/tl1403010301/cm1051744551.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403010000/tl1403010300/tl1403010301/cm1051744551text.xml"/></content-media> <content-text><p><b>Processus d’encapsulation de Frame Relay</b></p> <p>Frame Relay prélève des paquets de données d’un protocole de couche réseau, tel que IP ou IPX, les encapsule en tant que données d’une trame Frame Relay, puis passe cette trame à la couche physique pour la transmettre au câble. Pour comprendre ce fonctionnement, il est bon de comprendre comment il se rattache aux couches inférieures du modèle OSI. </p> <p>La figure montre comment Frame Relay encapsule les données pour le transport et les fait passer à la couche physique pour les transmettre.</p> <p>Frame Relay reçoit tout d’abord un paquet d’un protocole de couche réseau tel que le protocole IP. Frame Relay l’enveloppe avec un champ d’adresse qui contient l’identificateur DLCI et une <content-link target="{C0F3B456-15A1-47E6-A214-29536DCB4C7F}" type="glossary">somme de contrôle</content-link>. Des champs d’indicateur sont ajoutés pour indiquer le début et la fin de la trame. Ces champs marquent le début et la fin de la trame et sont toujours les mêmes. Les indicateurs sont représentés soit sous forme hexadécimale 7E, soit sous forme binaire 01111110. Une fois le paquet encapsulé, Frame Relay passe la trame à la couche physique pour le transport.</p> <p><b>Cliquez sur le bouton Format de trame dans la figure.</b></p> <p>Le routeur CPE encapsule chaque paquet de couche 3 dans un en-tête et une <content-link target="{834B9EB6-4485-47BB-B899-C346CA11DF41}" type="glossary">queue de bande</content-link> Frame Relay avant de l’envoyer dans le circuit virtuel. L’en-tête et la queue sont définis par la norme ITU Q.922-A relative aux services Bearer, intitulée Procédure de liaison d’accès pour Frame Relay (<content-link target="{703AF600-E6DB-4B73-9827-BEF263EDDA0D}" type="glossary">Link Access Procedure for Frame Relay</content-link>, LAPF). En particulier, l’en-tête Frame Relay (champ d’adresse) contient ce qui suit :</p> <p><ul><li>DLCI : les 10 bits du DLCI constituent l’essentiel de l’en-tête Frame Relay. Cette valeur représente la connexion virtuelle entre l’équipement ETTD et le commutateur. Chaque connexion virtuelle multiplexée sur le canal physique est représentée par un DLCI unique. Les identificateurs DLCI n’ont qu’une signification locale. En d’autres termes, ils ne sont uniques que sur le canal physique sur lequel ils résident. Les équipements situés à l’autre extrémité d’une connexion peuvent donc faire référence à la même connexion virtuelle par des identificateurs DLCI différents. </li><li>Adresse étendue (EA) : si la valeur du champ EA est 1, l’octet courant est défini par le dernier octet du DLCI. Toutes les mises en œuvres actuelles du protocole Frame Relay utilisent cependant un DLCI de 2 octets, ce qui permet une extension des adresses DLCI dans le futur. Le huitième bit de chaque octet du champ d’adresse sert à indiquer une adresse étendue. </li><li>C/R : bit qui suit l’octet DLCI de poids fort dans le champ d’adresse. Le bit C/R n’est pas défini actuellement. </li><li>Contrôle d’<content-link target="{787578BC-C491-4CE8-A277-B211C26B4438}" type="glossary">encombrement</content-link> : contient 3 bits qui contrôlent les mécanismes de notification d’encombrement de Frame Relay. Les bits <content-link target="{D9F5D62F-1611-4F02-8E7C-174AA5D9FACB}" type="glossary">FECN</content-link>, <content-link target="{877DB8F9-7F46-4181-BC01-515009B75B57}" type="glossary">BECN</content-link>, et DE sont les trois derniers bits du champ d’adresse. Le contrôle d’encombrement fait l’objet d’un prochain chapitre.</li></ul></p> <p>La couche physique suit généralement les normes EIA/TIA-232, 449 ou 530, V.35 ou X.21. La trame Frame Relay est un sous-ensemble du type de trame HDLC. Par conséquent, elle est délimitée par des champs d’indicateur. L’indicateur de 1 octet utilise la séquence de bits 01111110. La séquence de contrôle de trame (FCS) indique si des erreurs dans le champ d’adresse de couche 2 se sont produites pendant la transmission. La FCS est calculée avant la transmission par le nœud émetteur et le résultat est inséré dans le champ FCS. À l’extrémité distante, une deuxième valeur FCS est calculée et comparée à la FCS de la trame. Si les résultats sont identiques, la trame est traitée. S’ils diffèrent, la trame est abandonnée. Frame Relay n’envoie aucun avertissement à la source en cas d’abandon de trame. Le contrôle d’erreur est à la charge des couches supérieures du modèle OSI.</p></content-text>
</page>
</topic>
<topic type="" id="tl1403010400">
<title><content-text>Topologies Frame Relay</content-text></title>
<page type="OneColumn" id="tl1403010401">
<content-media type="StaticGraphic" id="cm5487614246">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403010000/tl1403010400/tl1403010401/cm5487614246.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403010000/tl1403010400/tl1403010401/cm5487614246text.xml"/></content-media> <content-text><p>Lorsque plus de deux sites doivent être connectés, il s’avère nécessaire de réfléchir à la topologie des connexions. La topologie est un schéma ou une représentation visuelle du réseau Frame Relay. Pour avoir une bonne compréhension du réseau et des équipements utilisés pour le construire, vous devez considérer la topologie sous différents points de vue. Les topologies exhaustives pour la conception, la mise en œuvre, l’exploitation et la maintenance comprennent des schémas d’ensemble, des schémas de connexions logiques, des schémas fonctionnels et des schémas d’adressage montrant le détail des équipements et des canaux de liaison.</p> <p>Les réseaux Frame Relay rentables relient des dizaines voire des centaines de sites. Étant donné qu’un réseau de grande entreprise peut comprendre un nombre quelconque de fournisseurs de services, ainsi que des réseaux provenant de l’acquisition d’autres entreprises, la mise en schéma des topologies peut s’avérer très compliquée. Toutefois, chaque réseau ou segment de réseau peut être vu comme l’un des trois types de topologie suivants : topologie en étoile, à <content-link target="{271B7055-9646-48E0-B2FE-85EC28945C07}" type="glossary">maillage global</content-link> ou à <content-link target="{6E024616-6E45-4AAA-8C56-BBA15C402328}" type="glossary">maillage partiel</content-link>.</p> <p><b><content-link target="{862858B0-4A24-4D9D-9653-53D2884F7034}" type="glossary">Topologie en étoile</content-link> (Hub and Spoke)</b></p> <p>La topologie la plus simple d’un réseau étendu est la topologie en étoile, comme illustrée dans la figure. Dans cette topologie, le site central de Span Engineering agit en tant que <content-link target="{7671AC0D-EC0D-4CDF-8E5F-21CAD5FFF066}" type="glossary">concentrateur</content-link> et héberge les principaux services. Remarquez que la société Span a grandi par l’ouverture récente d’une filiale à San Jose. L’utilisation d’un réseau Frame Relay facilite relativement bien cette expansion. </p> <p>Les connexions aux cinq sites distants s’effectuent suivant les rayons. Dans une topologie en étoile, l’emplacement du concentrateur est généralement choisi en fonction du moindre coût de ligne louée. Avec une topologie en étoile pour Frame Relay, chaque site distant dispose d’une liaison d’accès au nuage Frame Relay avec un seul circuit virtuel. </p> <p><b>Cliquez sur le bouton Étoile FR dans la figure.</b></p> <p>Vous obtenez une représentation de la topologie en étoile dans le contexte d’un nuage Frame Relay. Le concentrateur de Chicago a une liaison d’accès avec plusieurs circuits virtuels, un pour chaque site distant. Les lignes sortant du nuage représentent les connexions venant du fournisseur de services Frame Relay, qui aboutissent aux locaux des clients. Ces lignes sont généralement caractérisées par des vitesses de 56 000 bits/s à E-1 (2,048 Mbits/s) et plus. Un ou plusieurs numéros DLCI sont attribués à chaque extrémité de ligne. Comme le coût de Frame Relay est indépendant de la distance, le concentrateur ne doit pas obligatoirement se trouver au centre du réseau.</p></content-text>
</page>
<page type="OneColumn" id="tl1403010402">
<content-media type="StaticGraphic" id="cm3964985158">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403010000/tl1403010400/tl1403010402/cm3964985158.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403010000/tl1403010400/tl1403010402/cm3964985158text.xml"/></content-media> <content-text><p><b>Topologie à maillage global</b></p> <p>Cette figure représente une topologie à maillage global avec lignes dédiées. Une topologie à maillage global convient dans le cas où l’accès aux services doit être très fiable et que ces services sont dispersés géographiquement. Une topologie à maillage global connecte un site à chacun des autres sites. L’utilisation de lignes louées pour les interconnexions, les interfaces série et les lignes supplémentaires viennent augmenter les coûts. Dans cet exemple, 10 lignes dédiées sont nécessaires pour interconnecter les sites dans une topologie à maillage global.</p> <p><b>Cliquez sur Maillage global FR dans la figure.</b></p> <p>Avec Frame Relay, un concepteur de réseau peut créer plusieurs connexions en configurant tout simplement des circuits virtuels supplémentaires sur chaque liaison existante. Cette mise à niveau logicielle fait évoluer la topologie en étoile en une topologie à maillage global, sans supplément de coût en matériel ou lignes dédiées. Comme les circuits virtuels utilisent le <content-link target="{8578B300-F6BE-467D-8D5D-EA2CA39ED123}" type="glossary">multiplexage statistique</content-link>, plusieurs circuits virtuels sur une liaison d’accès exploitent généralement mieux Frame Relay que des circuits isolés. La figure montre comment Span a fait évoluer son réseau, sans ajout de nouveau matériel, à l’aide de quatre circuits virtuels. Les fournisseurs de services facturent la bande passante supplémentaire, toutefois cette solution est plus économique que les lignes dédiées.</p> <p><b>Topologie à maillage partiel</b></p> <p>Dans le cas de grands réseaux, le maillage global est rarement abordable car le nombre de liaisons augmente de manière considérable. Il ne s’agit pas d’un problème de coût en matériel, mais bien de nombre de circuits virtuels dont la limite théorique est de 1000 par liaison. En pratique, la limite est inférieure à cette valeur théorique.</p> <p>C’est pour cette raison que les grands réseaux ont généralement une topologie à maillage partiel. Dans le maillage partiel, le nombre d’interconnexions est plus élevé que dans une disposition en étoile, mais moins élevé que dans un maillage global. L’arrangement effectif dépend des besoins en flux de données.</p></content-text>
</page>
</topic>
<topic type="" id="tl1403010500">
<title><content-text>Mappage des adresses Frame Relay</content-text></title>
<page type="OneColumn" id="tl1403010501">
<content-media type="AnimationPartialScreen" id="cm7397709732">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403010000/tl1403010500/tl1403010501/cm7397709732.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403010000/tl1403010500/tl1403010501/cm7397709732text.xml"/></content-media> <content-text><p>Pour qu’un routeur Cisco puisse transmettre des données par le protocole Frame Relay, la correspondance entre le DLCI local et l’adresse de couche 3 de destination doit être connue. Les routeurs Cisco prennent en charge tous les protocoles de la couche réseau passant par Frame Relay, comme les protocoles IP, IPX et AppleTalk. Ce mappage entre adresse et DLCI peut être réalisé de manière statique ou dynamique. </p> <p><b><content-link target="{E929D930-549C-4B58-AEA2-219C83A00AAF}" type="glossary">ARP inverse</content-link></b></p> <p>Le protocole de résolution d’adresse inverse (<content-link target="{F7079C99-BE20-4700-9BC0-B86545E71968}" type="glossary">Inverse Address Resolution Protocol</content-link>, <content-link target="{F76C8C60-1FFB-4488-96C0-8D598F58CF2D}" type="glossary">ARP</content-link>) obtient les adresses de couche 3 d’autres stations à partir des adresses de couche 2, comme le DLCI dans les réseaux Frame Relay. Ce protocole est principalement utilisé dans les réseaux Frame Relay et ATM, où les adresses de couche 2 des circuits virtuels sont parfois obtenues par la signalisation de couche 2. Les adresses correspondantes de couche 3 doivent être disponibles pour pouvoir utiliser ces circuits virtuels. Alors que l’ARP traduit les adresses de couche 3 en adresses de couche 2, l’ARP inverse effectue l’opération dans l’autre sens.</p> <p><b>Mappage dynamique</b></p> <p>Le <content-link target="{F0FD8021-5C28-4EA3-8475-8B73B6AD5EE9}" type="glossary">mappage d’adresse</content-link> dynamique s’appuie sur l’ARP inverse pour résoudre l’<content-link target="{C3277CFE-37D3-4FC9-BBC6-34699BEEFF60}" type="glossary">adresse de protocole</content-link> réseau du <content-link target="{F6C44F67-4253-4668-B1CB-79DDD64C8C16}" type="glossary">saut</content-link> suivant en une valeur DLCI locale. Le routeur Frame Relay envoie des demandes d’ARP inverse sur son circuit virtuel permanent pour détecter l’adresse de protocole du périphérique distant connecté au réseau Frame Relay. Le routeur utilise les réponses obtenues pour compléter une table de mappage d’adresse en DLCI sur le routeur Frame Relay ou sur le serveur d’accès. Le routeur établit et entretient cette table de mappage qui contient toutes les demandes d’ARP inverse résolues, y compris les entrées de mappage statique et dynamique. </p> <p>La figure montre le résultat de la commande <span class="cmd"><b>show frame-relay map</b></span>. Vous pouvez constater que l’interface est activée et que l’adresse IP de destination est 10.1.1.2. Le DLCI identifie la connexion logique utilisée pour atteindre cette interface. Cette valeur s’affiche de trois manières : en valeur décimale (102), en valeur hexadécimale (0x66) et en la valeur qui figurerait sur le câble (0x1860). Il s’agit d’une entrée statique et non d’une entrée dynamique. La liaison utilise l’encapsulation Cisco par opposition à l’encapsulation <content-link target="{464DCD4D-F164-49B2-A26C-CDCB982C86EE}" type="glossary">IETF</content-link>. </p> <p>Sur les routeurs Cisco, l’ARP inverse est activé par défaut pour tous les protocoles activés sur l’interface physique. Les paquets d’ARP inverse ne sont pas envoyés pour les protocoles qui ne sont pas activés sur l’interface. </p> <p><b>Cliquez sur le bouton Mappage statique dans la figure.</b></p> <p>L’utilisateur peut décider de remplacer le protocole de résolution inverse dynamique par un mappage manuel statique entre l’adresse de protocole du saut suivant et un DLCI local. Ce mappage statique fonctionne comme la résolution inverse dynamique en associant une adresse de protocole de saut suivant à un DLCI Frame Relay local. Vous ne pouvez pas utiliser le protocole de résolution d’adresse inverse et une instruction de mappage pour le même DLCI et le même protocole.</p> <p>Le cas d’un routeur situé de l’autre côté d’un réseau Frame Relay, et qui ne prend pas en charge la résolution dynamique inverse pour un protocole réseau spécifique, est un exemple d’utilisation du mappage statique. Pour permettre l’accès, un mappage statique est nécessaire pour résoudre l’adresse de couche réseau distante en un DLCI local.</p> <p>Un autre exemple est un réseau Frame Relay dans une topologie en étoile. Dans ce cas, le mappage statique s’utilise sur les routeurs situés sur les rayons pour permettre l’accès de rayon à rayon. Comme il n’y a pas de connectivité entre les routeurs situés sur les rayons, la résolution d’adresse inverse ne fonctionnerait pas entre eux. Le protocole de résolution d’adresse inverse se base sur la présence d’une connexion directe point à point entre deux extrémités. Dans ce cas, la résolution dynamique inverse ne fonctionne qu’entre le concentrateur et les rayons. L’accès d’un rayon à l’autre nécessite un mappage statique.</p>  <p><b>Configuration du mappage statique</b></p> <p>La mise en place d’un mappage statique dépend des besoins du réseau. Voici les différentes commandes de configuration :</p> <p>Pour associer une adresse de protocole de saut suivant à une <content-link target="{7E5BE7E0-497A-40A8-85E5-9FA3BA28D996}" type="glossary">adresse de destination</content-link> DLCI, utilisez la commande : <span class="cmd"><b>frame-relay map protocol </b><i>adresse-protocole dlci</i> [broadcast] [<b>ietf</b>] [<b>cisco</b>]</span>.</p> <p>Utilisez le mot clé <span class="cmd"><b>ietf</b></span> si vous vous connectez à un routeur d’une marque autre que Cisco.</p> <p>Dans le cas du <content-link target="{9F91BEA6-2461-4B6D-AE0A-92A314E60917}" type="glossary">protocole SPF ouvert</content-link> (OSPF), vous pouvez simplifier considérablement la configuration en ajoutant le mot clé optionnel <span class="cmd"><b>broadcast</b></span>.</p> <p>La figure présente un exemple de mappage statique sur un routeur Cisco. Dans cet exemple, le mappage d’adresse statique s’effectue sur l’interface série 0/0/0. L’encapsulation Frame Relay utilisée sur DLCI 102 est CISCO. Comme vous venez de le voir dans les étapes de configuration, le mappage d’adresse statique à l’aide de la commande <span class="cmd"><b>frame-relay map</b></span> permet à l’utilisateur de sélectionner le type d’encapsulation Frame Relay utilisé par chaque circuit virtuel.  La configuration du mappage statique est abordée de manière plus approfondie dans la section suivante. </p></content-text>
</page>
<page type="OneColumn" id="tl1403010502">
<content-media type="StaticGraphic" id="cm2132619332">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403010000/tl1403010500/tl1403010502/cm2132619332.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403010000/tl1403010500/tl1403010502/cm2132619332text.xml"/></content-media> <content-text><p><b>Interface de supervision locale (<content-link target="{BB618621-4FE1-4FB2-963C-7A6030E63462}" type="glossary">LMI</content-link>)</b></p> <p>Un rappel de l’histoire des réseaux permet de mieux comprendre le rôle qu’a joué l’interface de supervision locale ou LMI (Local Management Interface). Le concept de Frame Relay assure la transmission de données à commutation de paquets avec un minimum de retard de bout en bout. La conception initiale omet tout ce qui peut contribuer à ce retard. </p> <p>Quand les fournisseurs ont mis en œuvre Frame Relay à titre de technologie séparée et non plus de simple composant du RNIS, ils ont décidé qu’il était nécessaire que les ETTD puissent acquérir de façon dynamique des informations sur l’état du réseau. Cette fonctionnalité ne figurait cependant pas dans le concept initial. Cisco, Digital Equipment Corporation (DEC), Northern Telecomet StrataCom constituèrent alors un consortium afin d’étendre le protocole Frame Relay et de lui ajouter d’autres possibilités pour des environnements de réseau Internet complexes. C’est l’ensemble de ces extensions que l’on appelle « interface de supervision locale ». </p> <p>La LMI est essentiellement un mécanisme de test d’activité qui fournit des informations sur les connexions Frame Relay entre le routeur (ETTD) et le commutateur Frame Relay (DCE). Environ toutes les 10 secondes, le périphérique final interroge le réseau pour obtenir soit une simple séquence de réponses, soit des informations sur l’état des canaux. Si le réseau ne fournit pas les informations demandées, le périphérique utilisateur peut considérer que la connexion est coupée. Si le réseau fournit une réponse à la demande FULL STATUS, cette réponse comprend des informations d’état sur les DLCI attribués à la ligne en question. Le périphérique final peut utiliser ces informations pour déterminer si les connexions logiques sont capables de relayer les données.</p> <p>La figure montre le résultat de la commande <span class="cmd"><b>show frame-relay lmi</b></span>. La sortie affichée comprend le type de LMI utilisé par l’interface Frame Relay, ainsi que les compteurs de la séquence d’échange sur l’état LMI, y compris les erreurs telles que des dépassements de temps LMI. </p> <p>L’interface LMI et l’encapsulation se confondent facilement. La LMI est une définition des messages utilisés entre l’ETTD (R1) et le DCE (commutateur Frame Relay du fournisseur de services). L’encapsulation définit les en-têtes utilisés par un ETTD pour communiquer des informations à son homologue situé à l’autre bout d’un circuit virtuel. Le commutateur et son routeur doivent veiller à utiliser la même LMI. Le commutateur n’est pas concerné par l’encapsulation. Les routeurs d’extrémité (ETTD) sont concernés par l’encapsulation.</p> <p><b>Extensions LMI</b></p> <p>En plus des fonctions protocolaires Frame Relay pour le transfert de données, la spécification Frame Relay comprend des extensions LMI optionnelles très utiles dans un environnement de réseau Internet. Voici quelques-unes de ces extensions : </p> <p><ul><li><b>Messages d’état des circuits virtuels</b> : ces messages fournissent des informations sur l’intégrité des circuits virtuels par le biais de la communication et de la synchronisation entre périphériques, en signalant périodiquement la suppression de circuits virtuels permanents ou la présence de nouveaux. Ces messages d’état évitent l’envoi de données à des <content-link target="{BDF2993F-E8CE-45F7-8C0D-517A4BEE7C39}" type="glossary">trous noirs</content-link> (circuits virtuels qui n’existent plus). </li><li><b>Multidiffusion</b> : permet à un émetteur de transmettre une même trame à plusieurs destinataires. La multidiffusion prend en charge la transmission efficace de messages protocolaires de routage et de procédures de <content-link target="{720FB956-705E-48F0-A392-7C77F7337F78}" type="glossary">résolution d’adresse</content-link> qui doivent être généralement transmis à plusieurs destinataires à la fois. </li><li><b>Adressage global</b> : donne une signification globale plutôt que locale aux identificateurs DLCI, ce qui permet de les utiliser pour désigner une interface spécifique du réseau Frame Relay. L’adressage global donne au réseau Frame Relay l’apparence d’un réseau local en termes d’adressage et les protocoles ARP fonctionnent exactement comme sur un réseau local.  </li><li><b>Contrôle de flux simple</b> : assure un mécanisme de contrôle de flux XON/XOFF qui s’applique à l’ensemble de l’interface Frame Relay. Cette extension concerne les périphériques dont les couches supérieures ne peuvent pas utiliser les bits de notification d’encombrement, mais qui nécessitent un certain contrôle de flux.</li></ul></p> <p><b>Cliquez sur le bouton Identificateurs LMI dans la figure.</b></p> <p>Le champ DLCI de 10 bits permet d’identifier 1024 circuits virtuels : de 0 à 1023. Les extensions LMI se réservent certains de ces identificateurs, ce qui réduit le nombre de circuits virtuels autorisés. L’ETTD et le DCE s’échangent des messages LMI à l’aide de ces identificateurs DLCI réservés.</p> <p>Il existe plusieurs types d’interfaces LMI, toutes mutuellement incompatibles. Le type de LMI configuré sur le routeur doit correspondre au type utilisé par le fournisseur de services. Trois types d’interfaces LMI sont pris en charge par les routeurs Cisco : </p> <p><ul><li> Cisco : extension LMI d’origine ;</li><li> Ansi : correspondant à la norme <content-link target="{77662412-0E71-4F25-821F-BB463C17627D}" type="glossary">ANSI</content-link> T1.617 annexe D ; </li><li> q933a : correspondant à la norme ITU Q933 annexe A.</li></ul></p> <p>Depuis la version 11.2 du <content-link target="{D6B6D994-6D7F-48CF-8B32-4F45277B15FD}" type="glossary">logiciel Cisco IOS</content-link>, la fonction de détection de LMI par défaut détecte le type de LMI pris en charge par le commutateur Frame Relay directement connecté.  En fonction des messages d’état LMI reçus du commutateur Frame Relay, le routeur configure automatiquement son interface suivant le type de LMI accepté par le commutateur en question. </p> <p>Si vous devez définir le type de LMI, utilisez la commande de configuration d’interface <span class="cmd"><b>frame-relay lmi-type</b> [<b>cisco</b> | <b>ansi</b> | <b>q933a</b>]</span>. Le fait de configurer le type d’interface LMI désactive la fonction de détection automatique.</p> <p>Lorsque vous définissez manuellement le type de LMI, vous devez configurer l’<content-link target="{6E887B0C-B43C-4F86-AFBA-887702E7E15F}" type="glossary">intervalle de test d’activité</content-link> sur l’interface Frame Relay pour éviter le dépassement de temps lors des échanges d’état entre le routeur et le commutateur. Les messages d’échange d’état LMI définissent l’état de la connexion du circuit virtuel permanent. Par exemple, en cas d’écart important entre les intervalles de test d’activité du routeur et du commutateur, le commutateur peut signaler que le routeur est en panne.</p> <p>Par défaut, l’intervalle de test d’activité est de 10 secondes sur les interfaces série Cisco. Vous pouvez changer cet intervalle à l’aide de la commande de configuration d’interface <span class="cmd"><b>keepalive</b></span>. </p> <p>Au cours d’un prochain exercice, vous aurez l’occasion de mettre en pratique la configuration du type de LMI et de l’intervalle « keepalive ».</p></content-text>
</page>
<page type="OneColumn" id="tl1403010503">
<content-media type="StaticGraphic" id="cm4020609697">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403010000/tl1403010500/tl1403010503/cm4020609697.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403010000/tl1403010500/tl1403010503/cm4020609697text.xml"/></content-media> <content-text><p><b>Format des trames LMI</b></p> <p>Les messages LMI sont contenus dans une variante des trames LAPF. Le champ d’adresse contient l’un des identificateurs DLCI réservés. Il est suivi des champs de contrôle, d’indicateur de protocole et de référence d’appel, qui restent inchangés. Le quatrième champ indique le type de message LMI. </p> <p>Les messages d’état facilitent la vérification de l’intégrité des liaisons logiques et physiques. Ces informations sont vitales au sein d’un environnement de routage, car les protocoles de routage fondent leurs décisions sur l’intégrité des liaisons.</p></content-text>
</page>
<page type="OneColumn" id="tl1403010504">
<content-media type="InteractiveGraphicHotspots" id="cm4386416663">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403010000/tl1403010500/tl1403010504/cm4386416663.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403010000/tl1403010500/tl1403010504/cm4386416663text.xml"/></content-media> <content-text><p><b>Utilisation de l’interface LMI et de l’ARP inverse pour le mappage des adresses</b></p> <p>Les messages d’état LMI associés aux messages d’ARP inverse permettent à un routeur d’établir la correspondance entre les adresses de couche réseau et de couche liaison de données. </p> <p><b>Cliquez sur les boutons LMI 1 et Lire </b>pour observer comment le processus LMI commence. </p> <p>Dans cet exemple, lorsque R1 se connecte au réseau Frame Relay, il envoie un message de requête d’état LMI au réseau. Le réseau répond par un message d’état LMI contenant des informations sur chaque circuit virtuel configuré sur la liaison d’accès. </p> <p>Le routeur répète régulièrement cette requête. Toutefois, les réponses ultérieures n’incluent que les changements d’état. Après un nombre prédéfini de ces réponses abrégées, le réseau envoie un message d’état complet.</p> <p><b>Cliquez sur les boutons LMI 2 et Lire</b> pour observer la phase suivante. </p> <p>Si le routeur doit mapper les circuits virtuels à des adresses de couche réseau, il envoie un message d’ARP inverse sur chaque circuit virtuel. Ce message contient l’adresse de couche réseau du routeur, afin que l’ETTD ou le routeur distant puisse également procéder au mappage. La réponse d’ARP inverse permet au routeur d’inscrire sles entrées nécessaires dans sa table de mappage entre adresses et identificateurs DLCI. Si plusieurs protocoles de couche réseau sont pris en charge par la liaison, des messages d’ARP inverse sont renvoyés pour chacun d’entre eux.</p></content-text>
</page>
<page type="FullScreen" id="tl1403010505">
<content-media type="ActivityCustom" id="cm2569383922">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403010000/tl1403010500/tl1403010505/cm2569383922.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403010000/tl1403010500/tl1403010505/cm2569383922text.xml"/></content-media> <content-text><p>Exercice : Concepts fondamentaux du protocole Frame Relay</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1403020000">
<title><content-text>Configuration de Frame Relay</content-text></title>
<topic type="" id="tl1403020100">
<title><content-text>Frame Relay de base</content-text></title>
<page type="OneColumn" id="tl1403020101">
<content-media type="StaticGraphic" id="cm2785159447">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403020000/tl1403020100/tl1403020101/cm2785159447.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403020000/tl1403020100/tl1403020101/cm2785159447text.xml"/></content-media> <content-text><p><b>Opérations de configuration de Frame Relay</b></p> <p>La configuration de Frame Relay sur un routeur Cisco s’effectue à l’aide de l’<content-link target="{5281C233-1AD0-4180-BD50-D82CF6ED688A}" type="glossary">interface de ligne de commande</content-link> (<content-link target="{F05D9C81-B737-4B28-BAC0-0B648043D086}" type="glossary">ILC</content-link>) du logiciel Cisco IOS. Cette section décrit les étapes à effectuer pour activer Frame Relay sur un réseau, ainsi que certaines étapes facultatives permettant d’améliorer ou de personnaliser la configuration.</p> <p>La figure illustre le modèle de configuration de base utilisé dans cette présentation. Plus loin dans cette section, du matériel supplémentaire complétera le diagramme pour permettre d’expliquer des opérations de configuration plus complexes. Dans la présente section, vous allez configurer les routeurs Cisco en tant qu’équipements d’accès (ETTD) Frame Relay, connectés directement à un commutateur Frame Relay dédié (DCE). </p> <p>La figure présente une configuration typique de Frame Relay, ainsi que la liste des étapes à effectuer. Celles-ci sont expliquées et mises en pratique dans le présent chapitre.</p></content-text>
</page>
<page type="OneColumn" id="tl1403020102">
<content-media type="StaticGraphic" id="cm7486392971">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403020000/tl1403020100/tl1403020102/cm7486392971.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403020000/tl1403020100/tl1403020102/cm7486392971text.xml"/></content-media> <content-text><p><b>Activation de l’encapsulation Frame Relay</b></p> <p>Cette première figure montre comment Frame Relay a été configuré sur les interfaces série. Les opérations comprennent l’attribution d’une adresse IP, la définition du type d’encapsulation et l’allocation d’une bande passante. La figure montre des routeurs à chaque extrémité de la liaison Frame Relay, ainsi que les scripts de configuration pour les routeurs R1 et R2. </p> <p><b>Étape 1. Définition de l’adresse IP sur l’interface</b></p> <p>Sur un routeur Cisco, le protocole Frame Relay est généralement pris en charge sur des interfaces série synchrones. Pour définir l’adresse IP de l’interface, utilisez la commande <span class="cmd"><b>ip address</b></span>. Vous pouvez voir que l’adresse 10.1.1.1/24 a été attribuée à R1 et que R2 a reçu l’adresse 10.1.1.2/24.</p> <p><b>Étape 2. Configuration de l’encapsulation</b></p> <p>La commande de configuration d’interface <span class="cmd"><b>encapsulation frame-relay</b></span> active l’encapsulation Frame Relay et permet le traitement du protocole Frame Relay sur l’interface prise en charge. Vous avez le choix entre deux options d’encapsulation qui sont décrites plus bas.</p> <p><b>Étape 3. Définition de la bande passante</b></p> <p>Pour définir la bande passante de l’interface série, utilisez la commande <span class="cmd"><b>bandwidth</b></span>. La bande s’exprime en Kbits/s. Cette commande indique au protocole de routage que la bande passante est définie de manière statique sur la liaison. Les protocoles de routage EIGRP et OSPF utilisent la valeur de la bande passante pour calculer et déterminer la <content-link target="{7DC7A987-4216-4F86-853A-969E2B969513}" type="glossary">mesure</content-link> de la liaison. </p> <p><b>Étape 4. Définition du type de LMI (facultatif)</b></p> <p>Cette étape est facultative, étant donné que les routeurs Cisco détectent le type d’interface LMI. Souvenez-vous que Cisco prend en charge les trois types de LMI suivants : Cisco, ANSI annexe D et Q933-A annexe A. Le type de LMI par défaut pour les routeurs Cisco est « cisco ». </p> <p><b>Options d’encapsulation</b></p> <p>Sur un routeur Cisco, souvenez-vous que le type d’encapsulation par défaut d’une interface série est la version propriétaire Cisco de la procédure HDLC.Pour passer de l’encapsulation HDLC à Frame Relay, utilisez la commande <span class="cmd"><b>encapsulation frame-relay</b> [<b>cisco</b> | <b>ietf</b>]</span>. La forme <span class="cmd"><b>no</b></span> de la commande <span class="cmd"><b>encapsulation frame-relay</b></span> supprime l’encapsulation Frame Relay de l’interface et rétablit l’encapsulation HDLC par défaut. </p> <p>L’encapsulation Frame Relay par défaut activée sur les interfaces prises en charge est l’encapsulation Cisco. Utilisez cette option pour effectuer une connexion à un autre routeur Cisco. De nombreux équipements autres que Cisco prennent également en charge ce type d’encapsulation. Celle-ci se compose d’un en-tête de 4 octets, dont 2 octets sont utilisés pour le DLCI et les 2 autres pour identifier le type de paquet.</p> <p>Le type d’encapsulation IETF est conforme aux recommandations RFC 1490 et RFC 2427. Cette option s’utilise en cas de connexion à un routeur autre que Cisco.</p> <p><b>Cliquez sur le bouton Vérification de la configuration dans la figure.</b></p> <p>Le résultat de la commande <span class="cmd"><b>show interfaces serial</b></span> qui s’affiche permet de vérifier la configuration.</p></content-text>
</page>
</topic>
<topic type="" id="tl1403020200">
<title><content-text>Configuration des mappages statiques Frame Relay</content-text></title>
<page type="OneColumn" id="tl1403020201">
<content-media type="StaticGraphic" id="cm3862626163">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403020000/tl1403020200/tl1403020201/cm3862626163.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403020000/tl1403020200/tl1403020201/cm3862626163text.xml"/></content-media> <content-text><p><b>Configuration d’un mappage statique Frame Relay</b></p> <p>Dans un réseau Frame Relay, les routeurs Cisco prennent en charge tous les protocoles de la couche réseau, tels que IP, IPX et AppleTalk. Le mappage entre les adresses et les DLCI peut être soit dynamique, soit statique. </p> <p>Le mappage dynamique est réalisé par la fonction d’ARP inverse. Comme l’ARP inverse est activé par défaut, la configuration du mappage dynamique sur une interface ne demande aucune commande supplémentaire. </p> <p>Le mappage statique s’effectue manuellement sur un routeur. La mise en place d’un mappage statique dépend des besoins du réseau. Pour établir la correspondance entre l’adresse de protocole du saut suivant et une adresse de destination DLCI, utilisez la commande <span class="cmd"><b>frame-relay map </b><i>protocole adresse-protocole dlci </i>[<b>broadcast</b>]</span>.</p> <p><b>Utilisation du mot clé « broadcast »</b></p> <p>Les réseaux Frame Relay, ATM et X.25 sont des réseaux à accès multiple sans diffusion (<content-link target="{6EF68589-8408-42CC-A79F-193DA28A7A1F}" type="glossary">NBMA</content-link>, pour « non-broadcast multiple access » en anglais). Les réseaux NBMA ne permettent le transfert de données que d’un ordinateur à l’autre sur un circuit virtuel ou au travers d’un périphérique de commutation. Les réseaux NBMA ne prennent pas en charge le trafic de type diffusion ou multidiffusion. Un paquet ne peut donc pas atteindre toutes les destinations. Cette restriction vous oblige à dupliquer les paquets manuellement pour obtenir la diffusion. </p> <p>Certains protocoles de routage peuvent requérir des options de configurations supplémentaires. C’est le cas, par exemple, des protocoles RIP, EIGRP et OSPF pour leur prise en charge sur des réseaux NBMA.</p> <p>Comme le NBMA ne prend pas en charge le trafic de diffusion, l’utilisation du mot clé <span class="cmd"><b>broadcast</b></span> est une méthode simplifiée de transfert des <content-link target="{6F093416-7965-4730-94FB-C60F0F92D8E7}" type="glossary">mises à jour du routage</content-link>. Le mot clé <span class="cmd"><b>broadcast</b></span> permet la diffusion et la multidiffusion sur le circuit virtuel permanent. En réalité, il est converti en <content-link target="{E58DFCA8-F518-4924-80E4-F117A1079B68}" type="glossary">monodiffusion</content-link> de sorte que les autres nœuds reçoivent les mises à jour du routage.</p> <p>Dans l’exemple de configuration, R1 utilise la commande <span class="cmd"><b>frame-relay map</b></span> pour mapper le circuit virtuel sur R2. </p> <p><b>Cliquez sur le bouton Paramètres dans la figure.</b></p> <p>La figure montre comment utiliser les mots clés pour configurer le mappage statique des adresses. </p> <p><b>Cliquez sur le bouton Vérifier dans la figure.</b></p> <p>Pour vérifier le mappage Frame Relay, servez-vous de la commande <span class="cmd"><b>show frame-relay map</b></span>.</p></content-text>
</page>
<page type="OneColumn" id="tl1403020202">
<content-media type="ActivityPKA" id="cm8242207652">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403020000/tl1403020200/tl1403020202/cm8242207652/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1403000000/tl1403020000/tl1403020200/tl1403020202/cm8242207652/icontext.xml"/></content-media> <content-text><p>Au cours de cet exercice, vous allez configurer deux mappages statiques Frame Relay sur chaque routeur pour joindre deux autres routeurs. Bien que le type de LMI soit détecté sur les routeurs, vous allez l’affecter de manière statique en configurant l’interface LMI manuellement. Des instructions détaillées sont fournies tout au long de l’exercice, ainsi que dans le fichier PDF accessible par le lien suivant. </p> <p><content-link target="E4_PTAct_3_2_2.pdf" type="internalfile">Instructions pour l’exercice (PDF)</content-link></p> <p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1403030000">
<title><content-text>Concepts avancés du protocole Frame Relay</content-text></title>
<topic type="" id="tl1403030100">
<title><content-text>Résolution des problèmes d’accessibilité</content-text></title>
<page type="OneColumn" id="tl1403030101">
<content-media type="StaticGraphic" id="cm8573573359">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403030000/tl1403030100/tl1403030101/cm8573573359.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403030000/tl1403030100/tl1403030101/cm8573573359text.xml"/></content-media> <content-text><p><b>Découpage d’horizon</b></p> <p>Par défaut, un réseau Frame Relay fournit une connectivité de type NBMA entre deux sites distants. Les nuages NBMA présentent généralement une topologie en étoile appelée également « Hub and Spoke ». Malheureusement, un routage élémentaire reposant sur le principe du découpage d’horizon peut engendrer des problèmes d’accès sur un réseau Frame Relay de type NBMA.</p> <p>Souvenez-vous que le découpage d’horizon est une technique de prévention de boucles de routage dans les réseaux fonctionnant avec des protocoles de routage à vecteur de distance. Les mises à jour du découpage d’horizon réduisent les boucles de routage en empêchant qu’une mise à jour du routage reçue sur une interface physique ne soit retransmise par la même interface. </p> <p>La figure représente un routeur de rayon R2 envoyant une mise à jour du routage au routeur concentrateur R1.</p> <p>Les routeurs qui prennent en charge plusieurs connexions sur une seule interface physique ont de nombreux circuits virtuels permanents qui aboutissent à une seule interface. R1 doit répliquer les paquets de diffusion, tels que les mises à jour du routage, sur chaque circuit virtuel permanent, pour atteindre les routeurs distants. Les paquets de diffusion répliqués peuvent consommer de la bande passante et occasionner une latence significative du trafic utilisateur. Le volume du trafic de diffusion et le nombre de circuits virtuels aboutissant à chaque routeur doivent être évalués dans la phase de conception d’un réseau Frame Relay. Le trafic de contrôle, tel que les mises à jour du routage, peut affecter la livraison de données utilisateur vitales, en particulier lorsque les chemins suivis comportent des liaisons à faible bande passante (56 Kbits/s).</p> <p><b>Cliquez sur le bouton Problème de découpage d’horizon dans la figure.</b></p> <p>R1 est connecté à plusieurs circuits virtuels permanents par une même interface physique. La règle de découpage d’horizon empêche donc R1 de <content-link target="{91C066F9-E98E-4009-A3E4-B87B09CA1D33}" type="glossary">réacheminer</content-link> les mises à jour du routage par la même interface physique vers d’autres routeurs distants situés sur un rayon (R3). </p> <p>La désactivation du mécanisme de découpage d’horizon peut paraître une solution simple, car elle permet le réacheminement des mises à jour du routage par la même interface physique d’où elles proviennent. Toutefois, seul le protocole IP permet de désactiver le découpage d’horizon. Les protocoles IPX et Apple Talk ne le permettent pas. Le fait de désactiver le découpage d’horizon augmente donc le risque de boucles de routage dans le réseau. Il pourrait être désactivé dans le cas d’interfaces physiques à un seul circuit virtuel permanent. </p> <p>L’autre méthode évidente pour résoudre le problème de découpage d’horizon consiste à utiliser une topologie à maillage global. En revanche, cette solution est coûteuse car elle requiert un plus grand nombre de circuits virtuels permanents. La meilleure solution consiste à utiliser des sous-interfaces. Ce sujet fait l’objet de la section suivante.</p></content-text>
</page>
<page type="OneColumn" id="tl1403030102">
<content-media type="InteractiveGraphicHotspots" id="cm4056270594">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403030000/tl1403030100/tl1403030102/cm4056270594.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403030000/tl1403030100/tl1403030102/cm4056270594text.xml"/></content-media> <content-text><p><b>Sous-interfaces Frame Relay</b></p> <p>Frame Relay peut partitionner une interface physique en plusieurs interfaces virtuelles appelées sous-interfaces. Une sous-interface est tout simplement une interface logique directement associée à une interface physique. Il est donc possible de configurer une sous-interface Frame Relay pour chaque circuit virtuel permanent connecté à une interface physique série.</p> <p>Pour activer le réacheminement de mises à jour du routage en diffusion au sein d’un réseau Frame Relay, vous pouvez configurer le routeur en lui affectant des sous-interfaces logiques. Un réseau à maillage partiel peut être divisé en un certain nombre de réseaux à maillage global point à point plus petits. Chaque <content-link target="{2DB10BCA-02AA-4A8E-847A-77D70E0CE2E9}" type="glossary">sous-réseau</content-link> point à point peut recevoir une adresse réseau unique. Les paquets reçus sur une interface physique peuvent alors être réacheminés sur cette même interface, car ils passent par des circuits virtuels connectés à des sous-interfaces différentes.</p>  <p>Les sous-interfaces Frame Relay peuvent être configurées en mode point à point ou multipoint : </p> <p><ul><li>Point à point : une sous-interface point à point établit une connexion par circuit virtuel permanent à une interface physique ou à une sous-interface d’un routeur distant. Dans ce cas, chaque paire de routeurs point à point réside sur son propre sous-réseau et chaque sous-interface point à point ne dispose que d’un identificateur DLCI. Dans un environnement point à point, chaque sous-interface agit comme une interface point à point. En général, chaque circuit virtuel point à point correspond à un sous-réseau séparé. Par conséquent, le trafic des mises à jour du routage n’est pas soumis à la règle du découpage d’horizon. </li><li>Multipoint : une seule sous-interface établit plusieurs connexions de circuit virtuel permanent à plusieurs interfaces physiques ou sous-interfaces sur des routeurs distants. Toutes les interfaces participantes se trouvent dans le même sous-réseau. La sous-interface fonctionne comme une interface Frame Relay NBMA, de telle sorte que le trafic des mises à jour du routage est soumis à la règle du découpage d’horizon. Tous les circuits virtuels multipoint appartiennent généralement au même sous-réseau.</li></ul></p> <p>La figure illustre deux types de sous-interfaces pris en charge par les routeurs Cisco. </p> <p>Dans les environnements de routage à découpage d’horizon, les mises à jour du routage reçues au niveau d’une sous-interface peuvent être relayées à une autre sous-interface. Dans une configuration de sous-interface, chaque circuit virtuel peut être configuré comme une connexion point à point. Ceci permet à chaque sous-interface de fonctionner comme une ligne louée. Avec une sous-interface point à point Frame Relay, chaque paire de routeurs point à point réside dans son propre sous-réseau. </p> <p>La commande <span class="cmd"><b>encapsulation frame-relay</b></span> s’applique à l’interface physique. Tous les autres éléments de configuration, tels que l’adresse de couche réseau et les identificateurs DLCI, s’appliquent à la sous-interface. </p> <p>Vous pouvez utiliser des configurations multipoint pour conserver les adresses. Cette propriété est particulièrement utile si le masque de sous-réseau de longueur variable (<content-link target="{09497C10-1D65-4F70-A1E4-6085F27D47A2}" type="glossary">VLSM</content-link>) n’est pas utilisé. Toutefois, les configurations multipoint risquent de ne pas fonctionner correctement, compte tenu du trafic de multidiffusion et du découpage d’horizon. L’option de sous-interface point à point a été créée pour éviter ces problèmes.</p> <p>Dans la figure, <b>placez le pointeur sur Sous-interface point à point et Sous-interface multipoint</b> pour obtenir un résumé des descriptions.</p> <p>La configuration des sous-interfaces est expliquée et mise en pratique dans la section qui suit.</p></content-text>
</page>
</topic>
<topic type="" id="tl1403030200">
<title><content-text>Paiement de Frame Relay</content-text></title>
<page type="OneColumn" id="tl1403030201">
<content-media type="StaticGraphic" id="cm6904970424">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403030000/tl1403030200/tl1403030201/cm6904970424.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403030000/tl1403030200/tl1403030201/cm6904970424text.xml"/></content-media> <content-text><p><b>Terminologie fondamentale</b></p> <p>Les fournisseurs de services créent des réseaux Frame Relay à l’aide de commutateurs très puissants et de très grande taille. Toutefois, en tant que clients, vos périphériques ne voient que l’interface du commutateur du fournisseur de services. En général, les clients ne voient pas le fonctionnement interne du réseau qui peut être élaboré à l’aide de technologies à grand débit, comme T1, T3, SONET ou ATM. </p> <p>Du point de vue du client, Frame Relay ne constitue alors qu’une interface avec un ou plusieurs circuits virtuels permanents. Les clients ne font qu’acheter des services Frame Relay à un fournisseur de services. Avant de considérer le mode de paiement des services Frame Relay, il convient cependant de connaître certains termes essentiels, comme le montre la figure.</p> <p><ul><li><b>Débit d’accès ou vitesse du port</b> : du point de vue du client, le fournisseur de services fournit une connexion série ou liaison d’accès au réseau Frame Relay sur une ligne louée. La vitesse de la ligne est assujettie au débit d’accès ou à la vitesse du port. Le débit d’accès est le débit auquel les circuits accèdent au réseau Frame Relay. Ces débits sont généralement de 56 Kbits/s, de 1,536 Mbits/s (T1) ou d’un multiple de 56 Kbits/s ou 64 Kbits/s (T1 fractionnée). Les vitesses des ports sont cadencées sur le commutateur Frame Relay. Il n’est pas possible d’envoyer des données à une vitesse supérieure à celle du port.</li><li><b><content-link target="{F55D099C-96B8-4C90-A22F-9389C451100F}" type="glossary">Débit de données garanti </content-link> (<content-link target="{C266357E-1E6F-4E28-8AB9-3DAFB2750B0D}" type="glossary">CIR</content-link> ou Committed Information Rate)</b> : les clients négocient ce débit avec leurs fournisseurs de services pour chaque circuit virtuel permanent. Le CIR est la quantité de données que le réseau reçoit du circuit d’accès. Le fournisseur de services garantit que le client peut envoyer des données au débit garanti. Toutes les trames reçues à un débit égal ou inférieur au CIR sont acceptées.  </li></ul></p> <p>Le gros avantage de Frame Relay est de mettre à la disposition des clients ou de partager entre eux toute la capacité inutilisée du réseau, en général sans coût supplémentaire.  Les clients peuvent ainsi bénéficier de « rafales » supérieures à leur CIR. L’envoi de données en rafale est expliqué dans la section qui suit.</p> <p><b>Cliquez sur le bouton Exemple dans la figure.</b></p> <p>Dans cet exemple, hormis tout frais d’équipement d’abonné, le client paie les trois éléments de coût Frame Relay suivants :</p> <p><ul><li>Débit d’accès ou vitesse du port : coût de la liaison d’accès de l’ETTD au DCE (entre client et fournisseur de services). Le coût de cette liaison est facturé en fonction de la vitesse de port négociée et installée. </li><li>Circuit virtuel permanent : cet élément de coût dépend des circuits virtuels permanents. Lorsqu’un circuit virtuel est établi, le supplément de coût pour augmenter le débit de données garanti est généralement faible. Cette augmentation peut se faire par petits incréments (4 Kbits/s).</li><li>Débit de données garanti (CIR) : les clients choisissent généralement un débit de données garanti inférieur au débit d’accès ou à la vitesse du port. Ils peuvent ainsi bénéficier des rafales de données.</li></ul></p> <p>Dans l’exemple, le client paie ce qui suit :</p> <p><ul><li>une ligne d’accès d’un débit de 64 Kbits/s connectant leur ETTD au DCE du fournisseur de services par un port série S0/0/0 ;</li><li>deux ports virtuels, l’un à 32 Kbits/s et l’autre à 16 Kbits/s ;</li><li>un CIR de 48 Kbits/s sur l’ensemble du réseau Frame Relay. Il s’agit habituellement de frais non liés à la distance.</li></ul></p> <p><b>Surréservation</b></p> <p>Les fournisseurs de services vendent parfois plus de bande passante qu’ils n’en disposent, en supposant que les clients n’utilisent pas en permanence toute la bande passante à laquelle ils ont droit. Cette surréservation est analogue à celle pratiquée par les compagnies aériennes qui vendent plus de places qu’elles n’en disposent, en se basant sur les annulations de dernière minute. Du fait de cette surréservation, il peut arriver que la somme des CIR de plusieurs circuits virtuels permanents soit supérieure à la vitesse du port ou du canal d’accès de ces circuits. Il peut en résulter des problèmes de trafic, comme l’encombrement ou l’abandon de trafic.</p></content-text>
</page>
<page type="OneColumn" id="tl1403030202">
<content-media type="StaticGraphic" id="cm3981101436">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403030000/tl1403030200/tl1403030202/cm3981101436.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403030000/tl1403030200/tl1403030202/cm3981101436text.xml"/></content-media> <content-text><p><b>Rafales</b></p> <p>Le gros avantage de Frame Relay est de mettre à la disposition des clients ou de partager entre eux toute la capacité inutilisée du réseau, en général sans coût supplémentaire.  </p> <p>Reprenons l’exemple précédent ; la figure montre un débit d’accès de 64 Kbits/s sur le port série S0/0/0 du routeur R1. Ce débit est supérieur à la somme des CIR des deux circuits virtuels permanents. Dans des conditions normales, les deux circuits virtuels ne peuvent pas transmettre respectivement plus de 32 Kbits/s et 16 Kbits/s. Dans la mesure où la quantité de données transmise par les deux circuits ne dépasse pas leur CIR, le débit est accepté par le réseau.  </p> <p>Comme les circuits physiques du réseau Frame Relay sont partagés entre les abonnés, il arrive souvent qu’un surplus de bande passante soit disponible. Frame Relay permet à des clients d’accéder de manière dynamique à cette bande passante supplémentaire et d’envoyer gratuitement des « rafales » de données supérieures à leur CIR. </p> <p>La transmission en rafale permet à des périphériques d’emprunter, sans frais supplémentaire, de la bande passante à d’autres qui n’en ont pas besoin temporairement. Par exemple, si le circuit virtuel permanent 102 doit transmettre un gros fichier, il peut utiliser les 16 Kbits/s non utilisés par le circuit virtuel permanent 103. Un périphérique peut transmettre avec succès des rafales de données dépassant le débit d’accès. La durée de la rafale doit être courte, moins de trois à quatre secondes. </p> <p>Différents termes sont utilisés pour décrire les débits de rafale, comme le débit garanti en rafale (CBIR ou Committed Burst Information Rate) et le <content-link target="{DA1FD5B0-203E-425D-B049-FD0FA871EC68}" type="glossary">débit garanti en excès</content-link> (<content-link target="{202EBB51-045E-4F3D-BDF4-80F9238A3549}" type="glossary">Be</content-link> ou Excess Burst). </p> <p>Le CBIR est un débit négocié en plus du CIR que le client peut utiliser pour transmettre de courtes rafales. Il permet d’augmenter le débit du trafic lorsque la bande passante du réseau le permet. En revanche, il ne permet pas de dépasser la vitesse du port de la liaison. Un périphérique peut transmettre en rafale avec succès jusqu’au débit CBIR. La durée de la rafale doit être courte, moins de trois à quatre secondes. Si de longues rafales persistent, le client doit prévoir l’achat d’un CIR plus élevé.</p> <p>Par exemple, DLCI 102 a un CIR de 32 Kbits/s avec un supplément de CBIR de 16 Kbits/s pour un total de 48 Kbits/s. Les trames transmises à ce débit sont identifiées par le <content-link target="{AD7166BB-58A5-45C5-BB72-F4F594FB6506}" type="glossary">bit d’éligibilité à la suppression</content-link> (<content-link target="{04289656-F035-4BC0-9E01-4D125F80E3D7}" type="glossary">DE</content-link> ou Discard Eligible) dans l’en-tête de trame, ce qui indique qu’elles peuvent être abandonnées en cas d’encombrement ou de bande passante insuffisante du réseau. Les trames dans les limites du CIR négocié ne sont pas sujettes à l’abandon (DE = 0). Les trames dont le débit est supérieur au CIR ont leur bit DE fixé à 1, ce qui les rend éligibles à la suppression en cas d’encombrement du réseau. </p> <p>Le terme anglais BE est utilisé pour décrire la bande passante disponible au-dessus du CBIR jusqu’au débit d’accès de la liaison. Contrairement au CBIR, ce surplus de débit n’est pas négocié. Des trames peuvent être transmises à ce débit, mais elles sont particulièrement susceptibles d’être abandonnées. </p> <p><b>Cliquez sur le bouton Rafales dans la figure.</b></p> <p>La figure illustre la relation entre les différents termes de la transmission en rafale. </p></content-text>
</page>
</topic>
<topic type="" id="tl1403030300">
<title><content-text>Contrôle de flux Frame Relay</content-text></title>
<page type="OneColumn" id="tl1403030301">
<content-media type="AnimationPartialScreen" id="cm9584925919">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403030000/tl1403030300/tl1403030301/cm9584925919.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403030000/tl1403030300/tl1403030301/cm9584925919text.xml"/></content-media> <content-text><p>Frame Relay réduit la charge de contrôle du réseau par la mise en œuvre de mécanismes de notification d’encombrement simples plutôt qu’un contrôle de flux explicite par circuit virtuel. Ces mécanismes de notification d’encombrement sont la <content-link target="{2A5AEB18-705F-43F3-AD07-9D0111B39F19}" type="glossary">notification explicite d’encombrement au destinataire</content-link> (FECN) et la <content-link target="{B42A5223-8CC4-4524-BC40-2493D4DF0772}" type="glossary">notification explicite d’encombrement à la source</content-link> (BECN). </p> <p>Le graphique représentant la structure de la trame Frame Relay permet de comprendre ces mécanismes. Les notifications explicites d’encombrement à la source ou au destinataire sont contrôlées par un seul bit dans l’en-tête de trame. Le routeur peut ainsi détecter un encombrement et arrêter la transmission jusqu’à ce que la situation normale soit rétablie. La notification BECN (à la source) est une notification directe. La notification FECN (au destinataire) est indirecte.</p> <p>L’en-tête de trame contient également un bit d’éligibilité à la suppression (DE) indiquant un trafic moins important qui peut être abandonné en cas d’encombrement. Les périphériques ETTD peuvent fixer la valeur du bit DE à 1 pour indiquer qu’une trame a moins d’importance que les autres trames. Lorsque le réseau est encombré, les périphériques ETCD commencent par abandonner les trames dont le bit DE vaut 1. Pendant les périodes d’encombrement, le risque d’abandonner des données vitales est ainsi réduit.</p> <p>Le commutateur Frame Relay du fournisseur de services applique les règles logiques suivantes pour chaque trame entrante selon que le CIR est dépassé ou non pendant les périodes d’encombrement :</p> <p><ul><li>si la trame entrante ne dépasse pas le CIBR, la trame passe ;</li><li>si une trame entrante dépasse le CIBR, son bit DE est fixé à 1 ; </li><li>si une trame entrante dépasse le CIBR augmenté du BE, elle est abandonnée. </li></ul></p> <p><b>Cliquez sur le bouton Mise en file d’attente dans la figure, puis cliquez sur Lire dans l’animation.</b></p> <p>Les trames qui arrivent au commutateur sont mises en file d’attente ou en tampon avant d’être transférées. Comme avec tous les systèmes de file d’attente, il se peut qu’une accumulation excessive de trames se produise au niveau du commutateur. Ceci occasionne des retards. Les retards mènent à des retransmissions inutiles, qui surviennent quand des protocoles de niveau supérieur ne reçoivent aucun reçu au cours d’une période donnée. Dans les cas les plus graves, cela peut provoquer une chute importante du débit du réseau. Pour éviter ce problème, Frame Relay intègre une fonction de contrôle de flux. </p> <p>La figure montre un commutateur avec une file d’attente. Pour diminuer le flux de trames dans la file d’attente, le commutateur signale le problème aux ETTD à l’aide des bits de notification explicite d’encombrement figurant dans le champ d’adresse de la trame. </p> <p><ul><li>Le bit de notification explicite d’encombrement au destinataire (indiqué par « F » dans la figure) est positionné sur chaque trame <i>reçue</i> par le commutateur sur la liaison encombrée. </li><li>Le bit de notification explicite d’encombrement au destinataire (indiqué par « B » dans la figure) est positionné sur chaque trame que le commutateur <i>place</i> sur la liaison encombrée. </li></ul></p> <p>Les ETTD qui reçoivent des trames dans lesquelles les bits ECN sont définis sont censés réduire le flux de trames jusqu’à ce que l’encombrement se dissipe. </p> <p>Si l’encombrement se produit sur une agrégation interne, les ETTD peuvent recevoir une notification, même s’ils ne sont pas à l’origine de l’encombrement.</p></content-text>
</page>
<page type="FullScreen" id="tl1403030302">
<content-media type="ActivityCustom" id="cm6352656465">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403030000/tl1403030300/tl1403030302/cm6352656465.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403030000/tl1403030300/tl1403030302/cm6352656465text.xml"/></content-media> <content-text><p>Exercice : Concepts avancés du protocole Frame Relay</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1403040000">
<title><content-text>Configuration avancée de Frame Relay</content-text></title>
<topic type="" id="tl1403040100">
<title><content-text>Configuration de sous-interfaces Frame Relay</content-text></title>
<page type="OneColumn" id="tl1403040101">
<content-media type="InteractiveGraphicHotspots" id="cm2756299242">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403040000/tl1403040100/tl1403040101/cm2756299242.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403040000/tl1403040100/tl1403040101/cm2756299242text.xml"/></content-media> <content-text><p>Souvenez-vous que l’utilisation de sous-interfaces Frame Relay permet de garantir qu’une seule interface physique est traitée comme plusieurs interfaces virtuelles pour surmonter le problème des règles de découpage d’horizon. Les paquets reçus sur une interface virtuelle peuvent être réacheminés vers une autre interface virtuelle, même si celle-ci est définie sur la même interface physique. </p> <p>Les sous-interfaces apportent une solution aux limitations des réseaux Frame Relay en permettant de subdiviser un réseau à maillage partiel en un certain nombre de sous-réseaux à maillage global plus petits (ou point à point). Chaque sous-réseau reçoit son propre <content-link target="{790B5618-40CB-4528-80EE-A98D826D8089}" type="glossary">numéro de réseau</content-link> et apparaît aux protocoles comme s’il était accessible par une interface séparée. Avec le protocole IP, les sous-interfaces point à point peuvent être utilisées sans numéro, ce qui réduit la charge d’adressage qui peut se produire dans le cas contraire.</p> <p>Pour créer une sous-interface, utilisez la commande <span class="cmd"><b>interface serial</b></span>. Indiquez le numéro de port, suivi d’un point (.) et du numéro de sous-interface. Pour faciliter le dépannage, utilisez le DLCI comme numéro de sous-interface. Comme il n’y a pas de valeur par défaut, vous devez également préciser si l’interface est du type point à point ou point à multipoint à l’aide du mot clé <span class="cmd"><b>multipoint</b></span> ou <span class="cmd"><b>point-to-point</b></span>. Ces mots clés sont définis dans la figure.</p> <p>La commande suivante crée une sous-interface point à point pour le circuit virtuel permanent 103 relié à R3 : <span class="cmd">R1(config-if)#<b>interface serial 0/0/0.103 point-to-point</b></span>.</p> <p><b>Cliquez sur le bouton DLCI dans la figure.</b></p> <p>Si la sous-interface est configurée en point à point, l’identificateur DLCI local de cette sous-interface doit également être configuré pour pouvoir la distinguer de l’interface physique. Le DLCI est également nécessaire pour les sous-interfaces multipoint pour lesquelles l’ARP inverse a été activée. Il n’est pas obligatoire pour les sous-interfaces multipoint configurées avec des mappages de <content-link target="{F14AFF17-350C-4730-99AE-2BDD677D99B4}" type="glossary">routes statiques</content-link>. </p> <p>C’est le fournisseur de services Frame Relay qui attribue les identificateurs DLCI. Ces numéros vont de 16 à 992 et n’ont généralement qu’une signification locale. Cette plage de numéros est variable, en fonction de l’interface LMI utilisée. </p> <p>La commande <span class="cmd"><b>frame-relay interface-dlci</b></span> sert à configurer l’identificateur DLCI local sur la sous-interface. Exemple : <span class="cmd">R1(config-subif)#<b>frame-relay interface-dlci 103</b></span>.</p> <p><b>Remarque :</b> malheureusement, le fait de modifier et de quitter une configuration de sous-interface Frame Relay peut donner un résultat inattendu. Dans ce cas, il peut s’avérer nécessaire d’enregistrer la configuration et de recharger le routeur.</p></content-text>
</page>
<page type="OneColumn" id="tl1403040102">
<content-media type="InteractiveGraphicHotspots" id="cm4917522122">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403040000/tl1403040100/tl1403040102/cm4917522122.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403040000/tl1403040100/tl1403040102/cm4917522122text.xml"/></content-media> <content-text><p><b>Exemple de configuration de sous-interfaces</b></p> <p>Dans la figure, R1 comporte deux sous-interfaces point à point. La sous-interface s0/0.0.102 se connecte à R2 et la sous-interface s0/0/0.103 à R3. Chaque sous-interface se trouve sur un sous-réseau différent. </p> <p>Pour configurer les sous-interfaces d’une interface physique, procédez comme suit :</p> <p><b>Étape 1.</b> Supprimez l’adresse de couche réseau attribuée à l’interface physique. Si cette dernière comporte une adresse, les sous-interfaces locales ne pourront pas recevoir de trames.</p> <p><b>Étape 2.</b> Configurez l’encapsulation Frame Relay sur l’interface physique au moyen de la commande <span class="cmd"><b>encapsulation frame-relay</b></span></p>. <p><b>Étape 3.</b> Pour chacun des circuits virtuels permanents définis, créez une sous-interface logique. Indiquez le numéro de port, suivi d’un point (.) et du numéro de sous-interface. Pour faciliter le dépannage, il est conseillé d’utiliser l’identificateur DLCI comme numéro de sous-interface. </p> <p><b>Étape 4.</b> Configurez une adresse IP pour l’interface et définissez la bande passante.</p> <p>À ce stade, nous allons configurer le DLCI. Souvenez-vous que c’est le fournisseur de services Frame Relay qui attribue les numéros DLCI.</p> <p><b>Étape 5.</b> Configurez le DLCI local de la sous-interface à l’aide de la commande <span class="cmd"><b>frame-relay interface-dlci</b></span>.</p></content-text>
</page>
</topic>
<topic type="" id="tl1403040200">
<title><content-text>Vérification du fonctionnement de Frame Relay</content-text></title>
<page type="OneColumn" id="tl1403040201">
<content-media type="InteractiveGraphicHotspots" id="cm1040158114">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403040000/tl1403040200/tl1403040201/cm1040158114.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403040000/tl1403040200/tl1403040201/cm1040158114text.xml"/></content-media> <content-text><p>Frame Relay est généralement un service très fiable. Néanmoins, il arrive que le réseau fonctionne moins bien que prévu et qu’un dépannage soit nécessaire. Par exemple, des utilisateurs signalent des connexions lentes ou intermittentes dans le circuit. Des circuits peuvent tomber en panne. Quelle qu’en soit la cause, les pannes de réseau sont très coûteuses en termes de perte de productivité. La méthode recommandée consiste à vérifier la configuration avant que le problème ne se manifeste. </p> <p>Dans cette section, vous allez suivre les étapes d’une procédure de vérification afin de vous assurer que tout fonctionne correctement avant de lancer votre configuration sur un réseau réel. </p> <p><b>Vérifiez les interfaces Frame Relay</b></p> <p>Après avoir configuré un circuit virtuel permanent Frame Relay, si vous devez résoudre un problème, vérifiez que Frame Relay fonctionne correctement sur cette interface à l’aide de la commande <span class="cmd"><b>show interfaces</b></span>. </p> <p>Souvenez-vous qu’avec Frame Relay, le routeur est normalement considéré comme un ETTD. Toutefois, il est possible de configurer un routeur Cisco comme commutateur Frame Relay. Dans de tels cas, le routeur devient un DCE lorsqu’il est configuré en commutateur Frame Relay.</p> <p>La commande <span class="cmd"><b>show interfaces</b></span> affiche le mode d’encapsulation, ainsi que des informations d’état utiles sur les couches 1 et 2, notamment :</p> <p><ul><li>le type de LMI ;</li><li>le DLCI de la LMI ;</li><li>le type d’ETTD/DCE Frame Relay.</li></ul></p> <p>La première étape consiste à vérifier que les interfaces sont convenablement configurées. La figure montre un exemple de résultat de la commande <span class="cmd"><b>show interfaces</b></span>. Vous pouvez notamment voir des détails sur l’encapsulation, le DLCI de l’interface série configurée pour Frame Relay et le DLCI utilisé pour l’interface LMI. Vous devez vérifier que ces valeurs sont bien les valeurs prévues. Dans le cas contraire, il se peut que vous ayez à apporter des modifications.</p> <p><b>Cliquez sur le bouton LMI dans la figure</b> pour vérifier le fonctionnement de l’interface LMI.</p> <p>L’étape suivante consiste à examiner certaines statistiques LMI à l’aide de la commande <span class="cmd"><b>show frame-relay lmi</b></span>. Dans la sortie produite, recherchez les éléments « Invalid » différents de zéro. Cela vous permet de localiser facilement un problème de communication Frame Relay entre le commutateur de l’opérateur et votre routeur.  </p> <p>La figure présente un exemple de sortie qui montre le nombre de messages d’état échangés entre le routeur local et le commutateur Frame Relay local.</p> <p>Examinez à présent les statistiques de l’interface. </p> <p><b>Cliquez sur le bouton État PVC dans la figure</b> pour vérifier le fonctionnement du circuit virtuel permanent.</p> <p>Servez-vous de la commande <span class="cmd"><b>show frame-relay pvc</b> [<b>interface</b> <i>interface</i>] [<b>dlci</b>]</span> pour afficher les statistiques du trafic et du circuit virtuel permanent. Cette commande s’avère également utile pour afficher le nombre de paquets BECN et FECN reçus par le routeur. L’état du circuit virtuel permanent peut être actif, inactif ou supprimé. </p> <p>La commande <span class="cmd"><b>show frame-relay pvc</b></span> présente l’état de tous les circuits virtuels permanents configurés sur le routeur. Vous pouvez aussi spécifier un circuit virtuel permanent particulier. Cliquez sur État PVC dans la figure pour afficher un exemple de sortie de la commande <span class="cmd"><b>show frame-relay pvc 102</b></span>. </p> <p>Une fois toutes les statistiques rassemblées, servez-vous de la commande <span class="cmd"><b>clear counters</b></span> pour réinitialiser les compteurs. Patientez ensuite 5 à 10 minutes avant de lancer à nouveau la commande <span class="cmd"><b>show</b></span>. Notez toute erreur supplémentaire. Si vous devez contacter l’opérateur, ces statistiques faciliteront la résolution du problème.</p> <p>La tâche finale consiste à vérifier que la commande <span class="cmd"><b>frame-relay inverse-arp</b></span> a résolu une adresse IP distante en un DLCI local. Utilisez la commande <span class="cmd"><b>show frame-relay map</b></span> pour afficher les entrées de mappage actuelles, ainsi que des informations sur les connexions. </p> <p><b>Cliquez sur le bouton ARP inverse dans la figure.</b></p> <p>La sortie présente les informations suivantes :</p> <p><ul><li>10.140.1.1 est l’adresse IP du routeur distant, apprise de façon dynamique par la résolution d’adresse inverse ; </li><li>100 est la valeur décimale de l’identificateur DLCI local ; </li><li>0x64 est la conversion hexadécimale de l’identificateur DLCI, 0x64 = 100 en valeur décimale ; </li><li>0x1840 est la valeur telle qu’elle apparaît sur la ligne, étant donné que les bits de l’identificateur DLCI sont répartis dans le champ d’adresse de la trame Frame Relay ; </li><li>la diffusion / multidiffusion est activée sur le circuit virtuel permanent ; </li><li>l’état du circuit virtuel permanent est actif. </li></ul></p> <p>Pour supprimer les mappages Frame Relay créés de façon dynamique à l’aide de la résolution d’adresse inverse, utilisez la commande <span class="cmd"><b>clear frame-relay-inarp</b></span>. <b>Cliquez sur le bouton Suppression mappages</b> pour afficher un exemple de cette étape.</p></content-text>
</page>
</topic>
<topic type="" id="tl1403040300">
<title><content-text>Dépannage de configuration Frame Relay</content-text></title>
<page type="OneColumn" id="tl1403040301">
<content-media type="InteractiveGraphicHotspots" id="cm7392428386">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403040000/tl1403040300/tl1403040301/cm7392428386.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403040000/tl1403040300/tl1403040301/cm7392428386text.xml"/></content-media> <content-text><p>Si la procédure de vérification révèle que votre configuration Frame Relay ne fonctionne pas convenablement, vous devez résoudre les problèmes.</p> <p>Utilisez la commande <span class="cmd"><b>debug frame-relay lmi</b></span> pour déterminer si le routeur et le commutateur Frame Relay envoient et reçoivent correctement les paquets LMI. </p> <p>Observez la figure et étudiez la sortie d’un échange LMI. </p> <p><ul><li>Le « out » est un message d’état de l’interface LMI envoyé par le routeur. </li><li>Le « in » est un message reçu du commutateur Frame Relay. </li><li>Un message d’état LMI complet est un « type 0 » (non représenté dans la figure). </li><li>Un échange LMI est de « type 1 ». </li><li>« dlci 100, status 0x2 » indique l’état actif de l’identificateur DLCI 100. </li></ul></p> <p>Lorsqu’une ARP inverse est demandée, le routeur met à jour sa table de mappage en utilisant trois états de connexion LMI possibles. Ces états sont : « active », « inactive » et « deleted ».</p> <p><ul><li>L’état « ACTIVE » indique un circuit qui fonctionne de bout en bout (de ETTD à ETTD).</li><li>L’état « INACTIVE » indique une connexion au commutateur (ETTD ou DCE) sans qu’un ETTD ait été détecté à l’autre extrémité du circuit virtuel permanent. Cette situation peut se produire en cas de configuration résiduelle ou incorrecte sur le commutateur. </li><li>L’état « DELETED » indique que l’ETTD est configuré pour un DLCI que le commutateur ne reconnaît pas comme valide pour cette interface.</li></ul></p> <p>Les valeurs possibles du champ d’état sont les suivantes : </p> <p><ul><li>0x0 signifie qu’un identificateur DLCI a été programmé, mais qu’il n’est pas utilisable. Il est possible que l’autre extrémité du circuit virtuel permanent ne fonctionne pas. </li><li>0x2 signifie que le commutateur Frame Relay dispose de l’identificateur DLCI et que tout est opérationnel. </li><li>0x4 signifie que le commutateur Frame Relay n’a programmé aucun identificateur DLCI pour le routeur, mais qu’il en a existé un dans le passé. Ceci est peut-être causé par l’inversion des DLCI sur le routeur ou parce que le circuit virtuel permanent a été supprimé par l’opérateur dans le nuage Frame Relay. </li></ul></p></content-text>
</page>
<page type="FullScreen" id="tl1403040302">
<content-media type="ActivityPopup" id="cm7590960183">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403040000/tl1403040300/tl1403040302/cm7590960183/" mime="ActivityPopup" scale="true" type="directory" width="400" height="200" external="tl1403000000/tl1403040000/tl1403040300/tl1403040302/cm7590960183/icontext.xml"/></content-media> <content-text><p>Simulation : configuration de sous-interfaces point à point Frame Relay</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1403050000">
<title><content-text>Travaux pratiques du chapitre</content-text></title>
<topic type="" id="tl1403050100">
<title><content-text>Configuration de base de Frame Relay</content-text></title>
<page type="OneColumn" id="tl1403050101">
<content-media type="ActivityLab" id="cm9510965144">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403050000/tl1403050100/tl1403050101/cm9510965144/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1403000000/tl1403050000/tl1403050100/tl1403050101/cm9510965144/icontext.xml"/></content-media> <content-text><p>Au cours de ces travaux pratiques, vous allez apprendre à configurer l’encapsulation Frame Relay sur des liaisons série en utilisant le réseau illustré dans le diagramme de topologie. Vous allez également apprendre à configurer un routeur en tant que commutateur Frame Relay. Il existe à la fois des normes Cisco et des normes ouvertes qui s’appliquent à Frame Relay. Vous allez découvrir les deux. Soyez particulièrement attentif à la section de ces travaux pratiques dans laquelle vous allez intentionnellement altérer les configurations Frame Relay. Cela vous sera utile dans les travaux pratiques de dépannage associés au présent chapitre. </p></content-text>
</page>
</topic>
<topic type="" id="tl1403050200">
<title><content-text>Configuration Frame Relay avancée</content-text></title>
<page type="OneColumn" id="tl1403050201">
<content-media type="ActivityLab" id="cm1225687136">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403050000/tl1403050200/tl1403050201/cm1225687136/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1403000000/tl1403050000/tl1403050200/tl1403050201/cm1225687136/icontext.xml"/></content-media> <content-text><p>Au cours de ces travaux pratiques, vous allez configurer Frame Relay en utilisant le réseau illustré dans le diagramme de topologie. Si vous avez besoin d’aide, reportez-vous aux travaux pratiques « Frame Relay de base ». Essayez toutefois de faire le maximum par vous-même. </p></content-text>
</page>
</topic>
<topic type="" id="tl1403050300">
<title><content-text>Dépannage de Frame Relay</content-text></title>
<page type="OneColumn" id="tl1403050301">
<content-media type="ActivityLab" id="cm2022477088">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403050000/tl1403050300/tl1403050301/cm2022477088/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1403000000/tl1403050000/tl1403050300/tl1403050301/cm2022477088/icontext.xml"/></content-media> <content-text><p>Au cours de ces travaux pratiques, vous allez vous exercer à dépanner un environnement Frame Relay mal configuré. Chargez ou faites charger par votre formateur les configurations ci-dessous sur vos routeurs. Identifiez et corrigez les erreurs présentes dans les configurations et établissez la connectivité de bout en bout. La configuration finale doit correspondre au diagramme de topologie et à la table d’adressage. </p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="tl1403060000">
<title><content-text>Résumé</content-text></title>
<topic type="" id="tl1403060100">
<title><content-text>Résumé du chapitre</content-text></title>
<page type="OneColumn" id="tl1403060101">
<content-media type="ChapterSummary" id="cm2585708637">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403060000/tl1403060100/tl1403060101/cm2585708637.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403060000/tl1403060100/tl1403060101/cm2585708637text.xml"/></content-media> <content-text><p>Frame Relay permet une plus grande bande passante, une fiabilité et une résilience meilleures que celles des lignes privées ou louées. Frame Relay permet de réduire le coût des réseaux par un niveau de complexité moins élevé, par des exigences en équipement plus faibles et par sa mise en œuvre plus simple. C’est pourquoi Frame Relay est devenu la technologie de réseau étendu la plus utilisée au monde.</p> <p>Une connexion Frame Relay entre un ETTD du côté du réseau local et un DCE du côté de l’opérateur comprend un composant de couche de liaison et un composant de couche physique. Frame Relay encapsule les paquets de données reçus dans une trame Frame Relay et passe cette trame à la couche physique pour la transmission par le câble. Un circuit virtuel identifié par un numéro DLCI assure la connexion au réseau de l’opérateur. Plusieurs circuits virtuels peuvent être multiplexés à l’aide d’un équipement d’accès FRAD. Les réseaux Frame Relay utilisent habituellement une topologie à maillage partiel optimisée pour répondre aux besoins en flux de données des clients de l’opérateur.</p> <p>Frame Relay utilise la résolution d’adresse (ARP) inverse pour associer les identificateurs DLCI aux adresses IP des emplacements distants. Le mappage d’adresse dynamique s’appuie sur l’ARP inverse pour résoudre l’adresse de protocole réseau du saut suivant en une valeur DLCI locale.  Le routeur Frame Relay envoie des demandes d’ARP inverse sur son circuit virtuel permanent pour détecter l’adresse de protocole du périphérique distant connecté au réseau Frame Relay. Les routeurs ETTD Frame Relay utilisent l’interface LMI pour fournir des informations d’état sur leur connexion au commutateur DCE Frame Relay. Les extensions LMI fournissent des informations supplémentaires sur le réseau Internet.</p> <p>Les deux premières tâches de configuration de Frame Relay sur un routeur Cisco consistent à activer l’encapsulation Frame Relay sur l’interface et à configurer le mappage statique ou dynamique. Selon les besoins, vous pouvez ensuite accomplir un certain nombre de tâches facultatives, comme la configuration de l’interface LMI et des circuits virtuels, le <content-link target="{6A0FE6DC-50B8-4CE5-A073-056427F57170}" type="glossary">formatage du trafic</content-link> et la personnalisation de Frame Relay sur votre réseau. La dernière tâche consiste à surveiller le maintien des connexions Frame Relay.</p>  <p>Dans la configuration de Frame Relay, il convient de tenir compte du problème de découpage d’horizon qui survient lorsque plusieurs circuits virtuels convergent vers une même interface physique. Frame Relay peut partitionner une interface physique en plusieurs interfaces virtuelles appelées sous-interfaces. La configuration des sous-interfaces a également été présentées et mise en pratique.</p> <p>La configuration de Frame Relay dépend du mode de facturation des connexions par le fournisseur de services basé sur des unités de débit d’accès et de débit de données garanti (CIR). L’avantage de ces modes de facturation est que la bande passante inutilisée du réseau est disponible et partagée entre les clients, en général sans frais supplémentaires. Les utilisateurs peuvent alors transmettre des données en rafale pendant de courtes périodes.</p> <p>La configuration du contrôle de flux est également affectée par les modes de facturation du fournisseur de services. Vous pouvez configurer la mise en file d’attente et le formatage du trafic en fonction du débit de données garanti. Les ETTD peuvent être configurés de manière à maîtriser l’encombrement du réseau en ajoutant des bits de notification explicite d’encombrement à la source (BECN) et au destinataire (FECN) dans le champ d’adresse des trames. Les ETTD peuvent également être configurés pour définir un bit d’éligibilité à la suppression indiquant que la trame peut être abandonnée au profit d’autres trames en cas d’encombrement. Les trames excédant le débit de données garanti CIR sont marquées par le bit DE qui indique qu’elles peuvent être abandonnées en cas d’encombrement du réseau Frame Relay.</p> <p>Pour finir, une fois Frame Relay configuré, vous avez appris à vérifier et à dépanner les connexions. </p></content-text>
</page>
<page type="FullScreen" id="tl1403060102">
<content-media type="StaticGraphic" id="cm3448758545">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403060000/tl1403060100/tl1403060102/cm3448758545.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1403000000/tl1403060000/tl1403060100/tl1403060102/cm3448758545text.xml"/></content-media> <content-text></content-text>
</page>
<page type="OneColumn" id="tl1403060103">
<content-media type="ActivityPKA" id="cm5658486444">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403060000/tl1403060100/tl1403060103/cm5658486444/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1403000000/tl1403060000/tl1403060100/tl1403060103/cm5658486444/icontext.xml"/></content-media> <content-text><p>Cet exercice vous permet de mettre en pratique un certain nombre de compétences, comme la configuration des protocoles Frame Relay et PPP avec authentification CHAP, le routage statique et dynamique, ainsi que la configuration des protocoles VTP et VLAN. Étant donné que cet exercice comprend près de 150 éléments notés, il se peut que vous ne voyiez pas d’augmentation du pourcentage réalisé chaque fois que vous configurez une commande notée. Vous pouvez à tout moment cliquer sur les boutons <b>Check Results</b> et <b>Assessment Items</b> pour vérifier que vous avez entré correctement une commande notée. Des instructions détaillées sont fournies tout au long de l’exercice, ainsi que dans le fichier PDF accessible par le lien suivant.</p> <p><content-link target="E4_PTAct_3_6_1.pdf" type="internalfile">Instructions pour l’exercice (PDF)</content-link></p> <p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b> </p></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="tl1403070000">
<title><content-text>Questionnaire du chapitre</content-text></title>
<topic type="" id="tl1403070100">
<title><content-text>Questionnaire du chapitre</content-text></title>
<page type="FullScreen" id="tl1403070101">
<content-media type="ChapterQuiz" id="cm8963829616">	<title><content-text></content-text></title>	<media ref="tl1403000000/tl1403070000/tl1403070100/tl1403070101/cm8963829616/" mime="" scale="true" type="directory" width="100%" height="100%" external="tl1403000000/tl1403070000/tl1403070100/tl1403070101/cm8963829616/icontext.xml"/></content-media> <content-text></content-text>
</page>
</topic>
</section>
</chapter>
