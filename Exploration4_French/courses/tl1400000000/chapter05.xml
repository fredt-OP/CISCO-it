<chapter type="" id="tl1405000000">
<title><content-text>Listes de contrôle d’accès</content-text></title>
<section type="ChapterIntroduction" id="tl1405000000">
<title><content-text>Présentation</content-text></title>
<topic type="" id="tl1405000100">
<title><content-text>Présentation</content-text></title>
<page type="OneColumn" id="tl1405000101">
<content-media type="ChapterIntroduction" id="cm5680274071">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405000000/tl1405000100/tl1405000101/cm5680274071.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405000000/tl1405000100/tl1405000101/cm5680274071text.xml"/></content-media> <content-text><p>La sécurité du réseau est un sujet de taille, dont la plus grande partie n’est pas abordée dans ce cours. Ceci dit, la compréhension approfondie des listes de contrôle d’accès est l’une des principales compétences requises chez un administrateur réseau. Les administrateurs utilisent des listes de contrôle d’accès pour arrêter le trafic dans son intégralité ou pour l’autoriser partiellement sur leurs réseaux. Ce chapitre vous donne l’occasion de développer vos connaissances sur les listes de contrôle d’accès grâce à une série de leçons, d’exercices et de travaux pratiques.</p> <p>Les concepteurs de réseaux utilisent des pare-feu pour protéger les réseaux de toute utilisation non autorisée. Les pare-feu sont des solutions logicielles ou matérielles permettant de mettre en œuvre des stratégies de sécurité du réseau. Prenons l’exemple d’un verrou de porte dans une pièce à l’intérieur d’un bâtiment. Le verrou permet l’entrée uniquement aux utilisateurs autorisés et munis d’une clé ou d’une carte d’accès. De la même façon, un pare-feu filtre les paquets non autorisés ou dangereux, les empêchant ainsi d’accéder au réseau. Sur un routeur Cisco, vous pouvez configurer un pare-feu simple, qui assurera les fonctions de base de filtrage du trafic à l’aide de listes de contrôle d’accès. </p> <p>Une liste de contrôle d’accès est un ensemble séquentiel d’instructions d’autorisation ou de refus qui s’appliquent aux adresses ou aux protocoles de couche supérieure. Les listes de contrôle d’accès représentent un outil puissant pour contrôler le trafic entrant ou sortant d’un réseau. Vous pouvez configurer les listes de contrôle d’accès pour tous les protocoles réseau routés. </p> <p>Sécuriser le réseau est la principale raison vous incitant à configurer des listes de contrôles d’accès. Ce chapitre explique comment utiliser les listes de contrôle d’accès standard et étendues dans le cadre de votre stratégie de sécurité. Il vous explique également comment les configurer sur un routeur Cisco. Vous y trouverez des conseils, des éléments dont il faut tenir compte, des recommandations et des lignes directrices générales sur l’utilisation des listes de contrôle d’accès. </p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1405010000">
<title><content-text>Utilisation de listes de contrôle d’accès pour sécuriser les réseaux</content-text></title>
<topic type="" id="tl1405010100">
<title><content-text>Conversation TCP</content-text></title>
<page type="OneColumn" id="tl1405010101">
<content-media type="StaticGraphic" id="cm3263797222">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405010000/tl1405010100/tl1405010101/cm3263797222.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405010000/tl1405010100/tl1405010101/cm3263797222text.xml"/></content-media> <content-text><p>Les listes de contrôle d’accès vous permettent de contrôler le trafic entrant et sortant d’un réseau. Ce contrôle est aussi simple qu’autoriser ou refuser les hôtes ou les adresses du réseau. Ceci dit, vous pouvez également configurer des listes de contrôle d’accès pour contrôler le trafic réseau en fonction du port TCP utilisé. Pour comprendre le fonctionnement d’une liste de contrôle d’accès avec TCP, analysons le dialogue d’une conversation TCP lorsque vous téléchargez une page Web sur votre ordinateur.</p> <p>Lorsque vous demandez des données à un serveur Web, IP se charge de la communication entre le PC et le serveur. TCP se charge de la communication entre le navigateur Web (application) et le logiciel de serveur réseau. Que vous envoyiez un courriel, que vous recherchiez une page Web ou que vous téléchargiez un fichier, TCP doit répartir les données en paquets pour IP avant de les envoyer. TCP doit également les assembler depuis les paquets à leur arrivée. Le processus TCP ressemble à une conversation dans laquelle deux nœuds se transmettent des données sur un réseau. </p> <p>Sachez que TCP fournit un service de flux d’octets fiable orienté connexion. Le terme « orienté connexion » signifie que deux applications utilisant TCP doivent établir une connexion TCP avant de pouvoir échanger des données. TCP est un protocole bidirectionnel simultané. En d’autres termes, chaque connexion TCP prend en charge une paire de flux d’octets, chaque flux étant unidirectionnel. TCP comprend un mécanisme de contrôle de flux pour chaque flux d’octets permettant au récepteur de limiter le volume de données que l’expéditeur peut transmettre. TCP implémente également un mécanisme de contrôle de congestion.</p> <p><b>Cliquez sur Lire dans la figure </b>pour afficher l’animation.</p> <p>L’animation illustre une conversation TCP/IP. Les paquets TCP ont des drapeaux signalant leur objectif : SYN lance (synchronise) la session, ACK est un <content-link target="{5BD1CB6F-D813-41FC-957A-674825DFA6C6}" type="glossary">reçu</content-link> stipulant qu’un paquet attendu a été reçu, FIN termine la session. Un paquet SYN/ACK confirme que le transfert est synchronisé. Les segments de données TCP comprennent le protocole de niveau supérieur requis pour transmettre les données d’application à l’application appropriée. </p> <p><b>Cliquez sur le bouton Numéros de port TCP/UDP dans cette figure.</b></p> <p>Le segment de données TCP identifie également le port correspondant au service sollicité. Par exemple, HTTP correspond au port 80, <content-link target="{24CE73E3-8272-411F-A003-3BCA8A0A690F}" type="glossary">SMTP</content-link> au port 25, et FTP aux ports 20 et 21. La figure illustre des exemples de ports UDP et TCP.</p> <p><b>Cliquez sur les boutons dans la figure</b> pour détecter les ports TCP/UDP.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405010200">
<title><content-text>Filtrage des paquets</content-text></title>
<page type="OneColumn" id="tl1405010201">
<content-media type="StaticGraphic" id="cm3905391231">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405010000/tl1405010200/tl1405010201/cm3905391231.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405010000/tl1405010200/tl1405010201/cm3905391231text.xml"/></content-media> <content-text><p>Le filtrage des paquets, parfois appelé filtrage des paquets statique, contrôle l’accès à un réseau en analysant les paquets entrants et sortants, et en les transmettant ou en les arrêtant en fonction de critères prédéfinis. </p> <p>Un routeur filtre les paquets lors de leur transmission ou de leur refus conformément aux règles de filtrage. Lorsqu’un paquet accède à un routeur de filtrage, certaines informations de son en-tête sont extraites. Conformément aux règles de filtrage, le routeur décide alors si le paquet peut être transmis ou si au contraire il doit être rejeté. Le filtrage des paquets fonctionne sur la couche réseau du modèle OSI (Open Systems Interconnection) ou sur la couche Internet de TCP/IP.</p> <p>Un routeur de filtrage des paquets, en tant que périphérique de couche 3, se réfère aux règles pour déterminer s’il doit autoriser ou refuser le trafic en fonction des adresses IP source et de destination, du <content-link target="{441C7EAE-60F8-44FB-BA7D-5E7A328EA87A}" type="glossary">port source</content-link>, du <content-link target="{ABABC373-9634-45E2-B00C-B3993E9C39B9}" type="glossary">port de destination</content-link> et du protocole des paquets. Ces règles sont définies en fonction des listes de contrôle d’accès. </p> <p>Rappelez-vous qu’une liste de contrôle d’accès est un ensemble séquentiel d’instructions d’autorisation ou de refus qui s’appliquent aux adresses IP ou aux protocoles de couche supérieure. Une liste de contrôle d’accès peut extraire les informations suivantes de l’en-tête des paquets, les valider conformément aux règles, et prendre des décisions d’autorisation ou de refus en fonction des critères suivants :</p> <p><ul><li>Adresse IP source</li><li>Adresse IP de destination</li><li>Type de message ICMP</li></ul></p> <p>Une liste de contrôle d’accès peut également extraire les informations de la couche supérieure et les valider conformément aux règles. Les informations sur la couche supérieure sont les suivantes :</p> <p><ul><li>Port source TCP/UDP</li><li>Port de destination TCP/UDP</li></ul></p> <p><b>Cliquez sur les boutons dans la figure</b> pour voir comment une liste de contrôle d’accès autorise ou refuse un paquet. Bien que les animations illustrent un filtrage des paquets à la couche 3, ce filtrage peut également survenir à la couche 4.</p></content-text>
</page>
<page type="OneColumn" id="tl1405010202">
<content-media type="StaticGraphic" id="cm3855881543">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405010000/tl1405010200/tl1405010202/cm3855881543.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405010000/tl1405010200/tl1405010202/cm3855881543text.xml"/></content-media> <content-text><p><b>Exemple de filtrage des paquets</b></p> <p>Pour comprendre comment un routeur filtre les paquets, imaginons un gardien posté devant une porte verrouillée. Le gardien a reçu pour instruction de ne laisser passer que les personnes dont les noms figurent sur une liste. Le gardien filtre le passage des personnes conformément à la liste autorisée de noms.</p> <p>Vous pouvez par exemple dire : « Autoriser l’accès Web aux utilisateurs du réseau A uniquement. Refuser l’accès Web aux utilisateurs du réseau B, mais leur autoriser tout autre accès ». Reportez-vous à la figure pour analyser les décisions de filtrage des paquets prises pour réaliser cette tâche. </p> <p>Dans ce scénario, le filtre de paquet vérifie chaque paquet comme suit :</p> <p><ul><li>S’il s’agit du paquet TCP SYN sur le réseau A et s’il utilise le port 80, son passage est autorisé. Tout autre accès est refusé à ces utilisateurs.</li><li>S’il s’agit du paquet TCP SYN sur le réseau B et s’il utilise le port 80, son passage est bloqué. Néanmoins, tout autre accès est autorisé.</li></ul></p> <p>Ce n’est qu’un exemple. Vous pouvez configurer plusieurs règles pour définir l’autorisation ou le refus d’accès aux services à certains utilisateurs. Vous pouvez également filtrer des paquets au niveau du port à l’aide d’une liste de contrôle d’accès étendue, comme décrit dans la section 3.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405010300">
<title><content-text>Qu’est-ce qu’une liste de contrôle d’accès ?</content-text></title>
<page type="OneColumn" id="tl1405010301">
<content-media type="StaticGraphic" id="cm2831656548">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405010000/tl1405010300/tl1405010301/cm2831656548.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405010000/tl1405010300/tl1405010301/cm2831656548text.xml"/></content-media> <content-text><p>Une liste de contrôle d’accès est un script de configuration de routeur contrôlant l’autorisation ou le refus de passage des paquets, conformément aux critères stipulés dans leur en-tête. Les listes de contrôle d’accès sont les objets les plus couramment utilisés dans le logiciel Cisco IOS. Elles servent également à sélectionner le type de trafic à analyser, transmettre ou traiter selon d’autres méthodes. </p> <p>À chaque fois qu’un paquet traverse une interface avec une liste de contrôle d’accès associée, celle-ci est vérifiée de haut en bas, ligne par ligne, à la recherche d’un modèle correspondant au paquet entrant. La liste de contrôle d’accès exécute au moins une stratégie de sécurité de l’entreprise en appliquant une règle d’autorisation ou de refus au paquet. Vous pouvez configurer des listes de contrôle d’accès en vue de contrôler l’accès à un réseau ou à un sous-réseau. </p> <p>Un routeur n’a aucune liste de contrôle d’accès configurée par défaut. C’est pourquoi il ne filtre pas le trafic. Le trafic accédant au routeur est routé en fonction de la table de routage. Si vous n’utilisez pas de listes de contrôle d’accès sur le routeur, tous les paquets que vous pouvez acheminer via le routeur sont transmis vers le segment de réseau suivant.</p> <p>Vous trouverez ci-dessous quelques instructions pour utiliser les listes de contrôle d’accès :</p> <p><ul><li>Utilisez des listes de contrôle d’accès sur les routeurs pare-feu entre votre réseau interne et un réseau externe, par exemple Internet. </li><li>Utilisez des listes de contrôle d’accès sur un routeur situé entre deux sections de votre réseau pour contrôler le trafic entrant ou sortant sur une partie donnée du réseau interne. </li><li>Configurez des listes de contrôle d’accès sur les routeurs périphériques situés à la frontière de vos réseaux. Cela permet de fournir une protection de base contre le réseau externe ou entre une zone plus sensible et une zone moins contrôlée de votre réseau. </li><li>Configurez des listes de contrôle d’accès pour tout protocole réseau configuré sur les interfaces de routeur périphérique. Vous pouvez configurer des listes de contrôle d’accès sur une interface pour filtrer les trafics entrant, sortant ou les deux.</li></ul></p> <p><b>Cliquez sur le bouton Listes de contrôle d’accès sur un routeur dans la figure.</b></p> <p><b>Règle des trois P</b></p> <p>Les trois P font figure de règle générale pour appliquer des listes de contrôle d’accès sur un routeur. Vous pouvez configurer une liste de contrôle d’accès par protocole, par direction et par interface : </p> <p><ul><li><b>Une liste de contrôle d’accès par protocole</b> : pour contrôler le flux du trafic sur une interface, définissez une liste de contrôle d’accès pour chaque protocole activé sur l’interface. </li><li><b>Une liste de contrôle d’accès par direction</b> : les listes de contrôle d’accès contrôlent le trafic dans une seule direction à la fois sur une interface. Vous devez créer deux listes de contrôle d’accès ; la première pour contrôler le trafic entrant et la seconde pour contrôler le trafic sortant. </li><li><b>Une liste de contrôle d’accès par interface</b> : les listes de contrôle d’accès contrôlent le trafic pour une interface, telle que <content-link target="{D5A87C5D-D58F-4F8F-8703-6DF905E32FBD}" type="glossary">Fast Ethernet</content-link> 0/0.</li></ul></p> <p>La rédaction des listes de contrôle d’accès est une tâche difficile et complexe. Chaque interface peut être constituée de plusieurs protocoles et directions définis. Dans cet exemple, le routeur a deux interfaces configurées pour IP, AppleTalk et IPX. Ce routeur peut nécessiter 12 listes de contrôle d’accès, une pour chaque protocole, multipliée par deux pour chaque direction, et par deux pour le nombre de ports. </p> <p>Les listes de contrôle d’accès effectuent les tâches suivantes :</p> <p><ul><li>Elles limitent le trafic réseau pour accroître les performances réseau. Si la stratégie de l’entreprise interdit, par exemple, le trafic vidéo sur le réseau, vous pouvez configurer et appliquer des listes de contrôle d’accès pour bloquer ce trafic. Ainsi, la charge réseau est nettement réduite et les performances réseau sont sensiblement améliorées. </li><li>Elles contrôlent le flux de trafic. Les listes de contrôle d’accès peuvent limiter l’arrivée des mises à jour de routage. Si aucune mise à jour n’est requise vu les conditions du réseau, la bande passante est préservée. </li><li>Elles fournissent un niveau de sécurité de base pour l’accès réseau. Les listes de contrôle d’accès permettent à un hôte d’accéder à une section du réseau tout en empêchant un autre hôte d’y avoir accès. Par exemple, l’accès au réseau des ressources humaines peut être restreint à certains utilisateurs. </li><li>Elles déterminent le type de trafic à acheminer ou bloquer sur les interfaces de routeur. Ainsi, une liste de contrôle d’accès peut autoriser le trafic de messagerie mais bloquer tout trafic Telnet. </li><li>Elles contrôlent les zones auxquelles un client peut accéder sur un réseau. </li><li>Elles filtrent les hôtes pour autoriser ou refuser l’accès aux services sur le réseau. Les listes de contrôle d’accès peuvent autoriser ou refuser à un utilisateur l’accès à certains types de fichier, tels que FTP ou HTTP.</li></ul></p> <p>Les listes de contrôle d’accès inspectent les paquets du réseau en fonction de critères tels que l’adresse source, l’adresse de destination, les protocoles et les numéros de port. Outre l’autorisation ou le refus du trafic, une liste de contrôle d’accès peut catégoriser le trafic pour en hiérarchiser l’ordre de traitement. Cette fonction s’assimile à une carte VIP pour un concert ou un événement sportif. Les cartes VIP octroient aux invités spéciaux certains privilèges dont ne jouissent pas les détenteurs de tickets classiques, notamment l’entrée escortée dans des zones privées.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405010400">
<title><content-text>Fonctionnement des listes de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1405010401">
<content-media type="StaticGraphic" id="cm2216638840">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405010000/tl1405010400/tl1405010401/cm2216638840.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405010000/tl1405010400/tl1405010401/cm2216638840text.xml"/></content-media> <content-text><p><b>Fonctionnement des listes de contrôle d’accès</b></p> <p>Les listes de contrôle d’accès définissent des règles de contrôle accru pour les paquets arrivant par les interfaces d’entrée, passant par le routeur et atteignant leur destination par les interfaces de sortie. Elles ne gèrent pas les paquets provenant du routeur lui-même. </p> <p>Vous configurez des listes de contrôle d’accès pour les appliquer au trafic entrant ou sortant.</p> <p><ul><li><b>Listes de contrôle d’accès entrantes</b> : les paquets entrants sont traités avant d’être routés vers l’interface de sortie. Une liste de contrôle d’accès entrante est efficace car elle réduit la charge des recherches de routage en cas d’abandon du paquet. Si le paquet est autorisé à l’issue des tests, il est soumis au routage. </li><li><b>Listes de contrôle d’accès sortantes</b> : les paquets entrants sont routés vers l’interface de sortie puis traités par le biais de la liste de contrôle d’accès sortante.</li></ul></p> <p>Les instructions d’une liste de contrôle d’accès fonctionnent dans un ordre séquentiel. Elles évaluent les paquets en les validant par rapport à la la liste de contrôle d’accès, de haut en bas, une instruction après l’autre. </p> <p>La figure illustre la logique d’une liste de contrôle d’accès entrante. En cas de concordance entre un en-tête de paquet et une instruction de la liste de contrôle d’accès, les autres instructions de la liste sont ignorées et le paquet est autorisé ou refusé, comme le définit l’instruction correspondante. En cas de non-concordance entre un en-tête de paquet et une instruction de la liste de contrôle d’accès, le paquet est validé par rapport à l’instruction suivante de la liste. Ce processus de concordance est valable pour toute la liste.</p> <p>Une instruction implicite finale s’applique à tous les paquets qui n’ont pas répondu aux conditions. Cette condition finale correspond à tous les autres paquets et se solde par une instruction de refus. Au lieu de les faire entrer ou sortir d’une interface, le routeur abandonne tous les paquets restants. Cette instruction finale est souvent appelée instruction implicite « deny any » ou « deny all traffic ». Compte tenu de cette instruction, une liste de contrôle d’accès doit comporter au moins une instruction d’autorisation. Sinon, la liste de contrôle d’accès bloque tout le trafic.</p> <p>Vous pouvez appliquer une liste de contrôle d’accès à plusieurs interfaces. Ceci dit, vous ne pouvez avoir qu’une seule liste de contrôle d’accès par protocole, par direction et par interface.</p> <p><b>Cliquez sur le bouton Listes de contrôle d’accès sortantes dans la figure. </b></p> <p>La figure illustre la logique d’une liste de contrôle d’accès sortante. Avant l’acheminement d’un paquet vers une interface de sortie, le routeur vérifie la table de routage pour voir si le paquet est routable. Si le paquet n’est pas routable, il est abandonné. Le routeur vérifie ensuite si l’interface de sortie est associée à une liste de contrôle d’accès. Si l’interface de sortie n’est pas associée à une liste de contrôle d’accès sortante, le paquet peut être envoyé à la mémoire tampon de sortie. Voici des exemples de listes de contrôle d’accès sortantes : </p> <p><ul><li>Si l’interface de sortie n’est pas associée à une liste de contrôle d’accès sortante, le paquet est envoyé directement à l’interface de sortie. </li><li> Si l’interface de sortie est associée à une liste de contrôle d’accès sortante, le paquet n’est pas envoyé à l’interface de sortie tant qu’il n’a pas été vérifié par les instructions de la liste associées à cette interface. En fonction des vérifications de la liste de contrôle d’accès, le paquet est autorisé ou refusé.</li></ul></p> <p>Pour les listes sortantes, « autoriser » signifie envoyer le paquet à la mémoire tampon de sortie, alors que « refuser » signifie abandonner le paquet. </p></content-text>
</page>
<page type="OneColumn" id="tl1405010402">
<content-media type="InteractiveGraphicHotspots" id="cm5386173190">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405010000/tl1405010400/tl1405010402/cm5386173190.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405010000/tl1405010400/tl1405010402/cm5386173190text.xml"/></content-media> <content-text><p><b>Liste de contrôle d’accès, routage et processus de liste de contrôle d’accès sur un routeur</b></p> <p>La figure illustre la logique de routage et les processus de liste de contrôle d’accès sur un routeur. Lorsqu’un paquet parvient à l’interface d’un routeur, le processus de ce dernier est identique, que des listes de contrôle d’accès soient utilisées ou non. À l’entrée d’une trame dans l’interface, le routeur vérifie si l’adresse de couche 2 de destination correspond à la sienne ou s’il s’agit d’une trame de diffusion. </p> <p>Si l’adresse de la trame est acceptée, les informations sur la trame sont éliminées et le routeur recherche une liste de contrôle d’accès sur l’interface d’entrée. Le cas échéant, le paquet est vérifié pour déceler des correspondances avec les instructions de la liste. </p> <p>Si le paquet correspond à une instruction, il est accepté ou refusé. Si le paquet est accepté dans l’interface, il est validé par rapport aux entrées de la table de routage afin de déterminer l’interface de destination, puis transmis à cette interface. </p> <p>Le routeur vérifie ensuite si l’interface de destination possède une liste de contrôle d’accès. Le cas échéant, le paquet est vérifié pour déceler des correspondances avec les instructions de la liste. </p> <p>Si le paquet correspond à une instruction, il est accepté ou refusé. </p> <p>En l’absence d’une liste de contrôle d’accès ou si le paquet est accepté, ce dernier est encapsulé dans le nouveau protocole de couche 2 et acheminé par l’interface jusqu’au périphérique suivant.</p> <p><b>Instruction implicite de critères « Deny All Traffic »</b></p> <p>Vous trouverez une instruction implicite de critères « deny all traffic » à la fin de chaque liste de contrôle d’accès. On l’appelle parfois instruction implicite « deny any ». Par conséquent, si un paquet ne correspond pas aux entrées de la liste de contrôle d’accès, il est automatiquement bloqué. L’instruction implicite « deny all traffic » correspond au comportement par défaut des listes de contrôle d’accès ; vous ne pouvez pas la modifier. </p> <p>Voici le principal avertissement associé au comportement de l’instruction « deny all » : pour la plupart des protocoles, si vous définissez une liste de contrôle d’accès entrante pour filtrer le trafic, il est recommandé d’inclure des instructions explicites pour autoriser les mises à jour de routage. Dans le cas contraire, vous risquez de perdre toute communication sur l’interface lorsque les mises à jour de routage sont bloquées par l’instruction implicite « deny all traffic » à la fin de la liste de contrôle d’accès.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405010500">
<title><content-text>Types de liste de contrôle d’accès Cisco</content-text></title>
<page type="OneColumn" id="tl1405010501">
<content-media type="StaticGraphic" id="cm6647878239">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405010000/tl1405010500/tl1405010501/cm6647878239.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405010000/tl1405010500/tl1405010501/cm6647878239text.xml"/></content-media> <content-text><p>Il existe deux types de liste de contrôle d’accès Cisco : standard et étendue.</p> <p><b>Listes de contrôle d’accès standard</b></p> <p>Les listes de contrôle d’accès standard permettent d’autoriser et de refuser le trafic en provenance d’adresses IP source. La destination du paquet et les ports concernés n’ont aucune incidence. Dans cet exemple, tout trafic en provenance du réseau 192.168.30.0/24 est autorisé. Compte tenu de l’instruction implicite « deny any » à la fin de la liste, tout autre trafic est bloqué avec cette liste. Les listes de contrôle d’accès standard sont créées en mode de configuration globale.</p> <p><b>Cliquez sur le bouton ACL étendue dans la figure.</b></p> <p><b>Listes de contrôle d’accès étendues</b></p> <p>Les listes de contrôle d’accès étendues filtrent les paquets IP en fonction de plusieurs attributs, dont le type de protocole, l’adresse IP source, l’adresse IP de destination, les ports TCP ou UDP source, les ports TCP ou UDP de destination, et les informations facultatives sur le type de protocole pour une meilleure précision du contrôle. Dans cette figure, la liste de contrôle d’accès 103 autorise tout le trafic provenant d’une adresse sur le réseau 192.168.30.0/24 vers tout port hôte de destination 80 (HTTP). Les listes de contrôle d’accès étendues sont créées en mode de configuration globale. </p>  <p>Les commandes pour ces listes sont décrites dans les quelques rubriques suivantes.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405010600">
<title><content-text>Fonctionnement d’une liste de contrôle d’accès standard</content-text></title>
<page type="OneColumn" id="tl1405010601">
<content-media type="InteractiveGraphicHotspots" id="cm4802758335">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405010000/tl1405010600/tl1405010601/cm4802758335.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405010000/tl1405010600/tl1405010601/cm4802758335text.xml"/></content-media> <content-text><p>Une liste de contrôle d’accès standard est un ensemble séquentiel d’instructions d’autorisation et de refus qui s’appliquent aux adresses IP. La destination du paquet et les ports concernés ne sont pas inclus. </p> <p>Le processus de décision est représenté dans cette figure. Le logiciel Cisco IOS vérifie les correspondances d’adresses les unes après les autres. La première correspondance détermine si le logiciel accepte ou refuse l’adresse. Dans la mesure où le logiciel ne vérifie plus les conditions après la première correspondance, l’ordre des conditions est primordial. En cas de non-concordance des conditions, l’adresse est rejetée.</p> <p>Les deux tâches principales liées aux listes de contrôle d’accès sont les suivantes :</p> <p><b>Étape 1. </b> Création d’une liste de contrôle d’accès en spécifiant un numéro ou un nom de liste et des conditions d’accès.</p> <p><b>Étape 2. </b> Application d’une liste de contrôle d’accès aux interfaces ou aux lignes du terminal.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405010700">
<title><content-text>Numérotation et attribution d’un nom aux listes de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1405010701">
<content-media type="InteractiveGraphicHotspots" id="cm2565216131">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405010000/tl1405010700/tl1405010701/cm2565216131.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405010000/tl1405010700/tl1405010701/cm2565216131text.xml"/></content-media> <content-text><p>Les listes de contrôle d’accès numérotées sont pratiques pour déterminer le type de liste sur des réseaux de petite taille avec un trafic dont la définition est plus homogène. Ceci dit, un numéro ne vous informe pas sur la fonction d’une liste de contrôle d’accès. C’est pourquoi vous pouvez utiliser un nom pour identifier une liste de contrôle d’accès Cisco (depuis la version 11.2 de Cisco IOS). </p>  <p>La figure résume la règle de numérotation et d’attribution d’un nom aux listes de contrôle d’accès. </p>  <p>Les numéros 200 à 1299 sont ignorés pour les listes de contrôle d’accès numérotées car ils sont utilisés par d’autres protocoles. Le cours porte sur les listes de contrôle d’accès IP uniquement. Par exemple, les numéros 600 à 699 sont utilisés par AppleTalk, alors que les numéros 800 à 899 le sont par IPX.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405010800">
<title><content-text>Positionnement des listes de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1405010801">
<content-media type="StaticGraphic" id="cm2020304204">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405010000/tl1405010800/tl1405010801/cm2020304204.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405010000/tl1405010800/tl1405010801/cm2020304204text.xml"/></content-media> <content-text><p>Si vous placez correctement une liste de contrôle d’accès pour filtrer tout trafic indésirable, le fonctionnement du réseau pourra être optimisé. Les listes de contrôle d’accès peuvent fonctionner comme des pare-feu pour filtrer les paquets et éliminer tout trafic indésirable. Le volume de trafic superflu peut être réduit en fonction de l’emplacement des listes de contrôle d’accès. Par exemple, le trafic qui sera refusé vers une destination distante ne doit pas utiliser les ressources réseau placées sur la route menant à cette destination. </p> <p>Chaque liste de contrôle d’accès doit être placée là où elle aura le plus grand impact sur les performances. Les règles de base sont les suivantes :</p> <p><ul><li>Placez les listes de contrôle d’accès étendues le plus près possible de la source du trafic refusé. Ainsi, le trafic indésirable est filtré sans traverser l’infrastructure réseau.</li><li>Étant donné que les listes de contrôle d’accès standard ne précisent pas les adresses de destination, placez-les le plus près possible de la destination. </li></ul></p> <p>Voici un exemple d’emplacement de listes de contrôle d’accès sur le réseau. L’emplacement de l’interface et du réseau dépend des tâches de la liste de contrôle d’accès. </p> <p>Dans cette figure, l’administrateur souhaite empêcher l’accès du trafic provenant du réseau 192.168.10.0/24 au réseau 192.168.30.0/24. Une liste de contrôle d’accès sur l’interface de sortie de R1 l’empêche d’envoyer le trafic vers toute autre destination. La solution consiste à placer une liste de contrôle d’accès standard sur l’interface d’entrée de R3 pour arrêter tout trafic provenant de l’adresse source 192.168.10.0/24. Une liste de contrôle d’accès standard répond à cette exigence car elle ne se soucie que des adresses IP source. </p> <p><b>Cliquez sur le bouton ACL étendue dans la figure.</b></p> <p>Sachez que les administrateurs peuvent placer des listes de contrôle d’accès uniquement sur les périphériques qu’ils contrôlent. Par conséquent, cet emplacement doit être déterminé par la portée du contrôle dont dispose l’administrateur réseau. Dans cette figure, l’administrateur des réseaux 192.168.10.0/24 et 192.168.11.0/24 (appelés Dix et Onze dans cet exemple) souhaite refuser l’accès du trafic Telnet et FTP depuis le réseau Onze au réseau 192.168.30.0/24 (Trente dans cet exemple). Parallèlement, les autres types de trafic doivent être autorisés à quitter le réseau Dix.</p> <p>Vous pouvez procéder de plusieurs façons. Une liste de contrôle d’accès étendue sur R3 pourrait bloquer Telnet et FTP sur le réseau Onze. Malheureusement, l’administrateur ne contrôle pas R3. En outre, cette solution autorise le passage du trafic indésirable sur le réseau, pour le bloquer uniquement une fois arrivé à destination. Cette situation affecte les performances réseau globales. </p> <p>Vous pouvez utiliser une liste de contrôle d’accès étendue sortante, qui précise des adresses source et de destination (Dix et Trente respectivement) et qui dit « Le trafic Telnet et FTP du réseau Dix n’est pas autorisé vers le réseau Trente ». Placez cette liste de contrôle d’accès étendue sur le port S0/0/0 sortant de R1. </p> <p>L’inconvénient de ce choix est que le trafic du réseau Onze sera également soumis à un traitement par la liste de contrôle d’accès, bien que le trafic Telnet et FTP soit autorisé.</p> <p>Le mieux est par conséquent de vous rapprocher de la source et de placer une liste de contrôle d’accès étendue sur l’interface d’entrée Fa0/2 de R1. Ainsi, les paquets du réseau Dix n’accèdent pas à R1. En d’autres termes, ils ne traversent pas le réseau Onze et n’accèdent pas au routeur R2 ou R3. Le trafic dont les adresses de destination et les ports sont différents peut tout de même traverser R1. </p></content-text>
</page>
</topic>
<topic type="" id="tl1405010900">
<title><content-text>Directives générales sur la création de listes de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1405010901">
<content-media type="StaticGraphic" id="cm2891471269">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405010000/tl1405010900/tl1405010901/cm2891471269.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405010000/tl1405010900/tl1405010901/cm2891471269text.xml"/></content-media> <content-text><p><b>Méthodes recommandées pour les listes de contrôle d’accès</b></p> <p>L’utilisation des listes de contrôle d’accès nécessite une attention et une méticulosité particulières. Les erreurs peuvent vous coûter cher et se solder par des pannes de réseau, d’importants efforts de dépannage et des services réseau médiocres. Une planification de base est obligatoire avant toute configuration d’une liste de contrôle d’accès. La figure décrit les directives fondamentales liées aux méthodes recommandées pour les listes de contrôle d’accès.</p></content-text>
</page>
<page type="FullScreen" id="tl1405010902">
<content-media type="ActivityCustom" id="cm8144236397">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405010000/tl1405010900/tl1405010902/cm8144236397.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405010000/tl1405010900/tl1405010902/cm8144236397text.xml"/></content-media> <content-text><p><b>Exercice : utilisation des listes de contrôle d’accès pour sécuriser les réseaux</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1405020000">
<title><content-text>Configuration des listes de contrôle d’accès standard</content-text></title>
<topic type="" id="tl1405020100">
<title><content-text>Saisie des instructions de critères</content-text></title>
<page type="OneColumn" id="tl1405020101">
<content-media type="StaticGraphic" id="cm6276605533">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405020000/tl1405020100/tl1405020101/cm6276605533.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405020000/tl1405020100/tl1405020101/cm6276605533text.xml"/></content-media> <content-text><p>Avant de configurer une liste de contrôle d’accès standard, nous allons revoir les notions de base importantes décrites dans la section 1. </p>  <p>Rappelez-vous que le trafic accédant au routeur est comparé aux instructions de la liste de contrôle d’accès selon leur ordre d’entrée. Tant qu’une concordance n’a pas été détectée, le routeur traite les instructions de la liste de contrôle d’accès. C’est pourquoi il est recommandé de faire figurer en tête de liste l’entrée la plus couramment utilisée. Si le routeur a parcouru toute la liste sans détecter de concordance, le trafic est refusé car les listes de contrôle d’accès refusent implicitement tout trafic ne répondant pas aux critères. Si vous avez une liste de contrôle d’accès à entrée unique, et que celle-ci est une entrée de refus, tout le trafic sera refusé. Une liste de contrôle d’accès doit comporter au moins une instruction d’autorisation, sans quoi tout le trafic est bloqué. </p>  <p>Dans cette figure, par exemple, les deux listes de contrôle d’accès (101 et 102) ont le même effet. Le réseau 192.168.10.0 est autorisé à accéder au réseau 192.168.30 alors que le réseau 192.168.11.0 ne l’est pas. </p></content-text>
</page>
</topic>
<topic type="" id="tl1405020200">
<title><content-text>Configuration d’une liste de contrôle d’accès standard</content-text></title>
<page type="OneColumn" id="tl1405020201">
<content-media type="InteractiveGraphicHotspots" id="cm3415638131">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405020000/tl1405020200/tl1405020201/cm3415638131.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405020000/tl1405020200/tl1405020201/cm3415638131text.xml"/></content-media> <content-text><p><b>Logique de la liste de contrôle d’accès standard</b></p> <p>Dans cette figure, les adresses source sont vérifiées pour les paquets de Fa0/0 :</p> <p><span class="cmd"><b>access-list 2 deny 192.168.10.1</b></span></p> <p><span class="cmd"><b>access-list 2 permit 192.168.10.0 0.0.0.255</b></span></p> <p><span class="cmd"><b>access-list 2 deny 192.168.0.0 0.0.255.255</b></span></p> <p><span class="cmd"><b>access-list 2 permit 192.0.0.0 0.255.255.255</b></span></p> <p>Si les paquets sont autorisés, ils sont acheminés via le routeur vers une interface de sortie. Dans le cas contraire, ils sont abandonnés sur l’interface d’entrée. </p></content-text>
</page>
<page type="OneColumn" id="tl1405020202">
<content-media type="InteractiveGraphicHotspots" id="cm8011270740">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405020000/tl1405020200/tl1405020202/cm8011270740.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405020000/tl1405020200/tl1405020202/cm8011270740text.xml"/></content-media> <content-text><p><b>Configuration des listes de contrôle d’accès standard</b></p> <p>Pour configurer des listes de contrôle d’accès standard et numérotées sur un routeur Cisco, commencez par créer la liste de contrôle d’accès standard avant de l’activer sur une interface. </p> <p>La commande de configuration globale <span class="cmd"><b>access-list</b></span> définit une liste de contrôle d’accès standard avec un nombre entre 1 et 99. La version 12.0.1 du logiciel Cisco IOS a étendu cette plage de numérotation de 1300 à 1999 afin de prendre en charge un maximum de 798 listes de contrôle d’accès standard. Ces numéros supplémentaires sont appelés des listes de contrôle d’accès IP élargies. </p> <p>La syntaxe complète de la commande des listes de contrôle d’accès standard est la suivante : </p> <p><span class="cmd">Routeur(config)#<b>access-list </b> <i>numéro-liste-accès</i> <b> deny </b> <b>permit remark </b> <i>source</i> [<i>masque-générique-source</i>] [<b>log</b>]</span></p> <p>La figure explique dans le détail la syntaxe d’une liste de contrôle d’accès standard. </p>  <p>Par exemple, pour octroyer le numéro <b>10</b> à une liste de contrôle d’accès afin d’autoriser l’accès au réseau 192.168.10.0 /24, entrez : </p>  <p><span class="cmd">R1(config)# <b>access-list 10 permit 192.168.10.0</b></span></p> <p><b>Cliquez sur le bouton Supprimer l’ACL dans cette figure. </b></p>  <p>Le type <span class="cmd"><b>no</b></span> de cette commande supprime une liste de contrôle d’accès standard. Dans la figure, les informations de la commande <span class="cmd"><b>show access-list</b></span> affichent les listes de contrôle d’accès, telles qu’elles sont actuellement configurées sur le routeur R1. </p>  <p>Pour supprimer la liste de contrôle d’accès, utilisez la commande de configuration globale <span class="cmd"><b>no access-list</b></span>. Si vous lancez la commande <span class="cmd"><b>show access-list</b></span>, le système confirme que la liste de contrôle d’accès 10 a été supprimée. </p>  <p><b>Cliquez sur le bouton Remarque dans cette figure.</b> </p>  <p>En règle générale, les administrateurs créent des listes de contrôle d’accès et comprennent parfaitement la fonction de chaque instruction y figurant. Néanmoins, si une liste de contrôle d’accès est révisée ultérieurement, ce qui paraissait évident dans un premier temps risque de ne plus l’être. </p>  <p>Le mot clé <span class="cmd"><b>remark</b></span> est utilisé à des fins de documentation et facilite sensiblement la compréhension des listes de contrôle d’accès. Chaque remarque comporte 100 caractères au maximum. La liste de contrôle d’accès dans cette figure est relativement simple ; elle est utilisée à des fins illustratives. La remarque s’affiche également lorsque vous révisez la liste de contrôle d’accès dans la configuration. </p>  <p>La rubrique suivante explique comment utiliser le masque générique pour identifier des réseaux et des hôtes spécifiques.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405020300">
<title><content-text>Masque générique des listes de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1405020301">
<content-media type="InteractiveGraphicHotspots" id="cm8206635982">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405020000/tl1405020300/tl1405020301/cm8206635982.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405020000/tl1405020300/tl1405020301/cm8206635982text.xml"/></content-media> <content-text><p><b>Masque générique</b></p> <p>Les instructions des listes de contrôle d’accès sont constituées de masques, également appelés <content-link target="{EC64B381-7EEB-4D3C-8BAA-2518364DC220}" type="glossary">masques génériques</content-link>. Un masque générique est une chaîne de chiffres binaires spécifiant au routeur quel numéro de sous-réseau vérifier. Bien que les masques génériques soient dépourvus de relation fonctionnelle avec les masques de sous-réseaux, leur fonction est comparable. Le masque détermine la portion d’une adresse IP source ou de destination à appliquer à la correspondance associée. Les numéros 1 et 0 du masque indiquent comment gérer les bits d’adresse IP correspondants. Ils sont utilisés à des fins différentes et suivent des règles différentes. </p>  <p>La longueur des masques génériques et des masques de sous-réseau est de 32 bits. Les deux types de masque utilisent les chiffres binaires 1 et 0. Les masques de sous-réseau utilisent les chiffres binaires 1 et 0 pour identifier la partie réseau, la partie sous-réseau et la partie hôte d’une adresse IP. Les masques génériques utilisent les chiffres binaires 1 et 0 pour filtrer des adresses IP individuelles ou des groupes d’adresses IP, afin d’autoriser ou de refuser l’accès aux ressources en fonction d’une adresse IP. Une définition minutieuse des masques génériques vous permet d’autoriser ou de refuser une ou plusieurs adresses IP.</p>  <p>Les masques génériques et les masques de sous-réseau sont différents dans la mesure où il ne font pas correspondre les chiffres binaires 1 et 0 de manière identique. Les masques génériques respectent les règles suivantes pour faire correspondre les chiffres binaires 1 et 0 : </p> <p><ul><li>Bit 0 de masque générique : permet de vérifier la valeur du bit correspondant dans l’adresse. </li><li>Bit 1 de masque générique : permet d’ignorer la valeur du bit correspondant dans l’adresse.</li></ul></p> <p>La figure explique les divers modes de filtrage des adresses IP par les masques génériques. N’oubliez pas que le chiffre binaire 0 équivaut à une correspondance alors que le chiffre binaire 1 équivaut à un refus. </p>  <p><b>Remarque :</b> les masques génériques sont souvent appelés masques inverses. En effet, contrairement à un masque de sous-réseau, où le chiffre binaire 1 équivaut à une correspondance et le chiffre binaire 0 à une non correspondance, l’inverse est vrai aussi. </p> <p><b>Cliquez sur le bouton Exemple de masque générique dans la figure</b>.</p>  <p><b>Utilisation d’un masque générique</b> </p>  <p>Dans cette figure, la table illustre les résultats lorsqu’un masque générique 0.0.255.255 est appliqué à une adresse IP de 32 bits. N’oubliez pas que le chiffre binaire 0 équivaut à une valeur renvoyant une correspondance. </p></content-text>
</page>
<page type="OneColumn" id="tl1405020302">
<content-media type="StaticGraphic" id="cm6167914068">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405020000/tl1405020300/tl1405020302/cm6167914068.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405020000/tl1405020300/tl1405020302/cm6167914068text.xml"/></content-media> <content-text><p><b>Masques génériques pour faire correspondre les sous-réseaux IP</b></p> <p>Le calcul d’un masque générique peut paraître compliqué dans un premier temps. La figure présente trois exemples de masques génériques. </p> <p>Dans le premier exemple, le masque générique stipule que chaque bit de l’adresse IP 192.168.1.1 doit avoir une correspondance exacte. Le masque générique équivaut au masque de sous-réseau 255.255.255.255.</p> <p>Dans le deuxième exemple, le masque générique stipule que tout sera mis en correspondance. Le masque générique équivaut au masque de sous-réseau 0.0.0.0.</p> <p>Dans le troisième exemple, le masque générique stipule qu’il met en correspondance les hôtes du réseau 192.168.1.0 /24. Le masque générique équivaut au masque de sous-réseau 255.255.255.0.</p> <p>Ces exemples sont relativement simples. Ceci dit, le calcul des masques génériques est légèrement plus compliqué. </p> <p><b>Cliquez sur le bouton Masque générique 2 dans la figure. </b></p> <p>Les deux exemples de cette figure sont plus complexes que les trois cités précédemment. Dans l’exemple 1, les deux premiers octets et les quatre premiers bits du troisième octet doivent présenter une correspondance exacte. Les quatre derniers bits du troisième octet et le dernier octet peuvent être n’importe quel nombre valide. Ainsi, vous avez un masque qui vérifie 192.168.16.0 à 192.168.31.0</p> <p>L’exemple 2 illustre un masque générique qui fait correspondre les deux premiers octets et le bit le moins significatif du troisième octet. Le dernier octet et les sept premiers bits du troisième octet peuvent être n’importe quel nombre valide. Ainsi, vous avez un masque qui autorise ou refuse tous les hôtes de sous-réseau depuis le réseau principal 192.168.0.0.</p> <p>Le calcul des masques génériques représente une tâche difficile mais vous pouvez le faire facilement en soustrayant le masque de sous-réseau de 255.255.255.255. </p> <p><b>Cliquez sur le bouton Exemple 1 dans cette figure.</b></p> <p>Supposons, par exemple, que vous souhaitiez autoriser l’accès à tous les utilisateurs sur le réseau 192.168.3.0. Sachant que le masque de sous-réseau est 255.255.255.0, vous pouvez utiliser 255.255.255.255 et le soustraire du masque de sous-réseau 255.255.255.0, comme l’illustre la figure. Cette solution génère le masque générique 0.0.0.255.</p> <p><b>Cliquez sur le bouton Exemple 2 dans cette figure.</b></p> <p>Supposons à présent que vous souhaitiez autoriser l’accès réseau à 14 utilisateurs dans le sous-réseau 192.168.3.32 /28. Le masque de sous-réseau pour le sous-réseau IP est 255.255.255.240. Prenons 255.255.255.255 pour le soustraire du masque de sous-réseau 255.255.255.240. Cette solution génère le masque générique 0.0.0.15.</p> <p><b>Cliquez sur le bouton Exemple 3 dans cette figure.</b></p> <p>Dans ce troisième exemple, supposons que vous souhaitiez faire correspondre uniquement les réseaux 192.168.10.0 et 192.168.11.0. Utilisons 255.255.255.255 et soustrayons le masque de sous-réseau normal, à savoir 255.255.252.0 dans cet exemple. Cette solution génère 0.0.3.255.</p> <p>Certes, vous pourriez obtenir le même résultat avec les deux instructions suivantes :</p> <p><span class="cmd">R1(config)# <b>access-list 10 permit 192.168.10.0</b></span></p> <p><span class="cmd">R1(config)# <b>access-list 10 permit 192.168.11.0</b></span></p> <p>Il est bien plus efficace de configurer le masque générique comme suit :</p> <p><span class="cmd">R1(config)# <b>access-list 10 permit 192.168.10.0 0.0.3.255</b></span></p> <p>On peut douter de son efficacité, mais imaginons que vous souhaitiez faire correspondre les réseaux 192.168.16.0 à 192.168.31.0 comme suit :</p> <span class="cmd"><p>R1(config)# <b>access-list 10 permit 192.168.16.0</b></p></span> <span class="cmd"><p>R1(config)# <b>access-list 10 permit 192.168.17.0</b></p></span> <span class="cmd"><p>R1(config)# <b>access-list 10 permit 192.168.18.0</b></p></span> <span class="cmd"><p>R1(config)# <b>access-list 10 permit 192.168.19.0</b></p></span> <span class="cmd"><p>R1(config)# <b>access-list 10 permit 192.168.20.0</b></p></span> <span class="cmd"><p>R1(config)# <b>access-list 10 permit 192.168.21.0</b></p></span> <span class="cmd"><p>R1(config)# <b>access-list 10 permit 192.168.22.0</b></p></span> <span class="cmd"><p>R1(config)# <b>access-list 10 permit 192.168.23.0</b></p></span> <span class="cmd"><p>R1(config)# <b>access-list 10 permit 192.168.24.0</b></p></span> <span class="cmd"><p>R1(config)# <b>access-list 10 permit 192.168.25.0</b></p></span> <span class="cmd"><p>R1(config)# <b>access-list 10 permit 192.168.26.0</b></p></span> <span class="cmd"><p>R1(config)# <b>access-list 10 permit 192.168.27.0</b></p></span> <span class="cmd"><p>R1(config)# <b>access-list 10 permit 192.168.28.0</b></p></span> <span class="cmd"><p>R1(config)# <b>access-list 10 permit 192.168.29.0</b></p></span> <span class="cmd"><p>R1(config)# <b>access-list 10 permit 192.168.30.0</b></p></span> <span class="cmd"><p>R1(config)# <b>access-list 10 permit 192.168.31.0</b></p></span> <p>Vous comprendrez que la configuration du masque générique suivant en fait un choix bien plus efficace :</p> <p><span class="cmd">R1(config)# <b>access-list 10 permit 192.168.16.0 0.0.15.255</b></span></p></content-text>
</page>
<page type="OneColumn" id="tl1405020303">
<content-media type="StaticGraphic" id="cm7283882959">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405020000/tl1405020300/tl1405020303/cm7283882959.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405020000/tl1405020300/tl1405020303/cm7283882959text.xml"/></content-media> <content-text><p><b>Mots clés de bits de masque générique</b></p> <p>L’utilisation de représentations décimales de bits de masque générique peut se révéler fastidieuse. Pour vous simplifier la tâche, les mots clés <span class="cmd"><b>host</b></span> et <span class="cmd"><b>any</b></span> vous aident à identifier les utilisations les plus courantes du masque générique. Ils suppriment la saisie des masques génériques lorsque vous identifiez un hôte ou réseau spécifique. Ils facilitent également la lecture d’une liste de contrôle d’accès en offrant des indices visuels comme la source ou la destination des critères.</p>  <p><ul><li>L’option <span class="cmd"><b>host</b></span> remplace le masque 0.0.0.0. Ce masque indique que tous les bits de l’adresse IP doivent correspondre ou qu’un seul hôte est conforme.</li><li>L’option <span class="cmd"><b>any</b></span> remplace l’adresse IP et le masque 255.255.255.255. Ce masque indique qu’il convient d’ignorer l’intégralité de l’adresse IP ou d’accepter n’importe quelle adresse. </li></ul></p> <p><b>Exemple 1 : processus de masquage générique avec une seule adresse IP</b></p> <p>Dans cet exemple, utilisez <span class="cmd"><b>host 192.168.10.10</b></span> plutôt que d’entrer <span class="cmd"><b>192.168.10.10 0.0.0.0</b></span>. </p>  <p><b>Exemple 2 : processus de masquage générique avec une correspondance pour toute adresse IP</b></p> <p>Dans cet exemple, utilisez le mot clé <span class="cmd"><b>any</b></span> seul plutôt que d’entrer <span class="cmd"><b>0.0.0.0 255.255.255.255</b></span>.</p></content-text>
</page>
<page type="OneColumn" id="tl1405020304">
<content-media type="StaticGraphic" id="cm7509972350">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405020000/tl1405020300/tl1405020304/cm7509972350.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405020000/tl1405020300/tl1405020304/cm7509972350text.xml"/></content-media> <content-text><p><b>Mots clés any et host</b></p> <p>Cette figure présente deux exemples. L’exemple 1 montre comment utiliser l’option <span class="cmd"><b>any</b></span> pour remplacer l’adresse IP 0.0.0.0 par un masque générique 255.255.255.255.</p> <p>L’exemple 2 montre comment utiliser l’option <span class="cmd"><b>host</b></span> pour remplacer le masque générique.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405020400">
<title><content-text>Application de listes de contrôle d’accès standard aux interfaces</content-text></title>
<page type="OneColumn" id="tl1405020401">
<content-media type="InteractiveGraphicHotspots" id="cm9702332224">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405020000/tl1405020400/tl1405020401/cm9702332224.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405020000/tl1405020400/tl1405020401/cm9702332224text.xml"/></content-media> <content-text><p><b>Procédures de configuration des listes de contrôle d’accès standard</b></p> <p>Après sa configuration, une liste de contrôle d’accès standard est liée à une interface à l’aide de la commande <span class="cmd"><b>ip access-group</b></span> : </p> <p><span class="cmd">Routeur(config-if)#<b>ip access-group</b> {<i>numéro-liste-accès</i> | <i>nom-liste-accès</i>} {<b>in</b> | <b>out</b>}</span></p> <p>Pour supprimer une liste de contrôle d’accès d’une interface, commencez par entrer la commande <span class="cmd"><b>no ip access-group</b></span> sur l’interface puis la commande globale <span class="cmd"><b>no access-list</b></span> pour la supprimer dans son intégralité.</p> <p>La figure décrit les étapes et la syntaxe pour configurer et appliquer une liste de contrôle d’accès standard et numérotée sur un routeur. </p> <p><b>Cliquez sur le bouton Exemple 1 dans cette figure </b>pour qu’un exemple de liste de contrôle d’accès autorise un réseau unique.</p> <p>Cette liste de contrôle d’accès autorise uniquement le transfert du trafic sur le réseau source 192.168.10.0 vers S0/0/0. Le trafic provenant d’autres réseaux que 192.168.10.0 est bloqué. </p> <p>La première ligne identifie la liste de contrôle d’accès comme liste d’accès 1. Elle autorise le trafic qui correspond aux paramètres sélectionnés. Dans ce cas, l’adresse IP et le masque générique identifiant le réseau source sont 192.168.10.0 0.0.0.255. Rappelez-vous qu’il existe une instruction de refus global implicite et invisible qui revient à ajouter la ligne <span class="cmd"><b>access-list 1 deny 0.0.0.0 255.255.255.255</b></span>. </p> <p>La commande de configuration d’interface <span class="cmd"><b>ip access-group 1 out</b></span> associe et attache la liste de contrôle d’accès 1 à l’interface Serial 0/0/0 tel un filtre de sortie.</p> <p>C’est pourquoi la liste de contrôle d’accès 1 autorise uniquement les hôtes provenant du réseau 192.168.10.0 /24 à quitter le routeur R1. Tout autre réseau est refusé, notamment 192.168.11.0. </p> <p><b>Cliquez sur le bouton Exemple 2 dans la figure </b>pour afficher un exemple de liste de contrôle d’accès refusant un hôte spécifique.</p> <p>Cette liste de contrôle d’accès remplace l’exemple précédent mais bloque aussi le trafic provenant d’une adresse donnée. La première commande supprime la version précédente de la liste de contrôle d’accès 1. La prochaine instruction de la liste de contrôle d’accès refuse l’hôte PC1 sur le réseau 192.168.10.10. Un hôte sur deux du réseau 192.168.10.0 /24 est autorisé. L’instruction de refus implicite fait correspondre un réseau sur deux.</p> <p>La liste de contrôle d’accès est réappliquée à l’interface S0/0/0 dans une direction sortante.</p> <p><b>Cliquez sur le bouton Exemple 3 dans la figure </b>pour afficher un exemple de liste de contrôle d’accès refusant un sous-réseau spécifique.</p> <p>Cette liste de contrôle d’accès remplace l’exemple précédent mais bloque le trafic provenant de l’hôte PC1. Elle autorise également tout autre trafic du réseau local à quitter le routeur R1. </p> <p>Les deux premières commandes sont identiques à l’exemple précédent. La première commande supprime la version précédente de la liste de contrôle d’accès 1. La prochaine instruction de la liste de contrôle d’accès refuse l’hôte PC1 sur le réseau 192.168.10.10. </p> <p>La troisième ligne est nouvelle ; elle autorise tous les hôtes des réseaux 192.168.x.x /16. En d’autres termes, tous les hôtes du réseau 192.168.10.0 /24 correspondent. Qui plus est, les hôtes du réseau 192.168.11.0 correspondent également. </p> <p>La liste de contrôle d’accès est réappliquée à l’interface S0/0/0 dans une direction sortante. Par conséquent, les deux réseaux locaux attachés au routeur R1 peuvent quitter l’interface S0/0/0 à l’exception du PC1 hôte.</p></content-text>
</page>
<page type="OneColumn" id="tl1405020402">
<content-media type="InteractiveGraphicHotspots" id="cm8801288441">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405020000/tl1405020400/tl1405020402/cm8801288441.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405020000/tl1405020400/tl1405020402/cm8801288441text.xml"/></content-media> <content-text><p><b>Utilisation d’une liste de contrôle d’accès pour contrôler l’accès VTY</b></p> <p>Cisco recommande d’utiliser SSH pour toute connexion administrative aux routeurs et aux commutateurs. Si l’image du logiciel Cisco IOS ne prend pas en charge le protocole SSH sur le routeur, vous pouvez améliorer en partie la sécurité des lignes administratives en limitant l’accès VTY. La restriction de l’accès VTY est une technique vous permettant de définir les adresses IP avec un accès Telnet au processus d’exécution du routeur. Vous pouvez décider quelle station de travail administrative ou quel réseau gère le routeur avec une liste de contrôle d’accès et une instruction <span class="cmd"><b>access-class</b></span> sur les lignes VTY. Vous pouvez également utiliser cette technique avec SSH pour renforcer la sécurité de tout accès administratif.</p> <p>En mode de configuration de ligne, la commande <span class="cmd"><b>access-class</b></span> limite les connexions entrantes et sortantes entre une ligne VTY donnée (sur un périphérique Cisco) et les adresses dans une liste de contrôle d’accès. </p> <p>Les listes de contrôle d’accès standard et étendues s’appliquent aux paquets traversant un routeur. Elles ne sont pas destinées à bloquer les paquets créés sur le routeur. Par défaut, une liste de contrôle d’accès étendue pour le trafic Telnet sortant n’empêche pas le routeur de lancer des sessions Telnet. </p> <p>En règle générale, on considère que le filtrage du trafic Telnet est une fonction de la liste de contrôle d’accès IP étendue car il s’agit de filtrer le protocole de niveau supérieur. Ceci dit, vous pouvez utiliser des instructions de liste de contrôle d’accès standard pour contrôler l’accès VTY car vous utilisez la commande <span class="cmd"><b>access-class</b></span> pour filtrer les sessions Telnet entrantes et sortantes en fonction de l’adresse source et pour appliquer le filtrage aux lignes VTY.</p> <p>La syntaxe de la commande access-class est la suivante :</p> <p><span class="cmd"><b>access-class </b> <i>numéro-liste-accès</i> {<b>in</b> [<b>vrf-also</b>] | <b>out</b>}</span></p> <p>Le paramètre <span class="cmd"><b>in</b></span> limite les connexions entrantes, alors que le paramètre <span class="cmd"><b>out</b></span> limite les connexions sortantes entre un périphérique Cisco donné et les adresses dans la liste de contrôle d’accès. </p> <p>Cette figure illustre un exemple où les lignes VTY 0 et 4 sont autorisées. Par exemple, dans cette figure, la liste de contrôle d’accès est configurée pour autoriser les réseaux 192.168.10.0 et 192.168.11.0 à accéder aux lignes VTY 0 - 4. L’accès aux lignes VTY est refusé à tous les autres réseaux.</p> <p>Vous devez prendre en compte les éléments suivants lors de la configuration de listes de contrôle d’accès sur des lignes VTY :</p> <p><ul><li>Seules des listes de contrôle d’accès numérotées peuvent être appliquées aux lignes VTY. </li><li>Vous devez définir les mêmes restrictions sur toutes les lignes VTY car un utilisateur peut tenter de se connecter à n’importe laquelle. </li></ul></p></content-text>
</page>
</topic>
<topic type="" id="tl1405020500">
<title><content-text>Édition des listes de contrôle d’accès numérotées</content-text></title>
<page type="OneColumn" id="tl1405020501">
<content-media type="StaticGraphic" id="cm4281828616">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405020000/tl1405020500/tl1405020501/cm4281828616.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405020000/tl1405020500/tl1405020501/cm4281828616text.xml"/></content-media> <content-text><p><b>Édition des listes de contrôle d’accès numérotées</b></p> <p>Lors de la configuration d’une liste de contrôle d’accès, les instructions sont ajoutées dans leur ordre de saisie à la fin de la liste de contrôle d’accès. Cependant, il n’existe aucune fonction d’édition intégrée vous permettant de modifier une liste de contrôle d’accès. Vous ne pouvez pas sélectionner les lignes à insérer ou supprimer. </p> <p>Il est fortement recommandé de créer une liste de contrôle d’accès dans un éditeur de texte, tel que le Bloc-notes Microsoft. Ainsi, vous pourrez créer ou modifier une liste de contrôle d’accès, puis la coller dans la configuration du routeur. Vous pouvez utiliser la commande <span class="cmd"><b>show running-config</b></span> pour afficher, copier et coller la liste de contrôle d’accès existante dans un éditeur de texte, ou encore pour la modifier et la recharger. </p> <p>Supposons, par exemple, que l’adresse IP hôte a été entrée de manière incorrecte dans la figure. L’hôte 192.168.10.100 a été entré alors que c’est l’hôte 192.168.10.11 qui aurait du l’être. Voici les étapes à suivre pour modifier et corriger la liste de contrôle d’accès 20 :</p> <p><b>Étape 1.</b> Affichez la liste de contrôle d’accès à l’aide de la commande <span class="cmd"><b>show running-config</b></span>. L’exemple de cette figure utilise le mot clé <span class="cmd"><b>include</b></span> pour afficher uniquement les instructions de la liste de contrôle d’accès.</p> <p><b>Étape 2.</b> Mettez en surbrillance la liste de contrôle d’accès, copiez-la puis collez-la dans le Bloc-notes Microsoft. Modifiez la liste comme nécessaire. Une fois que la liste de contrôle d’accès s’affiche correctement dans le Bloc-notes Microsoft, mettez-la en surbrillance et copiez-la. </p> <p><b>Étape 3.</b> En mode de configuration globale, désactivez la liste de contrôle d’accès à l’aide de la commande <span class="cmd"><b>no access-list 20</b></span>. Sinon, les nouvelles instructions sont ajoutées à la liste de contrôle d’accès existante. Collez la nouvelle liste de contrôle d’accès dans la configuration du routeur.</p> <p>Il est important de souligner qu’aucune liste de contrôle d’accès ne protège le réseau si vous utilisez la commande <span class="cmd"><b>no access-list</b></span>. En outre, sachez qu’il vous faudra désactiver la nouvelle liste pour résoudre le problème si elle contient une erreur. Dans ce cas, sachez que le réseau est dépourvu de toute liste de contrôle d’accès lors du processus de correction. </p></content-text>
</page>
<page type="OneColumn" id="tl1405020502">
<content-media type="StaticGraphic" id="cm3166620168">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405020000/tl1405020500/tl1405020502/cm3166620168.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405020000/tl1405020500/tl1405020502/cm3166620168text.xml"/></content-media> <content-text><p><b>Commentaires sur les listes de contrôle d’accès</b></p> <p>Vous pouvez utiliser le mot clé <span class="cmd"><b>remark</b></span> pour intégrer des commentaires (remarques) sur les entrées dans une liste de contrôle d’accès IP étendue ou standard. Ces remarques facilitent la compréhension et la recherche des listes de contrôle d’accès. Chaque ligne de remarque comporte 100 caractères au maximum.</p> <p>Une remarque peut précéder ou suivre une instruction <span class="cmd"><b>permit</b></span> ou <span class="cmd"><b>deny</b></span>. Restez cohérent quant à l’emplacement de la remarque, ainsi il sera facile de savoir quelle remarque décrit une instruction <span class="cmd"><b>permit</b></span> et quelle autre décrit une instruction <span class="cmd"><b>deny</b></span>. En effet, si vous placez certaines remarques avant les instructions <span class="cmd"><b>permit</b></span> ou <span class="cmd"><b>deny</b></span> associées et d’autres après, vous risquez de vous y perdre.</p> <p>Pour commenter des listes de contrôle d’accès IP numérotées standard ou étendues, utilisez la commande de configuration globale <span class="cmd"><b>access-list </b><i>numéro-liste-accès</i><b> remark </b><i>remarque</i></span>. Pour supprimer une remarque, utilisez la forme <span class="cmd"><b>no</b></span> de cette commande.</p> <p>Dans le premier exemple, la liste de contrôle d’accès standard autorise l’accès à la station de travail de Jones et le refuse à la station de travail de Smith.</p> <p>Pour une entrée dans une liste de contrôle d’accès nommée, utilisez la commande de configuration <span class="cmd"><b>remark access-list</b></span>. Pour supprimer la remarque, utilisez la forme <span class="cmd"><b>no</b></span> de cette commande. Le deuxième exemple illustre une liste de contrôle d’accès étendue et nommée. Rappelez-vous que les listes de contrôle d’accès étendues sont utilisées pour contrôler des numéros ou des services de port. Dans le deuxième exemple, la remarque stipule que le sous-réseau pour Jones ne peut pas utiliser la connexion Telnet sortante.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405020600">
<title><content-text>Création de listes de contrôle d’accès standard nommées</content-text></title>
<page type="OneColumn" id="tl1405020601">
<content-media type="StaticGraphic" id="cm3069019443">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405020000/tl1405020600/tl1405020601/cm3069019443.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405020000/tl1405020600/tl1405020601/cm3069019443text.xml"/></content-media> <content-text><p>Si vous attribuez un nom à une liste de contrôle d’accès, il vous sera plus facile d’en comprendre la fonction. Par exemple, vous pouvez utiliser NO_FTP pour appeler une liste de contrôle d’accès refusant le trafic FTP. Lorsque vous identifiez une liste de contrôle d’accès par un nom plutôt qu’un numéro, le mode de configuration et la syntaxe de commande sont légèrement différents.</p> <p>Cette figure décrit les étapes à suivre pour créer une liste de contrôle d’accès standard nommée.</p> <p><b>Étape 1.</b> En mode de configuration globale, utilisez la commande <span class="cmd"><b>ip access-list</b></span> pour créer une liste de contrôle d’accès nommée. Les noms des listes de contrôle d’accès sont alphanumériques, ils doivent être uniques et ne peuvent pas commencer par un numéro.</p> <p><b>Étape 2.</b> En mode de configuration de la liste de contrôle d’accès nommée, utilisez les instructions <span class="cmd"><b>permit</b></span> ou <span class="cmd"><b>deny</b></span> pour spécifier une ou plusieurs conditions afin de déterminer si un paquet est transféré ou abandonné.</p> <p><b>Étape 3.</b> Repassez en mode d’exécution privilégié à l’aide de la commande <span class="cmd"><b>end</b></span>.</p> <p><b>Cliquez sur le bouton Exemple dans la figure.</b></p> <p>Dans cette figure, les informations affichées indiquent les commandes utilisées pour configurer une liste de contrôle d’accès standard nommée sur le routeur R1, l’interface Fa0/0 qui empêche l’hôte 192.168.11.10 d’accéder au réseau 192.168.10.0. </p> <p>Vous n’êtes pas obligés de mettre des majuscules aux noms des listes de contrôle d’accès. En revanche, si vous le faites, vous les verrez bien mieux en affichant la commande running-config.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405020700">
<title><content-text>Contrôle et vérification des listes de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1405020701">
<content-media type="InteractiveGraphicHotspots" id="cm6736343230">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405020000/tl1405020700/tl1405020701/cm6736343230.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405020000/tl1405020700/tl1405020701/cm6736343230text.xml"/></content-media> <content-text><p>Lorsque la configuration d’une liste de contrôle d’accès est terminée, utilisez les commandes <span class="cmd"><b>show</b></span> du logiciel Cisco IOS pour la vérifier. Dans cette figure, le premier exemple illustre la syntaxe Cisco IOS pour afficher le contenu de toutes les listes de contrôle d’accès. Le dernier exemple illustre le résultat de la commande <span class="cmd"><b>show access-lists</b></span> sur le routeur R1. Les noms des listes de contrôle d’accès en majuscules, SALES et ENG, sont mis en surbrillance à l’écran.</p> <p>Rappelez-vous pourquoi vous avez commencé à configurer des listes de contrôle d’accès ; vous souhaitiez implémenter les stratégies de sécurité de votre organisation. Ayant vérifié que les listes de contrôle d’accès ont été configurées comme convenu, il vous faut désormais confirmer qu’elles fonctionnent comme prévu.</p> <p>Les instructions décrites plus tôt dans cette section vous suggèrent de configurer des listes de contrôle d’accès sur un réseau test puis d’implémenter les listes de contrôle d’accès testées sur un réseau de production. Bien que la préparation d’un scénario de test de liste de contrôle d’accès ne fasse pas partie de ce cours, sachez que la confirmation du bon fonctionnement des listes de contrôle d’accès peut être une tâche complexe et de longue haleine.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405020800">
<title><content-text>Édition des listes de contrôle d’accès nommées</content-text></title>
<page type="OneColumn" id="tl1405020801">
<content-media type="StaticGraphic" id="cm1192848608">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405020000/tl1405020800/tl1405020801/cm1192848608.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405020000/tl1405020800/tl1405020801/cm1192848608text.xml"/></content-media> <content-text><p>Les listes de contrôle d’accès nommées présentent un gros avantage par rapport aux listes de contrôle d’accès numérotées dans la mesure où leur édition est plus facile. Les listes de contrôle d’accès IP nommées vous permettent de supprimer des entrées dans une liste d’accès donnée depuis la version 12.3 du logiciel Cisco IOS. Utilisez des numéros de séquence pour insérer des instructions n’importe où dans la liste de contrôle d’accès nommée. Si vous utilisez une version antérieure du logiciel Cisco IOS, vous pouvez ajouter des instructions uniquement en bas de la liste de contrôle d’accès nommée. Dans la mesure où vous pouvez supprimer des entrées, vous pouvez modifier la liste de contrôle d’accès sans la supprimer ni la reconfigurer dans son intégralité.</p> <p>L’exemple de cette figure illustre une liste de contrôle d’accès appliquée à l’interface S0/0/0 du routeur R1. Elle a limité l’accès au serveur Web. Dans cet exemple, vous pouvez constater deux choses que vous n’avez pas apprises dans ce cours :</p> <p><b>Cliquez sur le bouton Sortie du routeur dans la figure.</b></p> <p><ul><li>Dans la première sortie de la commande <span class="cmd"><b>show</b></span>, vous pouvez constater que la liste de contrôle d’accès nommée WEBSERVER comporte trois lignes numérotées spécifiant les règles d’accès au serveur Web. </li><li>Pour autoriser l’accès à une autre station de travail dans la liste, il suffit d’insérer une ligne numérotée. Dans cet exemple, la station de travail est ajoutée avec l’adresse IP 192.168.11.10.</li><li>La sortie finale de la commande <span class="cmd"><b>show</b></span> vérifie si l’accès est désormais autorisé à la nouvelle station de travail.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1405020802">
<content-media type="ActivityPKA" id="cm7048713311">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405020000/tl1405020800/tl1405020802/cm7048713311/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1405000000/tl1405020000/tl1405020800/tl1405020802/cm7048713311/icontext.xml"/></content-media> <content-text><p>Les listes de contrôle d’accès standard sont des scripts de configuration du routeur contrôlant l’autorisation ou le refus de passage des paquets à partir de l’adresse source. Cet exercice porte principalement sur le filtrage des critères, la configuration de listes de contrôle d’accès standard, l’application de listes de contrôle d’accès aux interfaces du routeur, la vérification et le test de l’implémentation de listes de contrôle d’accès.</p> <p>Des instructions détaillées sont fournies tout au long de l’exercice, ainsi que dans le fichier PDF accessible par le lien suivant.</p> <p><content-link target="E4_PTAct_5_2_8.pdf" type="internalfile">Instructions pour l’exercice (PDF)</content-link></p> <p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1405030000">
<title><content-text>Configuration de listes de contrôle d’accès étendues</content-text></title>
<topic type="" id="tl1405030100">
<title><content-text>Listes de contrôle d’accès étendues</content-text></title>
<page type="OneColumn" id="tl1405030101">
<content-media type="StaticGraphic" id="cm6238261633">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405030000/tl1405030100/tl1405030101/cm6238261633.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405030000/tl1405030100/tl1405030101/cm6238261633text.xml"/></content-media> <content-text><p><b>Test des paquets avec des listes de contrôle d’accès étendues</b></p> <p>Pour un filtrage du trafic plus précis, utilisez des listes de contrôle d’accès étendues et numérotées entre 100 et 199, 2000 et 2699 afin de prendre en charge un maximum de 799 listes de contrôle d’accès étendues. Vous pouvez également attribuer un nom aux listes de contrôle d’accès étendues. </p> <p>Les listes de contrôle d’accès étendues sont plus souvent utilisées que les listes de contrôle d’accès standard car elles garantissent un meilleur contrôle et par conséquent renforcent votre sécurité. À l’image des listes de contrôle d’accès standard, les listes de contrôle d’accès étendues vérifient non seulement les adresses de paquets source, mais aussi l’adresse de destination, les protocoles et les numéros de port (ou services). La plage de critères est ainsi bien plus grande. Par exemple, une liste de contrôle d’accès étendue peut autoriser le trafic électronique d’un réseau vers une destination spécifique tout en refusant les transferts de fichiers et la navigation sur le Web. </p> <p>Cette figure illustre le processus de décision logique suivi par une liste de contrôle d’accès étendue pour filtrer les adresses source et de destination, le protocole et les numéros de port. Dans cet exemple, la liste de contrôle d’accès filtre en fonction de l’adresse source, avant de passer au port et au protocole de la source. Elle filtre en fonction de l’adresse de destination, du port et du protocole de destination, avant de prendre une décision finale d’autorisation ou de refus. </p> <p>Rappelez-vous que les entrées des listes de contrôle d’accès sont traitées les unes après les autres. Ainsi, une décision négative ne correspond pas nécessairement à un refus. En parcourant le processus de décision logique, remarquez qu’un « Non » signifie que vous devez passer à l’entrée suivante et ainsi de suite. La décision d’autorisation ou de refus n’est prise qu’après avoir traité toutes les entrées.</p> <p>La page suivante vous donne un exemple de liste de contrôle d’accès étendue.</p></content-text>
</page>
<page type="OneColumn" id="tl1405030102">
<content-media type="StaticGraphic" id="cm5690109249">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405030000/tl1405030100/tl1405030102/cm5690109249.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405030000/tl1405030100/tl1405030102/cm5690109249text.xml"/></content-media> <content-text><p><b>Test des ports et des services</b></p> <p>Le filtrage en fonction du protocole et du numéro de port vous permet de créer des listes de contrôle d’accès étendues très spécifiques. Si vous utilisez le numéro de port approprié, vous pouvez spécifier une application en configurant le numéro de port ou le nom d’un port connu. </p> <p>Cette figure illustre plusieurs exemples où un administrateur spécifie un numéro de port TCP ou UDP en le plaçant à la fin de l’instruction de la liste de contrôle d’accès étendue. Vous pouvez utiliser des opérateurs logiques, tels que égal (eq), non égal (neq), supérieur à (gt) et inférieur à (lt). </p> <p><b>Cliquez sur le bouton Ports dans la figure.</b></p> <p>Cette figure montre comment générer une liste de numéros de port et mots clés à utiliser lors de la création d’une liste de contrôle d’accès à l’aide de la commande <span class="cmd"><b>R1(config)#access-list 101 permit tcp any eq ?</b></span></p></content-text>
</page>
</topic>
<topic type="" id="tl1405030200">
<title><content-text>Configuration de listes de contrôle d’accès étendues</content-text></title>
<page type="OneColumn" id="tl1405030201">
<content-media type="StaticGraphic" id="cm2360478292">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405030000/tl1405030200/tl1405030201/cm2360478292.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405030000/tl1405030200/tl1405030201/cm2360478292text.xml"/></content-media> <content-text><p>Les étapes de configuration sont identiques pour les listes de contrôle d’accès étendues et pour les listes de contrôle d’accès standard. Créez d’abord la liste de contrôle d’accès étendue puis activez-la sur une interface. La syntaxe et les paramètres de commande sont plus complexes car ils prennent en charge des fonctions supplémentaires fournies par les listes de contrôle d’accès étendues. </p> <p>Cette figure illustre la syntaxe de commande courante pour les listes de contrôle d’accès étendues. La partie qui défile apporte des informations détaillées sur les mots clés et les paramètres. Tout au long de ce chapitre, vous trouverez des explications et des exemples pour approfondir vos connaissances. </p> <p><b>Cliquez sur le bouton Configuration de listes de contrôle d’accès étendues dans la figure.</b></p> <p>Cette figure décrit comment créer une liste de contrôle d’accès étendue pour répondre à vos besoins de réseau. Dans cet exemple, l’administrateur réseau doit limiter l’accès Internet pour n’autoriser que la navigation sur le Web. La liste de contrôle d’accès 103 s’applique au trafic provenant du réseau 192.168.10.0 ; la liste de contrôle d’accès 104 s’applique au trafic à destination du réseau. </p> <p>La liste de contrôle d’accès 103 répond en partie aux besoins. Elle autorise le trafic en provenance de toute adresse sur le réseau 192.168.10.0 à accéder à n’importe quelle destination, à condition que le trafic soit transféré vers les ports 80 (HTTP) et 443 (HTTPS).</p> <p>HTTP nécessite le retour du trafic sur le réseau. Mais l’administrateur réseau souhaite limiter ce trafic aux échanges HTTP en provenance des sites Web demandés. La solution de sécurité doit refuser tout autre trafic acheminé vers le réseau. La liste de contrôle d’accès 104 procède ainsi en bloquant tout trafic entrant, à l’exception des connexions établies. HTTP établit des connexions en commençant par la demande initiale avant de passer aux échanges de messages ACK, FIN et SYN. </p> <p>Notez que l’exemple reprend le paramètre <span class="cmd"><b>established</b></span>. </p> <p>Ce paramètre autorise des réponses au trafic provenant du réseau 192.168.10.0 /24 pour un retour entrant sur s0/0/0. Une correspondance survient si les bits ACK ou RST (réinitialisation) du datagramme TCP sont activés, ce qui indique que le paquet appartient à une connexion existante. Sans paramètre <span class="cmd"><b>established</b></span> dans l’instruction de la liste de contrôle d’accès, les clients peuvent envoyer le trafic vers un serveur Web mais ils ne peuvent pas le recevoir.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405030300">
<title><content-text>Application de listes de contrôle d’accès étendues aux interfaces</content-text></title>
<page type="OneColumn" id="tl1405030301">
<content-media type="StaticGraphic" id="cm1466341838">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405030000/tl1405030300/tl1405030301/cm1466341838.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405030000/tl1405030300/tl1405030301/cm1466341838text.xml"/></content-media> <content-text><p>Vous apprendrez à configurer une liste de contrôle d’accès étendue en reprenant l’exemple précédent. Rappelez-vous que nous souhaitons autoriser les utilisateurs à naviguer vers des sites Web sécurisés et non sécurisés. Tout d’abord, décidez si vous souhaitez filtrer le trafic entrant ou sortant. Les tentatives d’accès aux sites Web sur Internet correspondent au trafic sortant. La réception des courriels correspond au trafic entrant. Néanmoins, lorsqu’il s’agit d’appliquer une liste de contrôle d’accès à une interface, les termes « entrant » ou « sortant » prennent une autre signification en fonction de votre point de vue. </p> <p>Dans l’exemple de cette figure, le routeur R1 comprend deux interfaces. Il comprend un port série S0/0/0 et un port Fast Ethernet Fa0/0. Le trafic Internet entrant accède à l’interface S0/0/0 mais quitte l’interface Fa0/0 à destination de PC1. Cet exemple applique la liste de contrôle d’accès à l’interface série dans les deux sens.</p> <p><b>Cliquez sur le bouton Refuser FTP dans cette figure.</b></p> <p>Il s’agit d’un exemple de refus du trafic FTP en provenance du sous-réseau 192.168.11.0 à destination du sous-réseau 192.168.10.0, sachant que tout autre trafic est autorisé. Notez l’utilisation des masques génériques et de l’instruction de refus globale explicite. N’oubliez pas que FTP nécessite les ports 20 et 21. C’est pourquoi vous devez spécifier <span class="cmd"><b>eq 20</b></span> et <span class="cmd"><b>eq 21</b></span> pour refuser FTP.</p> <p>Avec les listes de contrôle d’accès étendues, vous pouvez utiliser les numéros de port, par exemple, ou désigner un port connu par son nom. Dans l’exemple précédent de liste de contrôle d’accès étendue, les instructions étaient rédigées comme suit :</p> <p><span class="cmd"><b>access-list 114 permit tcp 192.168.20.0 0.0.0.255 any eq ftp</b></span></p> <p><span class="cmd"><b>access-list 114 permit tcp 192.168.20.0 0.0.0.255 any eq ftp-data</b></span></p> <p>Notez que vous devez mentionner <span class="cmd"><b>ftp</b></span> et <span class="cmd"><b>ftp-data</b></span> pour FTP. </p> <p><b>Cliquez sur le bouton Refuser Telnet dans cette figure.</b></p> <p>Cet exemple refuse tout trafic Telnet en provenance de 192.168.11.0 vers l’interface Fa0/0 mais autorise tout autre trafic IP en provenance de toute autre source vers toute destination à la sortie de Fa0/0. Notez l’utilisation des mots clés <span class="cmd"><b>any</b></span>, signifiant en provenance de n’importe quelle source vers n’importe quelle destination.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405030400">
<title><content-text>Création de listes de contrôle d’accès étendues nommées</content-text></title>
<page type="OneColumn" id="tl1405030401">
<content-media type="StaticGraphic" id="cm7153995744">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405030000/tl1405030400/tl1405030401/cm7153995744.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405030000/tl1405030400/tl1405030401/cm7153995744text.xml"/></content-media> <content-text><p>La création de listes de contrôle d’accès étendues nommées est quasiment identique à celle des listes de contrôle d’accès standard nommées. Les commandes utilisées pour créer une liste de contrôle d’accès nommée sont différentes selon qu’il s’agisse d’une liste de contrôle d’accès standard ou étendue.</p> <p>En mode d’exécution privilégié, procédez aux étapes suivantes pour créer une liste de contrôle d’accès étendue nommée.</p> <p><b>Étape 1.</b> En mode de configuration globale, utilisez la commande <span class="cmd"><b>ip access-list extended </b> <i>nom</i></span> pour définir une liste de contrôle d’accès étendue nommée. </p> <p><b>Étape 2.</b> En mode de configuration de la liste de contrôle d’accès nommée, spécifiez les conditions d’autorisation ou de refus.</p> <p><b>Étape 3.</b> Repassez en mode d’exécution privilégié et vérifiez la liste de contrôle d’accès à l’aide de la commande <span class="cmd"><b>show access-lists</b> [<i>numéro</i> | <i>nom</i>]</span>.</p> <p><b>Étape 4.</b> Bien que cette étape soit facultative, il est recommandé d’enregistrez vos entrées dans le fichier de configuration à l’aide de la commande <span class="cmd"><b>copy running-config startup-config</b></span>.</p> <p>Pour supprimer une liste de contrôle d’accès étendue nommée, utilisez la commande de configuration globale <span class="cmd"><b>no ip access-list extended </b><i>nom</i></span>.</p> <p>Cette figure indique la version nommée de la liste de contrôle d’accès que vous avez créée précédemment.</p></content-text>
</page>
<page type="OneColumn" id="tl1405030402">
<content-media type="ActivityPKA" id="cm3778528024">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405030000/tl1405030400/tl1405030402/cm3778528024/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1405000000/tl1405030000/tl1405030400/tl1405030402/cm3778528024/icontext.xml"/></content-media> <content-text><p>Les listes de contrôle d’accès étendues sont des scripts de configuration du routeur contrôlant l’autorisation ou le refus de passage des paquets à partir de l’adresse source ou de destination, des protocoles ou des ports. Les listes de contrôle d’accès étendues fournissent plus de souplesse et de précision que les listes de contrôle d’accès standard. Cet exercice porte principalement sur le filtrage des critères, la configuration de listes de contrôle d’accès étendues, l’application de listes de contrôle d’accès aux interfaces du routeur, la vérification et le test de l’implémentation de listes de contrôle d’accès.</p> <p>Des instructions détaillées sont fournies tout au long de l’exercice, ainsi que dans le fichier PDF accessible par le lien suivant.</p> <p><content-link target="E4_PTAct_5_3_4.pdf" type="internalfile">Instructions pour l’exercice (PDF)</content-link></p> <p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1405040000">
<title><content-text>Configuration de listes de contrôle d’accès complexes</content-text></title>
<topic type="" id="tl1405040100">
<title><content-text>Qu’est-ce qu’une liste de contrôle d’accès complexe ?</content-text></title>
<page type="OneColumn" id="tl1405040101">
<content-media type="StaticGraphic" id="cm3547853820">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405040000/tl1405040100/tl1405040101/cm3547853820.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405040000/tl1405040100/tl1405040101/cm3547853820text.xml"/></content-media> <content-text><p><b>Types de liste de contrôle d’accès complexes</b></p> <p>Les listes de contrôle d’accès standard et étendues forment la base des listes de contrôle d’accès complexes, qui fournissent des fonctions supplémentaires. Le tableau de cette figure résume les trois catégories de listes de contrôle d’accès complexes.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405040200">
<title><content-text>Listes de contrôle d’accès dynamiques</content-text></title>
<page type="OneColumn" id="tl1405040201">
<content-media type="StaticGraphic" id="cm6192297488">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405040000/tl1405040200/tl1405040201/cm6192297488.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405040000/tl1405040200/tl1405040201/cm6192297488text.xml"/></content-media> <content-text><p><b>Qu’est-ce qu’une liste de contrôle d’accès dynamique ?</b></p> <p>Le verrou est une fonction de sécurité conçue pour filtrer le trafic qui utilise les listes de contrôle d’accès dynamiques, qu’on appelle parfois listes de contrôle d’accès de verrou. La fonction de verrou est disponible pour le trafic IP uniquement. Les listes de contrôle d’accès dynamiques dépendent de la connectivité Telnet, de l’authentification (locale ou distante) et des listes de contrôle d’accès étendues.</p> <p>La configuration des listes de contrôle d’accès dynamiques commence par l’application d’une liste de contrôle d’accès étendue pour bloquer le trafic traversant le routeur. La liste de contrôle d’accès étendue bloque les utilisateurs souhaitant traverser le routeur tant qu’ils n’utilisent pas Telnet pour se connecter au routeur et tant qu’ils n’ont pas été authentifiés. La connexion Telnet est alors abandonnée et la liste de contrôle d’accès dynamique à entrée unique est ajoutée à la liste de contrôle d’accès étendue existante. Le trafic est alors autorisé pour une durée déterminée. Vous pouvez définir des délais d’inactivité et des délais de déconnexion absolus. </p> <p><b>Quand utiliser les listes de contrôle d’accès dynamiques </b></p> <p>Vous trouverez ci-dessous plusieurs raisons fréquentes d’utiliser les listes de contrôle d’accès dynamiques :</p> <p><ul><li>Lorsque vous souhaitez qu’un utilisateur distant spécifique ou qu’un groupe d’utilisateurs distants accède à un hôte sur le réseau, depuis leurs hôtes distants via Internet. Le verrou authentifie l’utilisateur et autorise un accès limité par le biais du routeur pare-feu pour un hôte ou un sous-réseau et pour une durée déterminée. </li><li>Lorsque vous souhaitez qu’un sous-ensemble d’hôtes sur un réseau local puisse accéder à un hôte sur un réseau distant protégé par un pare-feu. Grâce au verrou, vous pouvez activer l’accès à l’hôte distant uniquement pour l’ensemble d’hôtes locaux. Le verrou exige que les utilisateurs soient authentifiés par un serveur <content-link target="{66C17097-1FF6-4E87-814F-9070BF6EB051}" type="glossary">AAA</content-link>, TACACS+ ou un autre serveur de sécurité, avant de permettre à leurs hôtes d’accéder aux hôtes distants.</li></ul></p> <p><b>Avantages des listes de contrôle d’accès dynamiques </b></p> <p>Les listes de contrôle d’accès dynamiques présentent les avantages de sécurité suivants par rapport aux listes de contrôle d’accès étendues statiques et standard :</p> <p><ul><li>Recours à un mécanisme d’authentification des utilisateurs ;</li><li>Gestion simplifiée sur les interréseaux de grande taille ;</li><li>Traitement réduit du routeur requis pour les listes de contrôle d’accès, dans de nombreux cas ;</li><li>Limitation des éventuelles infractions du réseau par des pirates informatiques ;</li><li>Création d’un accès utilisateur dynamique via un pare-feu, sans compromettre les autres restrictions de sécurité configurées.</li></ul></p> <p>Dans cette figure, l’utilisateur de PC1 est un administrateur exigeant un accès de secours au réseau 192.168.30.0 /24 situé sur le routeur R3. Une liste de contrôle d’accès dynamique a été configurée pour autoriser un accès FTP et HTTP sur le routeur R3 pour une période limitée uniquement.</p></content-text>
</page>
<page type="OneColumn" id="tl1405040202">
<content-media type="StaticGraphic" id="cm1730026134">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405040000/tl1405040200/tl1405040202/cm1730026134.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405040000/tl1405040200/tl1405040202/cm1730026134text.xml"/></content-media> <content-text><p><b>Exemples de listes de contrôle d’accès dynamiques</b></p> <p>Imaginons que vous deviez définir une spécification pour un administrateur réseau sur PC1 en vue d’obtenir un accès momentané au réseau (192.168.30.0 /24) via le routeur R3. Pour faciliter cette spécification, une liste de contrôle d’accès dynamique est configurée sur l’interface série S0/0/1 du routeur R3. </p> <p>Bien que ce cours ne décrive pas la configuration d’une liste de contrôle d’accès dynamique de manière détaillée, il est conseillé de revoir les étapes de configuration. </p> <p> </p> <p><b>Cliquez sur le bouton Config dans cette figure </b>pour afficher un exemple de configuration de liste de contrôle d’accès dynamique. </p> <p><b>Placez votre pointeur sur chaque étape dans cette figure</b> pour consulter la procédure de configuration d’une liste de contrôle d’accès dynamique.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405040300">
<title><content-text>Listes de contrôle d’accès réflexives </content-text></title>
<page type="OneColumn" id="tl1405040301">
<content-media type="StaticGraphic" id="cm8961945188">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405040000/tl1405040300/tl1405040301/cm8961945188.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405040000/tl1405040300/tl1405040301/cm8961945188text.xml"/></content-media> <content-text><p><b>Qu’est-ce qu’une liste de contrôle d’accès réflexive ?</b></p> <p>Les listes de contrôle d’accès réflexives imposent au trafic de réponse issu de la destination d’un paquet sortant connu et récent d’accéder à la source de ce paquet. Elles permettent un meilleur contrôle du trafic que vous autorisez sur le réseau et augmentent les capacités des listes de contrôle d’accès étendues.</p> <p>Les administrateurs réseau utilisent les listes de contrôle d’accès réflexives pour autoriser le trafic IP pour des sessions provenant de leur réseau tout en refusant le trafic IP pour les sessions dont la source est extérieure au réseau. Ces listes de contrôle d’accès permettent au routeur de gérer le trafic de session de manière dynamique. Le routeur examine le trafic sortant. Lorsqu’il détecte une nouvelle connexion, il ajoute une entrée à une liste de contrôle d’accès provisoire pour autoriser les réponses. Les listes de contrôle d’accès réflexives comprennent uniquement des entrées provisoires. Ces entrées sont créées automatiquement au lancement d’une nouvelle session IP, par exemple, avec un paquet sortant. Les entrées sont supprimées automatiquement à la clôture d’une session. </p> <p>Les listes de contrôle d’accès réflexives offrent un filtrage de session plus efficace qu’une liste de contrôle d’accès étendue, qui utilise le paramètre <span class="cmd"><b>established</b></span> présenté précédemment. Bien que de concept comparable au paramètre <span class="cmd"><b>established</b></span>, les listes de contrôle d’accès réflexives fonctionnent également pour les protocoles UDP et ICMP, dépourvus de bits de reçu (ACK) ou de réinitialisation (RST). L’option <span class="cmd"><b>established</b></span> ne fonctionne pas avec les applications qui modifient de manière dynamique le port source pour le trafic de session. L’instruction <span class="cmd"><b>permit established</b></span> vérifie uniquement les bits ACK ou RST (réinitialisation) ; elle ignore les adresses source ou de destination.</p> <p>Les listes de contrôle d’accès réflexives ne s’appliquent pas directement à une interface. En revanche, elles sont « imbriquées » dans une liste de contrôle d’accès IP étendue nommée appliquée à cette interface.</p> <p>Vous ne pouvez définir des listes de contrôle d’accès réflexives qu’avec des listes de contrôle d’accès IP étendues nommées. Vous ne pouvez pas les définir avec des listes de contrôle d’accès standard nommées ou numérotées, ou encore avec d’autres listes de contrôle d’accès de protocole. Vous pouvez utiliser les listes de contrôle d’accès réflexives avec d’autres listes de contrôle d’accès étendues statiques et standard.</p> <p><b>Avantages des listes de contrôle d’accès réflexives</b></p> <p>Les listes de contrôle d’accès réflexives offrent les avantages suivants :</p> <p><ul><li>Elles contribuent à la protection de votre réseau contre les pirates ; elles peuvent être incluses dans une défense pare-feu. </li><li>Elles sont une sécurité contre la mystification et certaines attaques DoS. Les listes de contrôle d’accès réflexives sont nettement plus difficiles à mystifier car un nombre supérieur de critères de filtrage doit correspondre avant que le passage d’un paquet soit autorisé. Par exemple, une vérification est opérée sur les adresses source et de destination, les numéros de port, et pas seulement sur les bits ACK ou RST.</li><li>Faciles à utiliser par rapport aux listes de contrôle d’accès de base, les listes de contrôle d’accès réflexives renforcent le contrôle sur les paquets autorisés sur le réseau.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1405040302">
<content-media type="StaticGraphic" id="cm7697540152">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405040000/tl1405040300/tl1405040302/cm7697540152.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405040000/tl1405040300/tl1405040302/cm7697540152text.xml"/></content-media> <content-text><p><b>Exemple de listes de contrôle d’accès réflexives</b></p> <p>Cette figure illustre un exemple où l’administrateur a besoin d’une liste de contrôle d’accès réflexive autorisant le trafic ICMP entrant et sortant, tout en autorisant uniquement le trafic TCP initié à l’intérieur du réseau. Supposons que tout autre trafic est refusé. La liste de contrôle d’accès réflexive est appliquée à l’interface de sortie du routeur R2. </p> <p><b>Cliquez sur le bouton Config dans cette figure.</b></p> <p>Bien que ce cours ne décrive pas la configuration complète des listes de contrôle d’accès réflexives, cette figure explique les étapes de configuration pour une liste de contrôle d’accès réflexive.</p> <p><b>Placez votre pointeur sur chaque étape dans cette figure</b> pour consulter la procédure de configuration d’une liste de contrôle d’accès réflexive.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405040400">
<title><content-text>Listes de contrôle d’accès basées sur le temps</content-text></title>
<page type="OneColumn" id="tl1405040401">
<content-media type="StaticGraphic" id="cm5060973014">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405040000/tl1405040400/tl1405040401/cm5060973014.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405040000/tl1405040400/tl1405040401/cm5060973014text.xml"/></content-media> <content-text><p><b>Qu’est-ce qu’une liste de contrôle d’accès basée sur le temps ?</b></p> <p>Les fonctions des listes de contrôle d’accès basées sur le temps ressemblent à celles des listes de contrôle d’accès réflexives. Ceci dit, il est important de noter qu’elles autorisent un contrôle d’accès basé sur le temps. L’implémentation des listes de contrôle d’accès basées sur le temps nécessite la création d’une plage horaire, qui définit certains moments de la journée et de la semaine. Identifiez la plage horaire par un nom, désignez-la par une fonction. La fonction se voit imposer des restrictions temporelles.</p> <p>Les listes de contrôle d’accès basées sur le temps offrent les avantages suivants :</p> <p><ul><li>Elles renforcent le contrôle des administrateurs réseau en autorisant ou en refusant l’accès aux ressources. </li><li>Elles permettent aux administrateurs réseau de contrôler les messages de journalisation. Les entrées des listes de contrôle d’accès peuvent enregistrer le trafic à certains moments de la journée, mais pas tout le temps. Par conséquent, les administrateurs peuvent tout simplement refuser l’accès sans analyser les nombreux journaux générés pendant les heures de pointe.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1405040402">
<content-media type="StaticGraphic" id="cm9688194350">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405040000/tl1405040400/tl1405040402/cm9688194350.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405040000/tl1405040400/tl1405040402/cm9688194350text.xml"/></content-media> <content-text><p><b>Exemple de liste de contrôle d’accès basée sur le temps</b></p> <p>Bien que ce cours ne décrive pas la configuration complète des listes de contrôle d’accès basées sur le temps, cette figure explique les étapes requises. Dans cet exemple, une connexion Telnet est autorisée depuis le réseau intérieur au réseau extérieur les lundis, mercredis et vendredis pendant les heures ouvrables. </p> <p><b>Cliquez sur le bouton Config dans cette figure.</b></p> <p><b>Étape 1.</b> Définissez la plage horaire pour implémenter une liste de contrôle d’accès et appelez-la EVERYOTHERDAY, dans cet exemple.</p> <p><b>Étape 2.</b> Appliquez la plage horaire à la liste de contrôle d’accès.</p> <p><b>Étape 3.</b> Appliquez la liste de contrôle d’accès à l’interface.</p> <p>La plage horaire repose sur l’horloge système du routeur. La fonction est optimisée avec la synchronisation du protocole NTP. Ceci dit, vous pouvez utiliser l’horloge du routeur.</p></content-text>
</page>
</topic>
<topic type="" id="tl1405040500">
<title><content-text>Dépannage des erreurs courantes relatives aux listes de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1405040501">
<content-media type="InteractiveGraphicHotspots" id="cm7525379986">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405040000/tl1405040500/tl1405040501/cm7525379986.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405040000/tl1405040500/tl1405040501/cm7525379986text.xml"/></content-media> <content-text><p>Les commandes <span class="cmd"><b>show</b></span>, décrites précédemment, révèlent la plupart des erreurs les plus courantes relatives aux listes de contrôle d’accès avant qu’elles n’occasionnent des problèmes sur le réseau. Il est souhaitable d’utiliser une procédure de test efficace pour protéger votre réseau pendant la phase de développement de l’implémentation de listes de contrôle d’accès.</p> <p>Lorsque vous étudiez une liste de contrôle d’accès, assurez-vous que les règles apprises sont respectées en phase de création. La plupart des erreurs proviennent du non-respect de ces règles fondamentales. À vrai dire, les erreurs les plus courantes portent sur la saisie des instructions dans un mauvais ordre et sur la non-application des critères adéquats aux règles. </p> <p>Prenons le temps de vérifier une série de problèmes fréquents et leur solution. Cliquez sur chaque exemple en lisant ces explications.</p> <p><b>Cliquez sur le bouton Erreur 1 dans la figure.</b></p> <p>L’hôte 192.168.10.10 n’a établi aucune connectivité avec 192.168.30.12. Pouvez-vous voir l’erreur dans les données affichées de la commande <span class="cmd"><b>show access-lists</b></span> ? </p> <p><b>Solution</b> - Consultez l’ordre des instructions de la liste de contrôle d’accès. L’hôte 192.168.10.10 n’a établi aucune connectivité avec 192.168.30.12 à cause de l’ordre de la règle 10 dans la liste de contrôle d’accès. Sachant que le routeur traite les listes de contrôle d’accès de haut en bas, l’instruction 10 refuse l’hôte 192.168.10.10, donc l’instruction 20 n’est pas traitée. Les instructions 10 et 20 doivent être inversées. La dernière ligne autorise tout autre trafic non TCP correspondant au protocole IP (ICMP, UDP et ainsi de suite).</p> <p><b>Cliquez sur le bouton Erreur 2 dans la figure.</b></p> <p>Le réseau 192.168.10.0 /24 ne peut pas utiliser TFTP pour se connecter au réseau 192.168.30.0 /24. Pouvez-vous voir l’erreur dans les données affichées de la commande <span class="cmd"><b>show access-lists</b></span> ?</p> <p><b>Solution</b> - Le réseau 192.168.10.0 /24 ne peut pas utiliser TFTP pour se connecter au réseau 192.168.30.0 /24 car TFTP utilise le protocole de transport UDP. L’instruction 30 dans la liste de contrôle d’accès 120 autorise tout autre trafic TCP. Sachant que TFTP utilise UDP, il est refusé implicitement. L’instruction 30 doit être <span class="cmd"><b>ip any any</b></span>.</p> <p>Cette liste de contrôle d’accès fonctionne qu’elle soit appliquée à Fa0/0 (routeur R1), à S0/0/1 (routeur R3), ou à S0/0/0 (routeur R2) dans le sens entrant. Néanmoins, conformément à la règle voulant que les listes de contrôle d’accès étendues soient placées le plus près de la source, le meilleur emplacement est sur Fa0/0 (routeur R1) car tout trafic indésirable y est filtré sans traverser l’infrastructure réseau.</p> <p><b>Cliquez sur le bouton Erreur 3 dans la figure.</b></p> <p>Le réseau 192.168.10.0 /24 peut utiliser Telnet pour se connecter à 192.168.30.0 /24 alors que cette connexion doit être interdite. Analysez les données issues de la commande <span class="cmd"><b>show access-lists</b></span> et voyez si vous pouvez trouver une solution. Où appliqueriez-vous cette liste de contrôle d’accès ?</p> <p><b>Solution</b> - Le réseau 192.168.10.0 /24 peut utiliser Telnet pour se connecter au réseau 192.168.30.0 /24 car le numéro du port Telnet dans l’instruction 10 de la liste de contrôle d’accès 130 est mal placé. L’instruction 10 refuse actuellement toute source avec un numéro de port égal à Telnet qui essaie d’établir une connexion à une adresse IP. Si vous souhaitez refuser le trafic Telnet entrant sur S0, refusez le numéro de port de destination équivalent à Telnet, par exemple <span class="cmd"><b>deny tcp any any eq telnet</b></span>.</p> <p><b>Cliquez sur le bouton Erreur 4 dans la figure.</b></p> <p>L’hôte 192.168.10.10 peut utiliser Telnet pour se connecter à 192.168.30.12 alors que cette connexion doit être interdite. Analysez les données issues de la commande <span class="cmd"><b>show access-lists</b></span>. </p> <p><b>Solution</b> - L’hôte 192.168.10.10 peut utiliser Telnet pour se connecter au réseau 192.168.30.12 car aucune règle ne refuse l’hôte 192.168.10.10 ou son réseau en tant que source. L’instruction 10 de la liste de contrôle d’accès 140 refuse l’interface du routeur d’où partirait le trafic. Néanmoins, comme ces paquets partent du routeur, leur adresse source est 192.168.10.10 et non celle de l’interface du routeur.</p> <p>Comme pour la solution de l’erreur 2, cette liste de contrôle d’accès doit s’appliquer à l’interface Fa0/0 du routeur R1 dans le sens entrant.</p> <p><b>Cliquez sur le bouton Erreur 5 dans la figure.</b></p> <p>L’hôte 192.168.30.12 peut utiliser Telnet pour se connecter à 192.168.10.10 alors que cette connexion doit être interdite. Analysez les données issues de la commande <span class="cmd"><b>show access-lists</b></span> et identifiez l’erreur.</p> <p><b>Solution</b> - L’hôte 192.168.30.12 peut utiliser Telnet pour se connecter au réseau 192.168.10.10 du fait de la direction dans laquelle est appliquée la liste de contrôle d’accès 150 à l’interface S0/0. L’instruction 10 refuse l’adresse source 192.168.30.12. Ceci dit, cette adresse est la source uniquement si le trafic est sortant (et non entrant) sur S0/0. </p></content-text>
</page>
<page type="FullScreen" id="tl1405040502">
<content-media type="ActivityCustom" id="cm9784865559">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405040000/tl1405040500/tl1405040502/cm9784865559.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405040000/tl1405040500/tl1405040502/cm9784865559text.xml"/></content-media> <content-text><p>Exercice Flash complexe : configuration des listes de contrôle d’accès complexes</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1405050000">
<title><content-text>Travaux pratiques du chapitre</content-text></title>
<topic type="" id="tl1405050100">
<title><content-text>Listes de contrôle d’accès de base</content-text></title>
<page type="OneColumn" id="tl1405050101">
<content-media type="ActivityLab" id="cm8857404340">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405050000/tl1405050100/tl1405050101/cm8857404340/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1405000000/tl1405050000/tl1405050100/tl1405050101/cm8857404340/icontext.xml"/></content-media> <content-text><p>La sécurité d’un réseau repose principalement sur le contrôle du type de trafic autorisé sur le réseau, ainsi que sur le contrôle de sa source. Ces travaux pratiques expliquent comment configurer des listes de contrôle d’accès de base et étendues pour atteindre cet objectif.</p></content-text>
</page>
<page type="OneColumn" id="tl1405050102">
<content-media type="ActivityPKA" id="cm8611793361">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405050000/tl1405050100/tl1405050102/cm8611793361/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1405000000/tl1405050000/tl1405050100/tl1405050102/cm8611793361/icontext.xml"/></content-media> <content-text><p>Cet exercice est une variante des travaux pratiques 5.5.1. Packet Tracer risque de ne pas prendre en charge toutes les tâches spécifiées dans ces travaux pratiques. Cet exercice ne remplace pas les travaux pratiques. Packet Tracer ne remplace pas les travaux pratiques avec des équipements réels.</p> <p>Des instructions détaillées sont fournies tout au long de l’exercice, ainsi que dans le fichier PDF accessible par le lien suivant.</p> <p><content-link target="E4_PTAct_5_5_1.pdf" type="internalfile">Instructions pour l’exercice (PDF)</content-link></p> <p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1405050200">
<title><content-text>Exercice sur les listes de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1405050201">
<content-media type="ActivityLab" id="cm2075601179">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405050000/tl1405050200/tl1405050201/cm2075601179/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1405000000/tl1405050000/tl1405050200/tl1405050201/cm2075601179/icontext.xml"/></content-media> <content-text><p>Dans les travaux pratiques Listes de contrôle d’accès de base, vous avez configuré des listes de contrôle d’accès de base et étendues pour la première fois dans un souci de sécurisation du réseau. Dans ces travaux pratiques, définissez autant de mesures de sécurité du réseau que possible sans vous reporter aux travaux pratiques. Vous pourrez ainsi évaluer vos connaissances. Le cas échéant, vérifiez votre travail en vous reportant aux travaux pratiques ou aux réponses fournies par votre formateur. </p></content-text>
</page>
<page type="OneColumn" id="tl1405050202">
<content-media type="ActivityPKA" id="cm9758146967">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405050000/tl1405050200/tl1405050202/cm9758146967/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1405000000/tl1405050000/tl1405050200/tl1405050202/cm9758146967/icontext.xml"/></content-media> <content-text><p>Cet exercice est une variante des travaux pratiques 5.5.2. Packet Tracer risque de ne pas prendre en charge toutes les tâches spécifiées dans ces travaux pratiques. Cet exercice ne remplace pas les travaux pratiques. Packet Tracer ne remplace pas les travaux pratiques avec des équipements réels.</p> <p>Des instructions détaillées sont fournies tout au long de l’exercice, ainsi que dans le fichier PDF accessible par le lien suivant.</p> <p><content-link target="E4_PTAct_5_5_2.pdf" type="internalfile">Instructions pour l’exercice (PDF)</content-link></p> <p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1405050300">
<title><content-text>Dépannage des listes de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1405050301">
<content-media type="ActivityLab" id="cm7960973984">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405050000/tl1405050300/tl1405050301/cm7960973984/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1405000000/tl1405050000/tl1405050300/tl1405050301/cm7960973984/icontext.xml"/></content-media> <content-text><p>Vous travaillez pour un fournisseur de services régional qui a récemment été victime de plusieurs violations de sécurité. Il vous est demandé de sécuriser les routeurs de périphérie des clients afin que seuls les ordinateurs de gestion locaux soient autorisés à accéder aux lignes VTY. Pour résoudre ce problème, vous devez configurer des listes de contrôle d’accès sur le routeur R2 afin que les réseaux connectés directement au routeur R3 ne puissent pas communiquer avec les réseaux connectés directement au routeur R1, sans pour autant bloquer tout autre trafic. </p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="tl1405060000">
<title><content-text>Résumé du chapitre</content-text></title>
<topic type="" id="tl1405060100">
<title><content-text>Résumé</content-text></title>
<page type="OneColumn" id="tl1405060101">
<content-media type="ChapterSummary" id="cm5738420936">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405060000/tl1405060100/tl1405060101/cm5738420936.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405060000/tl1405060100/tl1405060101/cm5738420936text.xml"/></content-media> <content-text><p>Une liste de contrôle d’accès est un script de configuration de routeur utilisant le filtrage des paquets pour contrôler l’autorisation ou le refus de passage des paquets, conformément aux critères stipulés dans leur en-tête. Elles servent également à sélectionner le type de trafic à analyser, transmettre ou traiter selon d’autres méthodes. Les listes de contrôle d’accès sont les objets les plus couramment utilisés dans le logiciel Cisco IOS.</p> <p>Il existe quatre types de liste de contrôle d’accès : standard, étendue, nommée et numérotée. Dans ce chapitre, vous avez appris la fonction de chacune d’entre elles, ainsi que leur emplacement sur le réseau. Vous avez appris à configurer des listes de contrôle d’accès sur des interfaces d’entrée et de sortie. Ce chapitre a également décrit les listes de contrôle d’accès spéciales : dynamiques, réflexives et basées sur le temps. L’accent a été mis sur les instructions et les méthodes recommandées pour l’élaboration de listes de contrôle d’accès efficaces et fonctionnelles.</p> <p>Grâce aux connaissances et compétences acquises dans ce chapitre, vous pouvez désormais configurer avec confiance, tout en restant vigilant, des listes de contrôle d’accès complexes, étendues et standard, puis vérifier et dépanner ces configurations. </p></content-text>
</page>
<page type="FullScreen" id="tl1405060102">
<content-media type="StaticGraphic" id="cm1434218992">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405060000/tl1405060100/tl1405060102/cm1434218992.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1405000000/tl1405060000/tl1405060100/tl1405060102/cm1434218992text.xml"/></content-media> <content-text></content-text>
</page>
<page type="OneColumn" id="tl1405060103">
<content-media type="ActivityPKA" id="cm8686006627">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405060000/tl1405060100/tl1405060103/cm8686006627/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1405000000/tl1405060000/tl1405060100/tl1405060103/cm8686006627/icontext.xml"/></content-media> <content-text><p>Au cours de cet exercice, vous aurez l’occasion de vérifier vos capacités à configurer des listes de contrôle d’accès qui mettent en œuvre cinq stratégies de sécurité. En outre, vous pourrez configurer le routage PPP et OSPF. Les périphériques sont déjà configurés avec l’adressage IP.</p> <p>Des instructions détaillées sont fournies tout au long de l’exercice, ainsi que dans le fichier PDF accessible par le lien suivant.</p> <p><content-link target="E4_PTAct_5_6_1.pdf" type="internalfile">Instructions pour l’exercice (PDF)</content-link></p> <p><b>Cliquez sur l’icône Packet Tracer pour plus d’informations.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="tl1405070000">
<title><content-text>Questionnaire du chapitre</content-text></title>
<topic type="" id="tl1405070100">
<title><content-text>Questionnaire du chapitre</content-text></title>
<page type="FullScreen" id="tl1405070101">
<content-media type="ChapterQuiz" id="cm9380024428">	<title><content-text></content-text></title>	<media ref="tl1405000000/tl1405070000/tl1405070100/tl1405070101/cm9380024428/" mime="" scale="true" type="directory" width="100%" height="100%" external="tl1405000000/tl1405070000/tl1405070100/tl1405070101/cm9380024428/icontext.xml"/></content-media> <content-text></content-text>
</page>
</topic>
</section>
</chapter>
