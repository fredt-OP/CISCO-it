<chapter type="" id="tl1103000000">
<title><content-text>Commutation dans un réseau d’entreprise</content-text></title>
<section type="ChapterIntroduction" id="tl1103000000">
<title><content-text>Présentation du chapitre</content-text></title>
<topic type="" id="tl1103000100">
<title><content-text>Présentation</content-text></title>
<page type="FullScreen" id="tl1103000101">
<content-media type="ChapterIntroduction" id="cm3998569673">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103000000/tl1103000100/tl1103000101/cm3998569673.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103000000/tl1103000100/tl1103000101/cm3998569673text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
<section type="" id="tl1103010000">
<title><content-text>Description de la commutation au niveau de l’entreprise</content-text></title>
<topic type="" id="tl1103010100">
<title><content-text>Commutation et segmentation de réseau</content-text></title>
<page type="OneColumn" id="tl1103010101">
<content-media type="StaticGraphic" id="cm8600218666">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103010000/tl1103010100/tl1103010101/cm8600218666.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103010000/tl1103010100/tl1103010101/cm8600218666text.xml"/></content-media>
<content-text><p>Quoique la création d’un réseau d’entreprise nécessite à la fois des routeurs et des commutateurs, dans la plupart des entreprises, la conception du réseau repose essentiellement sur les commutateurs. Par port, les commutateurs coûtent moins cher que les routeurs et fournissent un transfert rapide de trames à la <content-link target="{4DB279E0-962E-4DAF-B0EB-E4565DE6F355}" type="glossary">vitesse du câble</content-link> (« wire speed »).</p> <p>Un commutateur est un périphérique de couche 2 extrêmement adaptable. Dans son rôle premier, il remplace un concentrateur en faisant office de point central de connexion pour plusieurs hôtes. Dans son rôle plus complexe, un commutateur se connecte à un ou plusieurs autres commutateurs pour créer, gérer et assurer la maintenance de liaisons redondantes et la connectivité de <content-link target="{A7E04384-D456-4FAE-AE30-32720291A404}" type="glossary">réseau local virtuel</content-link>. Un commutateur traite tous les types de trafic de la même manière, quelle que soit son utilisation.</p> <p>Il achemine le trafic en fonction des adresses MAC. Chaque commutateur gère une table d’adresses MAC dans une mémoire à haut débit, appelée <content-link target="{53A331CD-7A5D-41CB-A2A2-8766EA559AC5}" type="glossary">mémoire associative</content-link> (CAM, Content Addressable Memory). À chaque fois qu’il est activé, le commutateur recrée cette table en utilisant les adresses MAC source des trames entrantes et le numéro de port par lequel la trame a accédé au commutateur. </p></content-text>
</page>
<page type="OneColumn" id="tl1103010102">
<content-media type="AnimationPartialScreen" id="cm3977039859">	<title><content-text>Cliquez sur Lire pour afficher la table MAC et le processus d’obsolescence sur un port.</content-text></title>	<media ref="tl1103000000/tl1103010000/tl1103010100/tl1103010102/cm3977039859.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103010000/tl1103010100/tl1103010102/cm3977039859text.xml"/></content-media>
<content-text><p>Si certaines entrées de la table d’adresses MAC ne sont pas utilisées pendant une période spécifique, le commutateur les supprime. Cette période est appelée <content-link target="{BC02E363-A03C-41CD-92E0-AED6AE746203}" type="glossary">compteur d’obsolescence</content-link>. La suppression d’une entrée est désignée par le terme « obsolescence ».</p> <p>Lorsqu’une trame <content-link target="{D4CECFA9-CEEA-4D88-8D5A-45DD2B1CE0D5}" type="glossary">monodiffusion</content-link> arrive sur un port, le commutateur recherche l’adresse MAC source dans la trame, puis il recherche dans la table MAC une entrée correspondant à l’adresse. </p> <p>Si l’adresse MAC source ne se trouve pas dans la table, le commutateur ajoute une entrée d’adresse MAC et de numéro de port, et définit le compteur d’obsolescence. Si l’adresse MAC source existe déjà, le commutateur réinitialise le compteur d’obsolescence.</p> <p>Le commutateur recherche ensuite dans la table l’adresse MAC de destination. Si une entrée est présente, le commutateur transmet la trame vers le numéro de port approprié. Dans le cas contraire, sous l’action du commutateur, tous les ports actifs subissent une <content-link target="{EAAE86E9-FC61-4C17-972B-F1BCEA31FA9A}" type="glossary"> inondation </content-link> de la part de la trame, sauf le port sur lequel elle a été reçue.</p></content-text>
</page>
<page type="OneColumn" id="tl1103010103">
<content-media type="AnimationPartialScreen" id="cm5418510105">	<title><content-text>Cliquez sur Lire pour afficher un commutateur inondant le trafic de diffusion.</content-text></title>	<media ref="tl1103000000/tl1103010000/tl1103010100/tl1103010103/cm5418510105.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103010000/tl1103010100/tl1103010103/cm5418510105text.xml"/></content-media>
<content-text><p>Dans une entreprise, la disponibilité, la vitesse et le débit du réseau sont des éléments essentiels. La taille du domaine de <content-link target="{0FCEF947-36EC-4B36-895C-4D2B542BDF34}" type="glossary">diffusion</content-link> et du <content-link target="{ADD82AE6-A30F-40D6-9FE7-C2760136BF50}" type="glossary">domaine de collision</content-link> affecte le flux de trafic. En général, des domaines de diffusion et de collision étendus affectent ces variables critiques. </p> <p>Si un commutateur reçoit une trame de diffusion, cette trame inonde toutes les interfaces actives, comme avec une adresse MAC de destination inconnue. Tous les périphériques qui reçoivent cette diffusion constituent le domaine de diffusion. Au fur et à mesure que le nombre de commutateurs connectés augmente, le domaine de diffusion s’étend. </p> <p>Les domaines de collision créent un problème similaire. Plus le nombre de périphériques dans un domaine de collision est important, plus le nombre de collisions est élevé. </p> <p>Les concentrateurs créent des domaines de collision étendus. Les commutateurs quant à eux utilisent une fonctionnalité appelée la <content-link target="{1523E959-EAA5-476D-A421-A70BA4DA1FF3}" type="glossary">microsegmentation</content-link> pour réduire la taille des domaines de collision à un port de commutateur unique. </p></content-text>
</page>
<page type="OneColumn" id="tl1103010104">
<content-media type="StaticGraphic" id="cm1199229459">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103010000/tl1103010100/tl1103010104/cm1199229459.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103010000/tl1103010100/tl1103010104/cm1199229459text.xml"/></content-media>
<content-text><p>Lorsqu’un hôte se connecte à un port de commutateur, le commutateur crée une connexion dédiée. Lorsque deux hôtes connectés communiquent entre eux, le commutateur consulte la table de commutation et établit une connexion virtuelle, ou <content-link target="{5CA2B3D0-36D3-478D-81F2-6266BFF119E9}" type="glossary">microsegment</content-link>, entre les deux ports. </p> <p>Le commutateur maintient le <content-link target="{D633720B-3C01-4F3A-BA0E-AC8D005F826C}" type="glossary">circuit virtuel</content-link> jusqu’à la fin de la session. Plusieurs circuits virtuels peuvent être actifs simultanément. La microsegmentation améliore l’utilisation de la bande passante en réduisant les collisions et en autorisant les connexions simultanées. </p> <p>Les commutateurs peuvent prendre en charge la commutation symétrique ou <content-link target="{A23C82BC-F97E-4ED3-B7DF-FDD217AC4262}" type="glossary">asymétrique</content-link>. Les commutateurs dont les ports présentent tous des vitesses identiques sont considérés comme symétriques. Sur de nombreux commutateurs en revanche, les ports offrent des vitesses variées. Ces <content-link target="{F3E03FC6-2582-4B3A-8108-5467C6448D87}" type="glossary">ports uplink</content-link> ou ports à haut débit, se connectent à des zones dans lesquelles la demande de bande passante est supérieure. Il s’agit en général des zones suivantes : </p> <p><ul><li> connexions à d’autres commutateurs ; </li><li> liaisons vers des serveurs ou des batteries de serveurs ; </li><li> connexions à d’autres réseaux. </li></ul></p> <p>Les connexions entre des ports dont les vitesses sont différentes utilisent la commutation asymétrique. Si nécessaire, un commutateur stocke des informations en mémoire pour fournir un tampon entre des ports de vitesses différentes. Les commutateurs asymétriques sont très répandus dans l’environnement d’entreprise.</p></content-text>
</page>
<page type="FullScreen" id="tl1103010105">
<content-media type="AnimationFullScreen" id="cm6554877439">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103010000/tl1103010100/tl1103010105/cm6554877439.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103010000/tl1103010100/tl1103010105/cm6554877439text.xml"/></content-media>
<content-text><p><b>Exercice</b></p> <p>Déterminez comment le commutateur transfère une trame compte tenu de l’adresse MAC de destination et des informations dans la table MAC de commutation. </p> <p><b>Remarque : </b>une trame multidiffusion commence par les caractères hexadécimaux 01:00:5E. </p></content-text>
</page>
</topic>
<topic type="" id="tl1103010200">
<title><content-text>Commutation multicouche</content-text></title>
<page type="OneColumn" id="tl1103010201">
<content-media type="StaticGraphic" id="cm4969446693">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103010000/tl1103010200/tl1103010201/cm4969446693.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103010000/tl1103010200/tl1103010201/cm4969446693text.xml"/></content-media>
<content-text><p>Les réseaux sont normalement constitués de périphériques distincts de couche 2 et 3. Chaque périphérique utilise une technique différente pour traiter et transférer le trafic.</p> <p><b>Couche 2</b></p> <p>Les commutateurs de la couche 2 sont basés sur le matériel. Ils transfèrent du trafic à la vitesse du câble, en utilisant les circuits internes qui raccordent physiquement chaque port entrant à tous les autres ports. Le processus de transfert utilise l’adresse MAC et l’adresse MAC de destination présente dans la table MAC. Un commutateur de couche 2 limite le transfert de trafic à un segment du réseau ou à un sous-réseau unique.</p> <p><b>Couche 3</b></p> <p>Les routeurs ont une base logicielle et utilisent des <content-link target="{6264C379-3385-49A6-85C2-4303A42C52DD}" type="glossary">microprocesseurs</content-link> pour exécuter le routage basé sur des adresses IP.  Le routage de couche 3 permet de transférer le trafic entre différents réseaux et sous-réseaux. Lorsqu’un paquet arrive dans une interface de routeur, le routeur utilise un logiciel pour déterminer l’adresse IP de destination et sélectionner le meilleur chemin vers le réseau de destination. Le routeur transmet ensuite le paquet à l’interface de sortie appropriée.</p></content-text>
</page>
<page type="OneColumn" id="tl1103010202">
<content-media type="StaticGraphic" id="cm8463415055">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103010000/tl1103010200/tl1103010202/cm8463415055.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103010000/tl1103010200/tl1103010202/cm8463415055text.xml"/></content-media>
<content-text><p>La commutation de couche 3, ou <content-link target="{8CCBEF97-E2CA-4680-89AD-11B4DA2F4B9C}" type="glossary">commutation multicouche</content-link>, combine sur un même périphérique la commutation basée sur le matériel et le routage basé sur le matériel.</p> <p>Un commutateur multicouche combine les fonctionnalités d’un commutateur de couche 2 et d’un routeur de couche 3. La commutation de couche 3 se produit sur un matériel spécial à <content-link target="{7CAFE921-65CD-4E0B-891F-8970B055DDCD}" type="glossary">circuit intégré à application spécifique </content-link> (CIAS). Les fonctions de transfert de trames et de paquets utilisent le même circuit CIAS. </p> <p>Souvent, les commutateurs multicouches enregistrent, ou <content-link target="{D2C0A8E2-68B2-48DE-8E44-3930149AD5D7}" type="glossary">mettent en cache</content-link>, des informations de routage source et de destination provenant du premier paquet d’une conversation. Les paquets suivants n’ont pas besoin d’exécuter une recherche de routage, car les informations de routage se trouvent déjà dans la mémoire. Cette fonctionnalité de mise en cache optimise les performances de ces périphériques.</p></content-text>
</page>
</topic>
<topic type="" id="tl1103010300">
<title><content-text>Types de commutation</content-text></title>
<page type="OneColumn" id="tl1103010301">
<content-media type="AnimationPartialScreen" id="cm7686436083">	<title><content-text>Cliquez sur Lire pour afficher la commutation Store and Forward (stockage et retransmission) et la validation du CRC.</content-text></title>	<media ref="tl1103000000/tl1103010000/tl1103010300/tl1103010301/cm7686436083.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103010000/tl1103010300/tl1103010301/cm7686436083text.xml"/></content-media>
<content-text><p>À l’origine de la commutation, un commutateur pouvait prendre en charge l’une des deux méthodes principales de transfert d’une trame entre deux ports. Les deux méthodes en question étaient les suivantes : <content-link target="{3F45F1DD-703A-4266-87A9-C306F7DF3208}" type="glossary">stockage et retransmission</content-link> (Store and Forward) et <content-link target="{9C61DDF0-F44E-40FE-AB68-4F1CFC1AC3FF}" type="glossary">commutation « Cut-through »</content-link>. Chacune de ces méthodes présente ses propres avantages et inconvénients. </p> <p><b>Stockage et retransmission (Store and Forward)</b></p> <p>Avec ce type de commutation, la totalité de la trame est lue et stockée en mémoire avant d’être envoyée vers le périphérique de destination. Le commutateur vérifie l’intégrité des octets de la trame en recalculant la valeur du contrôle par redondance cyclique (<content-link target="{691244A2-D3CC-4234-B227-E6A75851DDEE}" type="glossary">CRC</content-link>). Si cette valeur correspond à la valeur du champ CRC de la trame, le commutateur transfère la trame vers le port de destination. Si la valeur est différente, la trame n’est pas transférée. La valeur CRC est spécifiée dans le champ <content-link target="{AE924858-D24C-48FF-8398-03C586B2FA22}" type="glossary">séquence de contrôle de trame</content-link> d’une trame Ethernet. </p> <p>Même si cette méthode évite que des trames endommagées ne soient transmises vers d’autres segments du réseau, elle présente la quantité de latence la plus importante. C’est pourquoi la méthode Stockage et retransmission (Store and Forward) est dans la plupart des cas utilisée uniquement dans des environnements propices aux erreurs, par exemple ceux qui présentent une forte probabilité de perturbation électromagnétique.</p></content-text>
</page>
<page type="OneColumn" id="tl1103010302">
<content-media type="AnimationDual" id="cm6735969721">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103010000/tl1103010300/tl1103010302/cm6735969721.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103010000/tl1103010300/tl1103010302/cm6735969721text.xml"/></content-media>
<content-text><p><b>Commutation « cut-through »</b></p> <p>L’autre méthode principale de commutation est le mode Cut-through. Cette technique est subdivisée en deux autres modes : <content-link target="{78E78508-AE82-4781-A249-7634F38F7382}" type="glossary">Fast-Forward</content-link> et <content-link target="{61FC0B5E-4000-4718-BB90-BD2339B802D1}" type="glossary">Fragment-Free</content-link>. Avec ces deux méthodes, le commutateur transfère la trame avant qu’elle n’ait été reçue dans sa totalité. Étant donné que la valeur CRC n’est ni calculée ni vérifiée par le commutateur, il est possible que des trames endommagées soient transférées.</p> <p>Le mode Fast-Forward est la méthode de commutation la plus rapide. Le commutateur transfère les trames à partir du port de destination, dès que l’adresse MAC de destination a été lue. Cette méthode présente la latence la plus faible mais transfère également des fragments de collision et des fragments endommagés. Les performances de ce type de commutation sont optimales dans un réseau stable présentant peu d’erreurs.</p> <p>Dans une commutation Fragment-Free, le commutateur lit les 64 premiers octets de la trame avant de commencer le transfert à partir du port de destination. La trame Ethernet valide la plus courte fait 64 octets. Les trames plus petites, ou <content-link target="{0C9571E0-6906-45B7-8A35-137C7ECAC579}" type="glossary">trames tronquées</content-link>, sont généralement le résultat d’une collision. La vérification des 64 premiers octets garantit que le commutateur ne transmet pas des fragments en collision. </p> <p>Le mode Store and Forward présente la latence la plus élevée et le mode Fast-Forward, la latence la plus basse. Le mode Fragment-Free présente une latence intermédiaire. Les performances de cette méthode de commutation sont optimales dans un environnement où les collisions sont nombreuses. Dans un réseau commuté correctement construit, les collisions ne posent pas de problème, c’est pourquoi la commutation Fast-Forward reste la méthode préférée.</p></content-text>
</page>
<page type="OneColumn" id="tl1103010303">
<content-media type="StaticGraphic" id="cm7969978398">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103010000/tl1103010300/tl1103010303/cm7969978398.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103010000/tl1103010300/tl1103010303/cm7969978398text.xml"/></content-media>
<content-text><p>Actuellement, la plupart des commutateurs de réseau local Cisco utilisent la méthode de commutation Store and Forward. En effet, grâce aux technologies actuelles et à l’accélération des temps de traitement, les commutateurs peuvent stocker et traiter les trames presque aussi rapidement que la commutation Cut-through, sans le problème des erreurs. De plus, de nombreuses fonctionnalités améliorées, telles que la commutation multicouche, exigent le recours à la méthode Store and Forward. </p> <p>Des commutateurs de couche 2 et 3 récents peuvent également adapter leur méthode de commutation en fonction des conditions du réseau. </p> <p>Ces commutateurs commencent par transférer du trafic via la méthode Fast-Forward afin d’obtenir la latence la plus basse possible. Même si le commutateur ignore les erreurs avant de transférer la trame, il détecte les erreurs et stocke un compteur d’erreurs en mémoire. Il compare le nombre d’erreurs repérées par rapport à une <content-link target="{10AFF043-9277-4377-9A94-888CA8F81957}" type="glossary">valeur de seuil</content-link> prédéfinie.</p> <p>Si le nombre d’erreurs dépasse la valeur de seuil, le commutateur a transféré un nombre inacceptable d’erreurs. Dans ce cas, il modifie sa configuration pour passer en mode Store and Forward. Si le nombre d’erreurs redescend en dessous du seuil, le commutateur repasse en mode Fast-Forward. On parle alors de commutation en <content-link target="{24341842-96A9-4A9D-9832-2A63D463BBDE}" type="glossary">mode Cut-through adaptatif</content-link>.</p></content-text>
</page>
</topic>
<topic type="" id="tl1103010400">
<title><content-text>Sécurité des commutateurs</content-text></title>
<page type="OneColumn" id="tl1103010401">
<content-media type="InteractiveGraphicRollovers" id="cm6039144258">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103010000/tl1103010400/tl1103010401/cm6039144258.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103010000/tl1103010400/tl1103010401/cm6039144258text.xml"/></content-media>
<content-text><p>Quelle que soit la méthode de commutation utilisée, vous devez veiller à sécuriser votre réseau. La sécurité du réseau porte souvent sur les routeurs et sur le blocage du trafic provenant de l’extérieur. Les commutateurs étant internes à l’organisation et conçus pour faciliter la connectivité, seules des mesures limitées (voire aucune) leur sont appliquées. </p> <p>Pour garantir que seules les personnes autorisées accèdent aux périphériques, vous devez implémenter les mesures de sécurité de base suivantes sur les commutateurs :</p> <p><ul><li> sécuriser physiquement le périphérique ;</li><li> utiliser des mots de passe sécurisés ;</li><li> activer l’accès SSH ;</li><li> surveiller les accès et le trafic ;</li><li> désactiver l’accès http ;</li><li> désactiver les ports inutilisés ;</li><li> activer la sécurité des ports ;</li><li> désactiver le protocole Telnet.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1103010402">
<content-media type="ActivityLab" id="cm8035097787">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103010000/tl1103010400/tl1103010402/cm8035097787/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1103000000/tl1103010000/tl1103010400/tl1103010402/cm8035097787/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques</b></p> <p>Activez la sécurité de base des commutateurs.</p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1103020000">
<title><content-text>Prévention contre les boucles de commutation</content-text></title>
<topic type="" id="tl1103020100">
<title><content-text>Redondance dans un réseau commuté</content-text></title>
<page type="OneColumn" id="tl1103020101">
<content-media type="StaticGraphic" id="cm5808715958">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020100/tl1103020101/cm5808715958.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103020000/tl1103020100/tl1103020101/cm5808715958text.xml"/></content-media>
<content-text><p>Les entreprises actuelles dépendent de plus en plus de leurs réseaux pour mener à bien leurs activités quotidiennes. Pour de nombreuses organisations, le réseau fait office de « fil rouge ». Le temps d’arrêt du réseau se traduit parfois par des pertes catastrophiques en termes d’activités et de revenus, et peut même saper la confiance des clients. </p> <p>Une panne sur une liaison unique du réseau, un périphérique spécifique ou un port critique sur un commutateur peut interrompre le fonctionnement du réseau. Afin de maintenir un niveau élevé de fiabilité et d’éliminer tous les points de défaillance, la <content-link target="{1AF7959E-544F-4B51-9284-631DC76D25E6}" type="glossary">redondance</content-link> est requise dans la conception d’un réseau. La redondance s’obtient en installant des équipements et des liaisons de réseau en double dans les zones critiques.</p> <p>La mise en place d’une redondance complète de tous les périphériques et liaisons d’un réseau peut parfois s’avérer très coûteuse. Les ingénieurs réseau sont souvent obligés de trouver un compromis entre le coût de la redondance et le besoin de disponibilité du réseau. </p></content-text>
</page>
<page type="OneColumn" id="tl1103020102">
<content-media type="AnimationPartialScreen" id="cm2762498348">	<title><content-text>Cliquez sur Lire pour visualiser le développement d’une tempête de diffusion.</content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020100/tl1103020102/cm2762498348.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103020000/tl1103020100/tl1103020102/cm2762498348text.xml"/></content-media>
<content-text><p>La redondance désigne la présence de deux voies d’accès différentes vers une destination spécifique. Les situations qui suivent sont des exemples de redondance dans des environnements non tributaires d’un réseau : deux routes dans une ville, deux ponts enjambant une rivière ou deux portes de sortie d’un bâtiment. Si une voie est bloquée, l’autre est toujours disponible.</p> <p>Pour obtenir une redondance de commutateurs, il suffit de les connecter au moyen de liaisons multiples. Les liaisons redondantes d’un réseau commuté réduisent l’<content-link target="{6BAC6447-AA7D-48AF-B535-3AF68BC1675A}" type="glossary">encombrement</content-link>, et garantissent une <content-link target="{7316F178-E598-422E-ABF7-676D7D69FC20}" type="glossary">disponibilité</content-link> élevée et l’équilibrage de charge. </p> <p>Le raccordement de commutateurs entre eux peut cependant poser des problèmes. Par exemple, la nature de diffusion du trafic Ethernet crée des <content-link target="{2F327FF1-6273-48AB-B6C3-4B7DAEAB231B}" type="glossary">boucles de commutation</content-link>. Les trames de diffusion circulent dans toutes les directions, provoquant ainsi une <content-link target="{CE5ECA6C-1A17-4099-A49C-D787876DC6EA}" type="glossary">tempête de diffusion</content-link>. Les tempêtes de diffusion utilisent toute la bande passante disponible et peuvent empêcher l’établissement de connexions réseau ou entraîner l’interruption de connexions réseau existantes.</p></content-text>
</page>
<page type="OneColumn" id="tl1103020103">
<content-media type="AnimationDual" id="cm6502559522">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020100/tl1103020103/cm6502559522.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103020000/tl1103020100/tl1103020103/cm6502559522text.xml"/></content-media>
<content-text><p>Les tempêtes de diffusion ne sont pas le seul problème dû à la présence de liaisons redondantes dans un réseau commuté. Les <content-link target="{5FAD3CD6-4946-4737-8D23-2995BD623068}" type="glossary">trames de monodiffusion</content-link> sont parfois à l’origine de problèmes, tels que la transmission de trames multiples et l’instabilité de la base de données MAC. </p> <p><b>Transmissions de trames multiples</b></p> <p>Si un hôte envoie une trame de monodiffusion vers un hôte de destination et que l’adresse MAC de destination n’est incluse dans aucune des tables MAC des commutateurs connectés, la trame inonde tous les ports de chaque commutateur. Dans un réseau en boucle, la trame peut être renvoyée au commutateur initial. Le processus est répété, créant ainsi des copies multiples de la trame sur le réseau.</p> <p>Enfin, l’hôte de destination reçoit plusieurs copies de la trame, ce qui provoque trois problèmes : consommation inutile de la bande passante et du temps processeur, et duplication éventuelle du trafic de transaction. </p> <p><b>Instabilité de la base de données MAC</b></p> <p>Les commutateurs d’un réseau redondant peuvent apprendre des informations erronées sur l’emplacement d’un hôte. En présence d’une boucle, un commutateur peut associer l’adresse MAC de destination à deux ports distincts, ce qui peut rendre le transfert de trames confus et inefficace.</p></content-text>
</page>
<page type="OneColumn" id="tl1103020104">
<content-media type="ActivityPKA" id="cm4233614344">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020100/tl1103020104/cm4233614344/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1103000000/tl1103020000/tl1103020100/tl1103020104/cm4233614344/icontext.xml"/></content-media>
<content-text><p><b>Exercice Packet Tracer</b></p> <p>Dans le réseau décrit, désactivez des liaisons redondantes afin d’empêcher les boucles de commutation. </p><p><b>Cliquez sur l’icône Packet Tracer pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1103020200">
<title><content-text>Protocole STP (Spanning Tree Protocol)</content-text></title>
<page type="OneColumn" id="tl1103020201">
<content-media type="InteractiveGraphicHotspots" id="cm5226655543">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020200/tl1103020201/cm5226655543.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103020000/tl1103020200/tl1103020201/cm5226655543text.xml"/></content-media>
<content-text><p>Le <content-link target="{30D7BBAF-0C63-4C93-870F-3896C8014967}" type="glossary">protocole STP</content-link> (Spanning Tree Protocol) fournit un mécanisme permettant de désactiver des liaisons redondantes sur un réseau commuté. Il offre en effet la redondance requise pour assurer la fiabilité du réseau, sans créer de boucles de commutation. </p> <p>STP est un protocole standard ouvert, utilisé dans un environnement commuté pour créer une topologie logique sans boucle. </p> <p>Ce protocole est relativement autonome et requiert une configuration limitée. Lorsque le protocole STP est activé, à la première mise sous tension des commutateurs, ces derniers vérifient si le réseau commuté ne présente pas de boucles. S’ils détectent une boucle potentielle, les commutateurs bloquent certains ports de connexion et laissent d’autres ports actifs pour assurer le transfert des trames. </p></content-text>
</page>
<page type="OneColumn" id="tl1103020202">
<content-media type="InteractiveGraphicRollovers" id="cm4950331558">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020200/tl1103020202/cm4950331558.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103020000/tl1103020200/tl1103020202/cm4950331558text.xml"/></content-media>
<content-text><p>Le protocole STP définit une arborescence qui s’étend sur tous les commutateurs dans un réseau commuté en étoile étendue. Les commutateurs vérifient constamment que le réseau ne présente aucune boucle et que tous les ports fonctionnent correctement. </p> <p>Pour empêcher les boucles de commutation, le protocole STP effectue les opérations suivantes :</p> <p><ul><li> il force certaines interfaces à passer en état de veille ou de blocage ;</li><li> il laisse d’autres interfaces en état de transmission ; </li><li> il reconfigure le réseau en activant le chemin de veille approprié, si le chemin de transmission se libère.</li></ul></p> <p>Dans la terminologie STP, le terme « pont » est souvent utilisé pour désigner un commutateur. Par exemple, le pont racine est le commutateur principal et le point central de la topologie STP. Le pont racine communique avec les autres commutateurs à l’aide d’unités <content-link target="{84513F78-30C6-489D-8079-3ED54477DD70}" type="glossary">BPDU</content-link> (Bridge Protocol Data Unit). Les BPDU sont des trames qui envoient une multidiffusion à tous les autres commutateurs, toutes les 2 secondes. Elles contiennent les informations suivantes :</p> <p><ul><li> identité du commutateur source ;</li><li> identité du port source ;</li><li> coût cumulé du chemin vers le pont racine ;</li><li> valeur des compteurs d’obsolescence ;</li><li> valeur du minuteur Hello.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1103020203">
<content-media type="AnimationPartialScreen" id="cm6152558321">	<title><content-text>Cliquez sur Lire pour afficher le passage du commutateur par chaque état STP.</content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020200/tl1103020203/cm6152558321.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103020000/tl1103020200/tl1103020203/cm6152558321text.xml"/></content-media>
<content-text><p>Dès qu’un commutateur est mis sous tension, chaque port passe successivement par les quatre états suivants : <content-link target="{F5D50298-B0F0-48D9-B287-DBAC062F237F}" type="glossary">blocage</content-link>, <content-link target="{E764A95B-F4CF-4406-A1BF-674ED2472511}" type="glossary">écoute</content-link>, <content-link target="{3DE34F4C-4021-4CEB-897F-A778F73733D2}" type="glossary">apprentissage</content-link> et <content-link target="{9E7E7651-F49D-4868-8CFF-D90241B65EFF}" type="glossary">transmission</content-link>. Un cinquième état, désactivé, indique que l’administrateur a éteint le port du commutateur. </p> <p>Au cours de ce cycle, les LED du commutateur passent successivement du mode orange clignotant au mode vert continu. Le cycle complet sur le port peut durer jusqu’à 50 secondes, au terme duquel le port est prêt à transférer des trames.</p> <p>Lorsqu’un commutateur est mis sous tension, il adopte d’abord l’état de blocage afin d’empêcher immédiatement la formation d’une boucle. Il passe ensuite en mode d’écoute, afin de recevoir des BPDU provenant de commutateurs voisins. Après avoir traité ces informations, le commutateur détermine quels ports peuvent transférer des trames sans créer de boucle. Si un port peut transférer des trames, il passe en mode d’apprentissage, puis en mode de transmission.</p> <p>Les ports d’accès ne créent pas de boucles dans un réseau commuté et passent toujours en mode de transmission si un hôte est relié à ces ports. Les ports agrégés peuvent éventuellement créer un réseau en boucle et passer en mode de transmission ou de blocage.</p></content-text>
</page>
<page type="FullScreen" id="tl1103020204">
<content-media type="ActivityMCMA" id="cm7939202824">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020200/tl1103020204/cm7939202824.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103020000/tl1103020200/tl1103020204/cm7939202824text.xml"/></content-media>
<content-text><p><b>Exercice</b></p> <p> </p> <p>Sélectionnez les états auxquels s’applique chaque processus Spanning Tree.</p></content-text>
</page>
</topic>
<topic type="" id="tl1103020300">
<title><content-text>Ponts racine</content-text></title>
<page type="OneColumn" id="tl1103020301">
<content-media type="StaticGraphic" id="cm4107764646">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020300/tl1103020301/cm4107764646.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103020000/tl1103020300/tl1103020301/cm4107764646text.xml"/></content-media>
<content-text><p>Pour que le protocole STP fonctionne, les commutateurs du réseau doivent désigner un commutateur comme point central de ce réseau. Le protocole STP utilise ce point central, appelé <content-link target="{0AE6AD0D-6C45-44F3-84D5-FEC165ABAEF6}" type="glossary">pont racine</content-link> ou <content-link target="{CDB68950-0C6D-4EEA-A290-A7A6EB3244D0}" type="glossary">commutateur racine</content-link>, pour déterminer quels ports doivent être bloqués et quels ports doivent passer en mode de transmission. Le pont racine envoie à tous les autres commutateurs des BPDU contenant des informations sur la topologie du réseau. Ces informations permettent au réseau d’être automatiquement reconfiguré en cas de panne.</p> <p>Chaque réseau comporte un seul pont racine, qui est choisi en fonction de l’ID de pont (<content-link target="{48F3812F-E1B8-48DB-A744-D8444401F5AE}" type="glossary">BID</content-link>). La valeur de priorité du pont à laquelle est ajoutée l’adresse MAC constitue le BID. </p> <p>La valeur par défaut de la priorité du pont est 32 768. Si l’adresse MAC d’un commutateur est AA-11-BB-22-CC-33, le BID de ce commutateur sera : 32768: AA-11-BB-22-CC-33.</p></content-text>
</page>
<page type="OneColumn" id="tl1103020302">
<content-media type="StaticGraphic" id="cm4545716944">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020300/tl1103020302/cm4545716944.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103020000/tl1103020300/tl1103020302/cm4545716944text.xml"/></content-media>
<content-text><p>Le pont racine est basé sur la valeur de BID la plus petite. Étant donné que les commutateurs utilisent généralement la même valeur de priorité par défaut, le commutateur présentant la plus petite adresse MAC devient le pont racine. </p> <p>Lorsqu’un commutateur est activé, il pense être le pont racine et par conséquent, envoie des BPDU comprenant son BID. Par exemple, si S2 annonce un ID racine inférieur à S1, S1 cesse d’annoncer son ID racine et accepte l’ID racine de S2. S2 devient alors le pont racine. </p> <p>Le protocole STP désigne trois types de ports : les <content-link target="{A5A782CB-50DB-494F-BDD6-AA8689F6D994}" type="glossary">ports racine</content-link>, les <content-link target="{E21AF4DA-E00B-418D-AD9F-2ED4335A67ED}" type="glossary"> ports désignés</content-link> et les <content-link target="{6F50A883-81C3-4BBB-AB32-3B585A053886}" type="glossary">ports bloqués</content-link>. </p> <p><b>Port racine</b></p> <p>Le port qui fournit le <content-link target="{4448D3B3-167C-48E3-ABE7-66958FA668DA}" type="glossary">chemin au coût le plus bas</content-link> vers le pont racine devient le port racine. Pour calculer le chemin au coût le plus bas, les commutateurs prennent en compte le coût de la bande passante de chaque liaison requise pour atteindre le pont racine. </p> <p><b>Port désigné</b></p> <p>Un port désigné est un port qui transfère le trafic au pont racine, mais ne se connecte pas au chemin d’accès au coût le plus bas.</p> <p><b>Port bloqué</b></p> <p>Un port bloqué ne transfère pas de trafic.</p></content-text>
</page>
<page type="OneColumn" id="tl1103020303">
<content-media type="StaticGraphic" id="cm6137648591">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020300/tl1103020303/cm6137648591.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103020000/tl1103020300/tl1103020303/cm6137648591text.xml"/></content-media>
<content-text><p>Avant de configurer le protocole STP, le technicien réseau doit planifier et évaluer le réseau afin de désigner le meilleur commutateur comme racine du Spanning Tree. Si le commutateur racine est celui qui présente l’adresse MAC la plus petite, le transfert ne sera peut-être pas optimal. </p> <p>Idéalement, le pont racine doit être un commutateur situé à un point central. Avec un port bloqué situé à l’extrême périphérie du réseau, le trafic empruntera un chemin plus long pour atteindre la destination que si le commutateur était central. </p> <p>Pour spécifier le pont racine, la priorité du BID du commutateur désigné est configurée sur la valeur la plus petite qui soit. La commande de priorité de pont est utilisée pour configurer la priorité de pont. La plage de priorité s’étend de 0 à 65 535, par incréments de 4 096. La valeur par défaut est 32 768.</p> <p>Pour définir la priorité : </p> <p><span class="cmd">S3(config)#<b>spanning-tree vlan 1 priority 4096</b></span></p> <p>Pour restaurer la priorité par défaut :</p> <p><span class="cmd">S3(config)#<b>no spanning-tree vlan 1 priority</b></span></p></content-text>
</page>
<page type="OneColumn" id="tl1103020304">
<content-media type="ActivityLab" id="cm1870646214">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020300/tl1103020304/cm1870646214/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1103000000/tl1103020000/tl1103020300/tl1103020304/cm1870646214/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques</b></p> <p> </p> <p>Configurez l’ID de pont (BID) sur un commutateur pour contrôler la sélection du pont racine. Observez le Spanning Tree et les modèles de flux de trafic lorsque des commutateurs différents sont configurés en tant que racine.</p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1103020400">
<title><content-text>Spanning Tree dans un réseau hiérarchique</content-text></title>
<page type="OneColumn" id="tl1103020401">
<content-media type="StaticGraphic" id="cm6313140226">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020400/tl1103020401/cm6313140226.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103020000/tl1103020400/tl1103020401/cm6313140226text.xml"/></content-media>
<content-text><p>Après avoir établi le pont racine, les ports racine, les ports désignés et les ports bloqués, le protocole STP envoie des BPDU via le réseau commuté, toutes les 2 secondes. Il continue d’écouter ces BPDU afin de s’assurer qu’aucune liaison n’est interrompue et qu’aucune boucle ne se forme.</p> <p>En cas d’interruption de liaison, le protocole STP effectue le recalcul de la façon suivante : </p> <p><ul><li> en transformant certains ports bloqués en ports de transmission ;</li><li> en transformant certains ports de transmission en ports bloqués ;</li><li> en formant une nouvelle arborescence STP afin de garantir qu’aucune boucle ne se forme sur le réseau.</li></ul></p> <p>Le protocole STP n’est pas instantané. Lorsqu’une liaison est rompue, le protocole STP détecte la panne et recalcule les meilleurs chemins sur tout le réseau. Ce calcul ainsi que la période de transition dure entre 30 à 50 secondes pour chaque commutateur. Au cours du recalcul, aucune donnée d’utilisateur ne transite dans les ports de recalcul. </p> <p>Certaines applications d’utilisateur s’éteignent lors de la période de recalcul, ce qui peut entraîner une perte de productivité et de revenus. Des recalculs fréquents de protocole STP ont un impact négatif sur le temps de fonctionnement. </p></content-text>
</page>
<page type="OneColumn" id="tl1103020402">
<content-media type="StaticGraphic" id="cm3445729183">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020400/tl1103020402/cm3445729183.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103020000/tl1103020400/tl1103020402/cm3445729183text.xml"/></content-media>
<content-text><p>Un serveur d’entreprise de grand volume est connecté à un port du commutateur. Si ce port procède au recalcul en raison du protocole STP, le serveur est hors service pendant 50 secondes. Il est difficile d’estimer le nombre de transactions perdues au cours de cette période.</p> <p>Dans un réseau stable, les recalculs STP sont peu fréquents. Dans un réseau instable, il est important de contrôler la stabilité et les modifications de configuration des commutateurs. Des recalculs STP fréquents sont le plus souvent dus à une alimentation électrique ou un système d’alimentation défaillant sur un commutateur. En cas d’alimentation électrique défaillante, le périphérique redémarre de façon inattendue. </p></content-text>
</page>
<page type="OneColumn" id="tl1103020403">
<content-media type="AnimationPartialScreen" id="cm4184742066">	<title><content-text>Cliquez sur Lire pour visualiser les avantages du mode rapide (« PortFast »).</content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020400/tl1103020403/cm4184742066.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103020000/tl1103020400/tl1103020403/cm4184742066text.xml"/></content-media>
<content-text><p>Plusieurs améliorations apportées au protocole STP permettent de réduire le temps d’arrêt qui se produit lors des recalculs STP.</p> <p><b>PortFast</b></p> <p>Le mode rapide STP (<content-link target="{2F94F608-0788-4FFD-B85E-FD840B9C9209}" type="glossary">PortFast</content-link>) permet le passage immédiat d’un port d’accès en mode de transmission, sans passer auparavant par les états d’écoute et d’apprentissage. L’utilisation du mode rapide sur des ports d’accès connectés à une station de travail ou un serveur unique permet à ces périphériques de se connecter immédiatement au réseau, sans attendre la convergence du protocole STP. </p> <p><b>UplinkFast</b></p> <p>Le mode liaison montante rapide STP (<content-link target="{E26A31A6-F4CF-4271-94DD-CCD23D32A538}" type="glossary">UplinkFast</content-link>) accélère la désignation d’un nouveau port racine lorsqu’une liaison ou un commutateur tombe en panne ou lorsque le protocole STP est automatiquement reconfiguré.  Le port racine passe immédiatement à l’état de transmission sans adopter les états d’écoute et d’apprentissage, comme cela serait le cas lors de procédures STP normales. </p> <p><b>BackboneFast</b></p> <p>Le mode réseau fédérateur rapide (<content-link target="{6D7404C4-72AF-44B1-A2B4-8A1EB25F653E}" type="glossary">BackboneFast</content-link>) fournit une convergence rapide après une modification de la topologie du Spanning Tree. Il permet de restaurer rapidement la connectivité du réseau fédérateur. Ce mode est utilisé sur les couches de distribution et cœur de réseau, où se connectent de multiples commutateurs. </p> <p>Port Fast, UplinkFast et BackboneFast sont des technologies propriétaires de Cisco et ne peuvent donc pas être utilisées si le réseau intègre des commutateurs de fournisseurs tiers. Par ailleurs, toutes ces fonctionnalités requièrent une configuration spécifique.</p></content-text>
</page>
<page type="OneColumn" id="tl1103020404">
<content-media type="InteractiveGraphicHotspots" id="cm3874023514">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020400/tl1103020404/cm3874023514.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103020000/tl1103020400/tl1103020404/cm3874023514text.xml"/></content-media>
<content-text><p>Plusieurs commandes utiles permettent de contrôler le fonctionnement du Spanning Tree. </p> <p><span class="cmd"><b>show spanning-tree</b></span> : affiche l’ID racine, l’ID de pont et les états des ports.</p> <p><span class="cmd"><b>show spanning-tree summary</b></span> : affiche un résumé des états des ports.</p> <p><span class="cmd"><b>show spanning-tree root </b></span> : affiche le statut et la configuration du pont racine.</p> <p><span class="cmd"><b>show spanning-tree detail</b></span> : affiche des informations détaillées sur les ports.</p> <p><span class="cmd"><b>show spanning-tree interface</b></span> : affiche le statut et la configuration de l’interface STP.</p> <p><span class="cmd"><b>show spanning-tree blockedports</b></span> : affiche les ports bloqués.</p></content-text>
</page>
<page type="OneColumn" id="tl1103020405">
<content-media type="ActivityLab" id="cm6986512333">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020400/tl1103020405/cm6986512333/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1103000000/tl1103020000/tl1103020400/tl1103020405/cm6986512333/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques</b></p> <p> </p> <p>Utilisez plusieurs commandes <span class="cmd"><b>show</b></span> pour vérifier le fonctionnement du protocole STP.</p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1103020500">
<title><content-text>Protocole Rapid Spanning Tree (RSTP)</content-text></title>
<page type="OneColumn" id="tl1103020501">
<content-media type="AnimationPartialScreen" id="cm7113556318">	<title><content-text>Cliquez sur Lire pour afficher les différences en termes de vitesse entre les protocoles Spanning Tree et Rapid Spanning Tree.</content-text></title>	<media ref="tl1103000000/tl1103020000/tl1103020500/tl1103020501/cm7113556318.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103020000/tl1103020500/tl1103020501/cm7113556318text.xml"/></content-media>
<content-text><p>Lorsque le groupe IEEE a développé le protocole original STP 802.1D, un temps de reprise de 1 à 2 minutes était acceptable. Aujourd’hui, la <content-link target="{7673D708-B605-4DB7-B554-69817FFC506F}" type="glossary">commutation de couche 3</content-link> et des protocoles avancés de routage fournissent un chemin alternatif plus rapide jusqu’à la destination. Pour pouvoir acheminer du trafic sensible au temps, notamment des signaux vocaux et vidéo, les réseaux commutés doivent converger rapidement pour satisfaire les nouvelles technologies. </p> <p>Le protocole Rapid Spanning Tree (<content-link target="{88771053-CE38-4F2E-9126-4C55203BB756}" type="glossary">RSTP</content-link>), défini dans la norme IEEE 802.1w, augmente sensiblement les vitesses de recalcul du Spanning Tree.  Contrairement aux technologies Port Fast, UplinkFast et BackboneFast, le protocole RSTP n’est pas propriétaire.</p> <p>Le protocole RSTP requiert une connexion en mode bidirectionnel simultané et point à point entre les commutateurs pour obtenir des vitesses de reconfiguration optimales. La reconfiguration du Spanning Tree par le protocole RSTP prend moins d’1 seconde (comparativement aux 50 secondes nécessaires dans STP). </p> <p>Le protocole RSTP élimine la nécessité d’utiliser des technologies telles que Port Fast et UplinkFast. Il est possible de revenir au protocole STP pour garantir des services pour les équipements traditionnels. </p> <p>Pour accélérer la vitesse de recalcul, le protocole RSTP limite à trois le nombre d’états des ports : <content-link target="{D87970E5-5B2F-4C38-B4C1-469774E5D041}" type="glossary">élimination</content-link>, apprentissage et transmission. L’état d’abandon est équivalent à trois des états STP d’origine : blocage, écoute et désactivé.</p> <p>Le protocole RSTP introduit également le concept de <content-link target="{8814AFA9-6B7B-4828-AE63-E0D29FE9F37D}" type="glossary">topologie active</content-link>. Tous les ports qui ne sont pas abandonnés sont considérés comme des éléments de la topologie active et passent immédiatement en mode de transmission.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1103030000">
<title><content-text>Configuration de réseaux locaux virtuels</content-text></title>
<topic type="" id="tl1103030100">
<title><content-text>Réseau local virtuel</content-text></title>
<page type="OneColumn" id="tl1103030101">
<content-media type="StaticGraphic" id="cm9104025863">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103030000/tl1103030100/tl1103030101/cm9104025863.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103030000/tl1103030100/tl1103030101/cm9104025863text.xml"/></content-media>
<content-text><p>Les hôtes et serveurs connectés à des commutateurs de la couche 2 font partie du même segment de réseau. Cette configuration présente deux problèmes considérables :</p> <p><ul><li> Sous l’impulsion des commutateurs, des diffusions inondent tous les ports, ce qui consomme de la bande passante de façon inutile. Plus le nombre de périphériques connectés à un commutateur est important, plus le trafic de diffusion généré est volumineux et plus la quantité de bande passante gaspillée augmente.</li><li> Chaque périphérique connecté à un commutateur peut transférer et recevoir des trames à partir de chaque autre périphérique du commutateur.</li></ul></p> <p>Une méthode recommandée de conception de réseau consiste à contenir le trafic de diffusion dans la zone du réseau sur laquelle il est requis. Des conditions particulières au sein de l’entreprise peuvent expliquer pourquoi certains hôtes peuvent communiquer entre eux, et d’autres non. Ainsi, les membres du service de comptabilité peuvent être les seuls utilisateurs qui ont accès au serveur de comptabilité. Dans un réseau commuté, les <content-link target="{A7E04384-D456-4FAE-AE30-32720291A404}" type="glossary">réseaux locaux virtuels</content-link> (VLAN) sont créés pour contenir des diffusions et rassembler des hôtes au sein de communautés d’intérêt.  </p> <p>Un réseau local virtuel est un domaine de diffusion logique qui peut s’étendre sur plusieurs segments de réseau local physique. Il permet à un administrateur de regrouper des stations par fonction logique, par équipe de projet ou par application, quel que soit l’emplacement physique des utilisateurs.</p></content-text>
</page>
<page type="OneColumn" id="tl1103030102">
<content-media type="AnimationPartialScreen" id="cm3981044165">	<title><content-text>Cliquez sur Lire pour visualiser le trafic de diffusion de réseau local virtuel.</content-text></title>	<media ref="tl1103000000/tl1103030000/tl1103030100/tl1103030102/cm3981044165.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103030000/tl1103030100/tl1103030102/cm3981044165text.xml"/></content-media>
<content-text><p>La différence entre un réseau physique et un réseau virtuel, ou logique, est illustrée dans l’exemple qui suit :</p> <p>Les étudiants d’un établissement sont répartis dans deux groupes. Tous les étudiants du premier groupe reçoivent une carte rouge qui les identifie. Les étudiants du second groupe reçoivent quant à eux une carte bleue. Le principal de l’établissement annonce que les étudiants munis de cartes rouges peuvent parler uniquement aux étudiants du même groupe, et il en est de même pour les étudiants munis de cartes bleues. Les étudiants sont à présent séparés logiquement en deux groupes virtuels, ou réseaux locaux virtuels. </p> <p>En raison de ce regroupement logique, une diffusion est transmise uniquement au groupe de cartes rouges, même si les deux groupes se trouvent physiquement dans le même établissement. </p> <p>Cet exemple illustre également une autre caractéristique des réseaux locaux virtuels : les diffusions ne sont pas transmises entre différents réseaux locaux virtuels, elles sont contenues dans les réseaux locaux virtuels. </p></content-text>
</page>
<page type="OneColumn" id="tl1103030103">
<content-media type="StaticGraphic" id="cm1299027626">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103030000/tl1103030100/tl1103030103/cm1299027626.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103030000/tl1103030100/tl1103030103/cm1299027626text.xml"/></content-media>
<content-text><p>Chaque réseau local virtuel fonctionne comme un réseau local distinct. Un réseau local virtuel s’étend sur un ou plusieurs commutateurs, ce qui permet aux périphériques hôtes de se comporter comme s’ils se trouvaient sur le même segment de réseau. </p> <p>Un réseau local virtuel présente deux fonctions principales :</p> <p><ul><li> Il permet de contenir les diffusions.</li><li> Il regroupe des périphériques. Les périphériques situés sur un réseau local virtuel ne peuvent pas être vus par les périphériques situés sur un autre réseau local virtuel.</li></ul></p> <p>Le trafic requiert un périphérique de couche 3 pour se déplacer entre des réseaux locaux virtuels.</p> <p>Dans un réseau commuté, un périphérique peut être affecté à un réseau local virtuel en fonction de son emplacement, de son adresse MAC, de son adresse IP ou des applications qu’il utilise le plus fréquemment. Dans un réseau local virtuel, l’appartenance est affectée de façon statique ou dynamique par les administrateurs. </p> <p>L’appartenance statique à un réseau local virtuel nécessite qu’un administrateur affecte manuellement chaque port de commutateur à un réseau local virtuel spécifique. Ainsi, le port fa0/3 peut être affecté à VLAN 20. Tous les périphériques qui sont branchés au port fa0/3 deviennent automatiquement membres de VLAN 20.</p> <p>Ce type d’appartenance à un réseau local virtuel est le plus simple à configurer et également le plus répandu, mais il est également le plus exigeant en termes d’administration pour gérer les ajouts, les déplacements et les modifications. Par exemple, pour déplacer un hôte d’un réseau local virtuel vers un autre, il est nécessaire de reconfigurer manuellement le port de commutateur sur le nouveau réseau local virtuel ou de brancher le câble de station de travail sur un autre port de commutation au sein du nouveau réseau local virtuel.</p> <p>L’appartenance à un réseau local virtuel spécifique est totalement invisible pour les utilisateurs. Les utilisateurs travaillant sur un périphérique connecté à un port de commutateur ne savent pas qu’ils sont membres d’un réseau local virtuel.</p></content-text>
</page>
<page type="OneColumn" id="tl1103030104">
<content-media type="AnimationPartialScreen" id="cm2843579152">	<title><content-text>Cliquez sur Lire pour voir un hôte se joindre à un réseau local virtuel dynamique.</content-text></title>	<media ref="tl1103000000/tl1103030000/tl1103030100/tl1103030104/cm2843579152.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103030000/tl1103030100/tl1103030104/cm2843579152text.xml"/></content-media>
<content-text><p>L’appartenance dynamique à un réseau local virtuel nécessite un serveur de stratégies de gestion des réseaux locaux virtuels (<content-link target="{5CD28EAB-FA24-4F02-9C52-289F7638E10C}" type="glossary">VMPS</content-link>). Le VMPS comprend une base de données qui associe des adresses MAC à des affectations de réseau local virtuel. Lorsqu’un périphérique est branché à un port de commutateur, le VMPS recherche dans la base de données une correspondance pour l’adresse MAC et affecte temporairement ce port au réseau local virtuel approprié. </p> <p>L’appartenance dynamique à un réseau local virtuel requiert davantage d’organisation et de configuration, mais crée une structure beaucoup plus flexible que l’appartenance statique à un réseau local virtuel. Dans un réseau local virtuel dynamique, les déplacements, ajouts et modifications sont automatisés et ne requièrent aucune intervention de l’administrateur. </p> <p><b>Remarque : </b>les commutateurs Catalyst ne prennent pas tous en charge l’utilisation de serveurs VMPS.</p></content-text>
</page>
<page type="FullScreen" id="tl1103030105">
<content-media type="ActivityMCSACheckbox" id="cm5781144523">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103030000/tl1103030100/tl1103030105/cm5781144523.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103030000/tl1103030100/tl1103030105/cm5781144523text.xml"/></content-media>
<content-text><p><b>Exercice</b></p> <p>Déterminez quels problèmes peuvent être résolus par l’implémentation de réseaux locaux virtuels.</p></content-text>
</page>
</topic>
<topic type="" id="tl1103030200">
<title><content-text>Configuration d’un réseau local virtuel</content-text></title>
<page type="OneColumn" id="tl1103030201">
<content-media type="StaticGraphic" id="cm5842472978">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103030000/tl1103030200/tl1103030201/cm5842472978.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103030000/tl1103030200/tl1103030201/cm5842472978text.xml"/></content-media>
<content-text><p>Qu’ils soient créés de façon statique ou dynamique, le nombre maximal de réseaux locaux virtuels dépend du type de commutateur et du logiciel IOS utilisés. Par défaut, VLAN1 est le <content-link target="{0971CF55-0BA4-475B-ADCA-AE32D14DEE6F}" type="glossary">réseau local virtuel de gestion</content-link>.</p> <p>Un administrateur utilisera l’adresse IP du réseau local virtuel de gestion pour configurer le commutateur à distance. Lorsqu’il accède à distance au commutateur, l’administrateur réseau peut configurer et gérer toutes les configurations de réseaux locaux virtuels. </p> <p>Par ailleurs, le réseau local virtuel de gestion est utilisé pour échanger des informations, tel que le trafic CDP (Cisco Discovery Protocol) et le trafic VTP (VLAN Trunking Protocol), avec d’autres périphériques réseau. </p> <p>Lorsqu’un réseau local virtuel est créé, un numéro et un nom lui sont affectés. Le <content-link target="{D724236D-B1D0-4894-BAAA-6ABAF86CC71E}" type="glossary">numéro de réseau local virtuel</content-link> correspond à un nombre compris dans la plage disponible sur le commutateur, sauf pour VLAN1. Certains commutateurs prennent en charge environ 1 000 réseaux locaux virtuels, d’autres plus de 4 000. L’attribution d’un nom à un réseau local virtuel est une méthode recommandée de gestion de réseau.</p></content-text>
</page>
<page type="OneColumn" id="tl1103030202">
<content-media type="StaticGraphic" id="cm2160199564">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103030000/tl1103030200/tl1103030202/cm2160199564.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103030000/tl1103030200/tl1103030202/cm2160199564text.xml"/></content-media>
<content-text><p>Les commandes suivantes permettent de créer un réseau local virtuel grâce à un mode de configuration globale : </p> <span class="cmd"><p>Switch(config)#<b>vlan </b><i>numéro_vlan</i></p></span> <span class="cmd"><p>Switch(config-vlan)#<b>name </b><i>nom_vlan</i></p></span> <span class="cmd"><p>Switch(config-vlan)#<b>exit</b></p></span> <p>Affectez des ports en tant que membres d’un réseau local virtuel. Par défaut, tous les ports sont à l’origine des membres de VLAN1. Affectez des ports individuellement ou en tant que plage.</p> <p>Les commandes suivantes permettent d’affecter des ports individuels à des réseaux locaux virtuels :</p> <span class="cmd"><p>Switch(config)#<b>interface fa0/</b><i>numéro_port</i></p></span> <span class="cmd"><p>Switch(config-if)#<b>switchport access vlan </b><i>numéro_vlan</i></p></span> <span class="cmd"><p>Switch(config-if)# <b>exit</b></p></span> <p>Les commandes suivantes permettent d’affecter une plage de ports à des réseaux locaux virtuels :</p> <span class="cmd"><p>Switch(config)#<b>interface range fa0/</b><i>début_plage - fin_plage</i></p></span> <span class="cmd"><p>Switch(config-if)#<b>switchport access vlan </b><i>numéro_vlan</i></p></span> <span class="cmd"><p>Switch(config-if)#<b>exit</b></p></span></content-text>
</page>
<page type="OneColumn" id="tl1103030203">
<content-media type="InteractiveGraphicHotspots" id="cm8368590130">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103030000/tl1103030200/tl1103030203/cm8368590130.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103030000/tl1103030200/tl1103030203/cm8368590130text.xml"/></content-media>
<content-text><p>Pour vérifier, gérer ou dépanner des réseaux locaux virtuels, il est important de connaître les principales commandes <span class="cmd"><b>show</b></span> disponibles dans le logiciel IOS Cisco. </p> <p>Les commandes suivantes permettent de vérifier et de gérer des réseaux locaux virtuels :</p> <p><span class="cmd"><b>show vlan</b></span></p> <p><ul><li>Affiche une liste détaillée de tous les numéros et noms des réseaux locaux virtuels actifs sur le commutateur, ainsi que les ports associés à chacun d’eux.</li><li>Affiche des statistiques STP si la configuration a été effectuée individuellement pour chaque réseau local virtuel.</li></ul></p> <p><span class="cmd"><b>show vlan brief</b></span></p> <p><ul><li>Affiche une liste résumée indiquant uniquement les réseaux locaux virtuels actifs et les ports associés à chacun d’eux.</li></ul></p> <p><span class="cmd"><b>show vlan id </b><i>numéro_id</i></span></p> <p><ul><li>Affiche des informations relatives à un réseau local virtuel spécifique, en fonction du numéro d’ID.</li></ul></p> <p><span class="cmd"><b>show vlan name </b><i>nom_vlan</i></span></p> <p><ul><li>Affiche des informations relatives à un réseau local virtuel spécifique, en fonction du nom.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1103030204">
<content-media type="StaticGraphic" id="cm2456898787">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103030000/tl1103030200/tl1103030204/cm2456898787.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103030000/tl1103030200/tl1103030204/cm2456898787text.xml"/></content-media>
<content-text><p>Dans une organisation, des employés sont fréquemment ajoutés, supprimés ou déplacés vers un service ou un projet différent. En raison de ces mouvements permanents, il est nécessaire de gérer les réseaux locaux virtuels, notamment en procédant à des suppressions ou des réaffectations vers des réseaux locaux virtuels différents. </p> <p>La suppression de réseaux locaux virtuels et la réaffectation de ports vers des réseaux locaux virtuels différents constituent deux fonctions distinctes. Lorsqu’un port est dissocié d’un réseau local virtuel spécifique, il est réaffecté à VLAN1. Lorsqu’un réseau local virtuel est supprimé, tout port associé est désactivé car il n’est plus associé à un réseau local virtuel.</p> <p>Pour supprimer un réseau local virtuel :</p> <p><span class="cmd">Switch(config)<b>#no vlan </b><i>numéro_vlan</i></span></p> <p>Pour dissocier un port d’un réseau local virtuel spécifique :</p> <span class="cmd"><p>Switch(config)#<b>interface fa0</b>/<i>numéro_port</i></p></span> <span class="cmd"><p>Switch(config-if)#<b>no switchport access vlan </b><i>numéro_vlan</i></p></span></content-text>
</page>
<page type="OneColumn" id="tl1103030205">
<content-media type="ActivityLab" id="cm2319096758">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103030000/tl1103030200/tl1103030205/cm2319096758/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1103000000/tl1103030000/tl1103030200/tl1103030205/cm2319096758/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques</b></p> <p>Configurez, vérifiez et dépannez une configuration de réseau local virtuel sur un commutateur Cisco.</p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1103030300">
<title><content-text>Identification des réseaux locaux virtuels</content-text></title>
<page type="OneColumn" id="tl1103030301">
<content-media type="AnimationPartialScreen" id="cm6474485626">	<title><content-text>Cliquez sur Lire pour visualiser l’interaction entre les réseaux locaux virtuels.</content-text></title>	<media ref="tl1103000000/tl1103030000/tl1103030300/tl1103030301/cm6474485626.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103030000/tl1103030300/tl1103030301/cm6474485626text.xml"/></content-media>
<content-text><p>Les périphériques connectés à un réseau local virtuel communiquent uniquement avec d’autres périphériques situés dans le même réseau local virtuel, qu’ils se trouvent sur le même commutateur ou sur des commutateurs différents.</p> <p>Un commutateur associe chaque port à un numéro de réseau local virtuel spécifique. Lorsque la trame arrive sur ce port, le commutateur insère l’ID de réseau local virtuel (<content-link target="{65CF6CB1-EF9E-49C2-8D84-8C9D707B98C2}" type="glossary">VID</content-link>) dans la trame Ethernet. L’ajout du numéro d’ID de réseau local virtuel à la trame Ethernet est appelé <content-link target="{1E1AFC41-3ECF-440A-8196-AFAF3F3ACC5E}" type="glossary">étiquetage de trames</content-link>. La norme d’étiquetage de trames la plus couramment utilisée est <content-link target="{8CDAB31B-96FF-4820-93BC-9CC4E8824CC5}" type="glossary">IEEE 802.1Q</content-link>.</p></content-text>
</page>
<page type="OneColumn" id="tl1103030302">
<content-media type="InteractiveGraphicRollovers" id="cm8076731151">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103030000/tl1103030300/tl1103030302/cm8076731151.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103030000/tl1103030300/tl1103030302/cm8076731151text.xml"/></content-media>
<content-text><p>La norme 802.1Q, parfois abrégée <content-link target="{A7B47F20-5187-4412-9949-2F9F362DFA20}" type="glossary">dot1q</content-link>, insère un champ d’étiquette à 4 octets dans la trame Ethernet. Cette étiquette est placée entre l’adresse source et le champ type/longueur. </p> <p>Les trames Ethernet ont une taille minimale de 64 octets et une taille maximale de 1 518 octets. Cependant, une trame Ethernet étiquetée peut faire jusqu’à 1 522 octets.</p> <p>Les trames contiennent les champs suivants :</p> <p><ul><li> adresse MAC source et de destination ;</li><li> longueur de la trame ;</li><li> données utiles ; </li><li> séquence de contrôle de trame (FCS). </li></ul></p> <p>Le champ FCS permet de contrôler les erreurs afin de vérifier l’intégrité de tous les octets de la trame.</p> <p>Le champ d’étiquette augmente la valeur minimale de la trame Ethernet qui passe de 64 à 68 octets. La taille maximale passe de 1 518 à 1 522 octets. Le commutateur recalcule la valeur FCS, car le nombre d’octets de la trame a changé.</p> <p>Si un port conforme à la norme 802.1Q est connecté à un autre port 802.1Q, les informations d’étiquetage de réseau local virtuel sont transmises d’un port à l’autre.</p> <p>Si le port de connexion n’est pas conforme à la norme 802.1Q, l’étiquette de réseau local virtuel est supprimée avant que la trame ne soit placée sur le support. </p> <p>Si un périphérique non conforme à la norme 802.1Q ou un port d’accès reçoit une trame 802.1Q, les données de l’étiquette sont ignorées et le paquet est transmis à la couche 2 en tant que trame Ethernet standard. Cela permet de placer des périphériques intermédiaires de couche 2, tels que d’autres commutateurs ou ponts, sur le chemin agrégé 802.1Q. Pour traiter une trame étiquetée 802.1Q, un périphérique doit prendre en charge une unité de transmission maximale (MTU) égale à 1 522 ou plus.</p></content-text>
</page>
<page type="FullScreen" id="tl1103030303">
<content-media type="ActivityCustom" id="cm2716301869">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103030000/tl1103030300/tl1103030303/cm2716301869.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103030000/tl1103030300/tl1103030303/cm2716301869text.xml"/></content-media>
<content-text><p><b>Exercice</b></p> <p>Déterminez si chaque trame entrante doit être transmise à l’hôte de destination, en fonction des configurations de port.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1103040000">
<title><content-text>Agrégation et routage entre réseaux locaux virtuels</content-text></title>
<topic type="" id="tl1103040100">
<title><content-text>Ports agrégés</content-text></title>
<page type="OneColumn" id="tl1103040101">
<content-media type="StaticGraphic" id="cm6473988732">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103040000/tl1103040100/tl1103040101/cm6473988732.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103040000/tl1103040100/tl1103040101/cm6473988732text.xml"/></content-media>
<content-text><p>Un réseau local virtuel présente trois fonctions principales :</p> <p><ul><li> limiter la taille des domaines de diffusion ;</li><li> améliorer les performances réseau ;</li><li> fournir un niveau de sécurité adéquat.</li></ul></p> <p>Pour tirer le meilleur parti des réseaux locaux virtuels, ils sont étendus sur plusieurs commutateurs.</p> <p>Les ports de commutateur peuvent être configurés pour jouer deux rôles différents. Un port est classé comme <content-link target="{F59C77E6-C7EB-4807-926C-A9D995BFEF8B}" type="glossary">port d’accès</content-link> ou comme <content-link target="{3A5BEF5D-DE13-4335-9627-84432A9D8F79}" type="glossary">port agrégé</content-link>. </p> <p><b>Port d’accès</b></p> <p>Un port d’accès appartient à un seul réseau local virtuel. En général, des périphériques individuels tels que des PC ou des serveurs se connectent à ce type de port. Si un concentrateur connecte plusieurs PC à un port d’accès unique, chaque périphérique connecté au concentrateur est un membre du même réseau local virtuel.</p> <p><b>Port agrégé</b></p> <p>Un port agrégé est une liaison point à point entre le commutateur et un autre périphérique réseau. Les agrégations transportent le trafic provenant de plusieurs réseaux locaux virtuels via une liaison unique et permettent à chaque réseau local virtuel d’atteindre l’intégralité d’un réseau. Les ports agrégés sont nécessaires à l’acheminement entre des périphériques de trafic provenant de plusieurs réseaux locaux virtuels, lors de la connexion de deux commutateurs, d’un commutateur et d’un routeur, ou d’une carte réseau hôte prenant en charge l’agrégation 802.1Q.</p></content-text>
</page>
<page type="OneColumn" id="tl1103040102">
<content-media type="AnimationDual" id="cm9282629744">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103040000/tl1103040100/tl1103040102/cm9282629744.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103040000/tl1103040100/tl1103040102/cm9282629744text.xml"/></content-media>
<content-text><p>En l’absence de port agrégé, chaque réseau local virtuel requiert une connexion distincte entre les commutateurs. Par exemple, une entreprise qui possède 100 réseaux locaux virtuels requiert 100 liaisons de connexion. Ce type de configuration n’est pas très évolutif et coûte très cher. Les liaisons agrégées offrent une solution à ce problème en transportant du trafic provenant de plusieurs réseaux locaux virtuels sur la même liaison. </p> <p>Lorsque plusieurs réseaux locaux virtuels utilisent la même liaison, ils requièrent une identification de réseau local virtuel. Un port agrégé prend en charge l’étiquetage de trames, procédure qui ajoute des informations de réseau local virtuel à la trame.</p> <p>La norme IEEE 802.1Q est la méthode normalisée et approuvée d’étiquetage de trames. Cisco a développé un protocole propriétaire d’étiquetage de trames appelé Inter-Switch Link (<content-link target="{0CE5B97F-4DD3-4A75-A57A-C1012DACB9A6}" type="glossary">ISL</content-link>). Les commutateurs haut de gamme, tels que la gamme Catalyst 6500, continuent à prendre en charge les deux protocoles d’étiquetage de trames. Cependant, la majorité des commutateurs de réseau local, tels que le modèle 2960, acceptent uniquement la norme 802.1Q. </p></content-text>
</page>
<page type="OneColumn" id="tl1103040103">
<content-media type="StaticGraphic" id="cm7472225313">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103040000/tl1103040100/tl1103040103/cm7472225313.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103040000/tl1103040100/tl1103040103/cm7472225313text.xml"/></content-media>
<content-text><p>Les ports de commutateur sont par défaut des ports d’accès. Pour configurer un port d’accès en tant que port agrégé, utilisez les commandes suivantes :</p> <p><span class="cmd">Switch(config)#<b>interface fa0/</b><i>numéro_port</i></span></p> <p><span class="cmd">Switch(config-if)#<b>switchport mode trunk </b></span></p> <p><span class="cmd">Switch(config-if)#<b>switchport trunk encapsulation {dot1q | isl | negotiate} </b></span></p> <p>Les commutateurs prenant en charge les protocoles 802.1Q et ISL requièrent la dernière instruction de configuration. Cette instruction n’est pas requise par le modèle 2960, car il n’accepte que la norme 802.1Q. </p> <p>Le <content-link target="{9CAB6846-2BAF-4483-B680-048C14557558}" type="glossary">paramètre de négociation</content-link> est le mode par défaut sur de nombreux commutateurs Cisco. Il détecte automatiquement le type d’encapsulation du commutateur voisin. </p></content-text>
</page>
<page type="OneColumn" id="tl1103040104">
<content-media type="StaticGraphic" id="cm4251952684">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103040000/tl1103040100/tl1103040104/cm4251952684.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103040000/tl1103040100/tl1103040104/cm4251952684text.xml"/></content-media>
<content-text><p>Les commutateurs récents peuvent détecter le type de liaison configurée à l’autre extrémité. En fonction du périphérique connecté, la liaison est automatiquement configurée en tant que port agrégé ou port d’accès.</p> <p><span class="cmd"><b>Switch(config-if)#switchport mode dynamic {desirable | auto}</b></span></p> <p>En <content-link target="{D2B3768C-9EF2-4957-A30D-30175FD8B17D}" type="glossary">mode desirable</content-link>, le port devient un port agrégé si l’autre extrémité est définie sur le mode trunk, desirable ou auto. </p> <p>En <content-link target="{B57ED55A-EADA-4F51-B055-DDCF502FAC56}" type="glossary">mode auto</content-link>, le port devient un port agrégé si l’autre extrémité est définie sur trunk ou desirable. </p> <p>Si vous souhaitez qu’un port agrégé redevienne un port d’accès, exécutez l’une des commandes suivantes :</p> <p><span class="cmd">Switch(config)#<b>interface fa0/</b><i>numéro_port</i></span></p> <p><span class="cmd">Switch(config-if)#<b>no switchport mode trunk</b></span></p> <p>ou</p> <p><span class="cmd">Switch(config-if)<b>#switchport mode access</b></span></p></content-text>
</page>
<page type="OneColumn" id="tl1103040105">
<content-media type="ActivityLab" id="cm4791582912">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103040000/tl1103040100/tl1103040105/cm4791582912/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1103000000/tl1103040000/tl1103040100/tl1103040105/cm4791582912/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques</b></p> <p>Créez des réseaux locaux virtuels et affectez-leur des ports individuels. </p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1103040200">
<title><content-text>Extension de réseaux locaux virtuels sur plusieurs commutateurs</content-text></title>
<page type="OneColumn" id="tl1103040201">
<content-media type="AnimationPartialScreen" id="cm7178598984">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103040000/tl1103040200/tl1103040201/cm7178598984.swf" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1103000000/tl1103040000/tl1103040200/tl1103040201/cm7178598984text.xml"/></content-media>
<content-text><p>L’agrégation permet aux réseaux locaux virtuels de transférer du trafic entre des commutateurs, à l’aide d’un port unique. </p> <p>Une liaison agrégée dont les deux extrémités sont conformes à la norme 802.1Q autorise le trafic présentant une trame à laquelle un champ d’étiquette de 4 octets a été ajouté. Cette étiquette de trame comprend l’ID de réseau local virtuel. </p> <p>Lorsqu’un commutateur reçoit une trame étiquetée sur un port agrégé, il supprime l’étiquette avant d’envoyer la trame vers un port d’accès. Le commutateur transfère la trame uniquement si le port d’accès est un membre du même réseau local virtuel que la trame étiquetée.</p> <p>Cependant, certains types de trafic doivent traverser la liaison 802.1Q dénuée d’ID de réseau local virtuel. Le trafic qui ne présente pas cet ID est dit <content-link target="{B78BF646-81C6-4D92-AEA0-7B5098BB9F69}" type="glossary">non étiqueté</content-link>. Le protocole CDP (Cisco Discovery Protocol), le protocole VTP et certains types de trafic vocal sont des exemples de trafic non étiqueté. Le trafic non étiqueté minimise les retards dus à l’inspection de l’étiquette d’ID de réseau local virtuel.</p></content-text>
</page>
<page type="OneColumn" id="tl1103040202">
<content-media type="StaticGraphic" id="cm6358018209">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103040000/tl1103040200/tl1103040202/cm6358018209.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103040000/tl1103040200/tl1103040202/cm6358018209text.xml"/></content-media>
<content-text><p>Pour prendre en charge le trafic non étiqueté, un réseau local virtuel spécial appelé <content-link target="{58946058-0493-4892-9A83-5B3D37F0F5D5}" type="glossary">réseau local virtuel natif</content-link> est disponible. Les trames non étiquetées reçues sur le port agrégé 802.1Q deviendront des membres du réseau local virtuel natif. Sur les commutateurs Cisco Catalyst, VLAN 1 est le réseau local virtuel natif par défaut.</p> <p>Tous les réseaux locaux virtuels peuvent être configurés en tant que réseau local virtuel natif. Assurez-vous que le réseau local virtuel natif pour une agrégation 802.1Q est le même aux deux extrémités de la ligne agrégée. Si ce n’est pas le cas, des boucles Spanning Tree peuvent se former.</p> <p>Sur une agrégation 802.1Q, utilisez les commandes suivantes pour affecter l’ID de réseau local virtuel natif sur une interface physique : </p> <p><span class="cmd">Switch(config-if)#<b>dot1q native vlan </b><i>id-vlan</i></span></p></content-text>
</page>
<page type="OneColumn" id="tl1103040203">
<content-media type="ActivityLab" id="cm9490505707">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103040000/tl1103040200/tl1103040203/cm9490505707/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1103000000/tl1103040000/tl1103040200/tl1103040203/cm9490505707/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques</b></p> <p>Configurez des ports agrégés pour connecter des commutateurs et vérifiez la connectivité sur la liaison agrégée. </p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1103040300">
<title><content-text>Routage entre réseaux locaux virtuels</content-text></title>
<page type="OneColumn" id="tl1103040301">
<content-media type="StaticGraphic" id="cm8518207782">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103040000/tl1103040300/tl1103040301/cm8518207782.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103040000/tl1103040300/tl1103040301/cm8518207782text.xml"/></content-media>
<content-text><p>Même si les réseaux locaux virtuels s’étendent sur plusieurs commutateurs, seuls des membres du même réseau local virtuel peuvent communiquer entre eux. </p> <p>Un périphérique de couche 3 fournit une connectivité entre différents réseaux locaux virtuels. Cette configuration permet à l’administrateur réseau de contrôler de façon stricte le type de trafic qui circule d’un réseau local virtuel à un autre.</p> <p>Il est possible pour effectuer un routage entre des réseaux locaux virtuels d’utiliser une connexion d’interface distincte vers le périphérique de couche 3 sur chaque réseau local virtuel.</p></content-text>
</page>
<page type="OneColumn" id="tl1103040302">
<content-media type="StaticGraphic" id="cm9989350543">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103040000/tl1103040300/tl1103040302/cm9989350543.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103040000/tl1103040300/tl1103040302/cm9989350543text.xml"/></content-media>
<content-text><p>Une autre méthode requiert une fonctionnalité appelée <content-link target="{4282904B-8EA7-4AD1-8023-6CEA918E969E}" type="glossary">sous-interfaces</content-link>. Les sous-interfaces divisent de façon logique une interface physique en voies d’accès logiques multiples. Configurez une voie d’accès ou une sous-interface pour chaque réseau local virtuel.</p> <p>Pour utiliser des sous-interfaces afin de prendre en charge les communications entre réseaux locaux virtuels (<content-link target="{027BBD2F-C524-44E2-B50C-8C109F87843F}" type="glossary">inter-VLAN</content-link>), il est nécessaire de configurer le commutateur et le routeur. </p>  <p><b>Commutateur </b></p> <p> </p> <p><ul><li> Configurez l’interface du commutateur en tant que liaison agrégée 802.1Q.</li></ul></p> <p><b>Routeur</b></p> <p> </p> <p><ul><li> Sélectionnez une interface de routeur avec au moins 100 Mbits/s (FastEthernet). </li><li> Configurez des sous-interfaces prenant en charge l’encapsulation 802.1Q.</li><li> Configurez une sous-interface pour chaque réseau local virtuel. </li></ul></p> <p>Une sous-interface permet à chaque réseau local virtuel de posséder sa propre voie d’accès logique et sa passerelle par défaut dans le routeur. </p></content-text>
</page>
<page type="OneColumn" id="tl1103040303">
<content-media type="AnimationPartialScreen" id="cm2162811210">	<title><content-text>Cliquez sur Lire pour visualiser le routage entre réseaux locaux virtuels.</content-text></title>	<media ref="tl1103000000/tl1103040000/tl1103040300/tl1103040303/cm2162811210.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103040000/tl1103040300/tl1103040303/cm2162811210text.xml"/></content-media>
<content-text><p>L’hôte du réseau local virtuel expéditeur transfère le trafic vers le routeur à l’aide de la passerelle par défaut.  La sous-interface du réseau local virtuel spécifie la passerelle par défaut pour tous les hôtes de ce réseau local virtuel. Le routeur localise l’adresse IP de destination et effectue un processus de recherche dans la table de routage. </p> <p>Si le réseau local virtuel de destination se trouve sur le même commutateur que le réseau local virtuel source, le routeur réachemine le trafic vers le commutateur source en utilisant les paramètres de sous-interface de l’ID de réseau local virtuel de destination. Ce type de configuration est souvent appelée <content-link target="{14ABC889-1145-45D4-998C-5A7870081926}" type="glossary">router-on-a-stick</content-link>.</p> <p>Si l’interface de sortie du routeur est compatible avec la norme 802.1Q, la trame conserve son étiquette de réseau local virtuel à 4 octets. Si l’interface de sortie n’est pas compatible avec la norme 802.1Q, le routeur supprime l’étiquette de la trame et restaure le format d’origine Ethernet de la trame.</p></content-text>
</page>
<page type="OneColumn" id="tl1103040304">
<content-media type="InteractiveGraphicHotspots" id="cm1884878388">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103040000/tl1103040300/tl1103040304/cm1884878388.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103040000/tl1103040300/tl1103040304/cm1884878388text.xml"/></content-media>
<content-text><p>Pour configurer le routage entre réseaux locaux virtuels, procédez comme suit :</p> <p>1. Configurez un port agrégé sur le commutateur.</p> <p><span class="cmd">Switch(config)#<b>interface fa0/2</b></span></p> <p><span class="cmd">Switch(config-if)#<b>switchport mode trunk</b></span></p> <p>2. Sur le routeur, configurez une interface FastEthernet sans adresse IP ou masque de sous-réseau.</p> <p><span class="cmd">Router(config)#<b>interface fa0/1</b></span></p> <p><span class="cmd">Router(config-if)#<b>no ip address</b></span></p> <p><span class="cmd">Router(config-if)#<b>no shutdown</b></span></p> <p>3. Sur le routeur, configurez une sous-interface avec une adresse IP et un masque de sous-réseau pour chaque réseau local virtuel. Chaque sous-interface présente une encapsulation 802.1Q. </p> <p><span class="cmd">Router(config)#<b>interface fa0/0.10</b></span></p> <p><span class="cmd">Router(config-subif)#<b>encapsulation dot1q 10</b></span></p> <p><span class="cmd">Router(config-subif)#<b>ip address 192.168.10.1 255.255.255.0</b></span></p> <p>4. Utilisez les commandes suivantes pour vérifier la configuration et le fonctionnement du routage entre réseaux locaux virtuels.</p> <p><span class="cmd">Switch#<b>show trunk</b></span></p> <p><span class="cmd">Router#<b>show ip interfaces</b></span></p> <p><span class="cmd">Router#<b>show ip interfaces brief</b></span></p> <p><span class="cmd">Router#<b>show ip route</b></span></p></content-text>
</page>
<page type="OneColumn" id="tl1103040305">
<content-media type="ActivityLab" id="cm6382403958">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103040000/tl1103040300/tl1103040305/cm6382403958/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1103000000/tl1103040000/tl1103040300/tl1103040305/cm6382403958/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques</b></p> <p>Configurez un routage entre réseaux locaux virtuels.</p> <p><content-link target="Dis3_Ch3.4.3.5B_Lab.pdf" type="internalfile">Une version alternative de ces travaux pratiques est également disponible.</content-link></p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1103050000">
<title><content-text>Gestion de réseaux locaux virtuels sur un réseau d’entreprise</content-text></title>
<topic type="" id="tl1103050100">
<title><content-text>Protocole VTP (VLAN Trunking Protocol)</content-text></title>
<page type="OneColumn" id="tl1103050101">
<content-media type="AnimationDual" id="cm8530938670">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103050000/tl1103050100/tl1103050101/cm8530938670.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103050000/tl1103050100/tl1103050101/cm8530938670text.xml"/></content-media>
<content-text><p>Au fur et à mesure que les réseaux s’agrandissent et gagnent en complexité, il devient essentiel de centraliser la gestion de la structure des réseaux locaux virtuels. Le protocole VTP est un protocole de messagerie de couche 2 qui fournit une méthode de distribution et de gestion de la base de données de réseau local virtuel à partir d’un serveur centralisé dans un segment de réseau. Les routeurs ne transmettent pas les mises à jour VTP. </p> <p>Si un réseau d’entreprise comportant des centaines de réseaux locaux virtuels n’est pas géré automatiquement, chaque réseau local virtuel doit être configuré manuellement sur chaque commutateur. Toute modification apportée à la structure de réseau local virtuel requiert une configuration manuelle supplémentaire. Si un nombre n’est pas tapé correctement, des incohérences de connectivité peuvent se produire sur l’ensemble du réseau.</p> <p>Pour résoudre ce problème, Cisco a créé le protocole VTP qui permet d’automatiser de nombreuses fonctions de configuration des réseaux locaux virtuels. Ce protocole garantit que la configuration est gérée de manière cohérente sur tout le réseau, et il réduit la tâche de gestion et de surveillance des réseaux locaux virtuels.</p></content-text>
</page>
<page type="OneColumn" id="tl1103050102">
<content-media type="AnimationPartialScreen" id="cm9151977836">	<title><content-text>Placez votre pointeur sur chaque périphérique pour en savoir plus sur les trois modes VTP.</content-text></title>	<media ref="tl1103000000/tl1103050000/tl1103050100/tl1103050102/cm9151977836.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103050000/tl1103050100/tl1103050102/cm9151977836text.xml"/></content-media>
<content-text><p>VTP est un protocole de messagerie client/serveur qui ajoute, supprime et renomme des réseaux locaux virtuels dans un domaine VTP unique.  Tous les commutateurs soumis à la même gestion font partie d’un domaine. Chaque domaine possède un nom unique. Les commutateurs VTP partagent uniquement des messages VTP avec d’autres commutateurs du même domaine. </p> <p>Le protocole VTP présente deux versions différentes : la version 1 et la version 2. La version 1 est la version par défaut et elle n’est pas compatible avec la version 2. Tous les commutateurs doivent être configurés avec la même version.</p> <p>VTP présente trois modes : serveur, client et transparent. Par défaut, tous les commutateurs sont des serveurs. Il est recommandé d’avoir au moins deux commutateurs configurés en tant que serveurs sur un réseau, afin de fournir des capacités de sauvegarde et de redondance.</p></content-text>
</page>
<page type="OneColumn" id="tl1103050103">
<content-media type="StaticGraphic" id="cm4766661581">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103050000/tl1103050100/tl1103050103/cm4766661581.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103050000/tl1103050100/tl1103050103/cm4766661581text.xml"/></content-media>
<content-text><p>Avec le protocole VTP, chaque commutateur annonce des messages sur ses ports agrégés. Ces messages incluent le domaine de gestion, le numéro de révision de la configuration, les réseaux locaux virtuels connus et les paramètres pour chaque réseau local virtuel. Ces trames d’annonce sont envoyées à une adresse de multidiffusion, de sorte que tous les périphériques voisins puissent recevoir les trames.</p> <p>Chaque commutateur VTP enregistre une base de données de réseau local virtuel dans la mémoire vive non volatile qui comprend un numéro de version. Si un protocole VTP reçoit un message de mise à jour dont le numéro de révision est supérieur à celui stocké dans la base de données, le commutateur met à jour sa base de données de réseau local virtuel avec ces nouvelles informations.</p> <p>Le <content-link target="{B6E2B5CC-4AAD-4760-980F-40C7C9C5959A}" type="glossary">numéro de révision de la configuration VTP</content-link> commence à zéro. À chaque changement effectué, ce numéro augmente d’un chiffre. Le numéro de révision continue d’augmenter jusqu’à 2 147 483 648. Une fois ce numéro atteint, le compteur est remis à zéro. Le redémarrage du commutateur réinitialise également le numéro de révision.</p> <p>Si un individu insère dans le réseau un commutateur présentant un numéro de révision plus élevé sans auparavant redémarrer le commutateur, un problème se produira avec le numéro de révision. Les commutateurs étant par défaut des serveurs, des informations nouvelles, mais erronées, écrasent les informations de réseau privé virtuel légitimes sur tous les autres commutateurs. </p> <p>Pour se protéger de cette situation critique, il suffit de configurer un mot de passe VTP pour valider le commutateur. Par ailleurs, si vous ajoutez un commutateur à un réseau qui comporte déjà un commutateur serveur, vérifiez que le nouveau commutateur est configuré en mode client ou transparent.</p></content-text>
</page>
<page type="OneColumn" id="tl1103050104">
<content-media type="AnimationDual" id="cm4675261364">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103050000/tl1103050100/tl1103050104/cm4675261364.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103050000/tl1103050100/tl1103050104/cm4675261364text.xml"/></content-media>
<content-text><p>Les messages VTP se présentent de trois manières : <content-link target="{5AEB1BCB-656D-47FA-B252-C03DDB80EA74}" type="glossary">annonces de type résumé</content-link>, <content-link target="{D8638629-1815-4E4D-BC3A-F3C4379A80A8}" type="glossary">annonces de type sous-ensemble</content-link> et <content-link target="{FD059DDA-13B8-41EA-90F1-60F3DF04DB21}" type="glossary">requêtes d’annonces</content-link>.  </p> <p><b>Annonces de type résumé</b></p> <p>Les commutateurs Catalyst émettent des annonces de type résumé toutes les 5 minutes ou à chaque changement dans la base de données de réseau local virtuel.  Les annonces de type résumé contiennent le nom de domaine VTP et le numéro de révision de la configuration. </p> <p>Si des réseaux locaux virtuels sont ajoutés, supprimés ou modifiés, le serveur augmente le numéro de version de la configuration et émet une annonce de type résumé.</p> <p>Lorsqu’un commutateur reçoit un paquet d’annonces de type résumé, il compare le nom de domaine VTP à son propre nom de domaine VTP. Si ces noms sont identiques, le commutateur compare le numéro de révision de la configuration à son propre numéro. S’il est inférieur ou égal, le commutateur ignore le paquet. Si le numéro de révision est supérieur, une demande d’annonce est envoyée.</p> <p><b>Annonces de type sous-ensemble</b></p> <p> </p> <p>Une annonce de type sous-ensemble suit l’annonce de type résumé. Elle comprend une liste des informations du réseau local virtuel. </p> <p>L’annonce de type sous-ensemble comprend les nouvelles informations de réseau local virtuel basées sur l’annonce de type résumé. Si plusieurs réseaux locaux virtuels sont présents, ils requièrent plusieurs annonces de type sous-ensemble.</p> <p><b>Requêtes d’annonces</b></p> <p>Les commutateurs Catalyst utilisent des requêtes d’annonces pour obtenir des informations de réseau local virtuel. Les requêtes d’annonces sont requises si le commutateur a été réinitialisé ou si le nom de domaine VTP a été modifié. Le commutateur reçoit une annonce de type résumé VTP avec un numéro de révision de configuration supérieur au sien.</p></content-text>
</page>
<page type="FullScreen" id="tl1103050105">
<content-media type="ActivityDnDSnapback" id="cm8879941535">	<title><content-text>Faites glisser les caractéristiques sur le mode VTP de commutateur approprié.</content-text></title>	<media ref="tl1103000000/tl1103050000/tl1103050100/tl1103050105/cm8879941535.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103050000/tl1103050100/tl1103050105/cm8879941535text.xml"/></content-media>
<content-text><p>Page d’exercice</p> <p><b>Exercice</b></p> <p>Identifiez les caractéristiques des modes VTP serveur, client et transparent.</p></content-text>
</page>
</topic>
<topic type="" id="tl1103050200">
<title><content-text>Configuration du protocole VTP</content-text></title>
<page type="OneColumn" id="tl1103050201">
<content-media type="StaticGraphic" id="cm3118015103">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103050000/tl1103050200/tl1103050201/cm3118015103.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103050000/tl1103050200/tl1103050201/cm3118015103text.xml"/></content-media>
<content-text><p>Les commutateurs sont par défaut des serveurs. Si un commutateur en mode serveur émet une mise à jour avec un numéro de révision supérieur au numéro actuel, tous les commutateurs modifieront leur base de données pour refléter le nouveau commutateur. </p> <p>Lors de l’ajout d’un nouveau commutateur dans un domaine VTP existant, procédez comme suit :</p> <p><b>Étape 1 :</b> configurez le protocole VTP hors ligne (version 1).</p> <p><b>Étape 2 :</b> vérifiez la configuration VTP.</p> <p><b>Étape 3 :</b> redémarrez le commutateur.</p></content-text>
</page>
<page type="OneColumn" id="tl1103050202">
<content-media type="ActivityPKA" id="cm4199202004">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103050000/tl1103050200/tl1103050202/cm4199202004/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1103000000/tl1103050000/tl1103050200/tl1103050202/cm4199202004/icontext.xml"/></content-media>
<content-text><p><b>Exercice</b> <b>Packet Tracer</b></p> <p>Construisez un domaine VTP et testez-le.</p><p><b>Cliquez sur l’icône Packet Tracer pour commencer.</b></p></content-text>
</page>
<page type="OneColumn" id="tl1103050203">
<content-media type="ActivityPKA" id="cm7205017003">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103050000/tl1103050200/tl1103050203/cm7205017003/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1103000000/tl1103050000/tl1103050200/tl1103050203/cm7205017003/icontext.xml"/></content-media>
<content-text><p><b>Exercice Packet Tracer</b></p> <p>Ajoutez un nouveau commutateur à un domaine VTP existant.</p><p><b>Cliquez sur l’icône Packet Tracer pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1103050300">
<title><content-text>Prise en charge de réseau local virtuel pour la téléphonie sur IP et le trafic sans fil</content-text></title>
<page type="OneColumn" id="tl1103050301">
<content-media type="StaticGraphic" id="cm3265259711">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103050000/tl1103050300/tl1103050301/cm3265259711.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103050000/tl1103050300/tl1103050301/cm3265259711text.xml"/></content-media>
<content-text><p>L’objectif principal des réseaux privés virtuels est de séparer le trafic en groupes logiques. Le trafic provenant d’un réseau local virtuel n’a aucune incidence sur le trafic issu d’un autre réseau local virtuel. Un environnement de réseau local virtuel est idéal pour le trafic sensible aux délais, notamment les signaux vocaux.</p> <p>Le trafic vocal doit être prioritaire par rapport au trafic de données classiques, afin d’éviter les conversations saccadées ou instables. Lorsqu’un réseau local virtuel est dédié au trafic vocal, ce type de trafic n’est pas en concurrence avec des données en termes d’obtention de bande passante.</p> <p>Un téléphone IP comporte généralement deux ports, un pour la voix et l’autre pour les données. Les paquets circulant vers et depuis le PC et le téléphone IP partagent la même liaison physique vers le commutateur et le même port de commutateur. Pour segmenter le trafic vocal, activez un réseau local virtuel vocal distinct sur le commutateur.</p></content-text>
</page>
<page type="OneColumn" id="tl1103050302">
<content-media type="StaticGraphic" id="cm2826626423">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103050000/tl1103050300/tl1103050302/cm2826626423.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103050000/tl1103050300/tl1103050302/cm2826626423text.xml"/></content-media>
<content-text><p>Le trafic sans fil bénéficie également des réseaux locaux virtuels. Par nature, le trafic sans fil est très peu sécurisé et est donc sujet aux attaques informatiques. Les réseaux locaux virtuels créés pour le trafic sans fil isolent certains des problèmes potentiels. Même si l’intégrité du réseau local virtuel sans fil est compromise, les autres réseaux locaux virtuels de l’organisation ne sont en aucune manière affectés.</p> <p>La plupart des déploiements sans fil placent l’utilisateur dans un réseau local virtuel en dehors du pare-feu, pour une sécurité accrue. Les utilisateurs doivent s’authentifier pour pouvoir accéder au réseau interne à partir du réseau sans fil. </p> <p>En outre, de nombreuses organisations fournissent un accès « Invité » à leur réseau sans fil. Les comptes Invité offrent à toute personne, dans une portée limitée, des services sans fil temporaires tels que l’accès au Web, au courriel, ftp et SSH. Les comptes Invité sont inclus dans le réseau local virtuel sans fil ou résident dans leur propre réseau local virtuel.</p></content-text>
</page>
<page type="OneColumn" id="tl1103050303">
<content-media type="ActivityPKA" id="cm2971254220">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103050000/tl1103050300/tl1103050303/cm2971254220/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1103000000/tl1103050000/tl1103050300/tl1103050303/cm2971254220/icontext.xml"/></content-media>
<content-text><p><b>Exercice Packet Tracer</b></p> <p>Construisez un réseau local virtuel d’entreprise avec des clients vocaux, sans fil et filaires. Créez des réseaux locaux virtuels distincts qui isolent le trafic vocal et le trafic sans fil.</p><p><b>Cliquez sur l’icône Packet Tracer pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1103050400">
<title><content-text>Réseaux locaux virtuels : méthodes recommandées</content-text></title>
<page type="OneColumn" id="tl1103050401">
<content-media type="StaticGraphic" id="cm6631617607">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103050000/tl1103050400/tl1103050401/cm6631617607.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103050000/tl1103050400/tl1103050401/cm6631617607text.xml"/></content-media>
<content-text><p>S’ils sont planifiés et conçus avec attention, les réseaux locaux virtuels fournissent un niveau de sécurité adéquat, préservent la bande passante et localisent le trafic sur un réseau d’entreprise. Toutes ces fonctionnalités sont combinées pour améliorer les performances réseau.</p> <p>Certaines méthodes recommandées pour la configuration de réseaux privés virtuels dans un réseau d’entreprise incluent :</p> <p><ul><li> l’organisation de l’emplacement des serveurs ; </li><li> la désactivation des ports inutilisés ; </li><li> la configuration du réseau local virtuel de gestion sur un nombre autre que 1 ;</li><li> l’utilisation du protocole VTP (VLAN Trunking Protocol) ;</li><li> la configuration de domaines VTP ;</li><li> le redémarrage d’un nouveau commutateur entrant dans un réseau établi.</li></ul></p> <p>Les réseaux locaux virtuels ne résolvent cependant pas tous les problèmes. </p> <p>Une mauvaise implémentation des réseaux locaux virtuels peut avoir pour effet de compliquer un réseau, ce qui entraîne une connectivité sporadique et ralentit les performances réseau.</p> <p>Les réseaux locaux virtuels isolent certains types de trafic pour des raisons de sécurité. Pour acheminer du trafic entre différents réseaux locaux virtuels, un périphérique de couche 3 est requis, ce qui augmente les coûts de mise en œuvre et accroît le niveau de latence dans le réseau.</p></content-text>
</page>
<page type="OneColumn" id="tl1103050402">
<content-media type="ActivityPKA" id="cm4436709195">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103050000/tl1103050400/tl1103050402/cm4436709195/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1103000000/tl1103050000/tl1103050400/tl1103050402/cm4436709195/icontext.xml"/></content-media>
<content-text><p><b>Exercice Packet Tracer</b></p> <p>Planifiez et construisez un réseau commuté conforme aux spécifications du client.</p><p><b>Cliquez sur l’icône Packet Tracer pour commencer.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="tl1103060000">
<title><content-text>Résumé du chapitre</content-text></title>
<topic type="" id="tl1103060100">
<title><content-text>Résumé</content-text></title>
<page type="FullScreen" id="tl1103060101">
<content-media type="ChapterSummary" id="cm6285417915">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103060000/tl1103060100/tl1103060101/cm6285417915.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1103000000/tl1103060000/tl1103060100/tl1103060101/cm6285417915text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="tl1103070000">
<title><content-text>Questionnaire du chapitre</content-text></title>
<topic type="" id="tl1103070100">
<title><content-text>Questionnaire</content-text></title>
<page type="OneColumn" id="tl1103070101">
<content-media type="ChapterQuiz" id="cm7207849627">	<title><content-text></content-text></title>	<media ref="tl1103000000/tl1103070000/tl1103070100/tl1103070101/cm7207849627/" mime="" scale="true" type="directory" width="100%" height="100%" external="tl1103000000/tl1103070000/tl1103070100/tl1103070101/cm7207849627/icontext.xml"/></content-media>
<content-text><p>Répondez au questionnaire de ce chapitre pour tester vos connaissances.</p><p><b>Cliquez sur l’icône du questionnaire pour commencer.</b></p></content-text>
</page>
</topic>
</section>
</chapter>
