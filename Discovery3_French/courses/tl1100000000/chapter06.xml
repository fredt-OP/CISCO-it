<chapter type="" id="tl1106000000">
<title><content-text>Routage à l’aide d’un protocole à état de liens</content-text></title>
<section type="ChapterIntroduction" id="tl1106000000">
<title><content-text>Présentation du chapitre</content-text></title>
<topic type="" id="tl1106000100">
<title><content-text>Présentation</content-text></title>
<page type="FullScreen" id="tl1106000101">
<content-media type="ChapterIntroduction" id="cm6133508193">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106000000/tl1106000100/tl1106000101/cm6133508193.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106000000/tl1106000100/tl1106000101/cm6133508193text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
<section type="" id="tl1106010000">
<title><content-text>Routage à l’aide du protocole OSPF</content-text></title>
<topic type="" id="tl1106010100">
<title><content-text>Fonctionnement du protocole à état de liens</content-text></title>
<page type="OneColumn" id="tl1106010101">
<content-media type="AnimationDual" id="cm7797238375">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106010000/tl1106010100/tl1106010101/cm7797238375.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106010000/tl1106010100/tl1106010101/cm7797238375text.xml"/></content-media>
<content-text><p>Les réseaux d’entreprise et les FAI utilisent des <content-link target="{50FE76C8-754F-470C-9F0F-6B735C421E17}" type="glossary">protocoles à état de liens</content-link> en raison de leur conception hiérarchique et de leur capacité à évoluer pour les grands réseaux. Les protocoles de routage à vecteur de distance ne représentent généralement pas le choix adéquat pour un réseau d’entreprise complexe. </p> <p>Le <content-link target="{863DD05A-B828-434F-9B87-D327EA9CC69B}" type="glossary">protocole OSPF</content-link> (Open Shortest Path First) est un exemple de protocole de routage à état de liens. Le protocole OSPF est un protocole de routage de <content-link target="{6C92A5C3-7DB2-4DD5-96AD-66F106E3E2CC}" type="glossary">norme ouverte</content-link> mis au point par le comité <content-link target="{8C547DC7-7D1F-4933-9D95-CA306906986B}" type="glossary">IETF</content-link> (Internet Engineering Task Force) pour prendre en charge le trafic IP. </p> <p>Le protocole OSPF est un <content-link target="{966AD3DA-930A-4B46-8833-3446E4FC9E9D}" type="glossary">protocole IGP</content-link> sans classe. Il scinde le réseau en plusieurs sections appelées zones. Cette division permet une meilleure évolutivité. L’utilisation de plusieurs zones permet à l’administrateur réseau d’activer de manière sélective le résumé du routage et d’isoler les problèmes de routage dans une zone unique.</p> <p>Les protocoles de routage à état de liens, tels que le protocole OSPF, n’envoient pas souvent de mises à jour périodiques de l’ensemble de la table de routage. Après la convergence du réseau, un protocole à état de liens envoie plutôt une mise à jour seulement en cas de modification de la topologie, telle que l’interruption d’un lien. De plus, le protocole OSPF exécute une mise à jour complète toutes les 30 minutes.</p></content-text>
</page>
<page type="OneColumn" id="tl1106010102">
<content-media type="AnimationPartialScreen" id="cm5123936095">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106010000/tl1106010100/tl1106010102/cm5123936095.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106010000/tl1106010100/tl1106010102/cm5123936095text.xml"/></content-media>
<content-text><p>Les protocoles à état de liens tels que le protocole OSPF fonctionnent très bien pour les réseaux hiérarchiques plus grands sur lesquels une convergence rapide est importante. </p> <p>Comparés aux protocoles de routage à vecteur de distance, les protocoles de routage à état de liens nécessitent : </p> <p><ul><li> Une planification et une configuration réseau plus complexes</li><li> Des ressources de routage supplémentaires</li><li> Davantage de mémoire pour le stockage de plusieurs tables </li><li> Un processeur et une puissance de traitement plus importants pour les calculs de routage complexes</li></ul></p> <p>Toutefois, grâce aux performances élevées des routeurs disponibles aujourd’hui, ces exigences ne posent généralement pas de problème.</p> <p>Les routeurs exécutant le protocole RIP reçoivent des mises à jour de leurs voisins immédiats, mais sans détails concernant le réseau dans son ensemble. Les routeurs exécutant le protocole OSPF génèrent une carte complète du réseau tel qu’il leur apparaît. Cette carte leur permet de déterminer rapidement d’autres chemins sans boucle en cas d’interruption d’un lien réseau.</p> <p>Le protocole OSPF ne résume pas automatiquement les réseaux au niveau des périphéries de réseau principales. En outre, la mise en œuvre du protocole OSPF par Cisco utilise la bande passante pour déterminer le coût d’un lien. Cette mesure du coût permet au protocole OSPF de déterminer le meilleur chemin. Un lien associé à une bande passante supérieure aura un coût inférieur. La route présentant le coût le plus bas vers une destination est le chemin le plus approprié. </p> <p>Le routeur se fie à une mesure basée sur la bande passante plutôt que sur le nombre de sauts, pour établir le chemin le plus court. La distance administrative du protocole OSPF est 110, plus faible que le protocole RIP, en raison de la fiabilité, ou de la précision de la mesure. </p></content-text>
</page>
<page type="FullScreen" id="tl1106010103">
<content-media type="ActivityMCSACheckbox" id="cm8583977108">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106010000/tl1106010100/tl1106010103/cm8583977108.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106010000/tl1106010100/tl1106010103/cm8583977108text.xml"/></content-media>
<content-text><p>Exercice plein écran</p></content-text>
</page>
</topic>
<topic type="" id="tl1106010200">
<title><content-text>Mesures et convergence du protocole OSPF</content-text></title>
<page type="OneColumn" id="tl1106010201">
<content-media type="StaticGraphic" id="cm4962703738">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106010000/tl1106010200/tl1106010201/cm4962703738.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106010000/tl1106010200/tl1106010201/cm4962703738text.xml"/></content-media>
<content-text><p>Le protocole OSPF base la mesure de coût d’un lien individuel sur sa bande passante ou vitesse. La mesure d’un réseau vers une destination particulière est la somme des coûts de tous les liens du chemin. S’il existe plusieurs chemins vers le réseau, celui qui présente le coût global le plus bas est privilégié et placé dans la table de routage.</p> <p>L’équation permettant de calculer le coût d’un lien OSPF est la suivante :</p> <p><b>Coût = 100 000 000 / bande passante du lien en bits/s</b></p> <p>La bande passante configurée sur une interface fournit la valeur de bande passante pour l’équation. Affichez la bande passante d’une interface à l’aide de la commande <span class="cmd"><b>show interfaces</b></span>. </p> <p>L’utilisation de cette équation pose problème pour les vitesses de liens supérieures ou égales à 100 Mbits/s, comme Fast Ethernet et Gigabit Ethernet. Quelle que soit la différence de vitesse entre ces deux liens, ils renvoient une valeur de calcul égale à 1, et sont donc traités de la même manière bien qu’ils présentent une différence notable. Pour pallier cet inconvénient, configurez manuellement la valeur de coût de l’interface à l’aide de la commande <span class="cmd"><b>ip ospf cost</b></span>.</p></content-text>
</page>
<page type="OneColumn" id="tl1106010202">
<content-media type="InteractiveGraphicHotspots" id="cm1870618899">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106010000/tl1106010200/tl1106010202/cm1870618899.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106010000/tl1106010200/tl1106010202/cm1870618899text.xml"/></content-media>
<content-text><p>Les routeurs OSPF au sein d’une zone unique présentent des informations sur l’état de leurs <content-link target="{9A54A560-6456-45C1-B33C-A6C262A2CF63}" type="glossary">liaisons</content-link> avec leurs voisins. Des messages appelés <content-link target="{9CA1342E-32DC-4C55-A927-BFE7ADD0CAAE}" type="glossary">LSA</content-link> (Link-State Advertisement), servent à annoncer ces informations d’état. </p> <p>Dès qu’un routeur OSPF reçoit des messages LSA décrivant toutes les liaisons d’une zone, il utilise l’<content-link target="{4A1E8B4F-B86F-4CB9-83B5-9448E80EE7F5}" type="glossary">algorithme SPF</content-link>, appelé également <content-link target="{F3FA9C1D-1221-49A5-9F46-7A8EFC7CF11A}" type="glossary">algorithme de Dijkstra</content-link>, pour générer une arborescence topologique, ou carte du réseau. Chaque routeur exécutant l’algorithme s’identifie comme la racine de sa propre <content-link target="{B99EC401-1791-46A5-81EC-D7C563D81037}" type="glossary">arborescence SPF</content-link>. À partir de la racine, l’arborescence SPF identifie le chemin le plus court vers chaque destination et le coût total de chaque chemin.</p> <p>L’état de liens OSPF ou la <content-link target="{2524D505-A47F-4E37-B22A-16EB102F382B}" type="glossary">base de données topologique</content-link> stocke les informations de l’arborescence SPF. Le routeur installe le chemin le plus court vers chaque réseau dans la table de routage.</p> <p>Il y a convergence lorsque tous les routeurs :</p> <p><ul><li> Reçoivent des informations sur toutes les destinations du réseau</li><li> Traitent ces informations avec l’algorithme SPF</li><li> Mettent à jour leurs tables de routage</li></ul></p></content-text>
</page>
<page type="FullScreen" id="tl1106010203">
<content-media type="ActivityDnDCheckReset" id="cm8070294360">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106010000/tl1106010200/tl1106010203/cm8070294360.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106010000/tl1106010200/tl1106010203/cm8070294360text.xml"/></content-media>
<content-text><p>Exercice</p> <p>plein écran</p> <p>Identifiez le meilleur chemin que peuvent emprunter les paquets de H1 à H2 dans un réseau OSPF basé sur le coût des liens. </p></content-text>
</page>
</topic>
<topic type="" id="tl1106010300">
<title><content-text>Voisins et contiguïtés du protocole OSPF</content-text></title>
<page type="OneColumn" id="tl1106010301">
<content-media type="AnimationPartialScreen" id="cm7830906330">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106010000/tl1106010300/tl1106010301/cm7830906330.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106010000/tl1106010300/tl1106010301/cm7830906330text.xml"/></content-media>
<content-text><p>Avec le protocole OSPF, les mises à jour d’état de liens sont envoyées lors de modifications sur le réseau. Comment un routeur peut-il alors savoir quand un routeur voisin est défaillant ? Les routeurs OSPF établissent et maintiennent des relations de voisinage, ou contiguïtés, avec d’autres routeurs OSPF connectés. La contiguïté est une forme avancée de voisinage entre routeurs désireux d’échanger des informations de routage. Lorsque des routeurs mettent en place une contiguïté avec des voisins, un échange de mises à jour d’état de liens démarre. Les routeurs atteignent un état de contiguïté COMPLET lorsqu’ils ont synchronisé les vues de leur base de données d’état de liens.</p> <p>Le routeur subit plusieurs modifications d’état avant de devenir complètement contigu avec son voisin. </p> <p><ul><li> Init</li><li> 2-Way</li><li> Exstart</li><li> Exchange</li><li> Loading</li><li> Full</li></ul></p> <p>Le protocole Hello OSPF est utilisé initialement pour établir et maintenir les contiguïtés. Le protocole Hello envoie de très petits paquets Hello à des routeurs OSPF connectés directement à l’adresse de multidiffusion 224.0.0.5. Les paquets sont envoyés toutes les 10 secondes sur les liens Ethernet et de diffusion, et toutes les 30 secondes sur les liens de non-diffusion. Les paramètres du routeur font également partie des paquets Hello. Ces paramètres comprennent les intervalle Hello et <content-link target="{1C530861-2567-40D2-81AB-0B20FF3ED338}" type="glossary">intervalle d’arrêt</content-link> et le type de réseau, ainsi que le type et les données d’authentification si elles sont configurées. Pour que deux routeurs forment une contiguïté, tous les paramètres doivent correspondre. Le routeur enregistre les contiguïtés voisines détectées dans une base de données de contiguïtés OSPF.</p></content-text>
</page>
<page type="OneColumn" id="tl1106010302">
<content-media type="InteractiveGraphicHotspots" id="cm7538410976">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106010000/tl1106010300/tl1106010302/cm7538410976.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106010000/tl1106010300/tl1106010302/cm7538410976text.xml"/></content-media>
<content-text><p>L’état normal d’un routeur OSPF est Full (Complet). Si un routeur est bloqué dans un autre état, cela indique un problème tel que des paramètres qui ne correspondent pas. La seule exception dans ce cas est l’état 2-way. Dans un environnement de diffusion, un routeur ne parviendra à un état complet qu’avec un routeur désigné (<content-link target="{B67DDA2A-04CC-4E68-AEAA-E523E74C0D87}" type="glossary">DR</content-link>) et un routeur désigné de sauvegarde (<content-link target="{B0E886BD-C1FC-4D31-9912-02143C6D5ED8}" type="glossary">BDR</content-link>). Tous les autres voisins apparaîtront dans l’état 2-way.</p> <p>L’objectif du routeur désigné et du routeur désigné de sauvegarde est de réduire le nombre de mises à jour envoyées, le flux de trafic inutile et la surcharge de traitement sur tous les routeurs. Pour y parvenir, tous les routeurs sont obligés d’accepter uniquement les mises à jour provenant du routeur désigné. Sur les segments de réseau de diffusion, il n’existe qu’un seul routeur désigné et routeur désigné de sauvegarde. Tous les autres routeurs doivent disposer d’une connexion au routeur désigné et au routeur désigné de sauvegarde. Lorsqu’un lien est interrompu, le routeur disposant des informations concernant le lien envoie ces informations au routeur désigné par le biais de l’adresse de multidiffusion 224.0.0.6. Le routeur désigné est chargé de distribuer la modification à tous les autres routeurs OSPF, en utilisant l’adresse de multidiffusion 224.0.0.5. En plus de la réduction du nombre de mises à jour envoyées sur le réseau, ce processus garantit également que tous les routeurs reçoivent les mêmes informations au même moment depuis une source unique. </p> <p>Le routeur désigné de sauvegarde garantit qu’il n’existe aucun point de défaillance. Comme le routeur désigné, le routeur désigné de sauvegarde écoute l’adresse 224.0.0.6 et reçoit toutes les mises à jour envoyées au routeur désigné. En cas de défaillance du routeur désigné, le routeur désigné de sauvegarde prend immédiatement le relais en tant que routeur désigné, et un nouveau routeur désigné de sauvegarde est sélectionné. Tout routeur non sélectionné comme routeur désigné ou routeur désigné de sauvegarde est appelé <content-link target="{875577FE-DA0C-49D2-8D30-A78BA1499FDB}" type="glossary">DROther</content-link>.</p></content-text>
</page>
<page type="OneColumn" id="tl1106010303">
<content-media type="StaticGraphic" id="cm6583127323">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106010000/tl1106010300/tl1106010303/cm6583127323.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106010000/tl1106010300/tl1106010303/cm6583127323text.xml"/></content-media>
<content-text><p>Dans un réseau local, le routeur possédant l’<content-link target="{CA21FB91-67E0-4653-8AC2-75E18821AAC2}" type="glossary">ID de routeur</content-link> le plus élevé est sélectionné comme routeur désigné, et celui avec le second ID le plus élevé comme routeur désigné de sauvegarde. </p> <p>L’ID de routeur est une adresse IP déterminée par :</p> <p>1. La valeur configurée avec la commande <span class="cmd"><b>router-id</b></span>. </p> <p>2. Si aucune valeur n’est définie avec la commande <span class="cmd"><b>router-id</b></span>, l’adresse IP configurée la plus élevée sur n’importe quelle <content-link target="{197BECAA-1DD1-456F-9E88-2AC982D875A2}" type="glossary">interface de bouclage</content-link>. </p> <p>3. Si aucune interface de bouclage n’est configurée, l’adresse IP la plus élevée sur n’importe quelle interface physique active.</p> <p>L’ID de routeur peut être affiché à l’aide des commandes <span class="cmd"><b>show</b></span> suivantes :</p> <p><span class="cmd"><b>show ip protocols</b></span>, <span class="cmd"><b>show ip ospf</b></span> ou <span class="cmd"><b>show ip ospf interface</b></span>.</p> <p>Dans certains cas, un administrateur peut vouloir sélectionner des routeurs spécifiques comme routeur désigné et routeur désigné de sauvegarde. Il peut s’agir de routeurs disposant d’une puissance de traitement plus élevée ou d’une charge de trafic moins importante. Un administrateur peut forcer la sélection du routeur désigné et du routeur désigné de sauvegarde en configurant une priorité à l’aide de la commande de configuration d’interface :</p> <p><span class="cmd"><b>ip ospf priority <i>nombre</i></b></span></p> <p>Par défaut, les routeurs OSPF ont une valeur de priorité égale à 1. Si la valeur de priorité est modifiée sur un routeur, le paramètre de priorité la plus élevée garantira la sélection du routeur désigné, quel que soit l’ID de routeur le plus élevé. La valeur la plus élevée pouvant être configurée pour la priorité de routeur est 255. Une valeur de 0 signifie que le routeur ne peut pas être sélectionné comme routeur désigné ou routeur désigné de sauvegarde.</p></content-text>
</page>
<page type="OneColumn" id="tl1106010304">
<content-media type="InteractiveGraphicHotspots" id="cm3571702891">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106010000/tl1106010300/tl1106010304/cm3571702891.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106010000/tl1106010300/tl1106010304/cm3571702891text.xml"/></content-media>
<content-text><p>Tous les types de liens ne nécessitent pas un routeur désigné et un routeur désigné de sauvegarde. Types de liens identifiés par OSPF :</p> <p>Réseaux de <content-link target="{0FCEF947-36EC-4B36-895C-4D2B542BDF34}" type="glossary">diffusion</content-link></p> <p><ul><li> Ethernet</li></ul></p> <p>Réseaux de <content-link target="{6274F857-8280-4FEB-B109-455109591C7B}" type="glossary">protocole PPP</content-link> (point à point)</p> <p><ul><li> Série</li><li> T1/E1</li></ul></p> <p>Réseaux à <content-link target="{0218A4F8-1D81-4EBC-922F-F9B6873B664C}" type="glossary">accès NBMA</content-link> (Non-Broadcast Multi-Access)</p> <p><ul><li> Relais de trames</li><li> ATM</li></ul></p> <p>Sur les réseaux à accès multiple avec diffusion, comme Ethernet, le nombre de relations de voisinage peut devenir important, rendant obligatoire la sélection d’un routeur désigné.</p> <p>Sur les réseaux point à point, l’établissement de contiguïtés complètes ne pose pas de problème car, par définition, il ne peut y avoir que deux routeurs sur le lien. La sélection du routeur désigné n’est pas nécessaire et ne s’applique pas. </p> <p>Sur les réseaux NBMA, le protocole OSPF peut fonctionner en deux modes :</p> <p><ul><li> Environnement de diffusion simulée : un administrateur peut définir le type de réseau comme diffusion et le réseau simule alors un modèle de diffusion en sélectionnant un routeur désigné et un routeur désigné de sauvegarde. Dans cet environnement, il est généralement recommandé que l’administrateur choisisse le routeur désigné et le routeur désigné de sauvegarde en configurant la priorité du routeur. Cela permet de garantir que le routeur désigné et le routeur désigné de sauvegarde disposent d’une connectivité complète vers les autres routeurs voisins. Les routeurs voisins sont également définis de manière statique à l’aide de la commande <span class="cmd"><b>neighbor</b></span> dans le mode de configuration OSPF.</li><li> Environnement point à multipoint : dans cet environnement, chaque réseau de non diffusion est traité comme un ensemble de liens point à point et un routeur désigné n’est pas sélectionné. Cet environnement nécessite également que les routeurs voisins soient définis de manière statique.</li></ul></p></content-text>
</page>
<page type="FullScreen" id="tl1106010305">
<content-media type="ActivityCustom" id="cm5669722385">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106010000/tl1106010300/tl1106010305/cm5669722385.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106010000/tl1106010300/tl1106010305/cm5669722385text.xml"/></content-media>
<content-text><p>Exercice</p> <p><b>plein écran</b></p> <p>Identifiez le routeur désigné et le routeur désigné de sauvegarde qui conviennent pour chaque réseau affiché.</p></content-text>
</page>
</topic>
<topic type="" id="tl1106010400">
<title><content-text>Zones OSPF</content-text></title>
<page type="OneColumn" id="tl1106010401">
<content-media type="StaticGraphic" id="cm3518224281">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106010000/tl1106010400/tl1106010401/cm3518224281.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106010000/tl1106010400/tl1106010401/cm3518224281text.xml"/></content-media>
<content-text><p>Tous les réseaux OSPF commencent par la <content-link target="{D72F241C-C4AA-4B4A-818E-CE55EF1BB331}" type="glossary">zone 0</content-link>, également appelée zone de réseau fédérateur. Au fur et à mesure de l’extension du réseau, d’autres zones contiguës à la zone 0 peuvent être créées. N’importe quel numéro jusqu’à 65 535 peut être attribué à ces autres zones. </p> <p>Le protocole OSPF est conçu suivant une hiérarchie à deux couches. La zone 0, également appelée zone de réseau fédérateur, est au niveau le plus élevé, et toutes les autres zones sont situées au niveau suivant. Toutes les zones qui ne sont pas de réseau fédérateur doivent se connecter directement à la zone 0. Ce groupe de zones crée un <content-link target="{60DC6407-564F-4780-85B7-C3372F9008AB}" type="glossary">système autonome</content-link> OSPF.</p> <p>Le fonctionnement du protocole OSPF au sein d’une zone est différent du fonctionnement entre cette zone et la zone de réseau fédérateur. Un résumé des informations réseau se produit généralement entre les zones. Cela permet de réduire la taille des tables de routage dans le réseau fédérateur. Un résumé permet également d’isoler les modifications et les liens de <content-link target="{3E23BF62-CA4D-498B-979F-9812BCA89C30}" type="glossary">battement</content-link>, vers une zone spécifique du domaine de routage. Dans le cadre d’un résumé, lorsqu’une modification de la topologie se produit, seuls les routeurs de la zone concernée reçoivent le message LSA et exécutent l’algorithme SPF.</p> <p>Un routeur qui connecte une zone à la zone de réseau fédérateur est également appelé <content-link target="{F2CEBEED-1A2F-40A9-8B23-32C3BBD5317D}" type="glossary">routeur périphérique</content-link> (ABR). Un routeur qui connecte une zone à un protocole de routage différent, tel que le protocole EIGRP, ou qui redistribue les routes statiques dans la zone OSPF est appelé routeur <content-link target="{F8F00417-DD42-4E2F-B92D-5220D37897B8}" type="glossary">ASBR</content-link>.</p></content-text>
</page>
<page type="FullScreen" id="tl1106010402">
<content-media type="ActivityDnDSnapback" id="cm2883895805">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106010000/tl1106010400/tl1106010402/cm2883895805.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106010000/tl1106010400/tl1106010402/cm2883895805text.xml"/></content-media>
<content-text><p>Exercice</p> <p><b>plein écran</b></p> <p>Faites correspondre chaque terme avec la description appropriée.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1106020000">
<title><content-text>Mise en œuvre du protocole OSPF zone unique</content-text></title>
<topic type="" id="tl1106020100">
<title><content-text>Configuration du protocole OSPF de base dans une zone unique</content-text></title>
<page type="OneColumn" id="tl1106020101">
<content-media type="InteractiveGraphicRollovers" id="cm3085176463">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106020000/tl1106020100/tl1106020101/cm3085176463.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106020000/tl1106020100/tl1106020101/cm3085176463text.xml"/></content-media>
<content-text><p>La configuration du protocole OSPF de base est une tâche simple qui ne comporte que deux étapes : la première active le processus de routage OSPF, la seconde identifie les réseaux à annoncer. </p> <p><b>Étape 1 : activation du protocole OSPF</b></p> <p><span class="cmd">router(config)#<b>router ospf </b>&lt;<i>ID de processus</i>&gt;</span></p> <p>L’ID de processus est choisi par l’administrateur et peut être un nombre compris entre 1 et 65 535. L’ID de processus n’est significatif que localement et ne doit pas correspondre à l’ID d’autres routeurs OSPF.</p> <p><b>Étape 2 : annonce des réseaux</b></p> <p><span class="cmd">Router(config-router)#<b>network </b>&lt;<i>adresse réseau</i>&gt; &lt;<i>masque générique</i>&gt; <b>area </b>&lt;<i>ID de zone</i>&gt;</span></p> <p>La commande <span class="cmd"><b>network</b></span> fonctionne de la même manière que dans les autres protocoles de routage IGP. Elle identifie les interfaces activées pour envoyer et recevoir des paquets OSPF. Cette instruction identifie les réseaux à inclure dans les mises à jour de routage OSPF.</p> <p>La commande <span class="cmd"><b>network</b></span> du protocole OSPF utilise une combinaison d’adresse réseau et de <content-link target="{4D126DD0-5D77-451F-B236-166B7AE8FE2A}" type="glossary">masque générique</content-link>. L’adresse réseau et le masque générique servent à spécifier l’adresse ou la plage d’adresses de l’interface, qui seront activées pour le protocole OSPF.</p> <p>L’<content-link target="{09AA8450-1712-44B4-BC26-766F2C4981E9}" type="glossary">ID de zone</content-link> identifie la zone OSPF à laquelle appartient le réseau. Même si aucune zone n’est spécifiée, il doit exister une zone 0. Dans un environnement OSPF zone unique, la zone est toujours 0.</p></content-text>
</page>
<page type="OneColumn" id="tl1106020102">
<content-media type="StaticGraphic" id="cm6476479949">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106020000/tl1106020100/tl1106020102/cm6476479949.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106020000/tl1106020100/tl1106020102/cm6476479949text.xml"/></content-media>
<content-text><p>La commande <span class="cmd"><b>network</b></span> du protocole OSPF exige l’utilisation du masque générique. Lorsqu’il est utilisé pour le résumé du réseau, ou la création d’un super-réseau, le masque générique est l’<content-link target="{534AB956-8680-43A8-B0B4-2599E6DCAA18}" type="glossary">inverse</content-link> du masque de sous-réseau. </p> <p>Pour déterminer le masque générique d’un réseau ou sous-réseau, il suffit de soustraire le masque de sous-réseau décimal de l’interface du masque 255 (255.255.255.255). </p> <p>Par exemple, un administrateur souhaite annoncer le sous-réseau 10.10.10.0/24 dans le protocole OSPF. Le masque de sous-réseau de cette interface Ethernet est /24 ou 255.255.255.0. Soustrayez le masque de sous-réseau du masque 255 pour obtenir le masque générique.</p> <p>Masque 255 : 255.255.255.255</p> <p>Masque de sous-réseau : -255.255.255.0</p> <p>              -----------------------</p> <p>Masque générique : 0 . 0 . 0 .255</p> <p>L’instruction OSPF <span class="cmd"><b>network</b></span> qui en résulte est :</p> <p><span class="cmd">Router(config-router)#<b>network 10.10.10.0 0.0.0.255 area 0</b></span></p></content-text>
</page>
<page type="FullScreen" id="tl1106020103">
<content-media type="ActivityCustom" id="cm9593033040">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106020000/tl1106020100/tl1106020103/cm9593033040.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106020000/tl1106020100/tl1106020103/cm9593033040text.xml"/></content-media>
<content-text><p>Exercice</p> <p><b>plein écran</b></p> <p>Déterminez le masque de sous-réseau et le masque générique nécessaires pour annoncer les adresses réseau spécifiées dans le protocole OSPF.</p></content-text>
</page>
<page type="OneColumn" id="tl1106020104">
<content-media type="ActivityLab" id="cm1456338010">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106020000/tl1106020100/tl1106020104/cm1456338010/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1106000000/tl1106020000/tl1106020100/tl1106020104/cm1456338010/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques</b></p> <p> </p> <p>Configuration d’un protocole OSPF point à point zone unique de base et vérification de la connectivité.</p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1106020200">
<title><content-text>Configuration de l’authentification OSPF</content-text></title>
<page type="OneColumn" id="tl1106020201">
<content-media type="InteractiveGraphicRollovers" id="cm3289052605">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106020000/tl1106020200/tl1106020201/cm3289052605.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106020000/tl1106020200/tl1106020201/cm3289052605text.xml"/></content-media>
<content-text><p>Comme les autres protocoles de routage, la configuration par défaut du protocole OSPF échange les informations entre voisins en texte clair. Cela représente une menace de sécurité potentielle sur un réseau. Un pirate réseau pourrait, à l’aide d’un logiciel d’analyse de paquets, capturer et lire les mises à jour OSPF et déterminer les informations du réseau. </p> <p>Pour éliminer ce problème de sécurité potentiel, il faut configurer l’authentification OSPF entre routeurs. Lorsque l’authentification est activée dans une zone, les routeurs ne partagent des informations que si les données d’authentification concordent. </p> <p>Grâce à l’<content-link target="{E408BFB6-6A11-4C17-A9B1-BF1CB6C10998}" type="glossary">authentification de mot de passe simple</content-link>, chaque routeur est configuré avec un mot de passe, appelé <content-link target="{35614868-0FEE-4958-B714-46A450EE420A}" type="glossary">clé</content-link>. Cette méthode fournit uniquement un niveau de sécurité de base, car la clé est transmise entre les routeurs sous forme de texte clair. Il est donc très simple d’afficher la clé car elle est en clair.</p> <p>Une méthode d’authentification plus sécurisée est Message Digest 5 ou MD5. Elle nécessite une clé et un <content-link target="{B16A71B7-2910-4BD5-96A5-DC6C756B83EE}" type="glossary">identificateur de clé</content-link> sur chaque routeur. Le routeur utilise un algorithme qui traite la clé, le paquet OSPF et l’ID de clé pour générer un nombre chiffré. Chaque paquet OSPF comporte ce nombre chiffré. Il est impossible d’utiliser un analyseur de paquets pour obtenir la clé car elle n’est jamais transmise.</p></content-text>
</page>
<page type="OneColumn" id="tl1106020202">
<content-media type="ActivityLab" id="cm6340372273">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106020000/tl1106020200/tl1106020202/cm6340372273/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1106000000/tl1106020000/tl1106020200/tl1106020202/cm6340372273/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques</b></p> <p> </p> <p>Configuration d’une authentification OSPF point à point zone unique à l’aide de l’algorithme MD5.</p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1106020300">
<title><content-text>Réglage des paramètres OSPF</content-text></title>
<page type="OneColumn" id="tl1106020301">
<content-media type="InteractiveGraphicHotspots" id="cm1428156155">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106020000/tl1106020300/tl1106020301/cm1428156155.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106020000/tl1106020300/tl1106020301/cm1428156155text.xml"/></content-media>
<content-text><p>En plus de procéder à la configuration de base du protocole OSPF, les administrateurs doivent souvent modifier, ou régler, certains paramètres OSPF.</p> <p>C’est par exemple le cas lorsqu’un administrateur réseau doit indiquer quels routeurs deviennent le routeur désigné et le routeur désigné de sauvegarde. Pour cela, il suffit de paramétrer la priorité de l’interface ou l’ID du routeur sur des routeurs spécifiques.</p> <p>Le routeur sélectionne le routeur désigné en fonction de la valeur la plus élevée de n’importe lequel des paramètres suivants, dans l’ordre indiqué :</p> <p>1. <b>Priorité de l’interface :</b> la priorité de l’interface est définie à l’aide de la commande <span class="cmd"><b>priority</b></span>. </p> <p>2. <b>ID du routeur :</b> l'ID du routeur est défini à l'aide de la commande de configuration <span class="cmd"><b>router-id</b></span> du protocole OSPF.</p> <p>3. <b>Adresse de bouclage la plus élevée :</b> l’interface de bouclage avec l’adresse IP la plus élevée est utilisée comme ID du routeur par défaut. Le protocole OSPF privilégie les interfaces de bouclage, car ce sont des interfaces logiques et non physiques. Les interfaces logiques sont toujours actives.</p> <p>4. <b>Adresse d’interface physique la plus élevée :</b> le routeur utilise l’adresse IP active la plus élevée de l’une de ses interfaces comme ID du routeur. Cette option pose un problème si les interfaces sont défaillantes ou reconfigurées.</p> <p>Après avoir modifié l’ID d’un routeur ou la priorité d’une interface, réinitialisez les contiguïtés voisines. Utilisez pour cela la commande <span class="cmd"><b>clear ip ospf process</b></span>. Cette commande garantit la prise en compte des nouvelles valeurs.</p></content-text>
</page>
<page type="OneColumn" id="tl1106020302">
<content-media type="ActivityLab" id="cm1807876105">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106020000/tl1106020300/tl1106020302/cm1807876105/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1106000000/tl1106020000/tl1106020300/tl1106020302/cm1807876105/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques</b></p> <p>Configuration des adresses de bouclage OSPF dans une topologie à accès multiple pour contrôler la sélection du routeur désigné et du routeur désigné de sauvegarde.</p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
<page type="OneColumn" id="tl1106020303">
<content-media type="StaticGraphic" id="cm6579486782">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106020000/tl1106020300/tl1106020303/cm6579486782.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106020000/tl1106020300/tl1106020303/cm6579486782text.xml"/></content-media>
<content-text><p>La bande passante est un autre paramètre qui a souvent besoin d’être modifié. Sur les routeurs Cisco, la valeur par défaut de la bande passante sur la plupart des interfaces série est égale à 1,544 Mbits/s, soit la vitesse d’une connexion T1. Cette bande passante détermine le coût du lien mais n’influe pas sur sa vitesse.</p> <p>Dans certains cas, une organisation reçoit une connexion <content-link target="{B6CD2A14-498F-4130-95C9-26A74B216F72}" type="glossary">T1 fractionnée</content-link> du fournisseur de services. Par exemple, une T1 fractionnée de 384 Kbits/s représente le quart d’une connexion T1 complète. Le système IOS sélectionne une valeur de bande passante T1 sur les liens série, même si l’interface n’envoie et ne reçoit réellement qu’à 384 Kbits/s. Il en résulte une sélection de chemin incorrecte, car le protocole de routage détermine que le lien est plus rapide qu’il ne l’est réellement. </p> <p>Lorsqu’une interface série ne fonctionne pas réellement à la vitesse par défaut d’une connexion T1, elle a besoin d’une modification manuelle. Les deux extrémités du lien doivent être configurées pour avoir la même valeur.</p> <p>Dans le protocole OSPF, une modification à l’aide des commandes <span class="cmd"><b>bandwidth </b></span> interface ou <span class="cmd"><b>ip ospf cost</b></span> interface permet d’obtenir le même résultat. Ces deux commandes indiquent une valeur précise qu’OSPF doit utiliser pour déterminer la meilleure route.</p> <p>La commande <span class="cmd"><b>bandwidth</b></span> modifie la valeur de bande passante utilisée pour calculer la mesure de coût OSPF. Pour modifier directement le coût d’une interface, utilisez la commande <span class="cmd"><b>ip ospf cost</b></span>.</p></content-text>
</page>
<page type="OneColumn" id="tl1106020304">
<content-media type="StaticGraphic" id="cm3154906655">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106020000/tl1106020300/tl1106020304/cm3154906655.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106020000/tl1106020300/tl1106020304/cm3154906655text.xml"/></content-media>
<content-text><p>Un autre paramètre lié à la mesure du coût OSPF est la <content-link target="{FECE0A99-14C4-4465-848C-D279D13C80D1}" type="glossary">bande passante de référence</content-link>, qui sert à calculer le coût de l’interface, également appelé coût du lien.</p> <p>La valeur de bande passante de chaque interface est calculée à l’aide de la formule 100 000 000/bande passante. 100 000 000, ou 10^8, est connu sous le nom de bande passante de référence.</p> <p>Un problème se pose avec les liens de vitesse plus élevée, comme les liens Gigabit Ethernet et 10Gbit Ethernet. L’utilisation d’une bande passante de référence de 100 000 000 a pour résultat des interfaces avec un débit de 100 Mbits/s et plus dont le coût OSPF est égal à 1. </p><p>Pour obtenir des calculs de coûts plus précis, un ajustement des valeurs de bande passante de référence peut s’avérer nécessaire. La bande passante de référence est modifiée grâce à la commande OSPF <span class="cmd"><b>auto-cost reference-bandwidth</b></span>. </p> <p>Lorsque cette commande est nécessaire, utilisez-la sur tous les routeurs afin que la mesure de routage OSPF reste cohérente. La nouvelle bande passante de référence est indiquée en Mbits/s. Pour définir la bande passante de référence à une vitesse de 10 Gbits/s, utilisez la valeur 10 000.</p></content-text>
</page>
<page type="OneColumn" id="tl1106020305">
<content-media type="ActivityLab" id="cm3347476530">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106020000/tl1106020300/tl1106020305/cm3347476530/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1106000000/tl1106020000/tl1106020300/tl1106020305/cm3347476530/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques</b></p> <p> </p> <p>Configuration du coût du lien OSPF dans une topologie point à point pour influencer les décisions de routage.</p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1106020400">
<title><content-text>Vérification du fonctionnement du protocole OSPF</content-text></title>
<page type="OneColumn" id="tl1106020401">
<content-media type="InteractiveGraphicRollovers" id="cm5945037547">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106020000/tl1106020400/tl1106020401/cm5945037547.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106020000/tl1106020400/tl1106020401/cm5945037547text.xml"/></content-media>
<content-text><p>Une fois configuré, le protocole OSPF dispose de plusieurs commandes pour vérifier son propre fonctionnement. </p> <p>Lors du dépannage de réseaux OSPF, la commande <span class="cmd"><b>show ip ospf neighbor</b></span> est utilisée pour vérifier qu’une contiguïté est bien établie entre le routeur et ses routeurs voisins. </p> <p>Si l’ID du routeur de voisinage ne s’affiche pas, ou qu’il n’indique pas l’état FULL, c’est que les deux routeurs n’ont pas établi de contiguïté OSPF. Si un routeur est un routeur DROther, la contiguïté se produit si l’état est FULL ou 2WAY.</p> <p>S’il s’agit d’un réseau Ethernet à accès multiple, les étiquettes du routeur désigné et du routeur désigné de sauvegarde s’affichent après FULL/ dans la colonne State (État).</p> <p>Deux routeurs ne peuvent pas établir une contiguïté OSPF si :</p> <p><ul><li> Les masques de sous-réseau ne correspondent pas, plaçant ainsi les routeurs sur des réseaux séparés</li><li> Les minuteurs Hello ou Dead OSPF ne correspondent pas</li><li> Les types de réseaux OSPF ne correspondent pas</li><li> La commande OSPF network est manquante ou incorrecte</li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1106020402">
<content-media type="InteractiveGraphicHotspots" id="cm7265700657">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106020000/tl1106020400/tl1106020402/cm7265700657.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106020000/tl1106020400/tl1106020402/cm7265700657text.xml"/></content-media>
<content-text><p>Plusieurs commandes <span class="cmd"><b>show</b></span> permettent également de vérifier le fonctionnement du protocole OSPF. </p> <p><span class="cmd"><b>show ip protocols</b></span></p> <p>Affiche des informations comme l’ID du routeur, les réseaux annoncés par OSPF et les adresses IP des voisins contigus.</p> <p><span class="cmd"><b>show ip ospf</b></span></p> <p>Affiche l’ID du routeur et des informations relatives au processus, aux minuteurs et aux zones OSPF. Affiche également la date de dernière exécution de l’algorithme SPF.</p> <p><span class="cmd"><b>show ip ospf interface</b></span></p> <p>Affiche des informations comme l’ID du routeur, le coût du type de réseau et les paramètres des minuteurs.</p> <p><span class="cmd"><b>show ip route</b></span></p> <p>Vérifie que chaque routeur envoie et reçoit des routes via le protocole OSPF.</p></content-text>
</page>
<page type="FullScreen" id="tl1106020403">
<content-media type="ActivityMCSACheckbox" id="cm4218868718">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106020000/tl1106020400/tl1106020403/cm4218868718.swf" mime="shockwave/flash" scale="true" type="file" width="100%" height="100%" external="tl1106000000/tl1106020000/tl1106020400/tl1106020403/cm4218868718text.xml"/></content-media>
<content-text><p>Exercice</p> <p><b>plein écran</b></p> <p>Utilisez les résultats d’une commande <span class="cmd">show ip route</span> provenant d’un routeur OSPF pour répondre aux questions.</p></content-text>
</page>
<page type="OneColumn" id="tl1106020404">
<content-media type="ActivityLab" id="cm5971006760">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106020000/tl1106020400/tl1106020404/cm5971006760/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1106000000/tl1106020000/tl1106020400/tl1106020404/cm5971006760/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques</b></p> <p>Configuration et vérification des réseaux OSPF point à point et à accès multiple, y compris le réglage des paramètres.</p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1106030000">
<title><content-text>Utilisation de plusieurs protocoles de routage</content-text></title>
<topic type="" id="tl1106030100">
<title><content-text>Configuration et propagation d’une route par défaut</content-text></title>
<page type="OneColumn" id="tl1106030101">
<content-media type="StaticGraphic" id="cm8101555531">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106030000/tl1106030100/tl1106030101/cm8101555531.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106030000/tl1106030100/tl1106030101/cm8101555531text.xml"/></content-media>
<content-text><p>La plupart des réseaux se connectent à d’autres réseaux via Internet. Le protocole OSPF fournit des informations de routage sur les réseaux dans un système autonome. Il doit également fournir des informations sur la manière d’atteindre des réseaux extérieurs au système autonome. </p> <p>Les administrateurs configurent parfois des routes statiques sur certains routeurs pour fournir des informations qui ne sont pas reçues par le biais d’un protocole de routage. La configuration de routes statiques sur tous les routeurs d’un grand réseau est fastidieuse. Une méthode plus simple consiste à configurer une route par défaut qui pointe sur la connexion Internet d’un réseau. </p> <p>Avec le protocole OSPF, un administrateur configure cette route sur un routeur ASBR (Autonomous System Boundary Router). Ce routeur ASBR est également appelé Autonomous System Border Router. Le routeur ASBR connecte le réseau OSPF à un réseau extérieur. Dès que la route par défaut est entrée dans la table de routage du routeur ASBR, elle peut être configurée pour annoncer ce chemin au reste du réseau OSPF. Ce processus informe chaque routeur au sein du système autonome de la route par défaut, et épargne à l’administrateur le travail de configuration de routes statiques sur chaque routeur du réseau.</p></content-text>
</page>
<page type="OneColumn" id="tl1106030102">
<content-media type="AnimationPartialScreen" id="cm3252381449">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106030000/tl1106030100/tl1106030102/cm3252381449.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106030000/tl1106030100/tl1106030102/cm3252381449text.xml"/></content-media>
<content-text><p>Pour configurer un routeur afin de distribuer une route par défaut sur le réseau OSPF, effectuez les deux étapes qui suivent.</p> <p><b>Étape 1 :</b></p> <p>Configuration du routeur ASBR avec une route par défaut </p> <p><span class="cmd">R1(config)#<b>ip route 0.0.0.0 0.0.0.0 serial 0/0/0</b></span></p> <p>L’instruction de route statique par défaut peut spécifier une interface ou l’adresse IP du tronçon suivant.</p> <p><b>Étape 2 : </b></p> <p>Configuration du routeur ASBR pour propager la route par défaut sur d’autres routeurs Par défaut, le protocole OSPF n’insère pas la route par défaut dans ses annonces même si cette route existe dans sa table de routage. </p> <span class="cmd"><p>R1(config)#<b>router ospf 1</b></p></span> <span class="cmd"><p>R1(config-router)#<b>default-information originate</b></p></span> <p>Les tables de routage des autres routeurs du domaine OSPF doivent maintenant disposer d’une passerelle de dernier recours et d’une entrée sur le réseau 0.0.0.0 /0 dans leurs tables de routage. La route par défaut s’insère dans le domaine OSPF afin d’apparaître comme route de type externe (<content-link target="{30449A9A-AD94-4BAC-88A9-288AAB1ACC09}" type="glossary">E2</content-link>) dans les tables de routage des autres routeurs. </p></content-text>
</page>
<page type="OneColumn" id="tl1106030103">
<content-media type="ActivityLab" id="cm1943245379">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106030000/tl1106030100/tl1106030103/cm1943245379/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1106000000/tl1106030000/tl1106030100/tl1106030103/cm1943245379/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques</b></p> <p> </p> <p>Configuration d’une route par défaut OSPF et propagation vers les autres routeurs dans la zone OSPF par le biais du protocole de routage.</p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1106030200">
<title><content-text>Configuration du résumé OSPF</content-text></title>
<page type="OneColumn" id="tl1106030201">
<content-media type="StaticGraphic" id="cm8036987692">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106030000/tl1106030200/tl1106030201/cm8036987692.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106030000/tl1106030200/tl1106030201/cm8036987692text.xml"/></content-media>
<content-text><p>Le résumé de routage est une méthode permettant de réduire le nombre de mises à jour de routage et la taille des tables de routage OSPF. Les routes peuvent être résumées dans OSPF ou entre zones dans le même réseau OSPF.</p> <p>Pour faciliter le résumé OSPF, groupez les adresses IP dans une zone du réseau. Par exemple, dans une zone OSPF unique, allouez quatre segments de réseau contigus, comme ceci : </p> <p><ul><li> 192.168.0.0/24</li><li> 192.168.1.0/24</li><li> 192.168.2.0/24</li><li> 192.168.3.0/24</li></ul></p> <p>Il est possible de résumer et d’annoncer les quatre réseaux comme un seul super-réseau 192.168.0.0 /22. Cette méthode permet de réduire le nombre de réseaux annoncés dans tout le domaine OSPF. Elle permet également de réduire les besoins en mémoire et le nombre d’entrées dans les mises à jour du routeur. </p> <p>Par ailleurs, les résumés du routage réduisent le risque de routes instables. L’instabilité fait référence à une route qui passe constamment de l’état actif à inactif. Par défaut, à chaque fois qu’une route devient instable, une LSU est propagée dans tout le domaine. Cela peut entraîner un trafic important et une surcharge de traitement. </p> <p>Lorsqu’un routeur utilise un résumé du routage, il se sert d’une adresse unique de super-réseau pour représenter plusieurs routes. Seule une des routes comprises dans le résumé doit réellement être active pour que le routeur annonce le résumé du routage. Si une ou plusieurs routes sont instables, le routeur continue à annoncer le résumé du routage le plus stable uniquement. Il ne transmet pas les mises à jour concernant les routes individuelles. Tout paquet transféré à la route instable alors que celle-ci est inactive sera simplement abandonné sur le routeur de résumé. </p> <p>Pour configurer un routeur ABR OSPF afin de résumer ces réseaux en une autre zone OSPF, lancez la commande suivante en mode de configuration de routeur :</p> <p><span class="cmd"><b>area </b><i>ID_zone </i><b>range </b><i>adresse_IP masque_adresse_IP</i></span></p> <p>Indiquez la zone dans laquelle sont résumés les réseaux ainsi que le numéro du réseau de démarrage et le masque de résumé.</p></content-text>
</page>
<page type="OneColumn" id="tl1106030202">
<content-media type="ActivityLab" id="cm9742929888">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106030000/tl1106030200/tl1106030202/cm9742929888/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1106000000/tl1106030000/tl1106030200/tl1106030202/cm9742929888/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques</b></p> <p> </p> <p>Configuration du résumé OSPF pour réduire les mises à jour de routage.</p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1106030300">
<title><content-text>Problèmes et limites du protocole OSPF</content-text></title>
<page type="OneColumn" id="tl1106030301">
<content-media type="StaticGraphic" id="cm5389525712">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106030000/tl1106030300/tl1106030301/cm5389525712.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106030000/tl1106030300/tl1106030301/cm5389525712text.xml"/></content-media>
<content-text><p>OSPF est un protocole de routage évolutif. Il a la capacité de converger rapidement et de fonctionner dans de très grands réseaux. Il existe cependant quelques problèmes à prendre en compte lors de son utilisation.</p> <p>Le protocole OSPF doit tenir à jour plusieurs bases de données, et nécessite par conséquent davantage de mémoire de routeur et de ressources processeur que les protocoles de routage à vecteur de distance. </p> <p>L’algorithme Dijkstra requiert des cycles processeur pour calculer le meilleur chemin. Si le réseau OSPF est complexe et instable, l’algorithme consomme d’importantes ressources lors de recalculs fréquents. Les routeurs exécutant le protocole OSPF sont généralement plus puissants et plus onéreux.</p> <p>Afin d’éviter une utilisation excessive des ressources du routeur, utilisez une conception hiérarchique stricte pour scinder le réseau en zones plus petites. Toutes les zones doivent entretenir une connectivité avec la zone 0. Sinon, elles risquent de perdre leur connectivité avec d’autres zones.</p> <p>Le protocole OSPF peut s’avérer difficile à configurer si le réseau est grand et que sa conception est complexe. En outre, l’interprétation des informations contenues dans les bases de données et les tables de routage OSPF requièrent de bonnes connaissances techniques.</p> <p>Pendant le processus de détection initiale, le protocole OSPF peut diffuser des LSA sur le réseau et fortement limiter la quantité de données pouvant être acheminées par le réseau. L’inondation de grands réseaux comportant de nombreux routeurs et une faible bande passante diminue de manière significative leur débit.</p> <p>Malgré ses problèmes et limites, OSPF reste toujours le protocole à état de liens le plus utilisé au sein d’une entreprise.</p></content-text>
</page>
</topic>
<topic type="" id="tl1106030400">
<title><content-text>Utilisation de plusieurs protocoles dans l’entreprise</content-text></title>
<page type="OneColumn" id="tl1106030401">
<content-media type="StaticGraphic" id="cm4731696632">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106030000/tl1106030400/tl1106030401/cm4731696632.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106030000/tl1106030400/tl1106030401/cm4731696632text.xml"/></content-media>
<content-text><p>Les organisations peuvent, pour différentes raisons, choisir différents protocoles de routage.</p> <p><ul><li> Un administrateur réseau peut choisir différents protocoles de routage pour différentes sections d’un réseau, en fonction de l’équipement <content-link target="{71819E21-0398-4E62-9E34-3BDE399BECDE}" type="glossary">traditionnel</content-link> ou des ressources disponibles.</li><li> Deux entreprises qui fusionnent peuvent avoir configuré leurs réseaux à l’aide de protocoles différents, mais avoir quand même besoin de communiquer entre elles.</li></ul></p> <p>Lorsqu’il existe plusieurs protocoles de routage sur un seul routeur, ce dernier peut reconnaître une destination à partir de plusieurs sources. Le routeur doit disposer d’une méthode prévisible lui permettant de choisir la route à afficher comme chemin le plus souhaitable, et de la placer dans la table de routage.</p></content-text>
</page>
<page type="OneColumn" id="tl1106030402">
<content-media type="StaticGraphic" id="cm8366432757">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106030000/tl1106030400/tl1106030402/cm8366432757.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106030000/tl1106030400/tl1106030402/cm8366432757text.xml"/></content-media>
<content-text><p>Lorsqu’un routeur prend connaissance d’un réseau unique à partir de plusieurs sources, il utilise la distance administrative (<content-link target="{9CEE02B3-B818-4CEA-A634-0E03E843ABF3}" type="glossary">DA</content-link>) pour déterminer sa route préférée. Le logiciel Cisco IOS attribue une distance administrative à toutes les méthodes d’information de routage.</p> <p>Si un routeur prend connaissance d’un sous-réseau particulier par le biais des protocoles RIP et OSPF, la route apprise par OSPF est celle qu’il choisit pour la table de routage. En effet, sa distance administrative est plus petite et, par conséquent, plus souhaitable. Le code au début de l’entrée de la table de routage indique la source de la route, ou la manière dont elle a été apprise. Chaque code est associé à une distance administrative spécifique.</p></content-text>
</page>
<page type="FullScreen" id="tl1106030403">
<content-media type="ActivityDnDSnapback" id="cm3700418761">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106030000/tl1106030400/tl1106030403/cm3700418761.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106030000/tl1106030400/tl1106030403/cm3700418761text.xml"/></content-media>
<content-text><p>Exercice</p> <p><b>plein écran</b></p> <p>Analysez la table de routage et déterminez l’origine de la route, la distance administrative et la mesure.</p> <p>Utilisez les informations de la commande <span class="cmd">show ip route</span> comme référence. Toutes les réponses ne sont pas utilisées, et certaines le sont plus d’une fois.</p></content-text>
</page>
<page type="OneColumn" id="tl1106030404">
<content-media type="StaticGraphic" id="cm7225795558">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106030000/tl1106030400/tl1106030404/cm7225795558.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106030000/tl1106030400/tl1106030404/cm7225795558text.xml"/></content-media>
<content-text><p>Si deux réseaux ont les mêmes adresse de base et masque de sous-réseau, un routeur les considère comme identiques. Il considère un réseau résumé, ainsi qu’un réseau individuel faisant partie de ce résumé, comme des réseaux différents.</p> <p>Le réseau résumé 192.168.0.0/22 et le réseau individuel 192.168.1.0 /24 constituent des entrées différentes, même si le résumé inclut le réseau individuel. Lorsque cette situation se produit, les deux réseaux sont placés dans la table de routage. La décision de la route à utiliser revient à l’entrée possédant la correspondance de préfixe la plus proche ou la plus longue.</p> <p>Par exemple, un routeur reçoit un paquet avec l’adresse IP de destination 172.16.0.10. Trois routes possibles correspondent à ce paquet : 172.16.0.0/12, 172.16.0.0/18 et 172.16.0.0/26. La route 172.16.0.0/26 est celle qui possède la plus longue correspondance. Pour qu’une route soit considérée comme une correspondance, celle-ci doit posséder au minimum le nombre de bits identiques indiqués par le masque de sous-réseau de la route. </p></content-text>
</page>
<page type="FullScreen" id="tl1106030405">
<content-media type="ActivityMCSACheckbox" id="cm5870062209">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106030000/tl1106030400/tl1106030405/cm5870062209.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106030000/tl1106030400/tl1106030405/cm5870062209text.xml"/></content-media>
<content-text><p>Exercice</p> <p><b>plein écran</b></p> <p>Sélectionnez une route que prendrait le paquet vers chaque réseau de destination. </p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="tl1106040000">
<title><content-text>Résumé du chapitre</content-text></title>
<topic type="" id="tl1106040100">
<title><content-text>Résumé</content-text></title>
<page type="FullScreen" id="tl1106040101">
<content-media type="ChapterSummary" id="cm6524942082">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106040000/tl1106040100/tl1106040101/cm6524942082.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106040000/tl1106040100/tl1106040101/cm6524942082text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
<topic type="" id="tl1106040200">
<title><content-text>Pensées critiques</content-text></title>
<page type="FullScreen" id="tl1106040201">
<content-media type="ActivityCustom" id="cm2002004953">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106040000/tl1106040200/tl1106040201/cm2002004953.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1106000000/tl1106040000/tl1106040200/tl1106040201/cm2002004953text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="tl1106050000">
<title><content-text>Questionnaire du chapitre</content-text></title>
<topic type="" id="tl1106050100">
<title><content-text>Questionnaire</content-text></title>
<page type="OneColumn" id="tl1106050101">
<content-media type="ChapterQuiz" id="cm7457525206">	<title><content-text></content-text></title>	<media ref="tl1106000000/tl1106050000/tl1106050100/tl1106050101/cm7457525206/" mime="" scale="true" type="directory" width="100%" height="100%" external="tl1106000000/tl1106050000/tl1106050100/tl1106050101/cm7457525206/icontext.xml"/></content-media>
<content-text><p>Répondez au questionnaire de ce chapitre pour tester vos connaissances.</p><p><b>Cliquez sur l’icône du questionnaire pour commencer.</b></p></content-text>
</page>
</topic>
</section>
</chapter>
