<chapter type="" id="tl1108000000">
<title><content-text>Filtrage du trafic à l’aide des listes de contrôle d’accès</content-text></title>
<section type="ChapterIntroduction" id="tl1108000000">
<title><content-text>Présentation du chapitre</content-text></title>
<topic type="" id="tl1108000100">
<title><content-text>Présentation</content-text></title>
<page type="FullScreen" id="tl1108000101">
<content-media type="ChapterIntroduction" id="cm8992633066">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108000000/tl1108000100/tl1108000101/cm8992633066.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108000000/tl1108000100/tl1108000101/cm8992633066text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
<section type="" id="tl1108010000">
<title><content-text>Utilisation des listes de contrôle d’accès</content-text></title>
<topic type="" id="tl1108010100">
<title><content-text>Filtrage du trafic</content-text></title>
<page type="OneColumn" id="tl1108010101">
<content-media type="StaticGraphic" id="cm1998541638">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108010000/tl1108010100/tl1108010101/cm1998541638.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108010000/tl1108010100/tl1108010101/cm1998541638text.xml"/></content-media>
<content-text><p>Au sein d’un réseau d’entreprise, la sécurité est primordiale. Il est important de refuser l’accès aux utilisateurs non autorisés et de protéger le réseau contre diverses attaques, notamment les attaques par déni de service. Les utilisateurs non autorisés peuvent modifier, détruire ou dérober des données sensibles qui se trouvent sur les serveurs. Les attaques par déni de service empêchent les utilisateurs autorisés d’accéder aux installations. Ces deux situations engendrent une perte de temps et d’argent pour l’entreprise.</p> <p>Grâce au <content-link target="{8B208DA8-1C7A-4E2A-B511-45459D4A4094}" type="glossary">filtrage de trafic</content-link>, un administrateur peut contrôler le trafic sur divers segments du réseau. Le filtrage consiste à analyser le contenu d’un paquet afin de déterminer si ce paquet doit être autorisé ou bloqué.</p> <p>Le filtrage des paquets peut être simple ou complexe et autoriser ou refuser le trafic en fonction :</p> <p><ul><li> de l’adresse IP source ;</li><li> de l’adresse IP de destination ;</li><li> des adresses MAC ;</li><li> des protocoles ; </li><li> du type d’application.</li></ul></p> <p>Le filtrage des paquets peut être comparé au filtrage des courriels indésirables. De nombreuses applications de messagerie permettent à l’utilisateur de modifier la configuration afin de supprimer automatiquement le courriel provenant d’une adresse source particulière. Le filtrage des paquets peut être effectué de la même façon en configurant un routeur qui identifiera le trafic indésirable.</p> <p>Le filtrage du trafic permet d’améliorer les performances du réseau. Lorsque le trafic indésirable ou limité est bloqué près de la source, il ne transite pas sur un réseau et ne consomme pas des ressources précieuses.</p></content-text>
</page>
<page type="OneColumn" id="tl1108010102">
<content-media type="StaticGraphic" id="cm5277659696">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108010000/tl1108010100/tl1108010102/cm5277659696.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108010000/tl1108010100/tl1108010102/cm5277659696text.xml"/></content-media>
<content-text><p>Les périphériques les plus souvent utilisés pour filtrer le trafic sont :</p> <p><ul><li> des pare-feu inclus dans des routeurs intégrés ;</li><li> des appareils de sécurité dédiés ;</li><li> des serveurs.</li></ul></p> <p>Certains périphériques filtrent uniquement le trafic provenant du réseau interne. Les appareils de sécurité plus sophistiqués reconnaissent et filtrent les types d’attaques connus provenant de sources externes. </p> <p>Les routeurs d’entreprise détectent le trafic malveillant et l’empêchent d’accéder au réseau et de l’endommager. La grande majorité des routeurs filtrent le trafic en fonction des adresses IP source et de destination des paquets. Ils filtrent également sur des applications spécifiques et des protocoles tels que IP, TCP, HTTP, FTP et Telnet.</p></content-text>
</page>
</topic>
<topic type="" id="tl1108010200">
<title><content-text>Listes de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1108010201">
<content-media type="StaticGraphic" id="cm2924358541">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108010000/tl1108010200/tl1108010201/cm2924358541.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108010000/tl1108010200/tl1108010201/cm2924358541text.xml"/></content-media>
<content-text><p>L’une des méthodes de filtrage du trafic les plus courantes est l’utilisation des listes de contrôle d’accès (ou ACL). Les listes de contrôle d’accès permettent de gérer et de filtrer le trafic qui entre dans un réseau ainsi que celui qui en sort. </p> <p>Une liste de contrôle d’accès peut ne contenir qu’une seule instruction qui autorise ou refuse le trafic d’une source unique comme elle peut compter des centaines d’instructions qui autorisent ou refusent des paquets provenant de sources multiples. Les listes de contrôle d’accès servent principalement à identifier les types de paquets à accepter ou à refuser. </p> <p>Les listes de contrôle d’accès identifient le trafic pour divers motifs, notamment : </p> <p><ul><li> la spécification d’hôtes internes pour la fonction NAT ;</li><li> l’identification ou la classification du trafic pour des fonctions avancées telles que la qualité de service et la mise en file d’attente ;</li><li> la limitation du contenu des mises à jour de routage ; </li><li> la limitation du résultat du débogage ; </li><li> le contrôle de l’accès au terminal virtuel des routeurs.</li></ul></p> <p>L’utilisation des listes de contrôle d’accès peut engendrer les problèmes suivants :</p> <p><ul><li> La charge supplémentaire sur le routeur découlant de la vérification de tous les paquets réduit le temps disponible pour le transfert de ces paquets.</li><li> Des listes de contrôle d’accès mal conçues augmentent encore plus la charge sur le routeur, pouvant provoquer une interruption du réseau.</li><li> Des listes de contrôle d’accès mal positionnées peuvent bloquer le trafic qui devrait être autorisé et autoriser le trafic qui devrait être bloqué.</li></ul></p></content-text>
</page>
</topic>
<topic type="" id="tl1108010300">
<title><content-text>Types et utilisation des listes de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1108010301">
<content-media type="StaticGraphic" id="cm8159538574">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108010000/tl1108010300/tl1108010301/cm8159538574.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108010000/tl1108010300/tl1108010301/cm8159538574text.xml"/></content-media>
<content-text><p>Lorsqu’il crée des listes de contrôle d’accès, un administrateur réseau dispose de plusieurs options. La complexité des directives de conception détermine le type de liste de contrôle d’accès requis. </p> <p>Il existe trois types de listes de contrôle d’accès :</p> <p><b>Listes de contrôle d’accès standard</b></p> <p>La <content-link target="{66733A04-083C-4B5F-8B39-63B1E3C57ADE}" type="glossary">liste de contrôle d’accès standard</content-link> constitue le type le plus simple. Lors de la création d’une liste de contrôle d’accès IP standard, le filtre est basé sur l’adresse IP source d’un paquet. L’autorisation ou le refus engendré par les listes de contrôle d’accès standard est basé sur l’intégralité du protocole, par exemple l’IP. Ainsi, si un refus est signalé à un périphérique hôte par une liste de contrôle d’accès standard, tous les services de cet hôte sont refusés. Ce type de liste de contrôle d’accès est utile lorsque vous souhaitez autoriser tous les services d’un utilisateur ou d’un réseau local spécifique à traverser un routeur tout en refusant l’accès aux autres adresses IP. Les listes de contrôle d’accès standard sont identifiées par le numéro qu’elles se voient attribuer. Pour les listes d’accès autorisant ou refusant le trafic IP, le numéro d’identification est compris entre 1 et 99 et entre 1 300 et 1 999.</p> <p><b>Listes de contrôle d’accès étendues</b></p> <p>Les <content-link target="{88A2ED82-B33C-40C1-8142-EA0BF8E9ACF7}" type="glossary">listes de contrôle d’accès étendues</content-link> filtrent non seulement sur l’adresse IP source, mais également sur l’adresse IP de destination, le protocole et les numéros de port. Les listes de contrôle d’accès étendues sont plus utilisées que les listes standard car elles sont plus spécifiques et offrent un meilleur contrôle. Les numéros des listes de contrôle d’accès étendues vont de 100 à 199 et de 2 000 à 2 699.</p> <p><b>Listes de contrôle d’accès nommées</b></p> <p>Les listes de contrôle d’accès nommées (<content-link target="{49821333-2220-461F-8D42-64923AEDF724}" type="glossary">NACL</content-link>) sont des listes standard ou étendues désignées par un nom descriptif et non par un numéro. Lorsque vous configurez des listes de contrôle d’accès nommées, l’IOS du routeur utilise un mode de sous-commande de liste de contrôle d’accès nommée.</p></content-text>
</page>
<page type="FullScreen" id="tl1108010302">
<content-media type="ActivityMCSACheckbox" id="cm4041823544">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108010000/tl1108010300/tl1108010302/cm4041823544.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108010000/tl1108010300/tl1108010302/cm4041823544text.xml"/></content-media>
<content-text><p><b>Exercice</b></p> <p>Indiquez si la caractéristique décrit une liste de contrôle d’accès standard, étendue ou nommée.</p></content-text>
</page>
</topic>
<topic type="" id="tl1108010400">
<title><content-text>Traitement des listes de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1108010401">
<content-media type="AnimationPartialScreen" id="cm2596070214">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108010000/tl1108010400/tl1108010401/cm2596070214.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108010000/tl1108010400/tl1108010401/cm2596070214text.xml"/></content-media>
<content-text><p>Les listes de contrôle d’accès comprennent une ou plusieurs instructions. Chaque instruction <content-link target="{4AB2F91D-D25F-412C-BA06-4342135673C9}" type="glossary">autorise</content-link> le trafic ou provoque le <content-link target="{A784A5C4-36B1-44C6-969A-46D6B6DD5AF9}" type="glossary">refus</content-link> de celui-ci en fonction des paramètres spécifiés. Le trafic est comparé de façon séquentielle à chaque instruction de la liste de contrôle d’accès jusqu’à ce qu’une correspondance soit détectée ou jusqu’à la dernière instruction. </p> <p>La dernière instruction d’une liste de contrôle d’accès est toujours une instruction <content-link target="{7ABBB5CB-A55E-496C-A740-4184A4F358E0}" type="glossary">implicit deny</content-link>. Cette instruction est automatiquement ajoutée à la fin de chaque liste de contrôle d’accès, même si elle n’est pas physiquement présente. L’instruction implicit deny bloque l’ensemble du trafic. Cette fonction empêche l’arrivée accidentelle d’un trafic indésirable.</p> <p>Une fois que vous avez créé la liste de contrôle d’accès, vous devez l’appliquer à une interface pour qu’elle devienne active. La liste de contrôle d’accès traite le trafic en entrée ou en sortie de l’interface. Si un paquet correspond à une instruction permit, il est autorisé à entrer dans le routeur ou à en sortir. S’il correspond à une instruction deny, il s’arrête là. Une liste de contrôle d’accès qui ne compte pas au moins une instruction permit bloque l’ensemble du trafic. En effet, toutes les listes de contrôle d’accès se terminent par une instruction implicit deny. Une liste de contrôle d’accès refuse ainsi tout trafic qui n’a pas été spécifiquement autorisé.</p></content-text>
</page>
<page type="OneColumn" id="tl1108010402">
<content-media type="AnimationDual" id="cm9833473252">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108010000/tl1108010400/tl1108010402/cm9833473252.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108010000/tl1108010400/tl1108010402/cm9833473252text.xml"/></content-media>
<content-text><p>Un administrateur applique à une interface de routeur une liste de contrôle d’accès entrante ou sortante. La direction (entrée ou sortie) est toujours exprimée par rapport au routeur. Le trafic arrivant sur une interface est considéré comme entrant et le trafic sortant d’une interface comme sortant.</p> <p>Lorsqu’un paquet arrive sur une interface, le routeur vérifie les paramètres suivants :</p> <p><ul><li> Une liste de contrôle d’accès est-elle associée à l’interface ?</li><li> La liste de contrôle d’accès est-elle entrante ou sortante ?</li><li> Le trafic correspond-il aux critères d’autorisation ou de refus ?</li></ul></p> <p>Une liste de contrôle d’accès appliquée à une interface en sortie n’a pas d’effet sur le trafic entrant sur cette interface.</p> <p>Chaque interface d’un routeur ne peut disposer que d’une seule liste de contrôle d’accès par direction pour chaque protocole réseau. Pour le protocole IP, une interface peut disposer simultanément d’une liste de contrôle d’accès entrante et d’une liste sortante. </p> <p>Les listes de contrôles d’accès appliquées à une interface ajoutent de la latence au trafic. Une seule liste de contrôle d’accès, si elle est longue, peut même affecter les performances du routeur.</p></content-text>
</page>
<page type="FullScreen" id="tl1108010403">
<content-media type="ActivityMCSACheckbox" id="cm9629498171">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108010000/tl1108010400/tl1108010403/cm9629498171.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108010000/tl1108010400/tl1108010403/cm9629498171text.xml"/></content-media>
<content-text><p><b>Exercice</b></p> <p>Indiquez si le paquet est autorisé ou refusé en fonction de l’adresse IP source, de l’interface et de la direction. </p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1108020000">
<title><content-text>Utilisation d’un masque générique</content-text></title>
<topic type="" id="tl1108020100">
<title><content-text>Fonction et structure d’un masque générique dans une liste de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1108020101">
<content-media type="StaticGraphic" id="cm6353663169">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108020000/tl1108020100/tl1108020101/cm6353663169.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108020000/tl1108020100/tl1108020101/cm6353663169text.xml"/></content-media>
<content-text><p>Les listes de contrôle d’accès simples ne permettent d’indiquer qu’une seule adresse autorisée ou refusée. Pour bloquer plusieurs adresses ou des plages d’adresses, vous devez utiliser soit plusieurs instructions soit un masque générique. L’utilisation d’une adresse réseau IP avec un masque générique vous offre beaucoup plus de souplesse. Un masque générique permet de bloquer une plage d’adresses ou un réseau entier en une seule instruction. </p> <p>Un masque générique utilise des 0 pour indiquer la partie d’une adresse IP qui doit exactement correspondre et des 1 pour indiquer la partie d’une adresse IP qui ne doit pas correspondre à un nombre donné.</p> <p>Si le masque générique est 0.0.0.0, une correspondance exacte doit se trouver sur les 32 bits de l’adresse IP. Ce masque équivaut à utiliser le paramètre <span class="cmd"><b><i>host</i></b></span>.</p></content-text>
</page>
<page type="OneColumn" id="tl1108020102">
<content-media type="InteractiveGraphicHotspots" id="cm6655017790">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108020000/tl1108020100/tl1108020102/cm6655017790.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108020000/tl1108020100/tl1108020102/cm6655017790text.xml"/></content-media>
<content-text><p>Le masque générique utilisé avec les listes de contrôle d’accès fonctionne de la même façon que celui utilisé dans le protocole de routage OSPF. La fonction de chaque masque est cependant différente. Dans le cas d’instructions de liste de contrôle d’accès, le masque générique spécifie un hôte ou une plage d’adresses à autoriser ou refuser. </p> <p>Lorsque vous créez une instruction de liste de contrôle d’accès, l’adresse IP et le masque générique deviennent des champs de comparaison. Tous les paquets qui entrent sur une interface ou qui en sortent sont comparés à chaque instruction de la liste de contrôle d’accès afin de rechercher une correspondance. Le masque générique détermine le nombre de bits de l’adresse IP entrante qui correspondent à l’adresse de comparaison.</p> <p>Par exemple, l’instruction suivante autorise tous les hôtes du réseau 192.168.1.0 et bloque tous les autres :</p> <p><span class="cmd"><b>access-list 1 permit 192.168.1.0 0.0.0.255</b></span></p> <p>Le masque générique indique que seuls les trois premiers octets doivent correspondre. Ainsi, si les 24 premiers bits du paquet entrant correspondent aux 24 premiers bits du champ de comparaison, le paquet est autorisé. Tout paquet dont l’adresse IP source se trouve entre 192.168.1.1 et 192.168.1.255 correspond à l’adresse de comparaison et à la combinaison de masque données en exemple. Tous les autres paquets sont refusés, du fait de l’instruction implicite de liste de contrôle d’accès <span class="cmd"><b>deny any</b></span>.</p></content-text>
</page>
<page type="FullScreen" id="tl1108020103">
<content-media type="ActivityCustom" id="cm7764937634">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108020000/tl1108020100/tl1108020103/cm7764937634.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108020000/tl1108020100/tl1108020103/cm7764937634text.xml"/></content-media>
<content-text><p><b>Exercice</b> plein écran</p> <p>Déterminez le masque générique pour chaque objectif de l’instruction de liste de contrôle d’accès. </p></content-text>
</page>
</topic>
<topic type="" id="tl1108020200">
<title><content-text>Analyse des effets du masque générique</content-text></title>
<page type="OneColumn" id="tl1108020201">
<content-media type="StaticGraphic" id="cm8825868562">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108020000/tl1108020200/tl1108020201/cm8825868562.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108020000/tl1108020200/tl1108020201/cm8825868562text.xml"/></content-media>
<content-text><p>Lorsque vous créez une liste de contrôle d’accès, vous pouvez remplacer un masque générique par deux paramètres spéciaux : host et any. </p> <p><b>Paramètre host</b></p> <p>Pour filtrer un hôte spécifique, vous pouvez utiliser le masque générique 0.0.0.0 après l’adresse IP ou le paramètre host avant l’adresse IP. </p> <p><span class="cmd">R1(config)<b>#access-list 9 deny 192.168.15.99 0.0.0.0</b></span></p> <p>est identique à :</p> <p><span class="cmd">R1(config)<b>#access-list 9 deny host 192.168.15.99</b></span></p> <p><b>Paramètre any</b></p> <p>Pour filtrer tous les hôtes, vous pouvez utiliser le paramètre composé uniquement de 1 en définissant 255.255.255.255 comme masque générique. Lorsque vous utilisez 255.255.255.255 comme masque générique, tous les bits sont considérés comme des correspondances. L’adresse IP est donc généralement représentée ainsi : 0.0.0.0. Pour filtrer tous les hôtes, vous pouvez également utiliser le paramètre any.</p> <p><span class="cmd">R1(config)<b>#access-list 9 permit 0.0.0.0 255.255.255.255</b></span></p> <p>est identique à :</p> <p><span class="cmd">R1(config)<b>#access-list 9 permit any</b></span></p> <p>Prenons l’exemple suivant où un hôte spécifique est refusé et où tous les autres sont autorisés :</p> <p><span class="cmd">R1(config)<b>#access-list 9 deny host 192.168.15.99</b></span></p> <p><span class="cmd">R1(config)<b>#access-list 9 permit any</b></span></p> <p>La commande permit any autorise tout trafic qui n’est pas refusé de façon spécifique dans la liste de contrôle d’accès. Une fois la configuration terminée, aucun paquet n’atteindra la commande implicite <span class="cmd"><b>deny any</b></span> à la fin de la liste de contrôle d’accès.</p></content-text>
</page>
<page type="OneColumn" id="tl1108020202">
<content-media type="StaticGraphic" id="cm5437224040">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108020000/tl1108020200/tl1108020202/cm5437224040.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108020000/tl1108020200/tl1108020202/cm5437224040text.xml"/></content-media>
<content-text><p>Dans un réseau d’entreprise ayant un schéma d’adressage IP hiérarchique, il est souvent nécessaire de filtrer le trafic de sous-réseau.</p> <p>Si 3 bits sont utilisés pour créer des sous-réseaux à partir du réseau 192.168.77.0, le masque de sous-réseau est 255.255.255.224. Si le masque de sous-réseau est soustrait du masque constitué uniquement de 255, le masque générique est 0.0.0.31. Pour autoriser les hôtes du sous-réseau 192.168.77.32, l’instruction de liste de contrôle d’accès est la suivante : </p> <p><span class="cmd"><b>access-list 44 permit 192.168.77.32 0.0.0.31</b></span></p> <p>Les 27 premiers bits de chaque paquet correspondent aux 27 premiers bits de l’adresse de comparaison. Cette instruction autorise toutes les adresses comprises entre 192.168.77.33 et 192.168.77.63, ce qui correspond à la plage de toutes les adresses du sous-réseau 192.168.77.32.</p></content-text>
</page>
<page type="OneColumn" id="tl1108020203">
<content-media type="StaticGraphic" id="cm4668124258">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108020000/tl1108020200/tl1108020203/cm4668124258.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108020000/tl1108020200/tl1108020203/cm4668124258text.xml"/></content-media>
<content-text><p>Créer des masques génériques adéquats pour les instructions de liste de contrôle d’accès vous offre le contrôle nécessaire afin de mieux gérer le flux de trafic. Filtrer différents trafics de sous-réseau constitue le concept le plus difficile à assimiler pour les débutants.</p> <p>Le réseau 192.168.77.0, avec comme masque de sous-réseau 255.255.255.192 ou /26, crée les quatre sous-réseaux suivants :</p> <p>192.168.77.0/26</p> <p>192.168.77.64/26</p> <p>192.168.77.128/26</p> <p>192.168.77.192/26</p> <p>Pour créer une liste de contrôle d’accès en vue de filtrer l’un de ces quatre sous-réseaux, vous devez soustraire le masque de sous-réseau 255.255.255.192 du masque constitué uniquement de 255, ce qui donne comme masque générique : 0.0.0.63. Pour autoriser le trafic provenant des deux premiers sous-réseaux, utilisez deux instructions de liste de contrôle d’accès : </p> <span class="cmd"><p><b>access-list 55 permit 192.168.77.0 0.0.0.63</b></p></span> <span class="cmd"><p><b>access-list 55 permit 192.168.77.64 0.0.0.63</b></p></span> <p>Les deux premiers réseaux sont également résumés comme 192.168.77.0/25. Si le masque de sous-réseau résumé 255.255.255.128 est soustrait du masque constitué uniquement de 255, le masque générique est 0.0.0.127. Ce masque permet de regrouper ces deux sous-réseaux en une seule instruction de liste de contrôle d’accès plutôt que deux.</p> <p><span class="cmd"><b>access-list 5 permit 192.168.77.0 0.0.0.127</b></span></p></content-text>
</page>
<page type="FullScreen" id="tl1108020204">
<content-media type="ActivityMCSACheckbox" id="cm7588412931">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108020000/tl1108020200/tl1108020204/cm7588412931.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108020000/tl1108020200/tl1108020204/cm7588412931text.xml"/></content-media>
<content-text><p><b>Exercice plein écran</b></p> <p>Indiquez si le paquet IP est autorisé ou refusé en analysant l’adresse de comparaison et le masque générique.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1108030000">
<title><content-text>Configuration des listes de contrôle d’accès</content-text></title>
<topic type="" id="tl1108030100">
<title><content-text>Positionnement des listes de contrôle d’accès standard et étendues</content-text></title>
<page type="OneColumn" id="tl1108030101">
<content-media type="StaticGraphic" id="cm6797342477">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030100/tl1108030101/cm6797342477.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108030000/tl1108030100/tl1108030101/cm6797342477text.xml"/></content-media>
<content-text><p>Lorsqu’elles sont correctement conçues, les listes de contrôle d’accès ont un impact positif sur les performances et la disponibilité d’un réseau. Planifiez la création et le positionnement des listes de contrôle d’accès en vue d’optimiser leurs effets.</p> <p>La planification est composée des étapes suivantes :</p> <p>1. Identification des spécifications de filtrage du trafic</p> <p>2. Identification du type de liste de contrôle d’accès le mieux adapté aux spécifications</p> <p>3. Identification du routeur et de l’interface sur lesquels doit être appliquée la liste de contrôle d’accès</p> <p>4. Identification de la direction du filtrage du trafic</p> <p><b>Étape 1 : identification des spécifications de filtrage du trafic</b></p> <p> </p> <p>Recueillez les spécifications de filtrage du trafic auprès des <content-link target="{EE91D62B-2EEC-4CEE-8C8D-1F33B06FB710}" type="glossary">parties prenantes</content-link> de chaque service d’une entreprise. Ces spécifications varient d’une entreprise à l’autre et dépendent des besoins de la clientèle, des types de trafic, des charges de trafic et des questions de sécurité.</p></content-text>
</page>
<page type="OneColumn" id="tl1108030102">
<content-media type="InteractiveGraphicHotspots" id="cm3016712622">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030100/tl1108030102/cm3016712622.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108030000/tl1108030100/tl1108030102/cm3016712622text.xml"/></content-media>
<content-text><p><b>Étape 2 : identification du type de liste de contrôle d’accès le mieux adapté aux spécifications</b></p> <p> </p> <p>Le choix entre une liste de contrôle d’accès standard et étendue se fait en fonction des spécifications de filtrage de la situation. Le type de liste de contrôle d’accès peut affecter sa souplesse, ainsi que les performances du routeur et la bande passante de la liaison de réseau. </p> <p>Les listes de contrôle d’accès standard sont simples à créer et à mettre en œuvre. Cependant, elles ne filtrent que sur l’adresse source et filtrent l’ensemble du trafic quel que soit son type ou sa destination. Dans le cas de routes vers plusieurs réseaux, une liste de contrôle d’accès standard placée trop près de la source risque de bloquer un trafic qui devrait être autorisé. Il est donc important de positionner les listes de contrôle d’accès standard le plus près possible de la destination.</p> <p>Lorsque les spécifications de filtrage sont plus complexes, utilisez une liste de contrôle d’accès étendue. Elles offrent plus de contrôle que les listes standard. Elles filtrent sur les adresses source et de destination. Elles filtrent également en fonction du protocole de couche réseau, du protocole de couche transport et des numéros de port, si nécessaire. Ce détail de filtrage supplémentaire permet à un administrateur réseau de créer des listes de contrôle d’accès qui répondent à des besoins précis d’un plan de sécurité.</p> <p>Positionnez une liste de contrôle d’accès près de l’adresse source. Se référant à la fois à l’adresse source et de destination, la liste de contrôle d’accès bloque les paquets adressés à un réseau de destination spécifique avant qu’ils ne quittent le routeur source. Les paquets sont filtrés avant de transiter sur le réseau, ce qui économise la bande passante.</p></content-text>
</page>
<page type="OneColumn" id="tl1108030103">
<content-media type="AnimationPartialScreen" id="cm3859640840">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030100/tl1108030103/cm3859640840.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108030000/tl1108030100/tl1108030103/cm3859640840text.xml"/></content-media>
<content-text><p><b>Étape 3 : identification du routeur et de l’interface de la liste de contrôle d’accès</b></p> <p> </p> <p>Positionnez les listes de contrôle d’accès sur les routeurs dans la couche d’accès ou la couche de distribution. Un administrateur réseau doit contrôler ces routeurs et être capable de mettre en œuvre une stratégie de sécurité. Un administrateur réseau qui n’a pas accès au routeur ne peut pas y configurer une liste de contrôle d’accès. </p> <p>Le choix de l’interface se fait en fonction des spécifications de filtrage, du type de la liste de contrôle d’accès et de l’emplacement du routeur désigné. Il est préférable de filtrer le trafic avant qu’il n’arrive à une liaison série d’une bande passante inférieure. Le choix de l’interface se fait généralement de lui-même, une fois le routeur choisi.</p> <p><b>Étape 4 : identification de la direction du filtrage du trafic</b></p> <p> </p> <p>Lorsque vous déterminez la direction dans laquelle doit être appliquée une liste de contrôle d’accès, visualisez le flux de trafic par rapport au routeur.</p> <p>Le trafic entrant correspond au trafic qui vient de l’extérieur pour arriver sur une interface de routeur. Le routeur compare le paquet entrant à la liste de contrôle d’accès avant de rechercher le réseau de destination dans la table de routage. Les paquets qui sont ignorés à ce moment-là permettent d’éviter la surcharge des recherches de routage. La liste de contrôle d’accès entrante est ainsi plus efficace pour le routeur qu’une liste sortante. </p> <p>Le trafic sortant se trouve à l’intérieur du routeur et part via une interface. Dans le cas d’un paquet sortant, le routeur a déjà effectué une recherche dans la table de routage et a commuté le paquet sur l’interface correspondante. Le paquet est comparé à la liste de contrôle d’accès juste avant de quitter le routeur.</p></content-text>
</page>
<page type="FullScreen" id="tl1108030104">
<content-media type="ActivityCustom" id="cm8487737901">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030100/tl1108030104/cm8487737901.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108030000/tl1108030100/tl1108030104/cm8487737901text.xml"/></content-media>
<content-text><p><b>Exercice</b> plein écran</p> <p>Déterminez le routeur, l’interface et la direction qui correspondent au positionnement de la liste de contrôle d’accès. </p></content-text>
</page>
</topic>
<topic type="" id="tl1108030200">
<title><content-text>Configuration de base des listes de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1108030201">
<content-media type="StaticGraphic" id="cm4069239429">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030200/tl1108030201/cm4069239429.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108030000/tl1108030200/tl1108030201/cm4069239429text.xml"/></content-media>
<content-text><p>Une fois que vous avez recueilli les spécifications, planifié la liste de contrôle d’accès et déterminé l’emplacement, vous devez configurer la liste de contrôle d’accès.</p> <p>Chaque liste de contrôle d’accès nécessite un identificateur unique. Cet identificateur peut être un numéro ou un nom descriptif. </p> <p>Dans le cas des listes de contrôle d’accès numérotées, le numéro identifie le type de la liste créée : </p> <p><ul><li> Les numéros des listes de contrôle d’accès IP standard vont de 1 à 99 et de 1 300 à 1 999. </li><li> Les numéros des listes de contrôle d’accès IP étendues vont de 100 à 199 et de 2 000 à 2 699. </li></ul></p> <p>Vous pouvez également créer des listes de contrôle d’accès AppleTalk et IPX. </p> <p>Il ne peut exister qu’une seule liste de contrôle d’accès par protocole et par direction pour chaque interface de routeur. Si un routeur exécute le protocole IP de façon exclusive, chaque interface gère au maximum deux listes de contrôle d’accès : une entrante et une sortante. Chaque liste de contrôle d’accès comparant chaque paquet passant par une interface, les listes ajoutent de la latence.</p></content-text>
</page>
<page type="OneColumn" id="tl1108030202">
<content-media type="StaticGraphic" id="cm8684736398">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030200/tl1108030202/cm8684736398.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108030000/tl1108030200/tl1108030202/cm8684736398text.xml"/></content-media>
<content-text><p>La configuration d’une liste de contrôle d’accès s’effectue en deux étapes : la création et l’application.</p> <p><b>Création de la liste de contrôle d’accès</b></p> <p>Passez en mode de configuration globale. À l’aide de la commande <span class="cmd"><b>access-list</b></span>, entrez les instructions de la liste de contrôle d’accès. Entrez toutes les instructions avec le même numéro de liste de contrôle d’accès jusqu’à la fin.</p> <p>La syntaxe de l’instruction de la liste de contrôle d’accès standard est la suivante :</p> <p><span class="cmd"><b>access-list</b> [<i>numéro de liste d’accès</i>] [<b>deny|permit</b>] [<i>adresse source</i>] [<i>masque générique source</i>][<b>log</b>]</span></p> <p>Chaque paquet étant comparé à chaque instruction de liste de contrôle d’accès jusqu’à ce qu’une correspondance soit trouvée, l’ordre des instructions dans la liste de contrôle d’accès peut avoir une influence sur la latence ajoutée. Classez donc les instructions de sorte que les conditions les plus courantes apparaissent avant les plus rares. Par exemple, les instructions qui permettent de trouver une correspondance pour un gros volume de trafic doivent être placées vers le début de la liste de contrôle d’accès. </p> <p>N’oubliez pas cependant qu’une fois une correspondance trouvée, le paquet n’est plus comparé aux instructions restantes de la liste de contrôle d’accès. Ainsi, si une ligne autorise un paquet, mais que ce même paquet est refusé une ligne plus bas, le paquet sera autorisé. Vous devez donc planifier la liste de contrôle d’accès de sorte que les spécifications les plus précises apparaissent avant celles plus générales. En d’autres termes, refusez un hôte spécifique d’un réseau avant d’autoriser le reste du réseau. </p> <p>Expliquez la fonction de chaque section ou instruction de la liste de contrôle d’accès à l’aide de la commande <span class="cmd"><b>remark</b></span> :</p> <p><span class="cmd"><b>access-list</b> [<i>numéro de liste</i>] <b>remark</b> [<i>texte</i>]</span></p> <p><br/> Pour supprimer une liste de contrôle d’accès, utilisez la commande suivante :</p> <p><span class="cmd"><b>no access-list</b> [<i>numéro de liste</i>]</span></p> <p> </p> <p>Vous ne pouvez pas supprimer une seule ligne d’une liste de contrôle d’accès standard ou étendue. Vous ne pouvez supprimer que l’ensemble de la liste et la remplacer intégralement. </p></content-text>
</page>
</topic>
<topic type="" id="tl1108030300">
<title><content-text>Configuration des listes de contrôle d’accès standard numérotées</content-text></title>
<page type="OneColumn" id="tl1108030301">
<content-media type="AnimationPartialScreen" id="cm9527349589">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030300/tl1108030301/cm9527349589.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108030000/tl1108030300/tl1108030301/cm9527349589text.xml"/></content-media>
<content-text><p>Une liste de contrôle d’accès ne filtre pas le trafic tant qu’elle n’a pas été appliquée, ou attribuée, à une interface.</p> <p><b>Application d’une liste de contrôle d’accès</b></p> <p>Attribuez une liste de contrôle d’accès à une ou plusieurs interfaces en spécifiant si le trafic est entrant ou sortant. Appliquez une liste de contrôle d’accès standard le plus près possible de la destination.</p> <p><span class="cmd">R2(config-if)#<b>ip access-group </b><i>numéro de liste d’accès</i><b> [in | out]</b></span></p> <p>Les commandes suivantes placent la liste d’accès 5 sur l’interface R2 Fa0/0 en filtrant le trafic entrant :</p> <span class="cmd"><p>R2(config)#<b>interface fastethernet 0/0</b></p></span> <span class="cmd"><p>R2(config-if)#<b>ip access-group 5 in</b></p></span> <p>Dans le cas d’une liste de contrôle d’accès appliquée à une interface, la direction par défaut est <b>out</b> (sortant). Même si <b>out</b> est la direction par défaut, il est très important de spécifier la direction afin d’éviter toute confusion et de s’assurer que le trafic est filtré dans la bonne direction. </p> <p>Pour supprimer une liste de contrôle d’accès d’une interface sans modifier la liste, utilisez la commande <span class="cmd"><b>no ip access-group </b><i>interface</i></span>.</p></content-text>
</page>
<page type="OneColumn" id="tl1108030302">
<content-media type="InteractiveGraphicHotspots" id="cm3832309974">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030300/tl1108030302/cm3832309974.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108030000/tl1108030300/tl1108030302/cm3832309974text.xml"/></content-media>
<content-text><p>Plusieurs commandes de liste de contrôle d’accès évaluent l’exactitude de la syntaxe, l’ordre des instructions et le positionnement sur les interfaces.</p> <p><span class="cmd"><b>show ip interface</b></span></p> <p><ul><li> Affiche les informations relatives à l’interface IP et signale toute liste de contrôle d’accès attribuée.</li></ul></p> <p><span class="cmd"><b>show access-lists [</b><i>numéro de liste d’accès</i><b>]</b></span></p> <p><ul><li> Affiche le contenu de toutes les listes de contrôle d’accès sur le routeur. Elle affiche également le nombre de correspondances pour chaque instruction permit ou deny depuis l’application de la liste de contrôle d’accès. Pour voir une liste spécifique, ajoutez le nom ou le numéro de la liste de contrôle d’accès comme option de cette commande.</li></ul></p> <p><span class="cmd"><b>show running-config</b></span></p> <p><ul><li> Affiche toutes les listes de contrôle d’accès configurées sur un routeur, même celles qui ne sont pas actuellement appliquées à une interface.</li></ul></p> <p>Si vous utilisez des listes de contrôle d’accès numérotées, les instructions entrées après la création de la liste sont ajoutées à la fin. Cet ordre peut ne pas donner le résultat souhaité. Pour résoudre ce problème, supprimez la liste de contrôle d’accès d’origine et recréez-la. </p> <p>Il est souvent recommandé de créer les listes de contrôle d’accès dans un éditeur de texte, car cela facilite sa modification et le collage des informations dans la configuration du routeur. N’oubliez pas cependant que lorsque vous copiez-collez la liste de contrôle d’accès, vous devez tout d’abord supprimer la liste de contrôle d’accès actuellement appliquée ; si vous ne le faites pas, toutes les instructions seront collées à la fin. </p></content-text>
</page>
<page type="FullScreen" id="tl1108030303">
<content-media type="ActivityDnDCheckReset" id="cm8445750496">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030300/tl1108030303/cm8445750496.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108030000/tl1108030300/tl1108030303/cm8445750496text.xml"/></content-media>
<content-text><p><b>Exercice plein écran</b></p> <p>Déterminez la séquence appropriée qui permettra à l’instruction de configuration de liste de contrôle d’accès de répondre aux spécifications.</p></content-text>
</page>
<page type="OneColumn" id="tl1108030304">
<content-media type="ActivityLab" id="cm3009976180">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030300/tl1108030304/cm3009976180/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1108000000/tl1108030000/tl1108030300/tl1108030304/cm3009976180/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques </b></p> <p> </p> <p>Configurez et vérifiez une liste de contrôle d’accès standard. </p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1108030400">
<title><content-text>Configuration des listes de contrôle d’accès étendues numérotées</content-text></title>
<page type="OneColumn" id="tl1108030401">
<content-media type="InteractiveGraphicRollovers" id="cm9866717897">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030400/tl1108030401/cm9866717897.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108030000/tl1108030400/tl1108030401/cm9866717897text.xml"/></content-media>
<content-text><p>Les listes de contrôle d’accès étendues offrent un meilleur contrôle que les listes standard. Une liste de contrôle d’accès étendue autorise ou refuse l’accès en fonction de l’adresse IP source, de l’adresse IP de destination, du type de protocole et des numéros de port. Les listes de contrôle d’accès étendues pouvant être très spécifiques, elles ont tendance à grossir rapidement. Plus une liste de contrôle d’accès contient des instructions et plus elle est difficile à gérer.</p> <p>Les numéros des listes de contrôle d’accès étendues vont de 100 à 199 et de 2 000 à 2 699. Les règles qui s’appliquent aux listes de contrôle d’accès standard s’appliquent également aux listes étendues :</p> <p><ul><li> Configurez plusieurs instructions dans une même liste de contrôle d’accès. </li><li> Attribuez à chaque instruction le même numéro de liste de contrôle d’accès.</li><li> Utilisez les mots clés <span class="cmd"><b>host</b></span> ou <span class="cmd"><b>any</b></span> pour représenter les adresses IP.</li></ul></p> <p>L’une des principales différences est que dans la syntaxe des listes de contrôle d’accès étendues, vous devez spécifier un protocole après la condition permit ou deny. Ce protocole peut être IP, indiquant l’ensemble du trafic IP, ou indiquer un filtrage sur un protocole IP spécifique tel que TCP, UDP, ICMP ou OSPF.</p></content-text>
</page>
<page type="OneColumn" id="tl1108030402">
<content-media type="StaticGraphic" id="cm8727131225">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030400/tl1108030402/cm8727131225.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108030000/tl1108030400/tl1108030402/cm8727131225text.xml"/></content-media>
<content-text><p>Il existe souvent différentes façons de répondre à une série de spécifications.</p> <p>Supposons que l’adresse d’un serveur d’une société soit 192.168.3.75. La société doit répondre aux spécifications suivantes :</p> <p><ul><li> Autoriser l’accès aux hôtes du réseau local 192.168.2.0 </li><li> Autoriser l’accès à l’hôte 192.168.1.66</li><li> Refuser l’accès aux hôtes du réseau local 192.168.4.0 </li><li> Accorder l’accès à tout autre utilisateur de l’entreprise </li></ul></p> <p>Il existe au moins deux solutions pour répondre à ces spécifications. Lorsque vous planifiez la liste de contrôle d’accès, essayez d’utiliser le moins d’instructions possible. </p> <p>Pour limiter le nombre d’instructions et réduire la charge de traitement sur le routeur, vous pouvez notamment :</p> <p><ul><li> Trouver des correspondances pour un important volume de trafic et refuser le trafic bloqué au début de la liste de contrôle d’accès. Cette approche permet de s’assurer que les paquets ne sont pas comparés à des instructions ultérieures.</li><li> Regrouper plusieurs instructions permit et deny en une seule instruction à l’aide de plages</li><li> Penser à refuser l’accès à un petit groupe donné plutôt que l’accorder à un groupe inverse plus important</li></ul></p></content-text>
</page>
<page type="FullScreen" id="tl1108030403">
<content-media type="ActivityMCSACheckbox" id="cm2770374826">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030400/tl1108030403/cm2770374826.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108030000/tl1108030400/tl1108030403/cm2770374826text.xml"/></content-media>
<content-text><p><b>Exercice</b> plein écran</p> <p>En fonction de la liste de contrôle d’accès, déterminez si les paquets sont autorisés ou refusés.</p></content-text>
</page>
<page type="OneColumn" id="tl1108030404">
<content-media type="ActivityLab" id="cm6900190285">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030400/tl1108030404/cm6900190285/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1108000000/tl1108030000/tl1108030400/tl1108030404/cm6900190285/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques </b></p> <p> </p> <p>Planifiez, configurez et vérifiez une liste de contrôle d’accès étendue. </p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1108030500">
<title><content-text>Configuration des listes de contrôle d’accès nommées</content-text></title>
<page type="OneColumn" id="tl1108030501">
<content-media type="StaticGraphic" id="cm9344704099">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030500/tl1108030501/cm9344704099.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108030000/tl1108030500/tl1108030501/cm9344704099text.xml"/></content-media>
<content-text><p>Vous pouvez créer des listes de contrôle d’accès nommées dans les versions 11.2 et ultérieures de Cisco IOS. Dans une liste de contrôle d’accès nommée, un nom descriptif remplace les plages de valeurs requises pour les listes de contrôle d’accès standard et étendues. Les listes de contrôle d’accès nommées offrent toutes les fonctions et tous les avantages des listes de contrôle d’accès standard et étendues ; seule la syntaxe permettant leur création est différente.</p> <p>Le nom affecté à une liste de contrôle d’accès est unique. Mettez le nom en lettres majuscules pour le reconnaître plus facilement dans le résultat de la commande exécutée sur le routeur et faciliter le dépannage.</p> <p>Pour créer une liste de contrôle d’accès nommée, utilisez la commande suivante :</p> <p><span class="cmd"><b>ip access-list</b> {<b>standard </b>| <b>extended</b>} <i>nom</i></span></p> <p>Après exécution de cette commande, le routeur passe en mode de sous-commande de configuration de liste de contrôle d’accès nommée. Après la première commande d’attribution du nom, entrez l’une après l’autre toutes les instructions permit et deny. Les listes de contrôle d’accès nommées utilisent la syntaxe des commandes des listes de contrôle d’accès standard ou étendues, en commençant par l’instruction permit ou deny.</p> <p>L’application à une interface d’une liste de contrôle d’accès nommée est semblable à l’application d’une liste standard ou étendue.</p> <p>Les commandes permettant d’évaluer l’exactitude de la syntaxe, l’ordre des instructions et le positionnement sur les interfaces des listes de contrôle d’accès nommées sont identiques aux commandes utilisées pour les listes standard.</p></content-text>
</page>
<page type="OneColumn" id="tl1108030502">
<content-media type="InteractiveGraphicHotspots" id="cm5990258652">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030500/tl1108030502/cm5990258652.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108030000/tl1108030500/tl1108030502/cm5990258652text.xml"/></content-media>
<content-text><p>Pour modifier des listes de contrôle d’accès avec des versions antérieures de IOS, vous devez :</p> <p><ul><li> copier la liste de contrôle d’accès dans un éditeur de texte ;</li><li> supprimer la liste de contrôle d’accès du routeur ;</li><li> recréer et appliquer la version modifiée.</li></ul></p> <p>Malheureusement, cette procédure permet à l’ensemble du trafic de transiter par l’interface au moment du cycle d’édition, laissant ainsi le réseau à la merci d’éventuelles infractions aux règles de sécurité. </p> <p>Les versions actuelles de IOS permettent de modifier les listes de contrôle d’accès numérotées et nommées à l’aide de la commande <span class="cmd"><b>ip access-list</b></span>. Les listes de contrôle d’accès s’affichent avec des lignes numérotées par incrément de 10 (10, 20, 30, etc.). Pour voir les numéros de ligne, utilisez la commande suivante :</p> <p><span class="cmd"><b>show access-lists</b></span></p> <p>Pour modifier une ligne existante :</p> <p><ul><li> Supprimez la ligne à l’aide de la commande <span class="cmd"><b>no line number</b></span>.</li><li> Ajoutez ensuite de nouveau cette même ligne en utilisant son numéro de ligne.</li></ul></p> <p>Pour insérer une ligne entre les lignes existantes 20 et 30 :</p> <p><ul><li> Introduisez les nouvelles instructions de l’<span class="cmd"><b>ACL</b></span>, en commençant par un numéro compris entre les deux lignes existantes, 25 par exemple.</li></ul></p> <p>Entrez la commande <span class="cmd"><b>show access-lists</b></span> pour afficher les lignes dans le nouvel ordre et renumérotées par incrément de 10.</p></content-text>
</page>
<page type="OneColumn" id="tl1108030503">
<content-media type="ActivityPKA" id="cm3600938129">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030500/tl1108030503/cm3600938129/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1108000000/tl1108030000/tl1108030500/tl1108030503/cm3600938129/icontext.xml"/></content-media>
<content-text><p><b>Exercice Packet Tracer </b></p> <p> </p> <p>Configurez et vérifiez une liste de contrôle d’accès standard. </p><p><b>Cliquez sur l’icône Packet Tracer pour commencer.</b></p></content-text>
</page>
<page type="OneColumn" id="tl1108030504">
<content-media type="ActivityLab" id="cm9127995634">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030500/tl1108030504/cm9127995634/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1108000000/tl1108030000/tl1108030500/tl1108030504/cm9127995634/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques </b></p> <p> </p> <p>Configurez et vérifiez une liste de contrôle d’accès nommée étendue. </p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1108030600">
<title><content-text>Configuration de l’accès du routeur au terminal virtuel</content-text></title>
<page type="OneColumn" id="tl1108030601">
<content-media type="StaticGraphic" id="cm1803507512">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030600/tl1108030601/cm1803507512.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108030000/tl1108030600/tl1108030601/cm1803507512text.xml"/></content-media>
<content-text><p>Les administrateurs réseau ont souvent besoin de configurer un routeur situé sur un site distant. Pour se connecter au routeur distant, ils utilisent un programme tel que Telnet ou un client Secure Shell (SSH). Telnet transmet le nom d’utilisateur et le mot de passe en clair. Ce protocole n’est donc pas très fiable. SSH transmet le nom d’utilisateur et le mot de passe dans un format chiffré.</p> <p>Lorsqu’un administrateur réseau se connecte à un routeur distant à l’aide de Telnet, le routeur lance une session entrante. Telnet et SSH sont des outils de gestion de réseaux « in band » ; ils nécessitent le protocole IP et une connexion réseau au routeur.</p> <p>En limitant l’accès au terminal virtuel (VTY), vous améliorez la sécurité du réseau. Des intrus peuvent essayer d’accéder à un routeur. Si le port virtuel du routeur ne dispose pas d’une liste de contrôle d’accès, toute personne connaissant le nom d’utilisateur et le mot de passe Telnet peut accéder au réseau. Si une liste de contrôle d’accès accordant l’accès uniquement à certaines adresses IP est appliquée au port VTY du routeur, toute personne essayant d’établir une connexion telnet avec le routeur à partir d’une adresse IP non autorisée par la liste de contrôle d’accès se verra refuser l’accès. N’oubliez pas cependant que cela peut poser des problèmes lorsque l’administrateur doit se connecter au routeur à partir de différents sites utilisant différentes adresses IP. </p></content-text>
</page>
<page type="OneColumn" id="tl1108030602">
<content-media type="InteractiveGraphicHotspots" id="cm6817907170">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030600/tl1108030602/cm6817907170.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108030000/tl1108030600/tl1108030602/cm6817907170text.xml"/></content-media>
<content-text><p>Le processus de création de la liste de contrôle d’accès au terminal virtuel s’apparente à celui qui s’applique à une interface. L’application de la liste de contrôle d’accès à une ligne de terminal virtuel utilise cependant une commande différente. Utilisez la commande <span class="cmd"><b>access-class</b></span> et non <span class="cmd"><b>ip access-group</b></span>. </p> <p>Suivez ces directives lorsque vous configurez des listes d’accès sur des lignes de terminal virtuel :</p> <p><ul><li> Appliquez aux lignes de terminal virtuel une liste de contrôle d’accès numérotée, et non une liste nommée.</li><li> Définissez des restrictions identiques sur toutes les lignes de terminal virtuel, car il est impossible de contrôler la ligne sur laquelle un utilisateur peut se connecter.</li></ul></p> <p>Les sessions de terminal virtuel sont établies entre le logiciel client Telnet et le routeur de destination. L’administrateur réseau établit une session avec le routeur de destination, entre un nom d’utilisateur et un mot de passe et modifie la configuration.</p></content-text>
</page>
<page type="OneColumn" id="tl1108030603">
<content-media type="ActivityLab" id="cm1617058955">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030600/tl1108030603/cm1617058955/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1108000000/tl1108030000/tl1108030600/tl1108030603/cm1617058955/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques </b></p> <p> </p> <p>Configurez et vérifiez des restrictions de terminal virtuel sur le routeur.</p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
<page type="OneColumn" id="tl1108030604">
<content-media type="ActivityPKA" id="cm1147167935">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108030000/tl1108030600/tl1108030604/cm1147167935/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1108000000/tl1108030000/tl1108030600/tl1108030604/cm1147167935/icontext.xml"/></content-media>
<content-text><p><b>Exercice Packet Tracer</b></p> <p> </p> <p>Planifiez, configurez et vérifiez des listes de contrôle d’accès standard, étendues et nommées. </p><p><b>Cliquez sur l’icône Packet Tracer pour commencer.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1108040000">
<title><content-text>Autorisation et interdiction de trafics déterminés</content-text></title>
<topic type="" id="tl1108040100">
<title><content-text>Configuration des listes de contrôle d’accès pour l’application et le filtrage de port</content-text></title>
<page type="OneColumn" id="tl1108040101">
<content-media type="StaticGraphic" id="cm8030330891">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108040000/tl1108040100/tl1108040101/cm8030330891.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108040000/tl1108040100/tl1108040101/cm8030330891text.xml"/></content-media>
<content-text><p>Les listes de contrôle d’accès étendues filtrent sur les adresses IP source et de destination. Il est souvent préférable de filtrer sur des détails de paquets encore plus spécifiques. Le protocole réseau de la couche 3 OSI, les protocoles transport de la couche 4 et les ports d’application offrent cette possibilité.</p> <p>Les protocoles IP, TCP, UDP et ICMP sont des exemples de protocoles permettant le filtrage. </p> <p>Les listes de contrôle d’accès étendues filtrent également sur les numéros de port de destination. Ces numéros de port décrivent l’application ou le service requis par le paquet. Un numéro de port enregistré est attribué à chaque application. </p> <p>Le routeur doit examiner la trame Ethernet pour extraire l’ensemble des adresses IP et les informations de numéro de port devant être comparées aux listes de contrôle d’accès. </p> <p>Non seulement vous devez entrer les numéros de port, mais vous devez également spécifier une condition pour que la correspondance avec l’instruction soit trouvée. Les abréviations les plus souvent utilisées sont les suivantes : </p> <p><ul><li> <b>eq</b> - égal à</li><li> <b>gt</b> - supérieur à</li><li> <b>lt</b> - inférieur à</li></ul></p> <p>Prenons l’exemple suivant :</p> <p><span class="cmd">R1(config)<b>#access-list 122 permit tcp 192.168.1.0 0.0.0.255 host 192.168.2.89 eq 80</b></span></p> <p>Cette instruction de liste de contrôle d’accès autorise le trafic provenant de 192.168.1.0 demandant un accès HTTP via le port 80. Si un utilisateur essaye d’établir une connexion Telnet ou FTP avec l’hôte 192.168.2.89, l’accès est refusé en raison de l’instruction implicit deny qui se trouve à la fin de toutes les listes d’accès.</p></content-text>
</page>
<page type="OneColumn" id="tl1108040102">
<content-media type="StaticGraphic" id="cm2990566697">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108040000/tl1108040100/tl1108040102/cm2990566697.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108040000/tl1108040100/tl1108040102/cm2990566697text.xml"/></content-media>
<content-text><p>Pour filtrer en fonction d’une certaine application, vous devez connaître le numéro de port de cette application. Les applications sont associées à un numéro de port et à un nom. Une liste de contrôle d’accès peut utiliser le port 80 ou HTTP comme référence.</p> <p>Si vous ne connaissez ni le numéro de port de l’application ni son nom, effectuez les étapes suivantes pour essayer de trouver ces informations :</p> <p>1. Faites des recherches sur l’un des sites d’enregistrement de l’adressage IP sur Internet, par exemple <content-link target="http://www.iana.org/" type="external">http://www.iana.org/</content-link>.</p> <p>2. Consultez la documentation du logiciel.</p> <p>3. Rendez-vous sur le site Web du fournisseur de l’application.</p> <p>4. Utilisez un analyseur de paquets et récupérez des données de l’application.</p> <p>5. Utilisez l’option <span class="cmd"><b>?</b></span> dans la commande <span class="cmd"><b>access-list</b></span>. La liste comprend des noms et des numéros de port connus pour le protocole TCP.</p> <p>Certaines applications utilisent plusieurs numéros de port. Par exemple, les données FTP sont transmises via le port 20, mais le contrôle de session qui rend possible le protocole FTP utilise le port 21. Pour refuser l’ensemble du trafic FTP, le refus doit porter sur les deux ports.</p> <p>Pour prendre en charge les numéros de port multiples, les listes de contrôle d’accès de Cisco IOS filtrent une plage de ports. Pour cela, utilisez les opérateurs gt, lt ou range dans l’instruction de liste de contrôle d’accès. Par exemple, deux instructions de liste de contrôle d’accès FTP peuvent être fusionnées en un seul filtre avec la commande suivante :</p> <p><span class="cmd">R1(config)<b>#access-list 181 deny tcp any 192.168.77.0 0.0.0.255 range 20 21</b></span></p></content-text>
</page>
<page type="OneColumn" id="tl1108040103">
<content-media type="ActivityPKA" id="cm8578365868">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108040000/tl1108040100/tl1108040103/cm8578365868/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1108000000/tl1108040000/tl1108040100/tl1108040103/cm8578365868/icontext.xml"/></content-media>
<content-text><p><b>Exercice Packet Tracer </b></p> <p>Configurez et vérifiez des listes de contrôle d’accès étendues qui filtrent sur les numéros de port. </p><p><b>Cliquez sur l’icône Packet Tracer pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1108040200">
<title><content-text>Configuration des listes de contrôle d’accès pour prendre en charge le trafic établi</content-text></title>
<page type="OneColumn" id="tl1108040201">
<content-media type="AnimationPartialScreen" id="cm1531671377">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108040000/tl1108040200/tl1108040201/cm1531671377.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108040000/tl1108040200/tl1108040201/cm1531671377text.xml"/></content-media>
<content-text><p>Les listes de contrôle d’accès sont souvent créées en vue de protéger un réseau interne contre les sources externes. Cependant, la protection du réseau interne ne doit pas empêcher les utilisateurs internes d’accéder à toutes les ressources. Lorsque des utilisateurs internes accèdent à des ressources externes, ces ressources demandées doivent passer par la liste de contrôle d’accès. Par exemple, si un utilisateur interne souhaite établir une connexion avec un serveur Web externe, la liste de contrôle d’accès doit autoriser les paquets HTML demandés. Les listes de contrôle d’accès utilisant l’instruction implicit deny, les ressources doivent être spécifiquement autorisées par ces listes. Si des instructions permit individuelles sont créées pour toutes les ressources susceptibles d’être demandées, la liste de contrôle d’accès peut devenir longue et des infractions aux règles de sécurité peuvent survenir. </p> <p>Pour résoudre ce problème, vous pouvez créer une instruction unique qui autorise les utilisateurs internes à établir une session TCP avec des ressources externes. Une fois la connexion TCP en trois étapes établie, tous les paquets envoyés entre les deux périphériques sont autorisés. Pour cela, utilisez le mot clé established. </p> <p><span class="cmd"><b>access-list 101 permit tcp any any established</b></span></p> <p>Avec cette instruction, tous les paquets TCP externes sont autorisés à condition qu’ils constituent des réponses à des requêtes internes. Autoriser les réponses entrantes à établir des communications constitue une forme d’inspection dynamique de paquets. </p> <p>En plus d’établir le trafic, un utilisateur interne devra peut-être envoyer une requête ping aux périphériques externes. Cependant, il est déconseillé d’autoriser des utilisateurs externes à envoyer une requête ping ou trace à un périphérique situé sur le réseau interne. Dans ce cas, une instruction utilisant les mots clés <span class="cmd"><b>echo-reply</b></span> et <span class="cmd"><b>unreachable</b></span> peut être ajoutée afin d’autoriser les réponses ping et les messages inaccessibles. Cependant, une requête ping provenant de sources externes sera refusée à moins qu’elle ne soit spécifiquement autorisée par une autre instruction.</p></content-text>
</page>
<page type="FullScreen" id="tl1108040202">
<content-media type="ActivityMCSACheckbox" id="cm3417822746">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108040000/tl1108040200/tl1108040202/cm3417822746.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108040000/tl1108040200/tl1108040202/cm3417822746text.xml"/></content-media>
<content-text><p><b>Exercice</b></p> <p>Déterminez si le paquet est autorisé ou bloqué en fonction des adresses source et de destination, du type de paquet et des listes de contrôle d’accès. </p></content-text>
</page>
</topic>
<topic type="" id="tl1108040300">
<title><content-text>Effets des fonctions NAT et PAT sur la position des listes de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1108040301">
<content-media type="AnimationPartialScreen" id="cm3063250716">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108040000/tl1108040300/tl1108040301/cm3063250716.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108040000/tl1108040300/tl1108040301/cm3063250716text.xml"/></content-media>
<content-text><p>La mise en œuvre des fonctions NAT et PAT peut poser problème lors de la planification des listes de contrôle d’accès. Les administrateurs réseau doivent tenir compte de la traduction d’adresses lors de la création et de l’application des listes de contrôle d’accès aux interfaces où se produit la fonction NAT. </p> <p>Lorsque vous utilisez la fonction NAT avec des listes de contrôle d’accès, il est important de savoir comment elles interagissent au niveau du routeur. </p> <p>1. Si le paquet arrive dans une interface NAT externe, le routeur :</p> <p><ul><li> applique la liste de contrôle d’accès entrante ; </li><li> traduit l’adresse de destination de l’extérieur vers l’intérieur, ou du global vers le local ; </li><li> achemine le paquet.</li></ul></p> <p>2. Si le paquet sort de l’interface NAT externe, le routeur :</p> <p><ul><li> traduit l’adresse source de l’intérieur vers l’extérieur, ou du local vers le global ; </li><li> applique la liste de contrôle d’accès sortante.</li></ul></p> <p>Lorsque vous planifiez la liste de contrôle d’accès, faites en sorte qu’elle filtre les adresses privées ou publiques, en fonction de la relation avec la fonction NAT. Si le trafic est entrant ou sortant sur une interface NAT externe, les adresses publiques sont filtrées.</p></content-text>
</page>
<page type="OneColumn" id="tl1108040302">
<content-media type="ActivityLab" id="cm6910528367">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108040000/tl1108040300/tl1108040302/cm6910528367/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1108000000/tl1108040000/tl1108040300/tl1108040302/cm6910528367/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques </b></p> <p>Configurez une liste de contrôle d’accès avec la fonction NAT. </p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1108040400">
<title><content-text>Analyse de la position et des listes de contrôle d’accès du réseau</content-text></title>
<page type="OneColumn" id="tl1108040401">
<content-media type="InteractiveGraphicHotspots" id="cm4602967001">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108040000/tl1108040400/tl1108040401/cm4602967001.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108040000/tl1108040400/tl1108040401/cm4602967001text.xml"/></content-media>
<content-text><p>Les administrateurs réseau doivent évaluer l’impact de chaque instruction d’une liste de contrôle d’accès avant de la mettre en œuvre. Si elle est mal conçue, une liste de contrôle d’accès peut engendrer des problèmes au moment de l’application à une interface. Ces problèmes peuvent aller d’une fausse impression de sécurité à une charge inutile sur un routeur, voire une panne de réseau.</p> <p>Les administrateurs doivent analyser la liste de contrôle d’accès ligne par ligne et répondre aux questions suivantes :</p> <p><ul><li> Quel service l’instruction refuse-t-elle ?</li><li> Quelle est la source et quelle est la destination ?</li><li> Quels numéros de port sont refusés ? </li><li> Que se passerait-il si la liste de contrôle d’accès était déplacée sur une autre interface ?</li><li> Que se passerait-il si la liste de contrôle d’accès filtrait le trafic dans une autre direction ?</li><li> La fonction NAT est-elle un problème ?</li></ul></p> <p>Lors de l’évaluation d’une liste de contrôle d’accès étendue, il est important de se souvenir des points clés suivants :</p> <p><ul><li> Le mot clé <span class="cmd"><b>tcp</b></span> autorise ou refuse des protocoles tels que FTP, HTTP et Telnet.</li><li> L’expression clé <span class="cmd"><b>permit ip</b></span> permet d’autoriser l’ensemble des IP, y compris les protocoles TCP, UDP et ICMP.</li></ul></p></content-text>
</page>
<page type="FullScreen" id="tl1108040402">
<content-media type="ActivityDnDCheckReset" id="cm7183361299">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108040000/tl1108040400/tl1108040402/cm7183361299.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108040000/tl1108040400/tl1108040402/cm7183361299text.xml"/></content-media>
<content-text><p><b>Exercice</b> plein écran</p> <p>Créez une liste de contrôle d’accès étendue en fonction des spécifications et de la topologie du réseau indiquées. Tous les éléments ne sont pas utilisés.</p></content-text>
</page>
</topic>
<topic type="" id="tl1108040500">
<title><content-text>Configuration des listes de contrôle d’accès avec le routage entre VLAN</content-text></title>
<page type="OneColumn" id="tl1108040501">
<content-media type="StaticGraphic" id="cm1875056820">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108040000/tl1108040500/tl1108040501/cm1875056820.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108040000/tl1108040500/tl1108040501/cm1875056820text.xml"/></content-media>
<content-text><p>Dans le cas d’un routage entre réseaux locaux virtuels (VLAN) dans un réseau, il est parfois nécessaire de contrôler le trafic entre un réseau local virtuel et un autre à l’aide de listes de contrôle d’accès.</p> <p>Appliquez les listes de contrôle d’accès directement aux interfaces ou aux sous-interfaces de réseau local virtuel sur un routeur, comme vous le feriez avec des interfaces physiques.</p> <p>En règle générale, les serveurs et les groupes d’utilisateurs des réseaux d’entreprise se trouvent sur des réseaux locaux virtuels différents. Dans ce cas, accédez au réseau local virtuel du serveur nécessitant le filtrage.</p> <p>Toutes les règles et directives relatives à la création et à l’application sont les mêmes pour les listes de contrôle d’accès sur des sous-interfaces que celles pour les interfaces physiques.</p></content-text>
</page>
<page type="OneColumn" id="tl1108040502">
<content-media type="ActivityLab" id="cm4042308666">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108040000/tl1108040500/tl1108040502/cm4042308666/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1108000000/tl1108040000/tl1108040500/tl1108040502/cm4042308666/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques </b></p> <p> </p> <p>Configurez et vérifiez des listes de contrôle d’accès pour filtrer le trafic entre réseaux locaux virtuels.</p> <p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
<page type="OneColumn" id="tl1108040503">
<content-media type="ActivityPKA" id="cm3442236577">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108040000/tl1108040500/tl1108040503/cm3442236577/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1108000000/tl1108040000/tl1108040500/tl1108040503/cm3442236577/icontext.xml"/></content-media>
<content-text><p><b>Exercice Packet Tracer </b></p> <p> </p> <p>Configurez et vérifiez une liste de contrôle d’accès étendue créant une zone DMZ et protégeant le réseau d’entreprise. </p><p><b>Cliquez sur l’icône Packet Tracer pour commencer.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1108050000">
<title><content-text>Filtrage du trafic à l’aide des listes de contrôle d’accès</content-text></title>
<topic type="" id="tl1108050100">
<title><content-text>Journalisation pour vérifier le fonctionnement d’une liste de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1108050101">
<content-media type="AnimationDual" id="cm4738926683">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108050000/tl1108050100/tl1108050101/cm4738926683.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108050000/tl1108050100/tl1108050101/cm4738926683text.xml"/></content-media>
<content-text><p>Une fois qu’il a rédigé la liste de contrôle d’accès et qu’il l’a appliquée à une interface, un administrateur réseau doit évaluer le nombre de correspondances. Il y a correspondance lorsque les champs d’un paquet entrant sont équivalents à tous les champs de comparaison de la liste de contrôle d’accès. En connaissant le nombre de correspondances, l’administrateur peut plus facilement déterminer si les instructions de liste de contrôle d’accès ont l’effet désiré. </p> <p>Par défaut, une instruction de liste de contrôle d’accès recueille le nombre de correspondances et les affiche à la fin de chaque instruction. Pour voir les correspondances, utilisez la commande suivante : </p> <p><span class="cmd"><b>show access-list</b> </span></p> <p>Le nombre retourné par la commande <span class="cmd"><b>show access-list</b></span> correspond au nombre d’instructions de liste de contrôle d’accès pour lesquelles une correspondance existe ainsi que le nombre de paquets traités. Le résultat n’indique pas la source ou la destination du paquet ni les protocoles utilisés. </p> <p>Pour obtenir plus de détails sur les paquets autorisés ou refusés, activez un processus appelé <content-link target="{C95AA2F5-5037-4528-92FE-2DA9F26076D5}" type="glossary">journalisation</content-link>. La journalisation est activée pour les instructions de liste de contrôle d’accès individuelles. Pour activer cette fonctionnalité, ajoutez l’option <span class="cmd"><b>log</b></span> à la fin de chaque instruction de liste de contrôle d’accès à analyser. </p> <p>N’utilisez la journalisation que sur une courte durée pour finaliser le test de la liste de contrôle d’accès. La journalisation d’événements occasionne une charge supplémentaire sur le routeur.</p></content-text>
</page>
<page type="OneColumn" id="tl1108050102">
<content-media type="StaticGraphic" id="cm2853879106">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108050000/tl1108050100/tl1108050102/cm2853879106.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108050000/tl1108050100/tl1108050102/cm2853879106text.xml"/></content-media>
<content-text><p>La journalisation sur la console utilise la mémoire du routeur, qui constitue une ressource limitée. Configurez plutôt un routeur qui enverra des messages de journalisation à un serveur externe. Ces messages, appelés messages <span class="cmd"><b>syslog</b></span>, permettent à l’utilisateur de voir les deux, en temps réel ou ultérieurement.</p> <p>Les types de message comprennent huit niveaux de gravité. Les niveaux vont de 0, qui représente une urgence ou un système inutilisable, à 7, qui représente des messages à titre d’information, notamment en matière de débogage.</p> <p>La journalisation de liste de contrôle d’accès génère un message informatif comprenant :</p> <p><ul><li> le numéro de la liste de contrôle d’accès ;</li><li> le paquet autorisé ou refusé ;</li><li> les adresses source et de destination ;</li><li> le nombre de paquets.</li></ul></p> <p>Le message est généré pour le premier paquet pour lequel il y a correspondance, puis par intervalles de cinq minutes.</p> <p>Pour désactiver la journalisation, utilisez :</p> <p><span class="cmd"><b>no logging console</b></span></p> <p>Pour désactiver toutes les commandes de débogage, utilisez :</p> <p><span class="cmd"><b>undebug all</b></span></p> <p>Pour désactiver certaines commandes de débogage, telles que <span class="cmd"><b>ip packet</b></span>, utilisez :</p> <p><span class="cmd"><b>no debug ip packet</b> </span></p></content-text>
</page>
<page type="OneColumn" id="tl1108050103">
<content-media type="ActivityLab" id="cm4873017260">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108050000/tl1108050100/tl1108050103/cm4873017260/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1108000000/tl1108050000/tl1108050100/tl1108050103/cm4873017260/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques </b></p> <p> </p> <p>Configurez des listes de contrôle d’accès et vérifiez-les à l’aide de la commande <span class="cmd"><b>show access-lists</b></span> et de la journalisation sur console.</p> <p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1108050200">
<title><content-text>Analyse des journaux du routeur</content-text></title>
<page type="OneColumn" id="tl1108050201">
<content-media type="StaticGraphic" id="cm5632898747">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108050000/tl1108050200/tl1108050201/cm5632898747.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108050000/tl1108050200/tl1108050201/cm5632898747text.xml"/></content-media>
<content-text><p>La journalisation sur la console utilise la mémoire du routeur, qui constitue une ressource limitée. Configurez plutôt un routeur qui enverra des messages de journalisation, parfois appelés messages <content-link target="{E967CDBB-3E5A-441D-AC11-09F3C8E695F8}" type="glossary">syslog</content-link>, à un serveur externe. Cette méthode permet de voir les messages en temps réel ou ultérieurement. </p> <p>Les types d’événements indiqués comprennent l’état :</p> <p><ul><li> des interfaces du routeur ;</li><li> des protocoles utilisés ;</li><li> de l’utilisation de la bande passante ;</li><li> des messages de liste de contrôle d’accès ;</li><li> des événements de configuration.</li></ul></p> <p>Il est conseillé d’inclure l’option permettant de notifier un administrateur réseau par courriel, téléavertisseur ou téléphone portable lorsqu’un événement critique se produit. </p> <p>Parmi les autres options configurables, citons :</p> <p><ul><li> la notification de réception de nouveaux messages ;</li><li> le tri et le regroupement des messages ;</li><li> le filtrage des messages par gravité ;</li><li> la suppression de tous les messages ou des messages sélectionnés.</li></ul></p> <p>Le logiciel Syslog est disponible depuis de nombreuses ressources. Le niveau des rapports et la facilité d’utilisation varient selon le prix, mais d’autres programmes gratuits sont également disponibles sur Internet. </p> <p>Syslog est un protocole pris en charge par l’ensemble du matériel réseau, y compris les commutateurs, routeurs, pare-feu, systèmes de stockage, modems, équipements sans fil et hôtes UNIX.</p></content-text>
</page>
<page type="OneColumn" id="tl1108050202">
<content-media type="StaticGraphic" id="cm9485303320">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108050000/tl1108050200/tl1108050202/cm9485303320.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108050000/tl1108050200/tl1108050202/cm9485303320text.xml"/></content-media>
<content-text><p>Pour utiliser un serveur syslog, installez le logiciel sur un serveur Windows, Linux, UNIX ou MAC OS et configurez le routeur de sorte qu’il envoie les événements consignés au serveur syslog.</p> <p>Voici l’exemple d’une commande qui spécifie l’adresse IP de l’hôte où est installé le serveur syslog : </p> <p><span class="cmd"><b>logging 192.168.3.11</b> </span></p> <p>Lorsque vous souhaitez résoudre un problème, définissez toujours l’horodatage du service pour la journalisation. Assurez-vous que la date et l’heure du routeur sont correctes de sorte que l’horodatage soit approprié dans les fichiers de journalisation.</p> <p>Utilisez la commande show clock pour vérifier la date et l’heure. </p> <span class="cmd"><p>R1&gt;<b>show clock</b></p></span> <span class="cmd"><p>*00:03:45.213 UTC Mon Mar 1 2007</p></span> <p>Pour régler l’horloge, définissez d’abord le fuseau horaire. Utilisez le fuseau horaire de Greenwich (<content-link target="{9B9C4FF9-FF51-4D41-A4B8-FB2B43A55686}" type="glossary">GMT</content-link>) et réglez l’horloge. Notez que la commande <span class="cmd"><b>clock set</b></span> n’est pas utilisée en mode de configuration. </p> <p>Pour définir le fuseau horaire :</p> <p><span class="cmd">R1(config)#<b>clock timezone CST -6</b></span></p> <p>Pour régler l’horloge :</p> <p><span class="cmd">R1#<b>clock set 10:25:00 Sep 10 2007</b></span></p></content-text>
</page>
<page type="OneColumn" id="tl1108050203">
<content-media type="ActivityLab" id="cm7261429147">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108050000/tl1108050200/tl1108050203/cm7261429147/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1108000000/tl1108050000/tl1108050200/tl1108050203/cm7261429147/icontext.xml"/></content-media>
<content-text><p><b>Travaux pratiques </b></p> <p> </p> <p>Configurez des listes de contrôle d’accès et téléchargez un serveur syslog qui enregistrera l’activité de ces listes.</p><p><b>Cliquez sur l’icône des travaux pratiques pour commencer.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1108050300">
<title><content-text>Méthodes recommandées pour les listes de contrôle d’accès</content-text></title>
<page type="OneColumn" id="tl1108050301">
<content-media type="StaticGraphic" id="cm8839482968">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108050000/tl1108050300/tl1108050301/cm8839482968.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108050000/tl1108050300/tl1108050301/cm8839482968text.xml"/></content-media>
<content-text><p>Les listes de contrôle d’accès constituent un outil de filtrage très puissant. Elles sont actives dès leur application à une interface.</p> <p>Il est préférable de passer un peu plus de temps à planifier et à résoudre les problèmes avant d’appliquer une liste de contrôle d’accès, plutôt que de résoudre les problèmes après l’application de ces listes.</p> <p>Testez toujours la connectivité de base avant d’appliquer les listes de contrôle d’accès. Si une requête ping envoyée à un hôte échoue à cause d’un câble défectueux ou d’un problème de configuration de l’IP, la liste de contrôle d’accès peut compliquer le problème et rendre sa résolution plus difficile. </p> <p>Lors de la journalisation, ajoutez l’instruction <span class="cmd"><b>deny ip any</b></span> à la fin de la liste de contrôle d’accès. Cette instruction permet de suivre le nombre de correspondances pour les paquets refusés. </p> <p>Utilisez la commande <span class="cmd"><b>reload in 30</b></span> lorsque vous utilisez des routeurs distants et que vous testez la fonctionnalité de la liste de contrôle d’accès. Si une erreur dans la liste de contrôle d’accès bloque l’accès au routeur, la connectivité à distance peut être refusée. Avec cette commande, le routeur recharge sa configuration initiale après 30 minutes. Lorsque vous êtes satisfait du fonctionnement de la liste de contrôle d’accès, copiez la configuration en cours dans la configuration initiale.</p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="tl1108060000">
<title><content-text>Résumé du chapitre</content-text></title>
<topic type="" id="tl1108060100">
<title><content-text>Résumé</content-text></title>
<page type="FullScreen" id="tl1108060101">
<content-media type="ChapterSummary" id="cm3043535274">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108060000/tl1108060100/tl1108060101/cm3043535274.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108060000/tl1108060100/tl1108060101/cm3043535274text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
<topic type="" id="tl1108060200">
<title><content-text>Esprit critique</content-text></title>
<page type="FullScreen" id="tl1108060201">
<content-media type="ActivityCustom" id="cm4092632963">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108060000/tl1108060200/tl1108060201/cm4092632963.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1108000000/tl1108060000/tl1108060200/tl1108060201/cm4092632963text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="tl1108070000">
<title><content-text>Questionnaire du chapitre</content-text></title>
<topic type="" id="tl1108070100">
<title><content-text>Questionnaire</content-text></title>
<page type="OneColumn" id="tl1108070101">
<content-media type="ChapterQuiz" id="cm9026205814">	<title><content-text></content-text></title>	<media ref="tl1108000000/tl1108070000/tl1108070100/tl1108070101/cm9026205814/" mime="" scale="true" type="directory" width="100%" height="100%" external="tl1108000000/tl1108070000/tl1108070100/tl1108070101/cm9026205814/icontext.xml"/></content-media>
<content-text><p>Répondez au questionnaire de ce chapitre pour tester vos connaissances.</p> <p><b>Cliquez sur l’icône du questionnaire pour commencer.</b></p></content-text>
</page>
</topic>
</section>
</chapter>
