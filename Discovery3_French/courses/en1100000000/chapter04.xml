<chapter type="" id="en1104000000">
<title><content-text>Addressing in an Enterprise Network</content-text></title>
<section type="ChapterIntroduction" id="en1104000000">
<title><content-text>Chapter Introduction</content-text></title>
<topic type="" id="en1104000100">
<title><content-text>Introduction</content-text></title>
<page type="FullScreen" id="en1104000101">
<content-media type="ChapterIntroduction" id="cm9962306610">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104000000/en1104000100/en1104000101/cm9962306610.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104000000/en1104000100/en1104000101/cm9962306610text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
<section type="" id="en1104010000">
<title><content-text>Using a Hierarchical IP Network Address Scheme</content-text></title>
<topic type="" id="en1104010100">
<title><content-text>Flat and Hierarchical Networks</content-text></title>
<page type="OneColumn" id="en1104010101">
<content-media type="AnimationPartialScreen" id="cm3063426092">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104010000/en1104010100/en1104010101/cm3063426092.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104010000/en1104010100/en1104010101/cm3063426092text.xml"/></content-media>
<content-text><p>Implementing switches reduces the number of collisions that occur within a local network. However, having an all-switched network often creates a single <content-link target="{19297079-5C57-49B3-974C-4B743718B64C}" type="glossary">broadcast domain</content-link>. In a single broadcast domain, or <content-link target="{0E4B03F4-98B9-4954-B9E2-1D9A0FB0268C}" type="glossary">flat network</content-link>, every device is in the same network and receives each broadcast. In small networks, a single broadcast domain is acceptable. </p> <p>With large numbers of hosts, a flat network becomes less efficient. As the number of hosts increases in a switched network, so do the number of broadcasts sent and received. Broadcast packets take up a lot of bandwidth, causing traffic delays and timeouts.</p> <p>Creating VLANs provides one solution to a large, flat network. Each VLAN is its own broadcast domain. </p> <p>Implementing a <content-link target="{B504ABC5-C427-4B42-819A-2DD568A57B25}" type="glossary">hierarchical network</content-link> using routers is another solution.</p></content-text>
</page>
</topic>
<topic type="" id="en1104010200">
<title><content-text>Hierarchical Network Addressing</content-text></title>
<page type="OneColumn" id="en1104010201">
<content-media type="InteractiveGraphicHotspots" id="cm5895154905">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104010000/en1104010200/en1104010201/cm5895154905.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104010000/en1104010200/en1104010201/cm5895154905text.xml"/></content-media>
<content-text><p>Enterprise networks are large, and benefit from a <content-link target="{059E4AA4-C149-4F85-933C-DFF323E928DA}" type="glossary">hierarchical network design</content-link> and address structure. A hierarchical addressing structure logically groups networks into smaller subnetworks. </p> <p>An effective hierarchical address scheme consists of a classful network address in the Core Layer that is subdivided into successively smaller subnets in the Distribution and Access Layers. </p> <p>It is possible to have a hierarchical network without hierarchical addressing. Although the network still functions, the effectiveness of the network design decreases and certain routing protocol features, such as route summarization, do not work properly. </p> <p>In enterprise networks with many geographically separate locations, a hierarchical network design and address structure simplifies network management and troubleshooting and also improves scalability and routing performance.</p></content-text>
</page>
</topic>
<topic type="" id="en1104010300">
<title><content-text>Using Subnetting to Structure the Network</content-text></title>
<page type="OneColumn" id="en1104010301">
<content-media type="StaticGraphic" id="cm7528928482">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104010000/en1104010300/en1104010301/cm7528928482.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104010000/en1104010300/en1104010301/cm7528928482text.xml"/></content-media>
<content-text><p>There are many reasons to divide the network into subnets, including:</p> <p><ul><li> Physical location</li><li> Logical grouping</li><li> Security</li><li> Application requirements</li><li> Broadcast containment</li><li> Hierarchical network design</li></ul></p> <p>For example, if an organization uses a 10.0.0.0 network for the enterprise, they might use an addressing scheme such as 10.<b>X.Y.</b>0, where <b>X </b>represents a geographical location and <b>Y</b> represents a building or floor within that location. This addressing scheme allows for:</p> <p><ul><li> 255 different geographical locations</li><li> 255 buildings in each location</li><li> 254 hosts within each building </li></ul></p></content-text>
</page>
<page type="FullScreen" id="en1104010302">
<content-media type="ActivityMCSACheckbox" id="cm1721770502">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104010000/en1104010300/en1104010302/cm1721770502.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104010000/en1104010300/en1104010302/cm1721770502text.xml"/></content-media>
<content-text><p><b>Full Screen Activity</b></p> <p><b>Activity</b></p> <p>For each scenario, indicate whether a hierarchical addressing scheme using subnets should be used to structure the network. </p></content-text>
</page>
</topic>
</section>
<section type="" id="en1104020000">
<title><content-text>Using VLSM</content-text></title>
<topic type="" id="en1104020100">
<title><content-text>Subnet Mask</content-text></title>
<page type="OneColumn" id="en1104020101">
<content-media type="StaticGraphic" id="cm5408218331">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104020000/en1104020100/en1104020101/cm5408218331.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104020000/en1104020100/en1104020101/cm5408218331text.xml"/></content-media>
<content-text><p>To use subnetting to create a hierarchical design, it is crucial to have a clear understanding of the structure of the subnet mask. </p> <p>The subnet mask indicates whether hosts are in the same network. The subnet mask is a 32-bit value that distinguishes between the network bits and the host bits. It consists of a string of 1s followed by a string of 0s. The 1 bits represent the network portion and the 0 bits represent the host portion.</p> <p><ul><li> Class A addresses use a <b>default subnet mask</b> of 255.0.0.0 or a <b>slash notation</b> of /8</li><li> Class B addresses use a default mask of 255.255.0.0 or /16</li><li> Class C addresses use a default mask of 255.255.255.0 or /24</li></ul></p> <p>The /x refers to the number of bits in the subnet mask that comprise the network portion of the address.</p> <p>In an enterprise network, subnet masks vary in length. LAN segments often contain varying numbers of hosts; therefore, it is not efficient to have the same subnet mask length for all subnets created. </p></content-text>
</page>
<page type="FullScreen" id="en1104020102">
<content-media type="ActivityCustom" id="cm8381658627">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104020000/en1104020100/en1104020102/cm8381658627.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104020000/en1104020100/en1104020102/cm8381658627text.xml"/></content-media>
<content-text><p><b>Full Screen</b></p> <p> </p> <p><b>Activity</b></p> <p>Enter the slash notation, number of host bits, and number of hosts possible based on the subnet mask displayed.</p></content-text>
</page>
</topic>
<topic type="" id="en1104020200">
<title><content-text>Calculating Subnets Using Binary Representation</content-text></title>
<page type="OneColumn" id="en1104020201">
<content-media type="AnimationPartialScreen" id="cm3459220039">	<title><content-text>Click Play to view the ANDing process to determine if H1 and H2 are on the same subnet.</content-text></title>	<media ref="en1104000000/en1104020000/en1104020200/en1104020201/cm3459220039.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104020000/en1104020200/en1104020201/cm3459220039text.xml"/></content-media>
<content-text><p>When one host needs to communicate with another, it determines its network address and the destination network address by applying its subnet mask to both its IPv4 address and to the destination IPv4 address. This is done to determine if the two addresses are on the same local network. </p> <p>The subnet mask is a 32 bit value used to distinguish between the network bits and the host bits of the IP address. The subnet mask is made up of a string of 1s followed by a string of 0s. The 1s indicate the number of network bits and the 0s indicate the number of host bits within the IP address. The network bits are compared between the source and destination. If the resulting networks are the same, the packet can be delivered locally. If they do not match, the packet is sent to the default gateway. </p> <p>For example, assume that H1, with the IP address of 192.168.1.44 and subnet mask of 255.255.255.0, or /24, needs to send a message to H2, with the IP address of 192.168.1.66 and a subnet mask of 255.255.255.0. In this instance, both hosts have a default subnet mask of 255.255.255.0, which means the network bits end on the octet boundary, the third octet. Both hosts have the same network bits of 192.168.1, and therefore are on the same network.</p></content-text>
</page>
<page type="OneColumn" id="en1104020202">
<content-media type="InteractiveGraphicRollovers" id="cm6160120088">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104020000/en1104020200/en1104020202/cm6160120088.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104020000/en1104020200/en1104020202/cm6160120088text.xml"/></content-media>
<content-text><p>While it is fairly easy to see the network and host portion of an IP address when the subnet mask ends on the network boundary, the process of determining the network bits is the same even when the network portion does not take up the entire octet. For example, H1 has an IP address of 192.168.13.21 with a subnet mask of 255.255.255.248, or /29. This means out of 32 bits, 29 of them make up the network portion. The network bits take up all of the first three octets and extend into the fourth octet. In this instance, the value of the network ID is 192.168.13.16. </p> <p>If H1, with the IP address of 192.168.13.21/29 address needed to communicate with another host, H2, with the address of 192.168.13.25/29, the network portion of the two hosts must be compared to determine if the two are on the same local network. In this case, H1 has a network value of 192.168.13.16, whereas H2 has a network value of 192.168.13.24. H1 and H2 are not on the same network and require the use of a router to communicate.</p></content-text>
</page>
<page type="FullScreen" id="en1104020203">
<content-media type="ActivityMCSACheckbox" id="cm4952056877">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104020000/en1104020200/en1104020203/cm4952056877.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104020000/en1104020200/en1104020203/cm4952056877text.xml"/></content-media>
<content-text><p><b>Full Screen </b></p> <p><b>Activity</b></p> <p>Determine if the two hosts are on the same network.</p></content-text>
</page>
</topic>
<topic type="" id="en1104020300">
<title><content-text>Basic Subnetting Process</content-text></title>
<page type="OneColumn" id="en1104020301">
<content-media type="InteractiveGraphicHotspots" id="cm3199924079">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104020000/en1104020300/en1104020301/cm3199924079.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104020000/en1104020300/en1104020301/cm3199924079text.xml"/></content-media>
<content-text><p>Using a hierarchical addressing scheme, much information can be determined by looking at only an IP address and slash notation (/x) subnet mask. For example, an IP address of 192.168.1.75 /26 shows the following information:</p> <p><b>Decimal subnet mask </b></p> <p><ul><li> The /26 translates to a subnet mask of 255.255.255.192.</li></ul></p> <p><b>Number of subnets created</b></p> <p><ul><li> Assuming we started with the default /24 subnet mask, we borrowed 2 additional host bits for the network. This creates 4 subnets (2^2 = 4).</li></ul></p> <p><b>Number of usable hosts per subnet</b></p> <p><ul><li> Six bits are left on the host side creating 62 hosts per subnet (2^6 = 64 - 2 = 62).</li></ul></p> <p><b>Network address</b></p> <p><ul><li> Using the subnet mask to determine the placement of network bits, the value of the network address is given. In this example, the value is 192.168.1.64.</li></ul></p> <p><b>First usable host address</b></p> <p><ul><li> A host cannot have all 0s within the host bits, because that represents the network address of the subnet. Therefore, the first usable host address within the .64 subnet is .65</li></ul></p> <p><b>Broadcast address</b></p> <p><ul><li> A host cannot have all 1s within the host bits because that represents the broadcast address of the subnet. In this cast, the broadcast address is .127. 128 starts the network address of the next subnet.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en1104020302">
<content-media type="ActivityLab" id="cm5444636955">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104020000/en1104020300/en1104020302/cm5444636955/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1104000000/en1104020000/en1104020300/en1104020302/cm5444636955/icontext.xml"/></content-media>
<content-text><p><b>Lab Activity</b></p> <p>Design and apply an IP addressing subnet scheme for a given topology. </p><p><b>Click the lab icon to begin.</b></p></content-text>
</page>
</topic>
<topic type="" id="en1104020400">
<title><content-text>Variable Length Subnet Masks (VLSM)</content-text></title>
<page type="OneColumn" id="en1104020401">
<content-media type="InteractiveGraphicRollovers" id="cm2938627110">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104020000/en1104020400/en1104020401/cm2938627110.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104020000/en1104020400/en1104020401/cm2938627110text.xml"/></content-media>
<content-text><p>Basic subnetting is sufficient for smaller networks but does not provide the flexibility needed in larger enterprise networks. </p> <p>Variable Length Subnet Masks (<content-link target="{28246831-44DE-4F5C-968F-05C070B4C348}" type="glossary">VLSM</content-link>) provide for efficient use of address space. It also allows for hierarchal IP addressing which allows routers to take advantage of <content-link target="{4A657CE9-C663-4147-858D-1AE05546D1F0}" type="glossary">route summarization</content-link>. Route summarization reduces the size of routing tables in distribution and core routers. Smaller routing tables require less CPU time for routing lookups. </p> <p>VLSM is the concept of subnetting a subnet. It was initially developed to maximize addressing efficiency. With the advent of private addressing, the primary advantage of VLSM now is organization and summarization. </p> <p>Not all routing protocols support VLSM. Classful routing protocols, such as RIPv1, do not include a subnet mask field with a routing update. A router with a subnet mask assigned to its interface assumes that all packets within that same class have the same subnet mask assigned. </p> <p>Classless routing protocols support the use of VLSM because the subnet mask is sent with all routing update packets. Classless routing protocols include RIPv2, EIGRP, and OSPF.</p> <p><b>Benefits of VLSM:</b></p> <p><ul><li> Allows efficient use of address space </li><li> Allows the use of multiple subnet mask lengths </li><li> Breaks up an address block into smaller blocks</li><li> Allows for route summarization </li><li> Provides more flexibility in network design </li><li> Supports hierarchical enterprise networks</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en1104020402">
<content-media type="InteractiveGraphicHotspots" id="cm7568344513">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104020000/en1104020400/en1104020402/cm7568344513.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104020000/en1104020400/en1104020402/cm7568344513text.xml"/></content-media>
<content-text><p>VLSM allows the use of different masks for each subnet. After a network address is subnetted, further division of those subnets creates <b><u><content-link target="{35D465F5-1370-46B2-9D8E-26694C985CEA}" type="glossary">sub-subnets</content-link></u></b>. </p> <p>For example, network 10.0.0.0/8 with a subnet mask of /16 subdivides into 256 subnets, each capable of addressing 16,382 hosts.</p> <p>10.0.0.0/16</p> <p>10.1.0.0/16</p> <p>10.2.0.0/16 up to 10.255.0.0/16</p> <p>Applying a subnet mask of /24 to any one of these /16 subnets, such as 10.1.0.0/16, results in a subdivision of 256 subnets. Each one of these new subnets is capable of addressing 254 hosts. </p> <p>10.1.1.0/24</p> <p>10.1.2.0/24</p> <p>10.1.3.0/24 up to 10.1.255.0/24</p> <p>Applying a subnet mask of /28 to any one of these /24 subnets, such as 10.1.3.0/28, results in a subdivision of 16 subnets. Each one of these new subnets is capable of addressing 14 hosts. </p> <p>10.1.3.0/28</p> <p>10.1.3.16/28</p> <p>10.1.3.32/28 up to 10.1.3.240/28</p></content-text>
</page>
<page type="FullScreen" id="en1104020403">
<content-media type="ActivityDnDSnapback" id="cm1607152193">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104020000/en1104020400/en1104020403/cm1607152193.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104020000/en1104020400/en1104020403/cm1607152193text.xml"/></content-media>
<content-text><p><b>Full Screen</b></p> <p><b>Activity</b></p> <p>Determine the /slash format of the subnet mask necessary to accommodate the required number of hosts.</p></content-text>
</page>
</topic>
<topic type="" id="en1104020500">
<title><content-text>Implementing VLSM Addressing</content-text></title>
<page type="OneColumn" id="en1104020501">
<content-media type="InteractiveGraphicRollovers" id="cm9711973866">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104020000/en1104020500/en1104020501/cm9711973866.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104020000/en1104020500/en1104020501/cm9711973866text.xml"/></content-media>
<content-text><p>Designing an IP addressing scheme with VLSM takes practice and planning. As a practice example, a network has the following requirements: </p> <p><ul><li> Atlanta HQ = 58 host addresses</li><li> Perth HQ = 26 host addresses</li><li> Sydney HQ = 10 host addresses</li><li> Corpus HQ = 10 host addresses</li><li> WAN links = 2 host addresses (each)</li></ul></p> <p>A subnet of /26 is required to accommodate the largest network segment of 58 hosts. Using a basic subnetting scheme is not only wasteful, but creates only four subnets. This is not enough to address each of the required seven LAN/WAN segments. A VLSM addressing scheme resolves this problem.</p></content-text>
</page>
<page type="OneColumn" id="en1104020502">
<content-media type="InteractiveGraphicHotspots" id="cm7244289962">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104020000/en1104020500/en1104020502/cm7244289962.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104020000/en1104020500/en1104020502/cm7244289962text.xml"/></content-media>
<content-text><p>When implementing a VLSM subnetting scheme, always allow for some growth in the number of hosts when planning subnet requirements.</p></content-text>
</page>
<page type="OneColumn" id="en1104020503">
<content-media type="StaticGraphic" id="cm7494105087">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104020000/en1104020500/en1104020503/cm7494105087.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104020000/en1104020500/en1104020503/cm7494105087text.xml"/></content-media>
<content-text><p>Multiple tools exist to assist with address planning. </p> <p><b>VLSM Chart</b></p> <p>One method uses a VLSM chart to identify which blocks of addresses are available and which ones are already assigned. </p> <p><b>VLSM Circle</b></p> <p>Another method uses a circle approach. The circle is cut into increasingly smaller segments, representing the smaller subnets. </p> <p>These methods prevent assigning addresses that are already allocated. It also helps to avoid assigning address ranges that overlap. </p></content-text>
</page>
<page type="FullScreen" id="en1104020504">
<content-media type="ActivityCustom" id="cm6412188920">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104020000/en1104020500/en1104020504/cm6412188920.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104020000/en1104020500/en1104020504/cm6412188920text.xml"/></content-media>
<content-text><p>Full Screen</p> <p><b>Activity</b></p> <p>Create an IP addressing scheme for the specified requirements. </p></content-text>
</page>
<page type="OneColumn" id="en1104020505">
<content-media type="ActivityLab" id="cm2370472167">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104020000/en1104020500/en1104020505/cm2370472167/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1104000000/en1104020000/en1104020500/en1104020505/cm2370472167/icontext.xml"/></content-media>
<content-text><p><b>Lab Activity</b></p> <p>Use VLSM to provide the IP addressing for a given topology. </p><p><b>Click the lab icon to begin.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="en1104030000">
<title><content-text>Using Classless Routing and CIDR</content-text></title>
<topic type="" id="en1104030100">
<title><content-text>Classful and Classless Routing</content-text></title>
<page type="OneColumn" id="en1104030101">
<content-media type="StaticGraphic" id="cm6547374448">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104030000/en1104030100/en1104030101/cm6547374448.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104030000/en1104030100/en1104030101/cm6547374448text.xml"/></content-media>
<content-text><p>Technology such as VLSM enables the classful IPv4 addressing system to evolve into a classless system. Classless addressing has made the exponential growth of the Internet possible. </p> <p>Classful addresses consist of the three major classes of IP addresses and an associated default subnet mask:</p> <p><ul><li> Class A (255.0.0.0 or /8)</li><li> Class B (255.255.0.0 or /16)</li><li> Class C (255.255.255.0 or /24)</li></ul></p> <p>A company with a Class A network address has over 16 million host addresses available, with a Class B network address, over 65,000 hosts, and with a Class C, only 254 hosts. Since there is a limited number of Class A and Class B addresses in circulation, many companies purchased multiple Class C addresses in order to obtain enough addresses to satisfy their network requirements. </p> <p>As a result, purchasing multiple Class C addresses has used up the Class C address space more quickly than originally planned. </p></content-text>
</page>
<page type="OneColumn" id="en1104030102">
<content-media type="InteractiveGraphicHotspots" id="cm3758591590">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104030000/en1104030100/en1104030102/cm3758591590.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104030000/en1104030100/en1104030102/cm3758591590text.xml"/></content-media>
<content-text><p>In classful IP addresses, the value of the first octet, or the first three bits, determines whether the major network is a Class A, B, or C. Each major network has a default subnet mask of 255.0.0.0, 255.255.0.0, or 255.255.255.0 respectively. </p> <p><b>Classful routing protocols</b>, such as RIPv1, do not include the subnet mask in routing updates. Since the subnet mask is not included, the receiving router makes certain assumptions.</p> <p>Using a classful protocol, if a router sends an update about a subnetted network, such as 172.16.1.0/24, to a router whose connecting interface is on the same major network as that in the update, such as 172.16.2.0/24 then:</p> <p><ul><li> The sending router advertises the full network address but without a subnet mask. In this case, the network address is 172.16.1.0.</li><li> The receiving router, with a configured interface of 172.16.2.0/24, adopts the subnet mask of the configured interface and applies it to the advertised network. Therefore, in the example, the receiving router assumes the subnet mask of 255.255.255.0 applies to the 172.16.1.0 network.</li></ul></p> <p>If the router sends an update about a subnetted network, such as 172.16.1.0/24, to a router whose connecting interface is in a different major network, such as 192.168.1.0/24:</p> <p><ul><li> The sending router advertises the major classful network address only, not the subnetted address. In this case, the address advertised is 172.16.0.0.</li><li> The receiving router assumes the default subnet mask for this network. The default subnet mask for a class B address is 255.255.0.0.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en1104030103">
<content-media type="StaticGraphic" id="cm7194676665">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104030000/en1104030100/en1104030103/cm7194676665.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104030000/en1104030100/en1104030103/cm7194676665text.xml"/></content-media>
<content-text><p>With the rapid depletion of IPv4 addresses, the Internet Engineering Task Force (<content-link target="{8C547DC7-7D1F-4933-9D95-CA306906986B}" type="glossary">IETF</content-link>) developed Classless Inter-Domain Routing (<content-link target="{6E2D5D02-50F2-4361-A22A-A18F2540A9FE}" type="glossary">CIDR</content-link>). CIDR uses IPv4 address space more efficiently and for network address aggregation or summarizing, which reduces the size of routing tables. </p> <p>The use of CIDR requires a <content-link target="{91870B25-FF5F-4B8A-87CE-2E03FE94732B}" type="glossary">classless routing protocol</content-link>, such as RIPv2 or EIGRP or static routing. To CIDR-compliant routers, address class is meaningless. The network subnet mask determines the network portion of the address. This is also known as the network prefix, or <content-link target="{D4D8EED7-999A-461C-9243-35478FBF3714}" type="glossary">prefix length</content-link>. The class of the address no longer determines the network address.</p> <p>ISPs assign blocks of IP addresses to a network based on the requirements of the customer, ranging from a few hosts to hundreds or thousands of hosts. With CIDR and VLSM, ISPs are no longer limited to using prefix lengths of /8, /16 or /24.</p></content-text>
</page>
<page type="OneColumn" id="en1104030104">
<content-media type="StaticGraphic" id="cm8343895239">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104030000/en1104030100/en1104030104/cm8343895239.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104030000/en1104030100/en1104030104/cm8343895239text.xml"/></content-media>
<content-text><p>Classless routing protocols that can support VLSM and CIDR include interior gateway protocols (<content-link target="{966AD3DA-930A-4B46-8833-3446E4FC9E9D}" type="glossary">IGP</content-link>s) RIPv2, EIGRP, OSPF, and IS-IS. ISPs also use exterior gateway protocols (<content-link target="{5F3C5590-0CC4-4E9A-B8FB-AC269CA2EEE4}" type="glossary">EGP</content-link>s) such as Border Gateway Protocol (<content-link target="{CF4E80EE-2F85-4FEE-8951-8561876C9C9D}" type="glossary">BGP</content-link>). </p> <p>The difference between the classful routing protocols and classless routing protocols is that the classless routing protocols include subnet mask information with the network address information in the routing updates. Classless routing protocols are necessary when the mask cannot be assumed or determined by the value of the first octet.</p> <p>In a classless protocol, if a router sends an update about a network, such as 172.16.1.0, to a router whose connecting interface is on the same major network as that in the update, such as 172.16.2.0/24 then:</p> <p><ul><li> The sending router advertises all subnetworks with subnet mask information.</li></ul></p> <p>If the router sends an update about a subnetted network, such as 172.16.1.0/24, to a router whose connecting interface is in a different major network, such as 192.168.1.0/24 then:</p> <p><ul><li> The sending router, by default, summarizes all of the subnets and advertises the major classful network along with the summarized subnet mask information. This process is often referred to as summarizing on a network boundary. While most classless routing protocols enable summarization on the network boundary by default, the process of summarizing can be disabled. </li><li> When summarization is disabled, the sending router advertises all subnetworks with subnet mask information.</li></ul></p></content-text>
</page>
</topic>
<topic type="" id="en1104030200">
<title><content-text>CIDR and Route Summarization</content-text></title>
<page type="OneColumn" id="en1104030201">
<content-media type="StaticGraphic" id="cm3216804139">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104030000/en1104030200/en1104030201/cm3216804139.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104030000/en1104030200/en1104030201/cm3216804139text.xml"/></content-media>
<content-text><p>The rapid growth of the Internet has caused the number of routes to networks around the world to increase dramatically. This growth results in heavy loads on Internet routers. A VLSM addressing scheme allows for route summarization, which reduces the number of routes advertised. </p> <p>Route summarization groups contiguous subnets or networks using a single address. Route summarization is also known as <content-link target="{AEBE5FDE-EACB-4338-910C-FBA13B066778}" type="glossary">route aggregation</content-link> and occurs at a <content-link target="{76818E81-7680-4A59-857D-604BB2469102}" type="glossary">network boundary</content-link> on a boundary router. </p> <p>Summarization decreases the number of entries in routing updates and lowers the number of entries in local routing tables. It also reduces bandwidth utilization for routing updates and results in faster routing table lookups.</p> <p>Route summarization is synonymous with the term <content-link target="{BB6BFBA8-51A6-4274-8599-4E9B6FBA8222}" type="glossary">supernetting</content-link>. Supernetting is the opposite of subnetting. Supernetting joins multiple smaller contiguous networks together.</p> <p>If the network bits are greater than the default value for that class, this represents a subnet. An example is 172.16.3.0/26. For a Class B address, any network prefix value greater than /16 is a subnet.</p> <p>If the network bits are less than the default value for the class value, this represents a supernet. An example is 172.16.0.0/14. For a Class B address, any network prefix less than /16 represents a supernet.</p></content-text>
</page>
<page type="OneColumn" id="en1104030202">
<content-media type="InteractiveGraphicRollovers" id="cm4785458796">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104030000/en1104030200/en1104030202/cm4785458796.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104030000/en1104030200/en1104030202/cm4785458796text.xml"/></content-media>
<content-text><p>A border router advertises all of the known networks within an enterprise to the ISP. If there are eight different networks, the router would have to advertise all eight. If every enterprise followed this pattern, the routing table of the ISP would be huge. </p> <p>Using route summarization, a router groups the networks together, if they are contiguous, and advertises them as one large group. For example, a company has a single listing in the phone book for their main office, even though you can dial individual employee extensions directly.</p> <p>It is easier to perform summarization if the addressing scheme is hierarchical. Assign similar networks to the same enterprise so that grouping them using CIDR is possible.</p></content-text>
</page>
<page type="FullScreen" id="en1104030203">
<content-media type="ActivityMCSACheckbox" id="cm4970961901">	<title><content-text>Check either Subnet or Route Summary based on the IP address provided.</content-text></title>	<media ref="en1104000000/en1104030000/en1104030200/en1104030203/cm4970961901.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104030000/en1104030200/en1104030203/cm4970961901text.xml"/></content-media>
<content-text><p>Full Screen</p> <p><b>Activity</b></p> <p>Determine if the IP address with the CIDR information is a subnet or a route summary. </p></content-text>
</page>
</topic>
<topic type="" id="en1104030300">
<title><content-text>Calculating Route Summarization</content-text></title>
<page type="OneColumn" id="en1104030301">
<content-media type="InteractiveGraphicHotspots" id="cm1763672718">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104030000/en1104030300/en1104030301/cm1763672718.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104030000/en1104030300/en1104030301/cm1763672718text.xml"/></content-media>
<content-text><p>To calculate a route summary requires summarizing networks into a single address. This process is performed in three steps. </p> <p>Step 1</p> <p>List the networks in binary format. </p> <p>Step 2</p> <p>Count the number of left-most matching bits to determine the mask for the summary route. This number represents the network prefix or subnet mask for the summarized route. An example is /14 or 255.252.0.0.</p> <p>Step 3</p> <p>Determine the summarized network address. Copy the matching bits and then add 0 bits to the end. A quicker method is to use the lowest network value. </p> <p>If a contiguous hierarchical addressing scheme is not used, it may not be possible to summarize routes. If the network addresses do not have common bits from left to right, a summary mask cannot be applied.</p></content-text>
</page>
<page type="FullScreen" id="en1104030302">
<content-media type="ActivityMCMA" id="cm1152368984">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104030000/en1104030300/en1104030302/cm1152368984.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104030000/en1104030300/en1104030302/cm1152368984text.xml"/></content-media>
<content-text><p>Full Screen</p> <p><b>Activity</b></p> <p>Select the best summary route for the contiguous address groups shown.</p></content-text>
</page>
<page type="OneColumn" id="en1104030303">
<content-media type="ActivityLab" id="cm8636217825">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104030000/en1104030300/en1104030303/cm8636217825/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1104000000/en1104030000/en1104030300/en1104030303/cm8636217825/icontext.xml"/></content-media>
<content-text><p><b>Lab Activity</b></p> <p>Determine summarized routes to reduce the number of entries in routing tables.</p><p><b>Click the lab icon to begin.</b></p></content-text>
</page>
</topic>
<topic type="" id="en1104030400">
<title><content-text>Discontiguous Subnets</content-text></title>
<page type="OneColumn" id="en1104030401">
<content-media type="StaticGraphic" id="cm7796635248">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104030000/en1104030400/en1104030401/cm7796635248.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104030000/en1104030400/en1104030401/cm7796635248text.xml"/></content-media>
<content-text><p>Either an administrator configures route summarization manually or certain routing protocols perform the same function automatically. RIPv1 and EIGRP are examples of routing protocols that perform automatic summarization. It is important to control the summarization so that routers do not advertise misleading networks. </p> <p>Suppose that three routers each connect to Ethernet interfaces with addresses using subnets from a Class C network, such as 192.168.3.0. The three routers also connect to each other via serial interfaces configured using another major network, such as 172.16.100.0/24. Classful routing results in each router advertising the major Class C network without a subnet mask. As a result, the middle router receives advertisements about the same network from two different directions. This scenario is called a <content-link target="{E08D0328-2356-44EE-9951-4D9FCD3195ED}" type="glossary">discontiguous</content-link> network.</p> <p>Discontiguous networks cause unreliable or suboptimal routing. To avoid this condition, an administrator can:</p> <p><ul><li> Modify the addressing scheme, if possible</li><li> Use a classless routing protocol, such as RIPv2 or OSPF</li><li> Turn automatic summarization off</li><li> Manually summarize at the classful boundary</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en1104030402">
<content-media type="AnimationPartialScreen" id="cm8622653897">	<title><content-text>Click Play to view the effects of discontiguous networks.</content-text></title>	<media ref="en1104000000/en1104030000/en1104030400/en1104030402/cm8622653897.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104030000/en1104030400/en1104030402/cm8622653897text.xml"/></content-media>
<content-text><p>Even after careful planning, it is still possible to have a situation in which a discontiguous network exists. The following traffic and routing patterns help to identify this situation:</p> <p><ul><li> One router does not have any routes to the LANs attached to another router, even though it is configured to advertise them. </li><li> A middle router has two equal-cost paths to a major network, although the subnets are separated on several network segments. </li><li> A middle router is load balancing traffic destined for any subnet of a major network.</li><li> A router appears to be receiving only half of the traffic. </li></ul></p></content-text>
</page>
<page type="OneColumn" id="en1104030403">
<content-media type="ActivityLab" id="cm7701303042">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104030000/en1104030400/en1104030403/cm7701303042/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1104000000/en1104030000/en1104030400/en1104030403/cm7701303042/icontext.xml"/></content-media>
<content-text><p><b>Lab Activity</b></p> <p>Configure a LAN with discontiguous networks to view the results.</p><p><b>Click the lab icon to begin.</b></p></content-text>
</page>
</topic>
<topic type="" id="en1104030500">
<title><content-text>Subnetting and Addressing Best Practices</content-text></title>
<page type="OneColumn" id="en1104030501">
<content-media type="InteractiveGraphicRollovers" id="cm5253405579">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104030000/en1104030500/en1104030501/cm5253405579.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104030000/en1104030500/en1104030501/cm5253405579text.xml"/></content-media>
<content-text><p>Properly implementing a VLSM addressing scheme is essential for creating a hierarchical network. When creating a VLSM addressing scheme, follow these basic guidelines:</p> <p><ul><li> Use newer routing protocols that support VLSM and discontiguous subnets.</li><li> Disable auto-summarization if necessary.</li><li> Use the same routing protocol throughout the network.</li><li> Keep the router IOS up-to-date to support the use of subnet zero. </li><li> Avoid intermixing private network address ranges in the same internetwork.</li><li> Avoid discontiguous subnets where possible.</li><li> Use VLSM to maximize address efficiency.</li><li> Assign VLSM ranges based on requirements from the largest to the smallest.</li><li> Plan for summarization using hierarchical network design and contiguous addressing design. </li><li> Summarize at network boundaries. </li><li> Use /30 ranges for WAN links.</li><li> Allow for future growth when planning for the number of subnets and hosts supported.</li></ul></p></content-text>
</page>
</topic>
</section>
<section type="" id="en1104040000">
<title><content-text>Using NAT and PAT</content-text></title>
<topic type="" id="en1104040100">
<title><content-text>Private IP Address Space</content-text></title>
<page type="OneColumn" id="en1104040101">
<content-media type="StaticGraphic" id="cm9381562565">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104040000/en1104040100/en1104040101/cm9381562565.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104040000/en1104040100/en1104040101/cm9381562565text.xml"/></content-media>
<content-text><p>In addition to VLSM and CIDR, the use of private addressing and Network Address Translation (<content-link target="{42C013FD-00B8-422F-AC82-0141E8591891}" type="glossary">NAT</content-link>) further improved the scalability of the IPv4 address space. </p> <p><content-link target="{4DDB0DCD-4DD8-443C-8057-3696A203B0D0}" type="glossary">Private addresses</content-link> are available for anyone to use in their enterprise networks because private addresses route internally, they never appear on the Internet.</p> <p>RFC 1918 governs the use of the private address spacing.</p> <p><ul><li> Class A: 10.0.0.0 - 10.255.255.255</li><li> Class B: 172.16.0.0 - 172.31.255.255</li><li> Class C: 192.168.0.0 - 192.168.255.255</li></ul></p> <p>Using private addressing has these benefits:</p> <p><ul><li> It alleviates the high cost associated with the purchase of public addresses for each host.</li><li> It allows thousands of internal employees to use a few public addresses.</li><li> It provides a level of security, because users from other networks or organizations cannot see the internal addresses. </li></ul></p></content-text>
</page>
<page type="OneColumn" id="en1104040102">
<content-media type="StaticGraphic" id="cm9887172088">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104040000/en1104040100/en1104040102/cm9887172088.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104040000/en1104040100/en1104040102/cm9887172088text.xml"/></content-media>
<content-text><p>When implementing a private addressing scheme for the internal network, apply the same hierarchical design principles that are associated with VLSM.</p> <p>Although private addresses are not routed on the Internet, they are frequently routed in the internal network. Problems associated with discontiguous networks still occur when using private addresses; therefore, carefully design the addressing scheme. </p> <p>Be sure that the addresses are properly distributed according to the concepts of VLSM. Also, use valid boundaries and hierarchical IP addressing best practices for effective use of address summarization. </p></content-text>
</page>
<page type="FullScreen" id="en1104040103">
<content-media type="ActivityDnDSnapback" id="cm2605583464">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104040000/en1104040100/en1104040103/cm2605583464.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104040000/en1104040100/en1104040103/cm2605583464text.xml"/></content-media>
<content-text><p>Full Screen</p> <p><b>Activity</b></p> <p>Determine if the IP address is public or private. </p></content-text>
</page>
</topic>
<topic type="" id="en1104040200">
<title><content-text>NAT at the Enterprise Edge</content-text></title>
<page type="OneColumn" id="en1104040201">
<content-media type="StaticGraphic" id="cm7284697213">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104040000/en1104040200/en1104040201/cm7284697213.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104040000/en1104040200/en1104040201/cm7284697213text.xml"/></content-media>
<content-text><p>Many organizations want the benefits of private addressing while connecting to the Internet. Organizations create huge LANs and WANs with private addressing and connect to the Internet using Network Address Translation (NAT). </p> <p>NAT translates internal private addresses into one or more public addresses for routing onto the Internet. NAT changes the private IP source address inside each packet to a publicly registered IP address before sending it out onto the Internet.</p> <p>Small to medium organizations connect to their ISPs through a single connection. The local boundary router configured with NAT connects to the ISP. Larger organizations may have multiple ISP connections, and the boundary router at each of these locations performs NAT.</p> <p>Using NAT on boundary routers improves security. Internal private addresses translate to different public addresses each time. This hides the actual address of hosts and servers in the enterprise. Most routers that implement NAT also block packets coming from outside the private network unless they are a response to a request from an inside host. </p></content-text>
</page>
</topic>
<topic type="" id="en1104040300">
<title><content-text>Static and Dynamic NAT</content-text></title>
<page type="OneColumn" id="en1104040301">
<content-media type="AnimationPartialScreen" id="cm3649577082">	<title><content-text>Click Play to view Static and Dynamic NAT.</content-text></title>	<media ref="en1104000000/en1104040000/en1104040300/en1104040301/cm3649577082.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104040000/en1104040300/en1104040301/cm3649577082text.xml"/></content-media>
<content-text><p>NAT can be configured statically or dynamically.</p> <p><content-link target="{3D80B864-16C5-4A98-8895-ADEAEF746FF4}" type="glossary">Static NAT</content-link> maps a single <content-link target="{A888A25F-8FF2-4D5E-87BE-A73A44A17F52}" type="glossary">inside local address</content-link> to a single global, or public address. This mapping ensures that a particular inside local address always associates with the same public address. Static NAT ensures that outside devices consistently reach an internal device. Examples include Web and FTP servers accessible to the public.</p> <p><content-link target="{55E9E04A-24F4-4050-970C-46026DEE1D90}" type="glossary">Dynamic NAT</content-link> uses an available pool of Internet public addresses and assigns them to inside local addresses. Dynamic NAT assigns the first available IP address in the pool of public addresses to an inside device. That host uses the assigned global IP address throughout the length of the session. Once the session ends, the outside global address returns to the pool for use by another host.</p> <p>The address that one internal host uses to connect to another internal host is the inside local address. The public address assigned to the organization is called the <content-link target="{A6C7B35B-D495-4021-8F20-D362EC41267D}" type="glossary">inside global address</content-link>. The inside global address is sometimes used as the address of the external interface of the border router. </p> <p>The NAT router manages the translations between the inside local addresses and the inside global addresses by maintaining a table that lists each address pair.</p></content-text>
</page>
<page type="OneColumn" id="en1104040302">
<content-media type="InteractiveGraphicRollovers" id="cm4401827332">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104040000/en1104040300/en1104040302/cm4401827332.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104040000/en1104040300/en1104040302/cm4401827332text.xml"/></content-media>
<content-text><p>When configuring either static or dynamic NAT.</p> <p><ul><li> List any servers that require a permanent outside address.</li><li> Determine which internal hosts require translation.</li><li> Determine which interfaces source the internal traffic. These will become the inside interfaces.</li><li> Determine which interface sends traffic to the Internet. This will become the outside interface. </li><li> Determine the range of public addresses available.</li></ul></p> <p><b>Configuring Static NAT</b></p> <p>1. Determine the public IP address that outside users should use to access the inside device/server. Administrators tend to use addresses from either the beginning or end of the range for static NAT. Map the inside, or private address to the public address. </p> <p>2. Configure the inside and outside interfaces.</p> <p><b>Configuring Dynamic NAT</b></p> <p>1. Identify the pool of public IP addresses available for use.</p> <p>2. Create an access control list (<content-link target="{8615B4CE-DDE6-4C2E-B285-281F96826626}" type="glossary">ACL</content-link>) to identify hosts that require translation. </p> <p>3. Assign interfaces as either inside or outside.</p> <p>4. Link the access list with the address pool.</p> <p>An important part of configuring dynamic NAT is the use of the standard access control list (ACL). The standard ACL is used to specify the range of hosts that require translation. This is done in the form of a permit or deny statement. The ACL can include an entire network, a subnet or just a specific host. The ACL can range from a single line to several permit and deny statements.</p></content-text>
</page>
<page type="OneColumn" id="en1104040303">
<content-media type="ActivityLab" id="cm7868994917">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104040000/en1104040300/en1104040303/cm7868994917/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1104000000/en1104040000/en1104040300/en1104040303/cm7868994917/icontext.xml"/></content-media>
<content-text><p><b>Lab Activity</b></p> <p>Configure and verify static NAT. </p><p><b>Click the lab icon to begin.</b></p></content-text>
</page>
<page type="OneColumn" id="en1104040304">
<content-media type="ActivityLab" id="cm1332327870">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104040000/en1104040300/en1104040304/cm1332327870/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1104000000/en1104040000/en1104040300/en1104040304/cm1332327870/icontext.xml"/></content-media>
<content-text><p><b>Lab Activity</b></p> <p>Configure and verify dynamic NAT. </p><p><b>Click the lab icon to begin.</b></p></content-text>
</page>
</topic>
<topic type="" id="en1104040400">
<title><content-text>Using PAT</content-text></title>
<page type="OneColumn" id="en1104040401">
<content-media type="AnimationPartialScreen" id="cm6728762747">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104040000/en1104040400/en1104040401/cm6728762747.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104040000/en1104040400/en1104040401/cm6728762747text.xml"/></content-media>
<content-text><p>One of the more popular variations of dynamic NAT is known as Port Address Translation (<content-link target="{72F0AF98-7A5B-414E-B1B9-4CD8334BF889}" type="glossary">PAT</content-link>), also referred to as <content-link target="{FF9E0276-2E67-45C1-883D-C3FFD37BE1C2}" type="glossary">NAT Overload</content-link>. PAT dynamically translates multiple inside local addresses to a single public address. </p> <p>When a source host sends a message to a destination host, it uses an IP address and port number combination to keep track of each individual conversation. In PAT, the gateway router translates the local source address and port number combination to a single global IP address and a unique port number above 1024.</p> <p>A table in the router contains a list of the internal IP address and port number combinations that are translated to the external address. Although each host translates into the same global IP address, the port number associated with the conversation is unique. </p> <p>Since over 64,000 ports are available, a router is unlikely to run out of addresses.</p> <p>Both enterprise and home networks take advantage of PAT functionality. PAT is built into integrated routers and is enabled by default.</p></content-text>
</page>
<page type="OneColumn" id="en1104040402">
<content-media type="InteractiveGraphicRollovers" id="cm9539133606">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104040000/en1104040400/en1104040402/cm9539133606.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104040000/en1104040400/en1104040402/cm9539133606text.xml"/></content-media>
<content-text><p>Configuring PAT requires the same basic steps and commands as configuring NAT. However, instead of translating to a pool of addresses, PAT translates to a single address. The following command translates the inside addresses to the IP address of the serial interface:</p> <p><span class="cmd"><b>ip nat inside source list 1 interface serial 0/0/0 overload</b> </span></p> <p>Verfiy NAT and PAT functionality with the following commands.</p> <p><span class="cmd"><b>show ip nat translations</b> </span></p> <p>This command displays active translations. If the translation is not used, it ages out after a period of time. Static NAT entries remain in the table permanently. A dynamic NAT entry requires some action from the host to a destination on the outside of the network. If configured correctly, a simple <span class="cmd"><b>ping</b></span> or <span class="cmd"><b>trace</b></span> creates an entry in the NAT table. </p> <p><span class="cmd"><b>show ip nat statistics</b> </span></p> <p>This command displays translation statistics, including the number of addresses used and the number of hits and misses. The output also includes the access list that specifies internal addresses, the global address pool, and the range of addresses defined.</p></content-text>
</page>
<page type="OneColumn" id="en1104040403">
<content-media type="ActivityLab" id="cm3632846429">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104040000/en1104040400/en1104040403/cm3632846429/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="en1104000000/en1104040000/en1104040400/en1104040403/cm3632846429/icontext.xml"/></content-media>
<content-text><p><b>Lab Activity</b></p> <p>Configure and verify PAT. </p><p><b>Click the lab icon to begin.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="en1104050000">
<title><content-text>Chapter Summary</content-text></title>
<topic type="" id="en1104050100">
<title><content-text>Summary</content-text></title>
<page type="FullScreen" id="en1104050101">
<content-media type="ChapterSummary" id="cm2456705342">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104050000/en1104050100/en1104050101/cm2456705342.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en1104000000/en1104050000/en1104050100/en1104050101/cm2456705342text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="en1104060000">
<title><content-text>Chapter Quiz</content-text></title>
<topic type="" id="en1104060100">
<title><content-text>Quiz</content-text></title>
<page type="OneColumn" id="en1104060101">
<content-media type="ChapterQuiz" id="cm3239096172">	<title><content-text></content-text></title>	<media ref="en1104000000/en1104060000/en1104060100/en1104060101/cm3239096172/" mime="" scale="true" type="directory" width="100%" height="100%" external="en1104000000/en1104060000/en1104060100/en1104060101/cm3239096172/icontext.xml"/></content-media>
<content-text><p>Take the chapter quiz to check your knowledge.</p><p><b>Click the quiz icon to begin.</b></p></content-text>
</page>
</topic>
</section>
</chapter>
