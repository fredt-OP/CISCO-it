<transcript lastedited="09.25.08 19:09:07">
<title><content-text><![CDATA[9.2.3 - Troubleshooting VTP]]></content-text></title>
<brief><content-text><![CDATA[The animation depicts a new switch updating a VTP domain during the following two scenarios; without a VTP password, and with a VTP password.<br><br>Network Topology<br>The server, S2, connects to the client S1. The F A 0 /2 of S1 connects to the server S2 Fa0/2. S2 Fa0/1 connects to the F A 0 /0 of R1. R1 S0 /1 connects via serial link to the WAN cloud.<br><br>No VTP Password<br>S2 sends a message to the client switch, S1, about V LAN's, "I must tell the clients about V LAN 100, 101,102 and 103. I will send out revision 5 to let them know."  <br><br>After the message is received by S1, it responds by stating, "Thank you for revision 5. I now know about these V LAN 100, 101, 102, and 103." <br><br>The VTP Server switch, S3, is added, and states, "I have information about V LAN 17, 23, and 168 from an old configuration. Now that I am connected to the other switches, I must tell them what I know. I will send out revision 17 to let everyone know."  <br><br>S3, now sends this message to S1. When S1 receives the update, it states, "Revision 17 is higher than revision 5 so it must have newer information."<br><br>This message is sent to S2, which states, "I now know about V LAN 17, 23, and 168 while S1 states, "I now know about V LAN 17, 23, and 168." <br><br>VTP password<br>S2 states, "I must tell the clients about V LAN 100, 101, 102, and 103. I will send out revision 5 to let them know. So they know it is from me, I will use the VTP domain password cisco."  <br><br>S2 sends the message to S1. S1 states, "Thank you for revision 5. The password is correct, so I will accept the information."  <br><br>S1 sends a message back to S2 stating, "I now know about V LAN's 100, 101, 102, and 103." <br><br>The VTP Server switch, S3, appears and states, "I have information about V LAN 17, 23, and 168 from an old configuration. Now that I am connected to the other switches, I must tell them what I know. I will send out revision 17 to let everyone know."  <br><br>S3 now sends this message to S1. When S1 receives the update, it states, "Sorry. Since you do not have the correct password. I will not accept your update."  <br><br>Since the S1 did not recognize the password that accompanied the revision number information, it rejects the update.<br>]]></content-text></brief>
<full><content-text><![CDATA[FULL - NOT FOR PRODUCTION]]></content-text></full>
</transcript>
